!function(t){function e(e){for(var n,r,o=e[0],s=e[1],a=0,c=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(u&&u(e);c.length;)c.shift()()}var n={},r={3:0},i={3:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[];r[t]?e.push(r[t]):0!==r[t]&&{1:1}[t]&&e.push(r[t]=new Promise((function(e,n){for(var i=({}[t]||t)+".css",s=o.p+i,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=(h=a[c]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(u===i||u===s))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var h;if((u=(h=l[c]).getAttribute("data-href"))===i||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete r[t],f.parentNode.removeChild(f),n(o)},f.href=s,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){r[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=s);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(t){return o.p+""+({}[t]||t)+"."+t+".js"}(t);var u=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}i[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var s=("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=a;o(o.s=161)}([function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return Nt})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return et})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return tt})),n.d(e,"f",(function(){return Mt})),n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return It})),n.d(e,"i",(function(){return F})),n.d(e,"j",(function(){return _t})),n.d(e,"k",(function(){return W})),n.d(e,"l",(function(){return ut})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return H})),n.d(e,"o",(function(){return xt})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return pt})),n.d(e,"r",(function(){return Et})),n.d(e,"s",(function(){return E})),n.d(e,"t",(function(){return At})),n.d(e,"u",(function(){return jt})),n.d(e,"v",(function(){return S})),n.d(e,"w",(function(){return A})),n.d(e,"x",(function(){return v})),n.d(e,"y",(function(){return V})),n.d(e,"z",(function(){return g})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return yt})),n.d(e,"C",(function(){return vt})),n.d(e,"D",(function(){return d})),n.d(e,"E",(function(){return dt})),n.d(e,"F",(function(){return ct})),n.d(e,"G",(function(){return ft})),n.d(e,"H",(function(){return St})),n.d(e,"I",(function(){return Tt})),n.d(e,"J",(function(){return u})),n.d(e,"K",(function(){return kt})),n.d(e,"L",(function(){return Ot})),n.d(e,"M",(function(){return r})),n.d(e,"N",(function(){return y})),n.d(e,"O",(function(){return z})),n.d(e,"P",(function(){return U})),n.d(e,"Q",(function(){return mt})),n.d(e,"R",(function(){return Ct})),n.d(e,"S",(function(){return c})),n.d(e,"T",(function(){return l})),n.d(e,"U",(function(){return R})),n.d(e,"V",(function(){return P})),n.d(e,"W",(function(){return G})),n.d(e,"X",(function(){return Rt})),n.d(e,"Y",(function(){return w})),n.d(e,"Z",(function(){return C})),n.d(e,"ab",(function(){return T})),n.d(e,"bb",(function(){return f})),n.d(e,"cb",(function(){return j})),n.d(e,"db",(function(){return M})),n.d(e,"eb",(function(){return Q})),n.d(e,"fb",(function(){return L})),n.d(e,"gb",(function(){return lt})),n.d(e,"hb",(function(){return ht})),n.d(e,"ib",(function(){return bt})),n.d(e,"jb",(function(){return Pt})),n.d(e,"kb",(function(){return gt})),n.d(e,"lb",(function(){return Lt})),n.d(e,"mb",(function(){return h})),n.d(e,"nb",(function(){return I}));function i(t,e){for(const n in e)t[n]=e[n];return t}function o(t,e,n,r,i){t.__svelte_meta={loc:{file:e,line:n,column:r,char:i}}}function s(t){return t()}function a(){return Object.create(null)}function c(t){t.forEach(s)}function u(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t,e){if(null!=t&&"function"!=typeof t.subscribe)throw new Error(`'${e}' is not a store with a 'subscribe' method`)}function f(t,...e){if(null==t)return r;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function d(t){let e;return f(t,t=>e=t)(),e}function p(t,e,n){t.$$.on_destroy.push(f(e,n))}function m(t,e,n,r){if(t){const i=b(t,e,n,r);return t[0](i)}}function b(t,e,n,r){return t[1]&&r?i(n.ctx.slice(),t[1](r(e))):n.ctx}function g(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function v(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function y(t){return null==t?"":t}function w(t,e,n=e){return t.set(n),e}function _(t){return t&&u(t.destroy)?t.destroy:r}new Set;function x(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode.removeChild(t)}function E(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function T(){return M(" ")}function A(){return M("")}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function C(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function P(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function L(t,e,n){t.classList[n?"add":"remove"](e)}function N(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}new Set;let D;function B(t){D=t}function $(){if(!D)throw new Error("Function called outside component initialization");return D}function F(t){$().$$.before_update.push(t)}function U(t){$().$$.on_mount.push(t)}function z(t){$().$$.on_destroy.push(t)}function H(){const t=$();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=N(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}function G(t,e){$().$$.context.set(t,e)}function V(t){return $().$$.context.get(t)}const q=[],W=[],K=[],Y=[],X=Promise.resolve();let Z=!1;function J(){Z||(Z=!0,X.then(it))}function Q(){return J(),X}function tt(t){K.push(t)}function et(t){Y.push(t)}let nt=!1;const rt=new Set;function it(){if(!nt){nt=!0;do{for(let t=0;t<q.length;t+=1){const e=q[t];B(e),ot(e.$$)}for(q.length=0;W.length;)W.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];rt.has(e)||(rt.add(e),e())}K.length=0}while(q.length);for(;Y.length;)Y.pop()();Z=!1,nt=!1,rt.clear()}}function ot(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}const st=new Set;let at;function ct(){at={r:0,c:[],p:at}}function ut(){at.r||c(at.c),at=at.p}function lt(t,e){t&&t.i&&(st.delete(t),t.i(e))}function ht(t,e,n,r){if(t&&t.o){if(st.has(t))return;st.add(t),at.c.push(()=>{st.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function ft(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const a=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(ct(),ht(t,1,1,()=>{e.blocks[n]=null}),ut())}):e.block.d(1),a.c(),lt(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&it()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=$();if(t.then(t=>{B(n),r(e.then,1,e.value,t),B(null)},t=>{B(n),r(e.catch,2,e.error,t),B(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}const dt="undefined"!=typeof window?window:global;function pt(t,e){t.d(1),e.delete(t.key)}function mt(t,e){ht(t,1,1,()=>{e.delete(t.key)})}function bt(t,e,n,r,i,o,s,a,c,u,l,h){let f=t.length,d=o.length,p=f;const m={};for(;p--;)m[t[p].key]=p;const b=[],g=new Map,v=new Map;for(p=d;p--;){const t=h(i,o,p),a=n(t);let c=s.get(a);c?r&&c.p(t,e):(c=u(a,t),c.c()),g.set(a,b[p]=c),a in m&&v.set(a,Math.abs(p-m[a]))}const y=new Set,w=new Set;function _(t){lt(t,1),t.m(a,l,s.has(t.key)),s.set(t.key,t),l=t.first,d--}for(;f&&d;){const e=b[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(l=e.first,f--,d--):g.has(i)?!s.has(r)||y.has(r)?_(e):w.has(i)?f--:v.get(r)>v.get(i)?(w.add(r),_(e)):(y.add(i),f--):(c(n,s),f--)}for(;f--;){const e=t[f];g.has(e.key)||c(e,s)}for(;d;)_(b[d-1]);return b}function gt(t,e,n,r){const i=new Set;for(let o=0;o<e.length;o++){const s=r(n(t,e,o));if(i.has(s))throw new Error("Cannot have duplicate keys in a keyed each");i.add(s)}}function vt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function yt(t){return"object"==typeof t&&null!==t?t:{}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let wt;function _t(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function xt(t){t&&t.c()}function Ot(t,e,n){const{fragment:r,on_mount:i,on_destroy:o,after_update:a}=t.$$;r&&r.m(e,n),tt(()=>{const e=i.map(s).filter(u);o?o.push(...e):c(e),t.$$.on_mount=[]}),a.forEach(tt)}function Et(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(t,e,n,i,o,s,u=[-1]){const l=D;B(t);const h=e.props||{},f=t.$$={fragment:null,ctx:null,props:s,update:r,not_equal:o,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:a(),dirty:u};let d=!1;if(f.ctx=n?n(t,h,(e,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&o(f.ctx[e],f.ctx[e]=i)&&(f.bound[e]&&f.bound[e](i),d&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],f.update(),d=!0,c(f.before_update),f.fragment=!!i&&i(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(O)}else f.fragment&&f.fragment.c();e.intro&&lt(t.$$.fragment),Ot(t,e.target,e.anchor),it()}B(l)}"function"==typeof HTMLElement&&(wt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){Et(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});function jt(t,e){document.dispatchEvent(N(t,Object.assign({version:"3.20.1"},e)))}function Mt(t,e){jt("SvelteDOMInsert",{target:t,node:e}),function(t,e){t.appendChild(e)}(t,e)}function Tt(t,e,n){jt("SvelteDOMInsert",{target:t,node:e,anchor:n}),x(t,e,n)}function At(t){jt("SvelteDOMRemove",{node:t}),O(t)}function kt(t,e,n,r,i,o){const s=!0===r?["capture"]:r?Array.from(Object.keys(r)):[];i&&s.push("preventDefault"),o&&s.push("stopPropagation"),jt("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:s});const a=function(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}(t,e,n,r);return()=>{jt("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:s}),a()}}function It(t,e,n){k(t,e,n),null==n?jt("SvelteDOMRemoveAttribute",{node:t,attribute:e}):jt("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function Ct(t,e,n){t[e]=n,jt("SvelteDOMSetProperty",{node:t,property:e,value:n})}function Rt(t,e){e=""+e,t.data!==e&&(jt("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function Pt(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function Lt(t,e,n){for(const r of Object.keys(e))~n.indexOf(r)||console.warn(`<${t}> received an unexpected slot "${r}".`)}class Nt extends class{$destroy(){Et(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}},function(t,e,n){"use strict";var r=n(0);n.d(e,"a",(function(){return r.i})),n.d(e,"b",(function(){return r.n})),n.d(e,"c",(function(){return r.y})),n.d(e,"d",(function(){return r.O})),n.d(e,"e",(function(){return r.P})),n.d(e,"f",(function(){return r.W})),n.d(e,"g",(function(){return r.eb}))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r,i=(r=n(57))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.registerVersion("firebase","7.19.0","app"),t.exports=i},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(7),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){if(r.instance)return r.instance;r.instance=this,this.topics={any:[]},this.subId=-1}subscribe(t,e){this.topics[t]||(this.topics[t]=[]);let n=(++this.subId).toString();return this.topics[t].push({token:n,callback:e}),n}unsubscribe(t){for(let e in this.topics)if(this.topics[e])for(let n=0,r=this.topics[e].length;n<r;n++)if(this.topics[e][n].token===t)return this.topics[e].splice(n,1),t;return this}publish(t,e){return this.topics[t]&&this.topics[t].map(t=>t.callback(e)),this}}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(232),i=n(233),o=n(88);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return z(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return _(t,e,n,r)}function O(t,e,n,r){return z(U(e),t,n,r)}function E(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):m.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=$(t[o]);return i}function k(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:F(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(8))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n(1);const o="node_modules/svelte-codemirror/src/CodeMirror.svelte";function s(t){let e,n;const i={c:function(){e=Object(r.v)("pre"),n=Object(r.db)(t[0]),Object(r.d)(e,o,441,2,9725)},m:function(t,i){Object(r.I)(t,e,i),Object(r.f)(e,n)},p:function(t,e){1&e[0]&&Object(r.X)(n,t[0])},d:function(t){t&&Object(r.t)(e)}};return Object(r.u)("SvelteRegisterBlock",{block:i,id:s.name,type:"if",source:"(441:0) {#if !CodeMirror}",ctx:t}),i}function a(t){let e,n,i,c=!t[2]&&s(t);const u={c:function(){e=Object(r.v)("textarea"),n=Object(r.ab)(),c&&c.c(),i=Object(r.w)(),e.value=t[0],Object(r.h)(e,"tabindex","0"),e.readOnly=!0,Object(r.d)(e,o,435,0,9597)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,s){Object(r.I)(o,e,s),t[47](e),Object(r.I)(o,n,s),c&&c.m(o,s),Object(r.I)(o,i,s)},p:function(t,n){1&n[0]&&Object(r.R)(e,"value",t[0]),t[2]?c&&(c.d(1),c=null):c?c.p(t,n):(c=s(t),c.c(),c.m(i.parentNode,i))},i:r.M,o:r.M,d:function(o){o&&Object(r.t)(e),t[47](null),o&&Object(r.t)(n),c&&c.d(o),o&&Object(r.t)(i)}};return Object(r.u)("SvelteRegisterBlock",{block:u,id:a.name,type:"component",source:"",ctx:t}),u}const c="undefined"!=typeof window;let u,l;function h(t){return new Promise(e=>setTimeout(e,t))}function f(t,e,n){const o=Object(i.b)();let s,a,f,d,{value:p=""}=e,{readonly:m=!1}=e,{errorLoc:b=null}=e,{lineNumbers:g=!0}=e,{tab:v=!0}=e,{cmdEnter:y=null}=e,{ctrlEnter:w=null}=e,{shiftEnter:_=null}=e,{cmdPeriod:x=null}=e,{ctrlPeriod:O=null}=e,{cmdHiffen:E=null}=e,{ctrlHiffen:S=null}=e,{cmdEqual:j=null}=e,{ctrlEqual:M=null}=e,{cmdOpenSquareBracket:T=null}=e,{ctrlOpenSquareBracket:A=null}=e,{cmdCloseSquareBracket:k=null}=e,{ctrlCloseSquareBracket:I=null}=e,{cmdForwardSlash:C=null}=e,{ctrlForwardSlash:R=null}=e;async function P(t,e,r){e===f&&r===d||await et(f=e,d=r),n(0,p=t),J=!0,W&&W.setValue(p),J=!1}function L(t){if(n(0,p=t),W){const{left:e,top:r}=W.getScrollInfo();W.setValue(n(0,p=t)),W.scrollTo(e,r)}}function N(){if(W)return W.getValue()}function D(t){if(W)return W.getLine(t)}function B(){if(W){let t=W.getSelection();if(""==t){let e=W.getCursor();t=W.getDoc().getLine(e.line)}return t}}function $(){return W?W.getCursor():void 0}function F(t,e){return W?W.getRange(t,e):void 0}function U(){if(W){let t=W.getSelection();if(""==t){let e=W.getCursor();t=W.getDoc().getLine(e.line)}return t}}function z(){if(W){let t=W.getCursor(),e=t.line,n=W.lastLine();for(;e<n;){if(/___+/.test(W.getLine(e))){n=e-1;break}e++}e=t.line;let r=-1;for(;e>=0;){if(/___+/.test(W.getLine(e))){r=e;break}e--}return r>-1&&r++,W.getRange({line:r,ch:0},{line:n+1,ch:0})}}function H(){W.refresh()}function G(){W.focus()}const V={js:{name:"javascript",json:!1},json:{name:"javascript",json:!0},ebnf:{name:"ebnf",base:"text/html"},svelte:{name:"handlebars",base:"text/html"},closure:{name:"clojure",base:"text/x-clojure"},asn:{name:"asn.1",base:"text/x-ttcn-asn"},sema:{name:"sema",base:"text/html"}},q={};let W,K,Y,X,Z,J=!1,Q=!1;Object(i.e)(()=>(l?(n(2,X=l),et(f||"svelte",d).then(()=>{W&&W.setValue(p||"")})):u.then(async t=>{n(2,X=t.default),await et(f||"svelte",d),W&&W.setValue(p||"")}),()=>{Q=!0,W&&W.toTextArea()}));let tt=!0;async function et(t,e){if(Q||!X)return;W&&W.toTextArea();const r={lineNumbers:g,lineWrapping:!0,indentWithTabs:!0,indentUnit:2,tabSize:2,value:"",mode:V[t]||{name:t},readOnly:m,autoCloseBrackets:!0,autoCloseTags:!0,extraKeys:{}};void 0!==e&&(r.theme=e),v||(r.extraKeys={Tab:v,"Shift-Tab":v}),y&&(r.extraKeys["Cmd-Enter"]=y),w&&(r.extraKeys["Ctrl-Enter"]=w),_&&(r.extraKeys["Shift-Enter"]=_),x&&(r.extraKeys["Cmd-."]=x),O&&(r.extraKeys["Ctrl-."]=O),E&&(r.extraKeys["Cmd--"]=E),S&&(r.extraKeys["Ctrl--"]=S),j&&(r.extraKeys["Cmd-="]=j),M&&(r.extraKeys["Cmd-="]=M),k&&(r.extraKeys["Cmd-]"]=k),T&&(r.extraKeys["Cmd-["]=T),I&&(r.extraKeys["Ctrl-]"]=I),A&&(r.extraKeys["Ctrl-["]=A),C&&(r.extraKeys["Cmd-/"]=()=>W.execCommand("toggleComment")),R&&(r.extraKeys["Ctrl-/"]=()=>W.execCommand("toggleComment")),tt&&await h(50),Q||(n(35,W=X.fromTextArea(q.editor,r)),W.on("change",(t,e)=>{J||o("change",{changeObj:e})}),W.on("focus",(t,e)=>{J||o("focus",{event:e})}),W.on("blur",(t,e)=>{J||o("blur",{event:e})}),W.on("refresh",(t,e)=>{J||o("refresh",{event:e})}),W.on("gutterClick",(t,e,n,r)=>{J||o("gutterClick",{line:e,gutter:n,clickEvent:r})}),W.on("viewportChange",(t,e,n)=>{J||o("viewportChange",{from:e,to:n})}),tt&&await h(50),W.refresh(),tt=!1)}const nt=["value","readonly","errorLoc","lineNumbers","tab","cmdEnter","ctrlEnter","shiftEnter","cmdPeriod","ctrlPeriod","cmdHiffen","ctrlHiffen","cmdEqual","ctrlEqual","cmdOpenSquareBracket","ctrlOpenSquareBracket","cmdCloseSquareBracket","ctrlCloseSquareBracket","cmdForwardSlash","ctrlForwardSlash"];Object.keys(e).forEach(t=>{~nt.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<CodeMirror> was created with unknown prop '${t}'`)});let{$$slots:rt={},$$scope:it}=e;return Object(r.lb)("CodeMirror",rt,[]),t.$set=t=>{"value"in t&&n(0,p=t.value),"readonly"in t&&n(3,m=t.readonly),"errorLoc"in t&&n(4,b=t.errorLoc),"lineNumbers"in t&&n(5,g=t.lineNumbers),"tab"in t&&n(6,v=t.tab),"cmdEnter"in t&&n(7,y=t.cmdEnter),"ctrlEnter"in t&&n(8,w=t.ctrlEnter),"shiftEnter"in t&&n(9,_=t.shiftEnter),"cmdPeriod"in t&&n(10,x=t.cmdPeriod),"ctrlPeriod"in t&&n(11,O=t.ctrlPeriod),"cmdHiffen"in t&&n(12,E=t.cmdHiffen),"ctrlHiffen"in t&&n(13,S=t.ctrlHiffen),"cmdEqual"in t&&n(14,j=t.cmdEqual),"ctrlEqual"in t&&n(15,M=t.ctrlEqual),"cmdOpenSquareBracket"in t&&n(16,T=t.cmdOpenSquareBracket),"ctrlOpenSquareBracket"in t&&n(17,A=t.ctrlOpenSquareBracket),"cmdCloseSquareBracket"in t&&n(18,k=t.cmdCloseSquareBracket),"ctrlCloseSquareBracket"in t&&n(19,I=t.ctrlCloseSquareBracket),"cmdForwardSlash"in t&&n(20,C=t.cmdForwardSlash),"ctrlForwardSlash"in t&&n(21,R=t.ctrlForwardSlash)},t.$capture_state=()=>({is_browser:c,codemirror_promise:u,_CodeMirror:l,onMount:i.e,createEventDispatcher:i.b,dispatch:o,value:p,readonly:m,errorLoc:b,lineNumbers:g,tab:v,cmdEnter:y,ctrlEnter:w,shiftEnter:_,cmdPeriod:x,ctrlPeriod:O,cmdHiffen:E,ctrlHiffen:S,cmdEqual:j,ctrlEqual:M,cmdOpenSquareBracket:T,ctrlOpenSquareBracket:A,cmdCloseSquareBracket:k,ctrlCloseSquareBracket:I,cmdForwardSlash:C,ctrlForwardSlash:R,set:P,update:L,getValue:N,getLine:D,getSelection:B,getCursorPosition:$,getRange:F,commentSelection:U,getBlock:z,resize:H,focus:G,w:s,h:a,mode:f,theme:d,modes:V,refs:q,editor:W,updating_externally:J,marker:K,error_line:Y,destroyed:Q,CodeMirror:X,previous_error_line:Z,first:tt,createEditor:et,sleep:h}),t.$inject_state=t=>{"value"in t&&n(0,p=t.value),"readonly"in t&&n(3,m=t.readonly),"errorLoc"in t&&n(4,b=t.errorLoc),"lineNumbers"in t&&n(5,g=t.lineNumbers),"tab"in t&&n(6,v=t.tab),"cmdEnter"in t&&n(7,y=t.cmdEnter),"ctrlEnter"in t&&n(8,w=t.ctrlEnter),"shiftEnter"in t&&n(9,_=t.shiftEnter),"cmdPeriod"in t&&n(10,x=t.cmdPeriod),"ctrlPeriod"in t&&n(11,O=t.ctrlPeriod),"cmdHiffen"in t&&n(12,E=t.cmdHiffen),"ctrlHiffen"in t&&n(13,S=t.ctrlHiffen),"cmdEqual"in t&&n(14,j=t.cmdEqual),"ctrlEqual"in t&&n(15,M=t.ctrlEqual),"cmdOpenSquareBracket"in t&&n(16,T=t.cmdOpenSquareBracket),"ctrlOpenSquareBracket"in t&&n(17,A=t.ctrlOpenSquareBracket),"cmdCloseSquareBracket"in t&&n(18,k=t.cmdCloseSquareBracket),"ctrlCloseSquareBracket"in t&&n(19,I=t.ctrlCloseSquareBracket),"cmdForwardSlash"in t&&n(20,C=t.cmdForwardSlash),"ctrlForwardSlash"in t&&n(21,R=t.ctrlForwardSlash),"w"in t&&n(43,s=t.w),"h"in t&&n(44,a=t.h),"mode"in t&&(f=t.mode),"theme"in t&&(d=t.theme),"editor"in t&&n(35,W=t.editor),"updating_externally"in t&&(J=t.updating_externally),"marker"in t&&n(37,K=t.marker),"error_line"in t&&n(38,Y=t.error_line),"destroyed"in t&&(Q=t.destroyed),"CodeMirror"in t&&n(2,X=t.CodeMirror),"previous_error_line"in t&&n(40,Z=t.previous_error_line),"first"in t&&(tt=t.first)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{if(16&t.$$.dirty[1]&&W&&s&&a&&W.refresh(),16&t.$$.dirty[0]|80&t.$$.dirty[1])if(K&&K.clear(),b){const t=b.line-1,e=b.column;n(37,K=W.markText({line:t,ch:e},{line:t,ch:e+1},{className:"error-loc"})),n(38,Y=t)}else n(38,Y=null);656&t.$$.dirty[1]&&W&&(null!=Z&&W.removeLineClass(Z,"wrap","error-line"),Y&&Y!==Z&&(W.addLineClass(Y,"wrap","error-line"),n(40,Z=Y)))},[p,q,X,m,b,g,v,y,w,_,x,O,E,S,j,M,T,A,k,I,C,R,P,L,N,D,B,$,F,U,z,H,G,f,d,W,J,K,Y,Q,Z,tt,o,s,a,V,et,function(t){r.k[t?"unshift":"push"](()=>{q.editor=t,n(1,q)})}]}c&&(u=n.e(0).then(n.t.bind(null,390,7)),u.then(t=>{l=t.default}));class d extends r.a{constructor(t){super(t),Object(r.H)(this,t,f,a,r.T,{value:0,readonly:3,errorLoc:4,lineNumbers:5,tab:6,cmdEnter:7,ctrlEnter:8,shiftEnter:9,cmdPeriod:10,ctrlPeriod:11,cmdHiffen:12,ctrlHiffen:13,cmdEqual:14,ctrlEqual:15,cmdOpenSquareBracket:16,ctrlOpenSquareBracket:17,cmdCloseSquareBracket:18,ctrlCloseSquareBracket:19,cmdForwardSlash:20,ctrlForwardSlash:21,set:22,update:23,getValue:24,getLine:25,getSelection:26,getCursorPosition:27,getRange:28,commentSelection:29,getBlock:30,resize:31,focus:32},[-1,-1]),Object(r.u)("SvelteRegisterComponent",{component:this,tagName:"CodeMirror_1",options:t,id:a.name})}get value(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get readonly(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set readonly(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get errorLoc(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set errorLoc(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tab(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tab(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdEnter(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdEnter(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlEnter(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlEnter(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get shiftEnter(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set shiftEnter(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdPeriod(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdPeriod(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlPeriod(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlPeriod(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdHiffen(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdHiffen(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlHiffen(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlHiffen(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdEqual(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdEqual(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlEqual(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlEqual(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdOpenSquareBracket(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdOpenSquareBracket(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlOpenSquareBracket(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlOpenSquareBracket(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdCloseSquareBracket(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdCloseSquareBracket(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlCloseSquareBracket(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlCloseSquareBracket(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cmdForwardSlash(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cmdForwardSlash(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get ctrlForwardSlash(){throw new Error("<CodeMirror>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set ctrlForwardSlash(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get set(){return this.$$.ctx[22]}set set(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get update(){return this.$$.ctx[23]}set update(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getValue(){return this.$$.ctx[24]}set getValue(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getLine(){return this.$$.ctx[25]}set getLine(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getSelection(){return this.$$.ctx[26]}set getSelection(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getCursorPosition(){return this.$$.ctx[27]}set getCursorPosition(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getRange(){return this.$$.ctx[28]}set getRange(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get commentSelection(){return this.$$.ctx[29]}set commentSelection(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get getBlock(){return this.$$.ctx[30]}set getBlock(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){return this.$$.ctx[31]}set resize(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get focus(){return this.$$.ctx[32]}set focus(t){throw new Error("<CodeMirror>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}e.a=d},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=n(295).Buffer}catch(t){}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var s=t.charCodeAt(o)-48;r<<=4,r|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,l=n;l<a;l+=r)u=c(t,l,l+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,h=67108863&c,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}n.words[u]=0|h,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,u=new t(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,b=0|s[2],g=8191&b,v=b>>>13,y=0|s[3],w=8191&y,_=y>>>13,x=0|s[4],O=8191&x,E=x>>>13,S=0|s[5],j=8191&S,M=S>>>13,T=0|s[6],A=8191&T,k=T>>>13,I=0|s[7],C=8191&I,R=I>>>13,P=0|s[8],L=8191&P,N=P>>>13,D=0|s[9],B=8191&D,$=D>>>13,F=0|a[0],U=8191&F,z=F>>>13,H=0|a[1],G=8191&H,V=H>>>13,q=0|a[2],W=8191&q,K=q>>>13,Y=0|a[3],X=8191&Y,Z=Y>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var bt=(u+(r=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,U)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(p,U),i=(i=Math.imul(p,z))+Math.imul(m,U)|0,o=Math.imul(m,z);var gt=(u+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(f,G)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,U),i=(i=Math.imul(g,z))+Math.imul(v,U)|0,o=Math.imul(v,z),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,V)|0;var vt=(u+(r=r+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(w,U),i=(i=Math.imul(w,z))+Math.imul(_,U)|0,o=Math.imul(_,z),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,K)|0;var yt=(u+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(E,U)|0,o=Math.imul(E,z),r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(g,W)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(j,U),i=(i=Math.imul(j,z))+Math.imul(M,U)|0,o=Math.imul(M,z),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,U),i=(i=Math.imul(A,z))+Math.imul(k,U)|0,o=Math.imul(k,z),r=r+Math.imul(j,G)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(O,W)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var xt=(u+(r=r+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(C,U),i=(i=Math.imul(C,z))+Math.imul(R,U)|0,o=Math.imul(R,z),r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,r=r+Math.imul(j,W)|0,i=(i=i+Math.imul(j,K)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Ot=(u+(r=r+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(L,U),i=(i=Math.imul(L,z))+Math.imul(N,U)|0,o=Math.imul(N,z),r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,r=r+Math.imul(A,W)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Et=(u+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(B,U),i=(i=Math.imul(B,z))+Math.imul($,U)|0,o=Math.imul($,z),r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,K)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ut)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var St=(u+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,V))+Math.imul($,G)|0,o=Math.imul($,V),r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(j,nt)|0,i=(i=i+Math.imul(j,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(w,ct)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,r=r+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var jt=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul($,W)|0,o=Math.imul($,K),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var Mt=(u+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul($,X)|0,o=Math.imul($,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(j,ct)|0,i=(i=i+Math.imul(j,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Tt=(u+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul($,Q)|0,o=Math.imul($,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,ft)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0;var At=(u+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul($,nt)|0,o=Math.imul($,rt),r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(R,ct)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ft)|0;var kt=(u+(r=r+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,st))+Math.imul($,ot)|0,o=Math.imul($,st),r=r+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var It=(u+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ct),i=(i=Math.imul(B,ut))+Math.imul($,ct)|0,o=Math.imul($,ut),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Ct=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul($,ht)|0,o=Math.imul($,ft);var Rt=(u+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Pt=(u+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul($,pt)|0))<<13)|0;return u=((o=Math.imul($,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,c[0]=bt,c[1]=gt,c[2]=vt,c[3]=yt,c[4]=wt,c[5]=_t,c[6]=xt,c[7]=Ot,c[8]=Et,c[9]=St,c[10]=jt,c[11]=Mt,c[12]=Tt,c[13]=At,c[14]=kt,c[15]=It,c[16]=Ct,c[17]=Rt,c[18]=Pt,0!==u&&(c[19]=u,n.length++),n};function p(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,f=u,d=0;d<s;d++){var p=n[l+d],m=r[l+d],b=n[l+d+s],g=r[l+d+s],v=h*b-f*g;g=h*g+f*b,b=v,n[l+d]=p+b,r[l+d]=m+g,n[l+d+s]=p-b,r[l+d+s]=m-g,d!==a&&(v=c*h-u*f,f=c*f+u*h,h=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,h,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-c[d]*h[d];c[d]=a[d]*h[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,r),this.transform(a,c,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function O(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(v,g),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(y,g),i(w,g),i(_,g),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return b[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,b=0;0!==m.cmp(a);b++)m=m.redSqr();r(b<p);var g=this.pow(h,new o(1).iushln(p-b-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=b}return f},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var h=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new O(t)},i(O,x),O.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},O.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},O.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(47)(t))},function(t,e,n){const r=n(382),i=n(383),o=n(81),s=n(155),a=n(154),c=n(153),{merge:u,checkSanitizeDeprecation:l,escape:h}=n(33),{getDefaults:f,changeDefaults:d,defaults:p}=n(43);function m(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null),e=u({},m.defaults,e||{}),l(e);const o=e.highlight;let s,a,c=0;try{s=r.lex(t,e)}catch(t){return n(t)}a=s.length;const h=function(t){if(t)return e.highlight=o,n(t);let r;try{r=i.parse(s,e)}catch(e){t=e}return e.highlight=o,t?n(t):n(null,r)};if(!o||o.length<3)return h();if(delete e.highlight,!a)return h();for(;c<s.length;c++)!function(t){"code"!==t.type?--a||h():o(t.text,t.lang,(function(e,n){return e?h(e):null==n||n===t.text?--a||h():(t.text=n,t.escaped=!0,void(--a||h()))}))}(s[c])}else try{return e=u({},m.defaults,e||{}),l(e),i.parse(r.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||m.defaults).silent)return"<p>An error occurred:</p><pre>"+h(t.message+"",!0)+"</pre>";throw t}}m.options=m.setOptions=function(t){return u(m.defaults,t),d(m.defaults),m},m.getDefaults=f,m.defaults=p,m.Parser=i,m.parser=i.parse,m.Renderer=o,m.TextRenderer=s,m.Lexer=r,m.lexer=r.lex,m.InlineLexer=a,m.inlineLexer=a.output,m.Slugger=c,m.parse=m,t.exports=m},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=e,i=n(10),o=n(12),s=n(132);r.assert=o,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<r.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,r[s]=a,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o,s,a,c=t.andln(3)+r&3,u=e.andln(3)+i&3;if(3===c&&(c=-1),3===u&&(u=-1),0==(1&c))o=0;else o=3!==(a=t.andln(7)+r&7)&&5!==a||2!==u?c:-c;if(n[0].push(o),0==(1&u))s=0;else s=3!==(a=e.andln(7)+i&7)&&5!==a||2!==c?u:-u;n[1].push(s),2*r===o+1&&(r=1-r),2*i===s+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){var r,i;r=this,i=function(){function t(e,n,r){return this.id=++t.highestId,this.name=e,this.symbols=n,this.postprocess=r,this}function e(t,e,n,r){this.rule=t,this.dot=e,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===t.symbols.length}function n(t,e){this.grammar=t,this.index=e,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(t,e){this.rules=t,this.start=e||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(t){n.hasOwnProperty(t.name)||(n[t.name]=[]),n[t.name].push(t)}))}function i(){this.reset("")}function o(t,e,o){if(t instanceof r){var s=t;o=e}else s=r.fromCompiled(t,e);for(var a in this.grammar=s,this.options={keepHistory:!1,lexer:s.lexer||new i},o||{})this.options[a]=o[a];this.lexer=this.options.lexer,this.lexerState=void 0;var c=new n(s,0);this.table=[c],c.wants[s.start]=[],c.predict(s.start),c.process(),this.current=0}function s(t){var e=typeof t;if("string"===e)return t;if("object"===e){if(t.literal)return JSON.stringify(t.literal);if(t instanceof RegExp)return t.toString();if(t.type)return"%"+t.type;if(t.test)return"<"+String(t.test)+">";throw new Error("Unknown symbol type: "+t)}}return t.highestId=0,t.prototype.toString=function(t){var e=void 0===t?this.symbols.map(s).join(" "):this.symbols.slice(0,t).map(s).join(" ")+"  "+this.symbols.slice(t).map(s).join(" ");return this.name+"  "+e},e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(t){var n=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=t,n.isComplete&&(n.data=n.build(),n.right=void 0),n},e.prototype.build=function(){var t=[],e=this;do{t.push(e.right.data),e=e.left}while(e.left);return t.reverse(),t},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(t){for(var e=this.states,n=this.wants,r=this.completed,i=0;i<e.length;i++){var s=e[i];if(s.isComplete){if(s.finish(),s.data!==o.fail){for(var a=s.wantedBy,c=a.length;c--;){var u=a[c];this.complete(u,s)}if(s.reference===this.index){var l=s.rule.name;(this.completed[l]=this.completed[l]||[]).push(s)}}}else{if("string"!=typeof(l=s.rule.symbols[s.dot])){this.scannable.push(s);continue}if(n[l]){if(n[l].push(s),r.hasOwnProperty(l)){var h=r[l];for(c=0;c<h.length;c++){var f=h[c];this.complete(s,f)}}}else n[l]=[s],this.predict(l)}}},n.prototype.predict=function(t){for(var n=this.grammar.byName[t]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[t],s=new e(i,0,this.index,o);this.states.push(s)}},n.prototype.complete=function(t,e){var n=t.nextState(e);this.states.push(n)},r.fromCompiled=function(e,n){var i=e.Lexer;e.ParserStart&&(n=e.ParserStart,e=e.ParserRules);var o=new r(e=e.map((function(e){return new t(e.name,e.symbols,e.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(t,e){this.buffer=t,this.index=0,this.line=e?e.line:1,this.lastLineBreak=e?-e.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var t=this.buffer[this.index++];return"\n"===t&&(this.line+=1,this.lastLineBreak=this.index),{value:t}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(t,e){var n=this.buffer;if("string"==typeof n){var r=n.split("\n").slice(Math.max(0,this.line-5),this.line),i=n.indexOf("\n",this.index);-1===i&&(i=n.length);var o=this.index-this.lastLineBreak,s=String(this.line).length;return e+=" at line "+this.line+" col "+o+":\n\n",e+=r.map((function(t,e){return a(this.line-r.length+e+1,s)+" "+t}),this).join("\n"),e+="\n"+a("",s+o)+"^\n"}return e+" at index "+(this.index-1);function a(t,e){var n=String(t);return Array(e-n.length+1).join(" ")+n}},o.fail={},o.prototype.feed=function(t){var e,r=this.lexer;for(r.reset(t,this.lexerState);;){try{if(!(e=r.next()))break}catch(t){var o=new n(this.grammar,this.current+1);throw this.table.push(o),(c=new Error(this.reportLexerError(t))).offset=this.current,c.token=t.token,c}var s=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1;o=new n(this.grammar,a),this.table.push(o);for(var c,u=void 0!==e.text?e.text:e.value,l=r.constructor===i?e.value:e,h=s.scannable,f=h.length;f--;){var d=h[f],p=d.rule.symbols[d.dot];if(p.test?p.test(l):p.type?p.type===e.type:p.literal===u){var m=d.nextState({data:l,token:e,isToken:!0,reference:a-1});o.states.push(m)}}if(o.process(),0===o.states.length)throw(c=new Error(this.reportError(e))).offset=this.current,c.token=e,c;this.options.keepHistory&&(s.lexerState=r.save()),this.current++}return s&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(t){var e,n,r=t.token;return r?(e="input "+JSON.stringify(r.text[0])+" (lexer error)",n=this.lexer.formatError(r,"Syntax error")):(e="input (lexer error)",n=t.message),this.reportErrorCommon(n,e)},o.prototype.reportError=function(t){var e=(t.type?t.type+" token: ":"")+JSON.stringify(void 0!==t.value?t.value:t),n=this.lexer.formatError(t,"Syntax error");return this.reportErrorCommon(n,e)},o.prototype.reportErrorCommon=function(t,e){var n=[];n.push(t);var r=this.table.length-2,i=this.table[r],o=i.states.filter((function(t){var e=t.rule.symbols[t.dot];return e&&"string"!=typeof e}));return 0===o.length?(n.push("Unexpected "+e+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(i.states,n)):(n.push("Unexpected "+e+". Instead, I was expecting to see one of the following:\n"),o.map((function(t){return this.buildFirstStateStack(t,[])||[t]}),this).forEach((function(t){var e=t[0],r=e.rule.symbols[e.dot],i=this.getSymbolDisplay(r);n.push("A "+i+" based on:"),this.displayStateStack(t,n)}),this)),n.push(""),n.join("\n")},o.prototype.displayStateStack=function(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],s=o.rule.toString(o.dot);s===n?r++:(r>0&&e.push("    ^ "+r+" more lines identical to this"),r=0,e.push("    "+s)),n=s}},o.prototype.getSymbolDisplay=function(t){return function(t){var e=typeof t;if("string"===e)return t;if("object"===e){if(t.literal)return JSON.stringify(t.literal);if(t instanceof RegExp)return"character matching "+t;if(t.type)return t.type+" token";if(t.test)return"token matching "+String(t.test);throw new Error("Unknown symbol type: "+t)}}(t)},o.prototype.buildFirstStateStack=function(t,e){if(-1!==e.indexOf(t))return null;if(0===t.wantedBy.length)return[t];var n=t.wantedBy[0],r=[t].concat(e),i=this.buildFirstStateStack(n,r);return null===i?null:[t].concat(i)},o.prototype.save=function(){var t=this.table[this.current];return t.lexerState=this.lexerState,t},o.prototype.restore=function(t){var e=t.index;this.current=e,this.table[e]=t,this.table.splice(e+1),this.lexerState=t.lexerState,this.results=this.finish()},o.prototype.rewind=function(t){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[t])},o.prototype.finish=function(){var t=[],e=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===e&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&t.push(n)})),t.map((function(t){return t.data}))},{Parser:o,Grammar:r,Rule:t}},t.exports?t.exports=i():r.nearley=i()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return compile}));var nearley__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),nearley__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(nearley__WEBPACK_IMPORTED_MODULE_0__),_compiler_low_level__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(156),nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2__),nearley_lib_generate_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(157),nearley_lib_generate_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(nearley_lib_generate_js__WEBPACK_IMPORTED_MODULE_3__),nearley_lib_lint_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(158),nearley_lib_lint_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(nearley_lib_lint_js__WEBPACK_IMPORTED_MODULE_4__);function stream(){let t="";return{write(e){t+=e},dump:()=>t}}function AnnotatePositions(t){return t.map(t=>new nearley__WEBPACK_IMPORTED_MODULE_0___default.a.Rule(t.name,t.symbols,t.postprocess&&((e,n,r)=>{var i=t.postprocess(e,n,r);return null===i?null:("object"!=typeof i||i.slice||(i.pos=n),i)})))}function compile(t){let e=new nearley__WEBPACK_IMPORTED_MODULE_0___default.a.Parser(AnnotatePositions(nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2__.ParserRules),nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2__.ParserStart,{lexer:nearley_lib_nearley_language_bootstrapped__WEBPACK_IMPORTED_MODULE_2__.Lexer}),n=stream(),r="",i={};try{if(e.feed(t),e.results[0]){var o=Object(_compiler_low_level__WEBPACK_IMPORTED_MODULE_1__.a)(e.results[0],{rangeCallback:function(t,e,n){i[t]=[e,n]}});nearley_lib_lint_js__WEBPACK_IMPORTED_MODULE_4___default()(o,{out:n}),r=nearley_lib_generate_js__WEBPACK_IMPORTED_MODULE_3___default()(o,"grammar")}}catch(t){n.write(t)}return{errors:n.dump(),positions:i,output:r}}function get_exports(source){let module={exports:""};return eval(source),module.exports}},function(t,e){function n(){for(var t={},e=Object.keys(localStorage),n=e.length;n--;)(e[n].startsWith("model-history-")||e[n].startsWith("live-code-history"))&&(t[e[n]]=JSON.parse(window.localStorage.getItem(e[n])));return t}t.exports={addToHistory:function(t,e){let n=Date.now(),r=new Date(n).toISOString();window.localStorage[t+r]=JSON.stringify({t:n,code:e})},clearHistory:function(){Object.keys(n()).forEach(t=>window.localStorage.removeItem(t))},exportHistory:function(){console.log("DEBUG:History:ExportHistory: "),console.log(n())}}},function(t,e,n){"use strict";var r=n(12),i=n(2);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=a(t[n].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=s(i)),n+=c(i.toString(16))}return n},e.zero2=a,e.zero8=c,e.join32=function(t,e,n,i){var o=n-e;r(o%4==0);for(var s=new Array(o/4),a=0,c=e;a<s.length;a++,c+=4){var u;u="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=u>>>0}return s},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,s=(o<r?1:0)+n+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,s,a){var c=0,u=e;return c+=(u=u+r>>>0)<e?1:0,c+=(u=u+o>>>0)<o?1:0,t+n+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,s,a){return e+r+o+a>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,s,a,c,u){var l=0,h=e;return l+=(h=h+r>>>0)<e?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+a>>>0)<a?1:0,t+n+i+s+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,s,a,c,u){return e+r+o+a+u>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(module,__webpack_exports__,__webpack_require__){"use strict";var svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_1__),svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),svelte__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_utils_pasteBuffer_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44),_messaging_pubSub_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),worker_loader_workers_ml_worker_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45),worker_loader_workers_ml_worker_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(worker_loader_workers_ml_worker_js__WEBPACK_IMPORTED_MODULE_6__),_utils_history_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_utils_history_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_utils_history_js__WEBPACK_IMPORTED_MODULE_7__),_machineLearning_lalolib_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(169),_machineLearning_svd_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(170),_workers_mlworkerscripts_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(171),_machineLearning_lodash_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(172),_home_mi_Documents_newSemaTest_24augtest_sema_client_components_editors_ModelEditor_svelte_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(173),_home_mi_Documents_newSemaTest_24augtest_sema_client_components_editors_ModelEditor_svelte_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_home_mi_Documents_newSemaTest_24augtest_sema_client_components_editors_ModelEditor_svelte_css__WEBPACK_IMPORTED_MODULE_12__);const{console:console_1}=svelte_internal__WEBPACK_IMPORTED_MODULE_0__.E,file="client/components/editors/ModelEditor.svelte";function create_fragment(t){let e,n,r,i,o;function s(e){t[43].call(null,e)}let a={tab:!0,lineNumbers:!0,ctrlEnter:t[9],cmdEnter:t[9],shiftEnter:t[8]};void 0!==t[0]&&(a.value=t[0]);const c=new svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__.a({props:a,$$inline:!0});t[42](c),svelte_internal__WEBPACK_IMPORTED_MODULE_0__.k.push(()=>Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.j)(c,"value",s)),c.$on("change",t[44]),c.$on("focus",t[45]),c.$on("blur",t[46]),c.$on("refresh",t[47]),c.$on("gutterClick",t[48]),c.$on("viewportChange",t[49]);const u={c:function(){e=Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.v)("div"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.o)(c.$$.fragment),r=Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ab)(),i=Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.v)("textarea"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.h)(e,"class","codemirror-container layout-template-container scrollable svelte-x0vynt"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.d)(e,file,352,0,9239),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.h)(i,"aria-hidden","true"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.h)(i,"id","hiddenCopyField"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Z)(i,"position","absolute"),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Z)(i,"left","-999em"),i.value="",Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.d)(i,file,370,0,9958)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.I)(t,e,n),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.L)(c,e,null),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.I)(t,r,n),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.I)(t,i,n),o=!0},p:function(t,e){const r={};!n&&1&e[0]&&(n=!0,r.value=t[0],Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.c)(()=>n=!1)),c.$set(r)},i:function(t){o||(Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gb)(c.$$.fragment,t),o=!0)},o:function(t){Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.hb)(c.$$.fragment,t),o=!1},d:function(n){n&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.t)(e),t[42](null),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.r)(c),n&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.t)(r),n&&Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.t)(i)}};return Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.u)("SvelteRegisterBlock",{block:u,id:create_fragment.name,type:"component",source:"",ctx:t}),u}const is_browser="undefined"!=typeof window;function onModelEditorValueChange(){}function instance($$self,$$props,$$invalidate){const dispatch=Object(svelte__WEBPACK_IMPORTED_MODULE_3__.b)();var modelEditorValue=window.localStorage.modelEditorValue;let{id:id}=$$props,{name:name}=$$props,{type:type}=$$props,{lineNumbers:lineNumbers}=$$props,{hasFocus:hasFocus}=$$props,{theme:theme}=$$props,{background:background}=$$props,{data:data}=$$props,{responsive:responsive}=$$props,{resizable:resizable}=$$props,{resize:resize}=$$props,{draggable:draggable}=$$props,{drag:drag}=$$props,{min:min={}}=$$props,{max:max={}}=$$props,{x:x}=$$props,{y:y}=$$props,{w:w}=$$props,{h:h}=$$props,{component:component}=$$props,codeMirror,modelWorker,messaging=new _messaging_pubSub_js__WEBPACK_IMPORTED_MODULE_5__.a,subscriptionTokenMID,subscriptionTokenMIB,log=t=>{};Object(svelte__WEBPACK_IMPORTED_MODULE_3__.e)(async()=>{codeMirror.set(data,"js"),subscriptionTokenMID=messaging.subscribe("model-input-data",t=>postToModel(t)),subscriptionTokenMIB=messaging.subscribe("model-input-buffer",t=>postToModel(t)),modelWorker=new worker_loader_workers_ml_worker_js__WEBPACK_IMPORTED_MODULE_6___default.a,modelWorker.onmessage=t=>onModelWorkerMessageHandler(t),log(id,name,type,lineNumbers,hasFocus,theme,background,data,responsive,resizable,resize,draggable,drag,min,max,x,y,w,h,component)}),Object(svelte__WEBPACK_IMPORTED_MODULE_3__.d)(async()=>{modelWorker.terminate(),modelWorker=null,messaging.unsubscribe(subscriptionTokenMID),messaging.unsubscribe(subscriptionTokenMIB),messaging=null});let nil=t=>{},onChange=t=>{try{let t=codeMirror.getValue();dispatch("change",{prop:"data",value:t})}catch(t){console.error("Error Model Editor get value from code Mirror")}},onFocus=t=>{$$invalidate(10,hasFocus=!0),dispatch("change",{prop:"hasFocus",value:!0})},onBlur=t=>{$$invalidate(10,hasFocus=!1),dispatch("change",{prop:"hasFocus",value:!1})},onRefresh=t=>{},onGutterCick=t=>{},onViewportChange=t=>{},postToModel=t=>{modelWorker.postMessage(t)},postFromModel=t=>{},evalDomCode=code=>{try{let evalRes=eval(code)}catch(t){}};const onModelWorkerMessageHandler=t=>{if(void 0!==t.data.func){({sab:t=>{messaging.publish("model-output-data",t)},save:t=>{window.localStorage.setItem(t.name,t.val)},load:t=>{let e={name:t.name,val:window.localStorage.getItem(t.name)};modelWorker.postMessage(e)},download:t=>{let e=window.localStorage.getItem(t.name),n=new Blob([e],{type:"text/plain;charset=utf-8"});saveData(n,t.name+".data")},sendcode:t=>{},pbcopy:t=>{Object(_utils_pasteBuffer_js__WEBPACK_IMPORTED_MODULE_4__.a)(t.msg)},sendbuf:t=>{messaging.publish("model-send-buffer",t)},envsave:t=>{messaging.publish("env-save",t)},envload:t=>{messaging.publish("env-load",t)},domeval:t=>{evalDOMCode(t.code)},peerinfo:t=>{messaging.publish("peerinfo-request",{})}})[t.data.func](t.data)}else void 0!==t.data&&0!=t.data.length&&res(t.data)};let postToModelAsync=t=>{if(window.Worker){new Promise((t,e)=>{}).then(t=>{}).catch(t=>{})}};function evalModelEditorExpression(){let t=codeMirror.getSelection();modelWorker.postMessage({eval:t}),window.localStorage.setItem("modelEditorValue",codeMirror.getValue()),Object(_utils_history_js__WEBPACK_IMPORTED_MODULE_7__.addToHistory)("model-history-",t)}function evalModelEditorExpressionBlock(){let t=codeMirror.getBlock(),e=t.indexOf("\n");"//--DOM"==t.substr(0,e)?(t=t.substr(e),evalDomCode(t),Object(_utils_history_js__WEBPACK_IMPORTED_MODULE_7__.addToHistory)("dom-history-",t)):(modelWorker.postMessage({eval:t}),window.localStorage.setItem("modelEditorValue",codeMirror.getValue()),Object(_utils_history_js__WEBPACK_IMPORTED_MODULE_7__.addToHistory)("model-history-",t))}const writable_props=["id","name","type","lineNumbers","hasFocus","theme","background","data","responsive","resizable","resize","draggable","drag","min","max","x","y","w","h","component"];Object.keys($$props).forEach(t=>{~writable_props.indexOf(t)||"$$"===t.slice(0,2)||console_1.warn(`<ModelEditor> was created with unknown prop '${t}'`)});let{$$slots:$$slots={},$$scope:$$scope}=$$props;function codemirror_binding(t){svelte_internal__WEBPACK_IMPORTED_MODULE_0__.k[t?"unshift":"push"](()=>{$$invalidate(1,codeMirror=t)})}function codemirror_value_binding(t){data=t,$$invalidate(0,data)}Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.lb)("ModelEditor",$$slots,[]);const change_handler=t=>onChange(t),focus_handler=t=>onFocus(t),blur_handler=t=>onBlur(t),refresh_handler=t=>onRefresh(t),gutterClick_handler=t=>onGutterCick(t),viewportChange_handler=t=>onViewportChange(t);return $$self.$set=t=>{"id"in t&&$$invalidate(11,id=t.id),"name"in t&&$$invalidate(12,name=t.name),"type"in t&&$$invalidate(13,type=t.type),"lineNumbers"in t&&$$invalidate(14,lineNumbers=t.lineNumbers),"hasFocus"in t&&$$invalidate(10,hasFocus=t.hasFocus),"theme"in t&&$$invalidate(15,theme=t.theme),"background"in t&&$$invalidate(16,background=t.background),"data"in t&&$$invalidate(0,data=t.data),"responsive"in t&&$$invalidate(17,responsive=t.responsive),"resizable"in t&&$$invalidate(18,resizable=t.resizable),"resize"in t&&$$invalidate(19,resize=t.resize),"draggable"in t&&$$invalidate(20,draggable=t.draggable),"drag"in t&&$$invalidate(21,drag=t.drag),"min"in t&&$$invalidate(22,min=t.min),"max"in t&&$$invalidate(23,max=t.max),"x"in t&&$$invalidate(24,x=t.x),"y"in t&&$$invalidate(25,y=t.y),"w"in t&&$$invalidate(26,w=t.w),"h"in t&&$$invalidate(27,h=t.h),"component"in t&&$$invalidate(28,component=t.component)},$$self.$capture_state=()=>({is_browser:is_browser,CodeMirror:svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__.a,set:svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__.set,update:svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__.update,getValue:svelte_codemirror__WEBPACK_IMPORTED_MODULE_2__.getValue,onMount:svelte__WEBPACK_IMPORTED_MODULE_3__.e,onDestroy:svelte__WEBPACK_IMPORTED_MODULE_3__.d,createEventDispatcher:svelte__WEBPACK_IMPORTED_MODULE_3__.b,dispatch:dispatch,copyToPasteBuffer:_utils_pasteBuffer_js__WEBPACK_IMPORTED_MODULE_4__.a,modelEditorValue:modelEditorValue,PubSub:_messaging_pubSub_js__WEBPACK_IMPORTED_MODULE_5__.a,ModelWorker:worker_loader_workers_ml_worker_js__WEBPACK_IMPORTED_MODULE_6___default(),addToHistory:_utils_history_js__WEBPACK_IMPORTED_MODULE_7__.addToHistory,id:id,name:name,type:type,lineNumbers:lineNumbers,hasFocus:hasFocus,theme:theme,background:background,data:data,responsive:responsive,resizable:resizable,resize:resize,draggable:draggable,drag:drag,min:min,max:max,x:x,y:y,w:w,h:h,component:component,codeMirror:codeMirror,modelWorker:modelWorker,messaging:messaging,subscriptionTokenMID:subscriptionTokenMID,subscriptionTokenMIB:subscriptionTokenMIB,log:log,nil:nil,onChange:onChange,onFocus:onFocus,onBlur:onBlur,onRefresh:onRefresh,onGutterCick:onGutterCick,onViewportChange:onViewportChange,postToModel:postToModel,postFromModel:postFromModel,evalDomCode:evalDomCode,onModelWorkerMessageHandler:onModelWorkerMessageHandler,postToModelAsync:postToModelAsync,onModelEditorValueChange:onModelEditorValueChange,evalModelEditorExpression:evalModelEditorExpression,evalModelEditorExpressionBlock:evalModelEditorExpressionBlock}),$$self.$inject_state=t=>{"modelEditorValue"in t&&(modelEditorValue=t.modelEditorValue),"id"in t&&$$invalidate(11,id=t.id),"name"in t&&$$invalidate(12,name=t.name),"type"in t&&$$invalidate(13,type=t.type),"lineNumbers"in t&&$$invalidate(14,lineNumbers=t.lineNumbers),"hasFocus"in t&&$$invalidate(10,hasFocus=t.hasFocus),"theme"in t&&$$invalidate(15,theme=t.theme),"background"in t&&$$invalidate(16,background=t.background),"data"in t&&$$invalidate(0,data=t.data),"responsive"in t&&$$invalidate(17,responsive=t.responsive),"resizable"in t&&$$invalidate(18,resizable=t.resizable),"resize"in t&&$$invalidate(19,resize=t.resize),"draggable"in t&&$$invalidate(20,draggable=t.draggable),"drag"in t&&$$invalidate(21,drag=t.drag),"min"in t&&$$invalidate(22,min=t.min),"max"in t&&$$invalidate(23,max=t.max),"x"in t&&$$invalidate(24,x=t.x),"y"in t&&$$invalidate(25,y=t.y),"w"in t&&$$invalidate(26,w=t.w),"h"in t&&$$invalidate(27,h=t.h),"component"in t&&$$invalidate(28,component=t.component),"codeMirror"in t&&$$invalidate(1,codeMirror=t.codeMirror),"modelWorker"in t&&(modelWorker=t.modelWorker),"messaging"in t&&(messaging=t.messaging),"subscriptionTokenMID"in t&&(subscriptionTokenMID=t.subscriptionTokenMID),"subscriptionTokenMIB"in t&&(subscriptionTokenMIB=t.subscriptionTokenMIB),"log"in t&&(log=t.log),"nil"in t&&(nil=t.nil),"onChange"in t&&$$invalidate(2,onChange=t.onChange),"onFocus"in t&&$$invalidate(3,onFocus=t.onFocus),"onBlur"in t&&$$invalidate(4,onBlur=t.onBlur),"onRefresh"in t&&$$invalidate(5,onRefresh=t.onRefresh),"onGutterCick"in t&&$$invalidate(6,onGutterCick=t.onGutterCick),"onViewportChange"in t&&$$invalidate(7,onViewportChange=t.onViewportChange),"postToModel"in t&&(postToModel=t.postToModel),"postFromModel"in t&&(postFromModel=t.postFromModel),"evalDomCode"in t&&(evalDomCode=t.evalDomCode),"postToModelAsync"in t&&(postToModelAsync=t.postToModelAsync)},$$props&&"$$inject"in $$props&&$$self.$inject_state($$props.$$inject),[data,codeMirror,onChange,onFocus,onBlur,onRefresh,onGutterCick,onViewportChange,evalModelEditorExpression,evalModelEditorExpressionBlock,hasFocus,id,name,type,lineNumbers,theme,background,responsive,resizable,resize,draggable,drag,min,max,x,y,w,h,component,modelWorker,messaging,subscriptionTokenMID,subscriptionTokenMIB,dispatch,modelEditorValue,log,nil,postToModel,postFromModel,evalDomCode,onModelWorkerMessageHandler,postToModelAsync,codemirror_binding,codemirror_value_binding,change_handler,focus_handler,blur_handler,refresh_handler,gutterClick_handler,viewportChange_handler]}is_browser&&Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,391));class ModelEditor extends svelte_internal__WEBPACK_IMPORTED_MODULE_0__.a{constructor(t){super(t),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.H)(this,t,instance,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.T,{id:11,name:12,type:13,lineNumbers:14,hasFocus:10,theme:15,background:16,data:0,responsive:17,resizable:18,resize:19,draggable:20,drag:21,min:22,max:23,x:24,y:25,w:26,h:27,component:28},[-1,-1]),Object(svelte_internal__WEBPACK_IMPORTED_MODULE_0__.u)("SvelteRegisterComponent",{component:this,tagName:"ModelEditor",options:t,id:create_fragment.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[11]||"id"in n||console_1.warn("<ModelEditor> was created without expected prop 'id'"),void 0!==e[12]||"name"in n||console_1.warn("<ModelEditor> was created without expected prop 'name'"),void 0!==e[13]||"type"in n||console_1.warn("<ModelEditor> was created without expected prop 'type'"),void 0!==e[14]||"lineNumbers"in n||console_1.warn("<ModelEditor> was created without expected prop 'lineNumbers'"),void 0!==e[10]||"hasFocus"in n||console_1.warn("<ModelEditor> was created without expected prop 'hasFocus'"),void 0!==e[15]||"theme"in n||console_1.warn("<ModelEditor> was created without expected prop 'theme'"),void 0!==e[16]||"background"in n||console_1.warn("<ModelEditor> was created without expected prop 'background'"),void 0!==e[0]||"data"in n||console_1.warn("<ModelEditor> was created without expected prop 'data'"),void 0!==e[17]||"responsive"in n||console_1.warn("<ModelEditor> was created without expected prop 'responsive'"),void 0!==e[18]||"resizable"in n||console_1.warn("<ModelEditor> was created without expected prop 'resizable'"),void 0!==e[19]||"resize"in n||console_1.warn("<ModelEditor> was created without expected prop 'resize'"),void 0!==e[20]||"draggable"in n||console_1.warn("<ModelEditor> was created without expected prop 'draggable'"),void 0!==e[21]||"drag"in n||console_1.warn("<ModelEditor> was created without expected prop 'drag'"),void 0!==e[24]||"x"in n||console_1.warn("<ModelEditor> was created without expected prop 'x'"),void 0!==e[25]||"y"in n||console_1.warn("<ModelEditor> was created without expected prop 'y'"),void 0!==e[26]||"w"in n||console_1.warn("<ModelEditor> was created without expected prop 'w'"),void 0!==e[27]||"h"in n||console_1.warn("<ModelEditor> was created without expected prop 'h'"),void 0!==e[28]||"component"in n||console_1.warn("<ModelEditor> was created without expected prop 'component'")}get id(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get type(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set type(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasFocus(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasFocus(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get theme(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set theme(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get background(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set background(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get responsive(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set responsive(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resizable(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resizable(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resize(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get draggable(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draggable(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get drag(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set drag(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get x(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set x(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get y(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set y(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get w(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set w(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get h(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set h(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<ModelEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(t){throw new Error("<ModelEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}__webpack_exports__.a=ModelEditor},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"auth",(function(){return s}));var r=n(3),i=(n(85),n(159)),o=n.n(i);n(214),n(215),n(216),n(217),n(218);(function(){(function(){var e,n,i="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var o;t:{var s={};try{s.__proto__={yb:!0},o=s.yb;break t}catch(ee){}o=!1}n=o?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var a=n;function c(t,e){if(t.prototype=i(e.prototype),t.prototype.constructor=t,a)a(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.K=e.prototype}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},l="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;function h(t,e){if(e){var n=l;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&u(n,t,{configurable:!0,writable:!0,value:e})}}h("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),h("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var f=this;function d(t){return void 0!==t}function p(t){return"string"==typeof t}var m=/^[\w+/_-]+[=]{0,2}$/,b=null;function g(){}function v(t){t.W=void 0,t.Ya=function(){return t.W?t.W:t.W=new t}}function y(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function w(t){return"array"==y(t)}function _(t){var e=y(t);return"array"==e||"object"==e&&"number"==typeof t.length}function x(t){return"function"==y(t)}function O(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E="closure_uid_"+(1e9*Math.random()>>>0),S=0;function j(t,e,n){return t.call.apply(t.bind,arguments)}function M(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j:M).apply(null,arguments)}function A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function k(t,e){for(var n in e)t[n]=e[n]}var I,C=Date.now||function(){return+new Date};function R(t,e){t=t.split(".");var n,r=f;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&d(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function P(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.uc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function D(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}P(L,Error),L.prototype.name="CustomError",P(N,L),N.prototype.name="AssertionError";var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(p(t))return p(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var F=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=p(t)?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=p(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function G(t,e){return 0<=B(t,e)}function V(t,e){var n;return(n=0<=(e=B(t,e)))&&q(t,e),n}function q(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function W(t,e){!function(t,e){for(var n=p(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&q(t,r)&&0}))}function K(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function X(t,e,n,r){return Array.prototype.splice.apply(t,Z(arguments,1))}function Z(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return t<e?-1:t>e?1:0}function at(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function ct(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ut(t){var e,n={};for(e in t)n[e]=t[e];return n}var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<lt.length;o++)n=lt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var ft="StopIteration"in f?f.StopIteration:{message:"StopIteration",stack:""};function dt(){}function pt(t){if(t instanceof dt)return t;if("function"==typeof t.ia)return t.ia(!1);if(_(t)){var e=0,n=new dt;return n.next=function(){for(;;){if(e>=t.length)throw ft;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function mt(t){if(_(t))return Y(t);t=pt(t);var e=[];return function(t,e){if(_(t))try{$(t,e,void 0)}catch(t){if(t!==ft)throw t}else{t=pt(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==ft)throw t}}}(t,(function(t){e.push(t)})),e}function bt(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bt)for(n=t.ka(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function gt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}dt.prototype.next=function(){throw ft},dt.prototype.ia=function(){return this},(e=bt.prototype).ma=function(){gt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},e.ka=function(){return gt(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(t,e){return vt(this.g,t)?this.g[t]:e},e.set=function(t,e){vt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},e.forEach=function(t,e){for(var n=this.ka(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},e.ia=function(t){gt(this);var e=0,n=this.j,r=this,i=new dt;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw ft;var i=r.a[e++];return t?i:r.g[i]},i};var yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if((38==o||63==o)&&(!(o=t.charCodeAt(e+i))||61==o||38==o||35==o))return e;e+=i+1}return-1}var _t=/#|$/;function xt(t,e){var n=t.search(_t),r=wt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var Ot=/[?&]($|#)/;function Et(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof Et?(this.i=d(e)?e:t.i,St(this,t.j),this.A=t.A,this.h=t.h,jt(this,t.C),this.g=t.g,Mt(this,zt(t.a)),this.s=t.s):t&&(n=String(t).match(yt))?(this.i=!!e,St(this,n[1]||"",!0),this.A=kt(n[2]||""),this.h=kt(n[3]||"",!0),jt(this,n[4]),this.g=kt(n[5]||"",!0),Mt(this,n[6]||"",!0),this.s=kt(n[7]||"")):(this.i=!!e,this.a=new Bt(null,this.i))}function St(t,e,n){t.j=n?kt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Mt(t,e,n){e instanceof Bt?(t.a=e,function(t,e){e&&!t.j&&($t(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ft(this,e),Ft(this,n),0<t.length&&(this.h=null,this.a.set(Ht(this,n),Y(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=It(e,Nt)),t.a=new Bt(e,t.i))}function Tt(t){return t instanceof Et?new Et(t):new Et(t,void 0)}function At(t,e){t instanceof Et||(t=Tt(t)),e instanceof Et||(e=Tt(e));var n=t;t=new Et(n);var r=!!e.j;r?St(t,e.j):r=!!e.A,r?t.A=e.A:r=!!e.h,r?t.h=e.h:r=null!=e.C;var i=e.g;if(r)jt(t,e.C);else if(r=!!e.g)if("/"!=i.charAt(0)&&(n.h&&!n.g?i="/"+i:-1!=(n=t.g.lastIndexOf("/"))&&(i=t.g.substr(0,n+1)+i)),".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?n&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),n&&s==i.length&&o.push("")):(o.push(a),n=!0)}i=o.join("/")}return r?t.g=i:r=""!==e.a.toString(),r?Mt(t,zt(e.a)):r=!!e.s,r&&(t.s=e.s),t}function kt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function It(t,e,n){return p(t)?(t=encodeURI(t).replace(e,Ct),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ct(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Et.prototype.toString=function(){var t=[],e=this.j;e&&t.push(It(e,Rt,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(It(e,Rt,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(It(n,"/"==n.charAt(0)?Lt:Pt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",It(n,Dt)),t.join("")};var Rt=/[#\/\?@]/g,Pt=/[#\?:]/g,Lt=/[#\?]/g,Nt=/[#\?@]/g,Dt=/#/g;function Bt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function $t(t){t.a||(t.a=new bt,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ft(t,e){$t(t),e=Ht(t,e),vt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,vt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&gt(t)))}function Ut(t,e){return $t(t),e=Ht(t,e),vt(t.a.g,e)}function zt(t){var e=new Bt;return e.h=t.h,t.a&&(e.a=new bt(t.a),e.g=t.g),e}function Ht(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Gt(t){this.a=Tt(t)}function Vt(t){return t.a.a.get(Kt.Qa)||null}function qt(t,e){e?t.a.a.set(Kt.PROVIDER_ID,e):Ft(t.a.a,Kt.PROVIDER_ID)}(e=Bt.prototype).add=function(t,e){$t(this),this.h=null,t=Ht(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(t,e){$t(this),this.a.forEach((function(n,r){$(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.ka=function(){$t(this);for(var t=this.a.ma(),e=this.a.ka(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.ma=function(t){$t(this);var e=[];if(p(t))Ut(this,t)&&(e=K(e,this.a.get(Ht(this,t))));else{t=this.a.ma();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},e.set=function(t,e){return $t(this),this.h=null,Ut(this,t=Ht(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},e.get=function(t,e){return t&&0<(t=this.ma(t)).length?String(t[0]):e},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ka(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.ma(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.h=t.join("&")},Gt.prototype.toString=function(){return this.a.toString()};var Wt,Kt={Qa:"ui_auid",kc:"apiKey",Ra:"ui_sd",vb:"mode",ab:"oobCode",PROVIDER_ID:"ui_pid",Ta:"ui_sid",wb:"tenantId"};t:{var Yt=f.navigator;if(Yt){var Xt=Yt.userAgent;if(Xt){Wt=Xt;break t}}Wt=""}function Zt(t){return-1!=Wt.indexOf(t)}function Jt(){return(Zt("Chrome")||Zt("CriOS"))&&!Zt("Edge")}function Qt(t){return Qt[" "](t),t}Qt[" "]=g;var te,ee,ne=Zt("Opera"),re=Zt("Trident")||Zt("MSIE"),ie=Zt("Edge"),oe=ie||re,se=Zt("Gecko")&&!(-1!=Wt.toLowerCase().indexOf("webkit")&&!Zt("Edge"))&&!(Zt("Trident")||Zt("MSIE"))&&!Zt("Edge"),ae=-1!=Wt.toLowerCase().indexOf("webkit")&&!Zt("Edge"),ce=ae&&Zt("Mobile"),ue=Zt("Macintosh");function le(){var t=f.document;return t?t.documentMode:void 0}t:{var he="",fe=(ee=Wt,se?/rv:([^\);]+)(\)|;)/.exec(ee):ie?/Edge\/([\d\.]+)/.exec(ee):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ee):ae?/WebKit\/(\S+)/.exec(ee):ne?/(?:Version)[ \/]?(\S+)/.exec(ee):void 0);if(fe&&(he=fe?fe[1]:""),re){var de=le();if(null!=de&&de>parseFloat(he)){te=String(de);break t}}te=he}var pe,me={};function be(t){return function(t,e){var n=me;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String(te)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var ge=f.document;function ve(t,e){this.a=t===_e&&e||"",this.g=we}function ye(t){return t instanceof ve&&t.constructor===ve&&t.g===we?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}pe=ge&&re?le()||("CSS1Compat"==ge.compatMode?parseInt(te,10):5):void 0,ve.prototype.na=!0,ve.prototype.la=function(){return this.a},ve.prototype.toString=function(){return"Const{"+this.a+"}"};var we={},_e={};function xe(){this.a="",this.h=Ee}function Oe(t){return t instanceof xe&&t.constructor===xe&&t.h===Ee?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+y(t)),"type_error:TrustedResourceUrl")}xe.prototype.na=!0,xe.prototype.la=function(){return this.a.toString()},xe.prototype.g=function(){return 1},xe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ee={};function Se(t){var e=new xe;return e.a=t,e}function je(){this.a="",this.h=Ie}function Me(t){return Te(t).toString()}function Te(t){return t instanceof je&&t.constructor===je&&t.h===Ie?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+y(t)),"type_error:SafeUrl")}je.prototype.na=!0,je.prototype.la=function(){return this.a.toString()},je.prototype.g=function(){return 1},je.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ae=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ke(t){return t instanceof je?t:(t="object"==typeof t&&t.na?t.la():String(t),Ae.test(t)||(t="about:invalid#zClosurez"),Ce(t))}var Ie={};function Ce(t){var e=new je;return e.a=t,e}function Re(){this.a="",this.g=Pe}Ce("about:blank"),Re.prototype.na=!0;var Pe={};function Le(){this.a="",this.j=De,this.h=null}function Ne(t){return t instanceof Le&&t.constructor===Le&&t.j===De?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+y(t)),"type_error:SafeHtml")}Re.prototype.la=function(){return this.a},Re.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Le.prototype.g=function(){return this.h},Le.prototype.na=!0,Le.prototype.la=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var De={};function Be(t,e){var n=new Le;return n.a=t,n.h=e,n}Be("<!DOCTYPE html>",0);var $e=Be("",0);Be("<br>",0);var Fe,Ue,ze=(Ue=!1,function(){return Ue||(Fe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Ne($e),!e.parentElement)}(),Ue=!0),Fe});function He(t,e){this.a=d(t)?t:0,this.g=d(e)?e:0}function Ge(t,e){this.width=t,this.height=e}function Ve(t){return t?new en(Je(t)):I||(I=new en)}function qe(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):Ke(document,t,e)}function We(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):Ke(n,t,e)[0]||null}return t||null}function Ke(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var s=t.className;"function"==typeof s.split&&G(s.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}He.prototype.toString=function(){return"("+this.a+", "+this.g+")"},He.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},He.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},He.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Ge.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ye={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Xe(t){return t.scrollingElement?t.scrollingElement:(ae||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function Ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Je(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Qe(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(Je(t).createTextNode(String(e)))}}function tn(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||p(t.className)&&G(t.className.split(/\s+/),e)})):null}function en(t){this.a=t||f.document||document}en.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var nn={Ec:!0},rn={Gc:!0},on={Dc:!0},sn={Fc:!0};function an(){throw Error("Do not instantiate directly")}function cn(t,e,n,r){if(t=t(e||ln,void 0,n),r=(r||Ve()).a.createElement("DIV"),(t=function(t){if(!O(t))return at(String(t));if(t instanceof an){if(t.ga===nn)return t.content;if(t.ga===sn)return at(t.content)}return D("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(un),t=Be(t,null),ze())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ne(t),1==r.childNodes.length&&(1==(t=r.firstChild).nodeType&&(r=t)),r}an.prototype.xa=null,an.prototype.toString=function(){return this.content};var un=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,ln={};function hn(){an.call(this)}function fn(t){return null!=t&&t.ga===nn?t:t instanceof Le?bn(Ne(t).toString(),t.g()):bn(at(String(String(t))),function(t){if(null!=t)switch(t.xa){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function dn(){an.call(this)}function pn(t,e){this.content=String(t),this.xa=null!=e?e:null}function mn(t){return new pn(t,void 0)}P(hn,an),hn.prototype.ga=nn,P(dn,an),dn.prototype.ga=rn,dn.prototype.xa=1,P(pn,an),pn.prototype.ga=sn;var bn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.xa=n),t}}(hn),gn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(dn);function vn(t){return(t=String(t))?new pn(t,void 0):""}var yn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.xa=n),t):""}}(hn);function wn(t){return null!=t&&t.ga===nn?String(String(t.content).replace(In,"").replace(Cn,"&lt;")).replace(Mn,En):at(String(t))}function _n(t){return null!=t&&t.ga===rn?t=String(t).replace(Tn,jn):t instanceof je?t=String(Me(t)).replace(Tn,jn):(t=String(t),kn.test(t)?t=t.replace(Tn,jn):(D("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function xn(t){return null!=t&&t.ga===on?t=t.content:null==t?t="":t instanceof Re?t instanceof Re&&t.constructor===Re&&t.g===Pe?t=t.a:(D("expected object of type SafeStyle, got '"+t+"' of type "+y(t)),t="type_error:SafeStyle"):(t=String(t),An.test(t)||(D("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var On={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function En(t){return On[t]}var Sn={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function jn(t){return Sn[t]}var Mn=/[\x00\x22\x27\x3c\x3e]/g,Tn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,An=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,kn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,In=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Cn=/</g;function Rn(){return mn("Enter a valid phone number")}function Pn(){return mn("Unable to send password reset code to specified email")}function Ln(){return mn("Something went wrong. Please try again.")}function Nn(){return mn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Dn(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return mn(e)}function Bn(){return mn("Please login again to perform this operation")}function $n(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Fn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Ln()}t=mn(t).toString()}this.message=t||"",this.credential=n||null}c($n,Error),$n.prototype.ba=function(){return{code:this.code,message:this.message}},$n.prototype.toJSON=function(){return this.ba()};var Fn="firebaseui/";function Un(){0!=zn&&(Hn[this[E]||(this[E]=++S)]=this),this.T=this.T,this.C=this.C}var zn=0,Hn={};function Gn(t,e){t.T?d(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(d(void 0)?T(e,void 0):e))}function Vn(t){t&&"function"==typeof t.o&&t.o()}Un.prototype.T=!1,Un.prototype.o=function(){if(!this.T&&(this.T=!0,this.m(),0!=zn)){var t=this[E]||(this[E]=++S);if(0!=zn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Hn[t]}},Un.prototype.m=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var qn=Object.freeze||function(t){return t},Wn=!re||9<=Number(pe),Kn=re&&!be("9"),Yn=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",g,e),f.removeEventListener("test",g,e)}catch(t){}return t}();function Xn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.rb=!0}function Zn(t,e){if(Xn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(se){t:{try{Qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=p(t.pointerType)?t.pointerType:Jn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xn.prototype.stopPropagation=function(){this.h=!0},Xn.prototype.preventDefault=function(){this.rb=!1},P(Zn,Xn);var Jn=qn({2:"touch",3:"pen",4:"mouse"});Zn.prototype.stopPropagation=function(){Zn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Zn.prototype.preventDefault=function(){Zn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Kn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Qn="closure_listenable_"+(1e6*Math.random()|0),tr=0;function er(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ma=i,this.key=++tr,this.ta=this.Ja=!1}function nr(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Ma=null}function rr(t){this.src=t,this.a={},this.g=0}function ir(t,e){var n=e.type;n in t.a&&V(t.a[n],e)&&(nr(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function or(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Ma==r)return i}return-1}rr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var s=or(t,e,r,i);return-1<s?(e=t[s],n||(e.Ja=!1)):((e=new er(e,this.src,o,!!r,i)).Ja=n,t.push(e)),e};var sr="closure_lm_"+(1e6*Math.random()|0),ar={};function cr(t,e,n,r,i){if(r&&r.once)return lr(t,e,n,r,i);if(w(e)){for(var o=0;o<e.length;o++)cr(t,e[o],n,r,i);return null}return n=yr(n),t&&t[Qn]?t.J.add(String(e),n,!1,O(r)?!!r.capture:!!r,i):ur(t,e,n,!1,r,i)}function ur(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=O(i)?!!i.capture:!!i,a=gr(t);if(a||(t[sr]=a=new rr(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=br,e=Wn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lr(t,e,n,r,i){if(w(e)){for(var o=0;o<e.length;o++)lr(t,e[o],n,r,i);return null}return n=yr(n),t&&t[Qn]?t.J.add(String(e),n,!0,O(r)?!!r.capture:!!r,i):ur(t,e,n,!0,r,i)}function hr(t,e,n,r,i){if(w(e))for(var o=0;o<e.length;o++)hr(t,e[o],n,r,i);else r=O(r)?!!r.capture:!!r,n=yr(n),t&&t[Qn]?(t=t.J,(e=String(e).toString())in t.a&&(-1<(n=or(o=t.a[e],n,r,i))&&(nr(o[n]),q(o,n),0==o.length&&(delete t.a[e],t.g--)))):t&&(t=gr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=or(e,n,r,i)),(n=-1<t?e[t]:null)&&fr(n))}function fr(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Qn])ir(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gr(e))?(ir(n,t),0==n.g&&(n.src=null,e[sr]=null)):nr(t)}}}function dr(t){return t in ar?ar[t]:ar[t]="on"+t}function pr(t,e,n,r){var i=!0;if((t=gr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=mr(o,r),i=i&&!1!==o)}return i}function mr(t,e){var n=t.listener,r=t.Ma||t.src;return t.Ja&&fr(t),n.call(r,e)}function br(t,e){if(t.ta)return!0;if(!Wn){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Zn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=pr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=pr(r[i],t,!1,e),n=n&&o}return n}return mr(t,new Zn(e,this))}function gr(t){return(t=t[sr])instanceof rr?t:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(t){return x(t)?t:(t[vr]||(t[vr]=function(e){return t.handleEvent(e)}),t[vr])}function wr(){Un.call(this),this.J=new rr(this),this.xb=this,this.Ia=null}function _r(t,e){var n,r=t.Ia;if(r)for(n=[];r;r=r.Ia)n.push(r);if(t=t.xb,r=e.type||e,p(e))e=new Xn(e,t);else if(e instanceof Xn)e.target=e.target||t;else{var i=e;ht(e=new Xn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var s=e.g=n[o];i=xr(s,r,!0,e)&&i}if(e.h||(i=xr(s=e.g=t,r,!0,e)&&i,e.h||(i=xr(s,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=xr(s=e.g=n[o],r,!1,e)&&i;return i}function xr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ta&&s.capture==n){var a=s.listener,c=s.Ma||s.src;s.Ja&&ir(t.J,s),i=!1!==a.call(c,r)&&i}}return i&&0!=r.rb}P(wr,Un),wr.prototype[Qn]=!0,wr.prototype.$a=function(t){this.Ia=t},wr.prototype.removeEventListener=function(t,e,n,r){hr(this,t,e,n,r)},wr.prototype.m=function(){if(wr.K.m.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nr(n[r]);delete e.a[t],e.g--}}this.Ia=null};var Or={},Er=0;function Sr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=Mr(t),Or[t]&&Or[t].length)for(var n=0;n<Or[t].length;n++)_r(Or[t][n],e)}function jr(t){var e=Mr(t.N());Or[e]&&Or[e].length&&(function(t,e){0<=(e=H(t,e,void 0))&&q(t,e)}(Or[e],(function(e){return e==t})),Or[e].length||delete Or[e])}function Mr(t){return void 0===t.a&&(t.a=Er,Er++),t.a}function Tr(t){if(!t)throw Error("Event target element must be provided!");wr.call(this),this.a=t}function Ar(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function kr(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Ir(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Cr(){this.g=this.a=null}c(Tr,wr),Tr.prototype.N=function(){return this.a},Tr.prototype.register=function(){var t=Mr(this.N());Or[t]?G(Or[t],this)||Or[t].push(this):Or[t]=[this]},kr.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var Rr,Pr,Lr=new kr((function(){return new Dr}),(function(t){t.reset()}));function Nr(){var t=Ur,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Dr(){this.next=this.g=this.a=null}function Br(t){f.setTimeout((function(){throw t}),0)}function $r(t,e){Pr||function(){if(f.Promise&&f.Promise.resolve){var t=f.Promise.resolve(void 0);Pr=function(){t.then(zr)}}else Pr=function(){var t=zr;!x(f.setImmediate)||f.Window&&f.Window.prototype&&!Zt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Rr||(Rr=function(){var t=f.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Zt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!Zt("Trident")&&!Zt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(d(n.next)){var t=(n=n.next).hb;n.hb=null,t()}},function(t){r.next={hb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){f.setTimeout(t,0)}}()),Rr(t)):f.setImmediate(t)}}(),Fr||(Pr(),Fr=!0),Ur.add(t,e)}Cr.prototype.add=function(t,e){var n=Lr.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Dr.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Dr.prototype.reset=function(){this.next=this.g=this.a=null};var Fr=!1,Ur=new Cr;function zr(){for(var t;t=Nr();){try{t.a.call(t.g)}catch(t){Br(t)}Ir(Lr,t)}Fr=!1}function Hr(t){if(this.a=Gr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=g)try{var e=this;t.call(void 0,(function(t){ti(e,Vr,t)}),(function(t){if(!(t instanceof si))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ti(e,qr,t)}))}catch(t){ti(this,qr,t)}}var Gr=0,Vr=2,qr=3;function Wr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Wr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Kr=new kr((function(){return new Wr}),(function(t){t.reset()}));function Yr(t,e,n){var r=Kr.get();return r.s=t,r.g=e,r.j=n,r}function Xr(t){if(t instanceof Hr)return t;var e=new Hr(g);return ti(e,Vr,t),e}function Zr(t){return new Hr((function(e,n){n(t)}))}function Jr(t,e){t.g||t.a!=Vr&&t.a!=qr||ei(t),t.j?t.j.next=e:t.g=e,t.j=e}function Qr(t,e,n,r){var i=Yr(null,null,null);return i.a=new Hr((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!d(i)&&e instanceof si?o(e):t(i)}catch(t){o(t)}}:o})),i.a.h=t,Jr(t,i),i.a}function ti(t,e,n){if(t.a==Gr){t===n&&(e=qr,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.gc,o=t.hc;if(r instanceof Hr){Jr(r,Yr(i||g,o||null,t));var s=!0}else if(Ar(r))r.then(i,o,t),s=!0;else{if(O(r))try{var a=r.then;if(x(a)){!function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(r,a,i,o,t),s=!0;break t}}catch(e){o.call(t,e),s=!0;break t}s=!1}}s||(t.A=n,t.a=e,t.h=null,ei(t),e!=qr||n instanceof si||function(t,e){t.s=!0,$r((function(){t.s&&oi.call(null,e)}))}(t,n))}}function ei(t){t.i||(t.i=!0,$r(t.Gb,t))}function ni(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),e}function ri(t,e,n,r){if(n==qr&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,ii(e,n,r);else try{e.h?e.s.call(e.j):ii(e,n,r)}catch(t){oi.call(null,t)}Ir(Kr,e)}function ii(t,e,n){e==Vr?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Hr.prototype.then=function(t,e,n){return Qr(this,x(t)?t:null,x(e)?e:null,n)},Hr.prototype.$goog_Thenable=!0,(e=Hr.prototype).ec=function(t,e){return(t=Yr(t,t,e)).h=!0,Jr(this,t),this},e.ua=function(t,e){return Qr(this,null,t,e)},e.cancel=function(t){this.a==Gr&&$r((function(){!function t(e,n){if(e.a==Gr)if(e.h){var r=e.h;if(r.g){for(var i=0,o=null,s=null,a=r.g;a&&(a.h||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Gr&&1==i?t(r,n):(s?((i=s).next==r.j&&(r.j=i),i.next=i.next.next):ni(r),ri(r,o,qr,n)))}e.h=null}else ti(e,qr,n)}(this,new si(t))}),this)},e.gc=function(t){this.a=Gr,ti(this,Vr,t)},e.hc=function(t){this.a=Gr,ti(this,qr,t)},e.Gb=function(){for(var t;t=ni(this);)ri(this,t,this.a,this.A);this.i=!1};var oi=Br;function si(t){L.call(this,t)}function ai(t,e,n){e||(e={}),n=n||window;var r=t instanceof je?t:ke(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(Zt("iPhone")&&!Zt("iPod")&&!Zt("iPad")||Zt("iPad")||Zt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r instanceof je||r instanceof je||(r="object"==typeof r&&r.na?r.la():String(r),Ae.test(r)||(r="about:invalid#zClosurez"),r=Ce(r)),o.href=Te(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=Me(r),n&&(oe&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Be('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+at(e)+'">',null),n.document.write(Ne(e)),n.document.close())):(n=n.open(Me(r),t,o))&&e.noopener&&(n.opener=null),n}function ci(t){window.location.assign(Me(ke(t)))}function ui(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(t){}return!1}function li(t){ai(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function hi(t,e){if(null==(t=O(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function fi(){return window.location.href}function di(t){var e=Ei;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function pi(t,e,n){t.a=!0,t.h=n,t.j=!e,vi(t)}function mi(t){if(t.a){if(!t.J)throw new yi(t);t.J=!1}}function bi(t,e,n){t.s.push([e,n,void 0]),t.a&&vi(t)}function gi(t){return z(t.s,(function(t){return x(t[1])}))}function vi(t){if(t.i&&t.a&&gi(t)){var e=t.i,n=xi[e];n&&(f.clearTimeout(n.a),delete xi[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],s=i[1];if(i=i[2],o=t.j?s:o)try{var a=o.call(i||t.O,e);d(a)&&(t.j=t.j&&(a==e||a instanceof Error),t.h=e=a),(Ar(e)||"function"==typeof f.Promise&&e instanceof f.Promise)&&(r=!0,t.A=!0)}catch(r){e=r,t.j=!0,gi(t)||(n=!0)}}t.h=e,r&&(a=T(t.L,t,!0),r=T(t.L,t,!1),e instanceof di?(bi(e,a,r),e.l=!0):e.then(a,r)),n&&(e=new _i(e),xi[e.a]=e,t.i=e.a)}function yi(){L.call(this)}function wi(){L.call(this)}function _i(t){this.a=f.setTimeout(T(this.h,this),0),this.g=t}P(si,L),si.prototype.name="cancel",di.prototype.cancel=function(t){if(this.a)this.h instanceof di&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new wi(this),mi(this),pi(this,!1,t))}},di.prototype.L=function(t,e){this.A=!1,pi(this,t,e)},di.prototype.callback=function(t){mi(this),pi(this,!0,t)},di.prototype.then=function(t,e,n){var r,i,o=new Hr((function(t,e){r=t,i=e}));return bi(this,r,(function(t){t instanceof wi?o.cancel():i(t)})),o.then(t,e,n)},di.prototype.$goog_Thenable=!0,P(yi,L),yi.prototype.message="Deferred has already fired",yi.prototype.name="AlreadyCalledError",P(wi,L),wi.prototype.message="Deferred was canceled",wi.prototype.name="CanceledError",_i.prototype.h=function(){throw delete xi[this.a],this.g};var xi={};function Oi(t){var e={},n=e.document||document,r=Oe(t).toString(),i=document.createElement("SCRIPT"),o={sb:i,tb:void 0},s=new di(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){Si(i,!0);var t=new Ti(Mi,"Timeout reached for loading script "+r);mi(s),pi(s,!1,t)}),c),o.tb=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Si(i,e.wc||!1,a),s.callback(null))},i.onerror=function(){Si(i,!0,a);var t=new Ti(ji,"Error while loading script "+r);mi(s),pi(s,!1,t)},ht(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.na&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ye.hasOwnProperty(n)?t.setAttribute(Ye[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=Oe(e),null===b&&(b=(e=(e=f.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&m.test(e)?e:""),(e=b)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ei(){if(this&&this.sb){var t=this.sb;t&&"SCRIPT"==t.tagName&&Si(t,!0,this.tb)}}function Si(t,e,n){null!=n&&f.clearTimeout(n),t.onload=g,t.onerror=g,t.onreadystatechange=g,e&&window.setTimeout((function(){Ze(t)}),0)}var ji=0,Mi=1;function Ti(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Ai(){return f.google&&f.google.accounts&&f.google.accounts.id||null}function ki(t){this.a=t||Ai(),this.h=!1,this.g=null}P(Ti,L),ki.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(ki);var Ii=new ve(_e,"https://accounts.google.com/gsi/client");function Ci(){this.a=null}function Ri(t,e){this.a=t,this.g=e||function(t){throw t}}function Pi(t,e,n){this.reset(t,e,n,void 0,void 0)}Ci.prototype.load=function(){var t=this;if(this.a)return this.a;var e=Se(ye(Ii));return Ai()?Xr():this.a=function(){var t=null;return new Hr((function(e){"complete"==f.document.readyState?e():(t=function(){e()},lr(window,"load",t))})).ua((function(e){throw hr(window,"load",t),e}))}().then((function(){if(!Ai())return new Hr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);f.onGoogleLibraryLoad=function(){clearTimeout(i),n()},Xr(Oi(e)).then((function(){Ai()&&n()})).ua((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},v(Ci),Ri.prototype.confirm=function(t){return Xr(this.a.confirm(t)).ua(this.g)},Pi.prototype.a=null;function Li(t){this.s=t,this.a=this.h=this.j=this.g=null}function Ni(t,e){this.name=t,this.value=e}Pi.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,this.h=r||C(),this.j=t,this.s=e,this.g=n,delete this.a},Ni.prototype.toString=function(){return this.name};var Di=new Ni("SEVERE",1e3),Bi=new Ni("WARNING",900),$i=new Ni("CONFIG",700);Li.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.g?t(e.g):(D("Root logger has no level set."),null)}(this).value)for(x(e)&&(e=e()),t=new Pi(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var Fi={},Ui=null;function zi(){Ui||(Ui=new Li(""),Fi[""]=Ui,Ui.j=$i)}function Hi(){this.a=C()}var Gi=null;function Vi(t){this.j=t||"",Gi||(Gi=new Hi),this.s=Gi}function qi(t){return 10>t?"0"+t:String(t)}function Wi(t){Vi.call(this,t)}function Ki(){this.s=T(this.h,this),this.a=new Wi,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Hi.prototype.set=function(t){this.a=t},Hi.prototype.reset=function(){this.set(C())},Hi.prototype.get=function(){return this.a},Vi.prototype.a=!0,Vi.prototype.g=!0,Vi.prototype.h=!1,P(Wi,Vi),Ki.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",qi(r.getFullYear()-2e3)+qi(r.getMonth()+1)+qi(r.getDate())+" "+qi(r.getHours())+":"+qi(r.getMinutes())+":"+qi(r.getSeconds())+"."+qi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);if(Xi)!function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Xi,function(t){if(t){if(t.value>=Di.value)return"error";if(t.value>=Bi.value)return"warn";if(t.value>=$i.value)return"log"}return"debug"}(t.j),e,t.a)}};var Yi,Xi=f.console;function Zi(t,e){Yi&&Yi.log(Di,t,e)}Yi=function t(e){var n;if(zi(),!(n=Fi[e])){n=new Li(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Fi[e]=n}return n}("firebaseui");var Ji=new Ki;if(1!=Ji.g){var Qi;zi(),Qi=Ui;var to=Ji.s;Qi.a||(Qi.a=[]),Qi.a.push(to),Ji.g=!0}function eo(t){Yi&&Yi.log(Bi,t,void 0)}function no(t,e,n,r){this.a=t,this.h=e||null,this.j=n||null,this.g=r||null}function ro(t){return t.email?new no(t.email,t.displayName,t.photoUrl,t.providerId):null}function io(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function oo(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=J(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}no.prototype.ba=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.g}},(e=io.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');d(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(C()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},e.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=J(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},e.ka=function(){return oo(this).keys},e.ma=function(){return oo(this).values},e.clear=function(){for(var t=oo(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var so=new io;function ao(){}function co(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function uo(t,e){this.g=t,this.a=e||null}function lo(t){if(t&&t.email){var e=t.credential&&r.auth.AuthCredential.fromJSON(t.credential);return new uo(t.email,e)}return null}function ho(t){this.a=t||null}function fo(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function po(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function mo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(bo*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<bo*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,Oo(e),e[0]^=jo[t/this.g][0],e[1]^=jo[t/this.g][1],e[2]^=jo[t/this.g][2],e[3]^=jo[t/this.g][3]}else 6<this.g&&4==t%this.g&&Oo(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}c(co,ao),co.prototype.set=function(t,e){so.set(t,e,this.h,this.g,this.a,this.j)},co.prototype.get=function(t){return so.get(t)||null},co.prototype.sa=function(t){var e=this.g,n=this.a;so.get(t),so.set(t,"",0,e,n)},uo.prototype.ba=function(){return{email:this.g,credential:this.a&&this.a.toJSON()}},ho.prototype.ba=function(){return{tenantId:this.a}},mo.prototype.A=16;var bo=mo.prototype.A/4;function go(t,e){for(var n,r=0;r<bo;r++)for(var i=0;4>i;i++)n=e[n=4*i+r],t.h[r][i]=n}function vo(t){for(var e=[],n=0;n<bo;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function yo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function wo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function _o(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%bo]}function xo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%bo]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function Oo(t){t[0]=Eo[t[0]],t[1]=Eo[t[1]],t[2]=Eo[t[2]],t[3]=Eo[t[3]]}var Eo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],So=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],jo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Mo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],To=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Ao=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ko=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Io=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Co=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Ro(t,e){t=new mo(Lo(t));for(var n,r=X(e=fo(e),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(go(n=t,r),yo(n,0),r=1;r<n.j;++r){wo(n,Eo),_o(n),o=n.h;for(var s=n.s[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=Mo[s[0]]^To[s[1]]^s[2]^s[3],o[1][a]=s[0]^Mo[s[1]]^To[s[2]]^s[3],o[2][a]=s[0]^s[1]^Mo[s[2]]^To[s[3]],o[3][a]=To[s[0]]^s[1]^s[2]^Mo[s[3]];yo(n,r)}wo(n,Eo),_o(n),yo(n,n.j),i+=po(vo(n)),r=X(e,0,16)}return i}function Po(t,e){t=new mo(Lo(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=X(n,0,16);for(e="";i.length;){for(go(r=t,i),yo(r,r.j),i=1;i<r.j;++i){xo(r),wo(r,So),yo(r,r.j-i);for(var o=r.h,s=r.s[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=Co[s[0]]^ko[s[1]]^Io[s[2]]^Ao[s[3]],o[1][a]=Ao[s[0]]^Co[s[1]]^ko[s[2]]^Io[s[3]],o[2][a]=Io[s[0]]^Ao[s[1]]^Co[s[2]]^ko[s[3]],o[3][a]=ko[s[0]]^Io[s[1]]^Ao[s[2]]^Co[s[3]]}if(xo(r),wo(r,So),yo(r,0),8192>=(r=vo(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,Z(r,o,o+8192));r=i}e+=r,i=X(n,0,16)}return e.replace(/(\x00)+$/,"")}function Lo(t){for(var e=32-(t=fo(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function No(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(w(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),Fo(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Fo(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Do,t,e),e.join("")}function Do(){}var Bo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$o=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fo(t,e){e.push('"',t.replace($o,(function(t){var e=Bo[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Bo[t]=e),e})),'"')}function Uo(t){this.a=t}function zo(){}function Ho(t){this.a=t}function Go(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(t){return!1}}function Vo(){var t=null;try{t=window.localStorage||null}catch(t){}this.a=t}function qo(){var t=null;try{t=window.sessionStorage||null}catch(t){}this.a=t}function Wo(t,e){this.g=t,this.a=e+"::"}Uo.prototype.set=function(t,e){d(e)?this.a.set(t,No(e)):this.a.sa(t)},Uo.prototype.get=function(t){try{var e=this.a.get(t)}catch(t){return}if(null!==e)try{return JSON.parse(e)}catch(t){throw"Storage: Invalid value was encountered"}},P(zo,ao),zo.prototype.clear=function(){var t=mt(this.ia(!0)),e=this;$(t,(function(t){e.sa(t)}))},P(Ho,zo),(e=Ho.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(t){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(t){if(!p(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},e.sa=function(t){this.a.removeItem(t)},e.ia=function(t){var e=0,n=this.a,r=new dt;return r.next=function(){if(e>=n.length)throw ft;var r=n.key(e++);if(t)return r;if(!p(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},e.clear=function(){this.a.clear()},e.key=function(t){return this.a.key(t)},P(Vo,Ho),P(qo,Ho),P(Wo,zo),Wo.prototype.set=function(t,e){this.g.set(this.a+t,e)},Wo.prototype.get=function(t){return this.g.get(this.a+t)},Wo.prototype.sa=function(t){this.g.sa(this.a+t)},Wo.prototype.ia=function(t){var e=this.g.ia(!0),n=this,r=new dt;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r};var Ko=new Vo,Yo=new Uo(Go(Ko)?new Wo(Ko,"firebaseui"):null),Xo=new qo,Zo=new Uo(Go(Xo)?new Wo(Xo,"firebaseui"):null),Jo={name:"pendingEmailCredential",storage:Zo},Qo={name:"redirectStatus",storage:Zo},ts={name:"redirectUrl",storage:Zo},es={name:"rememberAccount",storage:Zo},ns={name:"rememberedAccounts",storage:Yo},rs={name:"emailForSignIn",storage:new Uo(new co(3600,"/"))},is={name:"pendingEncryptedCredential",storage:new Uo(new co(3600,"/"))};function os(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function ss(t,e){t.storage.a.sa(e?t.name+":"+e:t.name)}function as(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function cs(t){return os(ts,t)||null}function us(t,e){as(ts,t,e)}function ls(t,e){as(es,t,e)}function hs(t){return t=os(ns,t)||[],t=U(t,(function(t){return ro(t)})),F(t,(function(t){return null!=t}))}function fs(t){return lo(t=os(Jo,t)||null)}function ds(t){ss(Jo,t)}function ps(t,e){as(Jo,t.ba(),e)}function ms(t){return(t=os(Qo,t)||null)&&void 0!==t.tenantId?new ho(t.tenantId):null}function bs(t,e){as(Qo,t.ba(),e)}function gs(){this.W={}}function vs(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function ys(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function ws(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function _s(){this.g=void 0,this.a={}}function xs(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new _s),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function Os(t){for(this.a=t,this.g=new _s,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function Es(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function Ss(t){for(var e=0;e<As.length;e++)if(As[e].c===t)return As[e];return null}function js(t){t=t.toUpperCase();for(var e=[],n=0;n<As.length;n++)As[n].f===t&&e.push(As[n]);return e}function Ms(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<As.length;n++)As[n].b==t&&e.push(As[n]);t=e}else t=js(t);return t}function Ts(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}gs.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(e=_s.prototype).set=function(t,e){xs(this,t,e,!1)},e.add=function(t,e){xs(this,t,e,!0)},e.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},e.ma=function(){var t=[];return function t(e,n){for(var r in void 0!==e.g&&n.push(e.g),e.a)t(e.a[r],n)}(this,t),t},e.ka=function(){var t=[];return function t(e,n,r){for(var i in void 0!==e.g&&r.push(n),e.a)t(e.a[i],n+i,r)}(this,"",t),t},e.clear=function(){this.a={},this.g=void 0};var As=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Ts(As);var ks=new Os(As);function Is(t,e){this.a=t,this.Ca=e}function Cs(t){t=J(t);var e=Es(ks,t);return 0<e.length?new Is("1"==e[0].b?"1-US-0":e[0].c,J(t.substr(e[0].b.length+1))):null}function Rs(t){var e=Ss(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Ca}function Ps(t,e){for(var n=0;n<t.length;n++)if(!G(Ls,t[n])&&(null!==Ns&&t[n]in Ns||G(e,t[n])))return t[n];return null}var Ls=["emailLink","password","phone"],Ns={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ds(){this.a=new gs,vs(this.a,"acUiConfig"),vs(this.a,"autoUpgradeAnonymousUsers"),vs(this.a,"callbacks"),vs(this.a,"credentialHelper",da),vs(this.a,"immediateFederatedRedirect",!1),vs(this.a,"popupMode",!1),vs(this.a,"privacyPolicyUrl"),vs(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),vs(this.a,"queryParameterForWidgetMode","mode"),vs(this.a,"signInFlow"),vs(this.a,"signInOptions"),vs(this.a,"signInSuccessUrl"),vs(this.a,"siteName"),vs(this.a,"tosUrl"),vs(this.a,"widgetUrl")}function Bs(t){var e=t.a.get("widgetUrl")||fi();return $s(t,e)}function $s(t,e){t=Xs(t);for(var n,r=e.search(_t),i=0,o=[];0<=(n=wt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);return o.push(e.substr(i)),e=o.join("").replace(Ot,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,t=e[0]+(e[1]?"?"+e[1]:"")+e[2]):t=e,t}function Fs(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!sa(t)&&Zi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function Us(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=O(r)?r:{provider:r}).provider&&e.push(r)}return e}function zs(t,e){t=Us(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Hs(t){return U(Us(t),(function(t){return t.provider}))}function Gs(t,e){t=Vs(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Vs(t){return U(Us(t),(function(t){if(Ns[t.provider]||G(wa,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,va:t.buttonColor||null,Ba:t.iconUrl?Me(ke(t.iconUrl)):null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,va:t.buttonColor||null,Ba:t.iconUrl?Me(ke(t.iconUrl)):null,Nb:t.loginHintKey||null}}))}function qs(t){var e=zs(t,r.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&ca(t)===pa&&e.clientId||null}function Ws(t,e){return w(t=(t=zs(t,e))&&t.scopes)?t:[]}function Ks(t,e){return O(t=(t=zs(t,e))&&t.customParameters)?(t=ut(t),e===r.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===r.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function Ys(t){if(!(t=zs(t,r.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!w(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!w(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return As;if(t=[],e){n={};for(var i=0;i<e.length;i++)for(var o=Ms(e[i]),s=0;s<o.length;s++)n[o[s].c]=o[s];for(var a in n)n.hasOwnProperty(a)&&t.push(n[a])}else{for(a={},e=0;e<n.length;e++)for(o=Ms(n[e]),i=0;i<o.length;i++)a[o[i].c]=o[i];for(o=0;o<As.length;o++)null!==a&&As[o].c in a||t.push(As[o])}return t}function Xs(t){return ws(t.a,"queryParameterForWidgetMode")}function Zs(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&eo("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){li(e)}}return null}function Js(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&eo("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){li(n)}}return null}function Qs(t){return!(t=zs(t,r.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function ta(t){return!(!(t=zs(t,r.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function ea(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Hs(t);return t=na(t),e&&1==n.length&&!G(Ls,n[0])&&t==ga}function na(t){for(var e in t=t.a.get("signInFlow"),va)if(va[e]==t)return va[e];return ga}function ra(t){return aa(t).uiShown||null}function ia(t){return aa(t).signInSuccess||null}function oa(t){return aa(t).signInSuccessWithAuthResult||null}function sa(t){return aa(t).signInFailure||null}function aa(t){return t.a.get("callbacks")||{}}function ca(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return ma;for(var e in(t=t.a.get("credentialHelper"))===da&&eo('AccountChooser.com will be operating in "universal opt-out" mode starting July 31st, 2020, it should no longer be used as a CredentialHelper. Learn more at https://accountchooser.net/developers'),ba)if(ba[e]===t)return ba[e];return da}var ua,la,ha,fa,da="accountchooser.com",pa="googleyolo",ma="none",ba={jc:da,mc:pa,NONE:ma},ga="redirect",va={pc:"popup",qc:ga},ya={lc:"callback",RECOVER_EMAIL:"recoverEmail",rc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",sc:"select",tc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},wa=["anonymous"],_a=["sitekey","tabindex","callback","expired-callback"],xa={};function Oa(t,e,n,r){xa[t].apply(null,Array.prototype.slice.call(arguments,1))}var Ea=null;function Sa(t){return!(!t||-32e3!=t.code||"Service unavailable"!=t.message)}function ja(t,e,n,r){Ea||(t={callbacks:{empty:t,select:function(t,r){t&&t.account&&e?e(ro(t.account)):n&&n(!Sa(r))},store:t,update:t},language:"en",providers:void 0,ui:r},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?Ea=accountchooser.Api.init(t):(Ea=new Ta(t),function(){var t=Ea;"function"==typeof t.a.callbacks.empty&&t.a.callbacks.empty()}()))}function Ma(t,e,n){function r(){var t=At(window.location.href,n).toString();Ea.select(U(e||[],(function(t){return t.ba()})),{clientCallbackUrl:t})}e&&e.length?r():Ea.checkEmpty((function(e,n){e||n?t(!Sa(n)):r()}))}function Ta(t){this.a=t,this.a.callbacks=this.a.callbacks||{}}(e=Ta.prototype).store=function(){"function"==typeof this.a.callbacks.store&&this.a.callbacks.store(void 0,Aa)},e.select=function(){"function"==typeof this.a.callbacks.select&&this.a.callbacks.select(void 0,Aa)},e.update=function(){"function"==typeof this.a.callbacks.update&&this.a.callbacks.update(void 0,Aa)},e.checkDisabled=function(t){t(!0)},e.checkEmpty=function(t){t(void 0,Aa)},e.checkAccountExist=function(t,e){e(void 0,Aa)},e.checkShouldUpdate=function(t,e){e(void 0,Aa)};var Aa={code:-32e3,message:"Service unavailable",data:"Service is unavailable."},ka=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,Ia=/Firefox\/([\d.]+)/,Ca=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,Ra=/Chrome\/([\d.]+)/,Pa=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,La=/Mac OS X;.*(?!(Version)).*Safari/,Na=/Android ([\d.]+).*Safari/,Da=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,Ba=/Konqueror\/([\d.]+)/,$a=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function Fa(t,e){for(t=t.split(e||"."),this.a=[],e=0;e<t.length;e++)this.a.push(parseInt(t[e],10))}function Ua(t,e){return 0<=function(t,e){e instanceof Fa||(e=new Fa(String(e)));for(var n=Math.max(t.a.length,e.a.length),r=0;r<n;r++){var i=t.a[r],o=e.a[r];if(void 0!==i&&void 0!==o&&i!==o)return i-o;if(void 0===i)return-1;if(void 0===o)return 1}return 0}(t,e)}function za(t){return t.classList?t.classList:p(t=t.className)&&t.match(/\S+/g)||[]}function Ha(t,e){return t.classList?t.classList.contains(e):G(za(t),e)}function Ga(t,e){t.classList?t.classList.add(e):Ha(t,e)||(t.className+=0<t.className.length?" "+e:e)}function Va(t,e){t.classList?t.classList.remove(e):Ha(t,e)&&(t.className=F(za(t),(function(t){return t!=e})).join(" "))}function qa(t){var e=t.type;switch(p(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function Wa(t,e){var n=t.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,p(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(p(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function Ka(t,e,n,r,i,o){if(ae&&!be("525"))return!0;if(ue&&i)return Ya(t);if(i&&!r)return!1;if(!se&&("number"==typeof e&&(e=Xa(e)),(!n||ue)&&(17==e||18==e||ue&&91==e)||ue&&16==e&&(r||o)))return!1;if((ae||ie)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(re&&r&&e==t)return!1;switch(t){case 13:return!se||!o&&!i&&!(n&&r);case 27:return!(ae||ie||se)}return(!se||!(r||i||o))&&Ya(t)}function Ya(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(ae||ie)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return se;default:return!1}}function Xa(t){if(se)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(ue&&ae)switch(t){case 93:t=91}return t}function Za(t){wr.call(this),this.a=t,cr(t,"keydown",this.g,!1,this),cr(t,"click",this.h,!1,this)}function Ja(t,e){var n=new tc(e);if(_r(t,n)){n=new Qa(e);try{_r(t,n)}finally{e.stopPropagation()}}}function Qa(t){Zn.call(this,t.a),this.type="action"}function tc(t){Zn.call(this,t.a),this.type="beforeaction"}function ec(t){wr.call(this),this.a=t,t=re?"focusout":"blur",this.g=cr(this.a,re?"focusin":"focus",this,!re),this.h=cr(this.a,t,this,!re)}function nc(t,e){wr.call(this),this.g=t||1,this.a=e||f,this.h=T(this.fc,this),this.j=C()}function rc(t){t.La=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function ic(t){Un.call(this),this.g=t,this.a={}}P(Za,wr),Za.prototype.g=function(t){(13==t.keyCode||ae&&3==t.keyCode)&&Ja(this,t)},Za.prototype.h=function(t){Ja(this,t)},Za.prototype.m=function(){Za.K.m.call(this),hr(this.a,"keydown",this.g,!1,this),hr(this.a,"click",this.h,!1,this),delete this.a},P(Qa,Zn),P(tc,Zn),P(ec,wr),ec.prototype.handleEvent=function(t){var e=new Zn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",_r(this,e)},ec.prototype.m=function(){ec.K.m.call(this),fr(this.g),fr(this.h),delete this.a},P(nc,wr),(e=nc.prototype).La=!1,e.aa=null,e.fc=function(){if(this.La){var t=C()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),_r(this,"tick"),this.La&&(rc(this),this.start()))}},e.start=function(){this.La=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=C())},e.m=function(){nc.K.m.call(this),rc(this),delete this.a},P(ic,Un);var oc=[];function sc(t,e,n,r){w(n)||(n&&(oc[0]=n.toString()),n=oc);for(var i=0;i<n.length;i++){var o=cr(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function ac(t){ct(t.a,(function(t,e){this.a.hasOwnProperty(e)&&fr(t)}),t),t.a={}}function cc(t){wr.call(this),this.a=null,this.g=t,t=re||ie||ae&&!be("531")&&"TEXTAREA"==t.tagName,this.h=new ic(this),sc(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function uc(t){null!=t.a&&(f.clearTimeout(t.a),t.a=null)}function lc(t){return(t=new Zn(t.a)).type="input",t}function hc(t,e){wr.call(this),t&&(this.Pa&&bc(this),this.ra=t,this.Oa=cr(this.ra,"keypress",this,e),this.Za=cr(this.ra,"keydown",this.Ib,e,this),this.Pa=cr(this.ra,"keyup",this.Jb,e,this))}ic.prototype.m=function(){ic.K.m.call(this),ac(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P(cc,wr),cc.prototype.handleEvent=function(t){if("input"==t.type)re&&be(10)&&0==t.keyCode&&0==t.j||(uc(this),_r(this,lc(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(Ya(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!se;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;re&&229==t.keyCode&&(e=null);var n=lc(t);uc(this),this.a=function(t,e){if(x(t))e&&(t=T(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(0)?-1:f.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&_r(this,n)}),this)}},cc.prototype.m=function(){cc.K.m.call(this),this.h.o(),uc(this),delete this.g},P(hc,wr),(e=hc.prototype).ra=null,e.Oa=null,e.Za=null,e.Pa=null,e.R=-1,e.X=-1,e.Va=!1;var fc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},dc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},pc=!ae||be("525"),mc=ue&&se;function bc(t){t.Oa&&(fr(t.Oa),fr(t.Za),fr(t.Pa),t.Oa=null,t.Za=null,t.Pa=null),t.ra=null,t.R=-1,t.X=-1}function gc(t,e,n,r){Zn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function vc(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function yc(t,e){var n=Je(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function wc(t){try{var e=t.getBoundingClientRect()}catch(t){return{left:0,top:0,right:0,bottom:0}}return re&&t.ownerDocument.body&&(t=t.ownerDocument,e.left-=t.documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function _c(t){var e=Je(t),n=new He(0,0),r=e?Je(e):document;return t==(r=!re||9<=Number(pe)||"CSS1Compat"==Ve(r).a.compatMode?r.documentElement:r.body)||(t=wc(t),e=Xe(r=Ve(e).a),r=r.parentWindow||r.defaultView,e=re&&be("10")&&r.pageYOffset!=e.scrollTop?new He(e.scrollLeft,e.scrollTop):new He(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(e=hc.prototype).Ib=function(t){(ae||ie)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||ue&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),pc&&!Ka(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=Xa(t.keyCode),mc&&(this.Va=t.altKey))},e.Jb=function(t){this.X=this.R=-1,this.Va=t.altKey},e.handleEvent=function(t){var e=t.a,n=e.altKey;if(re&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(ae||ie)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&Ya(r)?e.charCode:0):ne&&!ae?i=Ya(r=this.X)?e.keyCode:0:("keypress"==t.type?(mc&&(n=this.Va),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),ue&&63==i&&224==r&&(r=191));var o=r=Xa(r);r?63232<=r&&r in fc?o=fc[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in dc&&(o=dc[e.keyIdentifier]),se&&pc&&"keypress"==t.type&&!Ka(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new gc(o,i,t,e)).altKey=n,_r(this,e))},e.N=function(){return this.ra},e.m=function(){hc.K.m.call(this),bc(this)},P(gc,Zn),vc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},vc.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},vc.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},vc.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var xc={thin:2,medium:4,thick:6};function Oc(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in xc)t=xc[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function Ec(){}function Sc(t){wr.call(this),this.s=t||Ve(),this.eb=null,this.oa=!1,this.g=null,this.L=void 0,this.pa=this.Fa=this.Y=null}function jc(t,e){return t.g?We(e,t.g||t.s.a):null}function Mc(t){return t.L||(t.L=new ic(t)),t.L}function Tc(t,e){t.Fa&&$(t.Fa,e,void 0)}function Ac(t,e){var n=tn(t,"firebaseui-textfield");e?(Va(t,"firebaseui-input-invalid"),Ga(t,"firebaseui-input"),n&&Va(n,"firebaseui-textfield-invalid")):(Va(t,"firebaseui-input"),Ga(t,"firebaseui-input-invalid"),n&&Ga(n,"firebaseui-textfield-invalid"))}function kc(t,e,n){Gn(t,A(Vn,e=new cc(e))),sc(Mc(t),e,"input",n)}function Ic(t,e,n){Gn(t,A(Vn,e=new hc(e))),sc(Mc(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Cc(t,e,n){Gn(t,A(Vn,e=new Za(e))),sc(Mc(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function Rc(t){Ga(t,"firebaseui-hidden")}function Pc(t,e){e&&Qe(t,e),Va(t,"firebaseui-hidden")}function Lc(t){return!Ha(t,"firebaseui-hidden")&&"none"!=t.style.display}function Nc(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.vc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+wn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',bn(r)}function Dc(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+fn(t):e+"Next",bn(e+"</button>")}function Bc(){var t=""+Dc({label:vn("Sign In")});return bn(t)}function $c(){var t=""+Dc({label:vn("Save")});return bn(t)}function Fc(){var t=""+Dc({label:vn("Continue")});return bn(t)}function Uc(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+fn(t):e+"Choose password",bn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function zc(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return bn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Hc(){return bn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Gc(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+fn(t):e+"Cancel",bn(e+"</button>")}function Vc(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),bn(e)}function qc(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),bn(e)}function Wc(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+fn(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',bn(t)}function Kc(t){var e=t.content;return t=t.Ab,bn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(t?" "+wn(t):"")+'">'+fn(e)+"</dialog>")}function Yc(t){var e=t.message;return bn(Kc({content:yn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+wn(t.Na)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+fn(e)+"</div>")}))}function Xc(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+wn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Na?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+wn(i.Na)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+fn(i.label)+"</div></button>"}return e=""+Kc({Ab:vn("firebaseui-list-box-dialog"),content:yn(e+"</div>")}),bn(e)}function Zc(t){return bn((t=t||{}).ub?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Jc(t,e){return mn((t=(t=t||{}).ha).S?t.S:e.ib[t.providerId]?""+e.ib[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function Qc(t){nu(t,"upgradeElement")}function tu(t){nu(t,"downgradeElements")}v(Ec),Ec.prototype.a=0,P(Sc,wr),(e=Sc.prototype).Kb=Ec.Ya(),e.N=function(){return this.g},e.$a=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Sc.K.$a.call(this,t)},e.lb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(t){if(this.oa)throw Error("Component already rendered");this.g||this.lb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.oa||this.v()},e.v=function(){this.oa=!0,Tc(this,(function(t){!t.oa&&t.N()&&t.v()}))},e.Aa=function(){Tc(this,(function(t){t.oa&&t.Aa()})),this.L&&ac(this.L),this.oa=!1},e.m=function(){this.oa&&this.Aa(),this.L&&(this.L.o(),delete this.L),Tc(this,(function(t){t.o()})),this.g&&Ze(this.g),this.Y=this.g=this.pa=this.Fa=null,Sc.K.m.call(this)},e.removeChild=function(t,e){if(t){var n=p(t)?t:t.eb||(t.eb=":"+(t.Kb.a++).toString(36));if(this.pa&&n?t=(null!==(t=this.pa)&&n in t?t[n]:void 0)||null:t=null,n&&t){var r=this.pa;if(n in r&&delete r[n],V(this.Fa,t),e&&(t.Aa(),t.g&&Ze(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Sc.K.$a.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},Wc.a="firebaseui.auth.soy2.element.infoBar",Yc.a="firebaseui.auth.soy2.element.progressDialog",Xc.a="firebaseui.auth.soy2.element.listBoxDialog",Zc.a="firebaseui.auth.soy2.element.busyIndicator";var eu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function nu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&$(eu,(function(n){Ha(t,n)&&window.componentHandler[e](t),$(qe(n,t),(function(t){window.componentHandler[e](t)}))}))}function ru(t,e,n){if(iu.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),Qc(t),e&&Cc(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&iu.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.ea=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,s=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,a=t.getBoundingClientRect().width,c=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",e=s+(c-a)/2,t.style.left=e.toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-a).toString()+"px"}else window.removeEventListener("resize",i.ea)},this.ea(),window.addEventListener("resize",this.ea,!1)}}}function iu(){var t=ou.call(this);t&&(tu(t),t.open&&t.close(),Ze(t),this.ea&&window.removeEventListener("resize",this.ea))}function ou(){return We("firebaseui-id-dialog")}function su(){Ze(au.call(this))}function au(){return jc(this,"firebaseui-id-info-bar")}function cu(){return jc(this,"firebaseui-id-dismiss-info-bar")}var uu={za:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},ya:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},ib:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function lu(t,e,n){for(var r in Xn.call(this,t,e),n)this[r]=n[r]}function hu(t,e,n,r,i){Sc.call(this,n),this.gb=t,this.fb=e,this.Ga=!1,this.Ha=r||null,this.A=this.da=null,this.Z=ut(uu),ht(this.Z,i||{})}function fu(t){return t.N().parentElement||t.N().parentNode}function du(t,e,n){Ic(t,e,(function(){n.focus()}))}function pu(t,e,n){Ic(t,e,(function(){n()}))}function mu(t,e,n){e=(t=t||{}).Wa;var r=t.ja;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Nc(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?Gc(null):"")+Dc(null)+'</div></div><div class="firebaseui-card-footer">'+(r?qc(n):Vc(n))+"</div></form></div>",bn(t)}function bu(t,e,n){return e=(t=t||{}).ja,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Nc(t)+zc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Hc()+'</div><div class="firebaseui-form-actions">'+Bc()+'</div></div><div class="firebaseui-card-footer">'+(e?qc(n):Vc(n))+"</div></form></div>",bn(t)}function gu(t,e,n){var r=(t=t||{}).Sb;e=t.Ua;var i=t.ja,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Nc(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+wn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=bn(t)):t="",n=o+t+Uc(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?Gc(null):"")+$c()+'</div></div><div class="firebaseui-card-footer">'+(i?qc(n):Vc(n))+"</div></form></div>",bn(n)}function vu(t,e,n){return e=(t=t||{}).Ua,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Nc(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?Gc(null):"")+Dc({label:vn("Send")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(t)}function yu(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+fn(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+Dc({label:vn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+Vc(n)+"</div></div>",bn(r)}function wu(t,e,n){return bn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Zc(null)+"</div></div>")}function _u(t,e,n){return bn('<div class="firebaseui-container firebaseui-id-page-spinner">'+Zc({ub:!0})+"</div>")}function xu(){return bn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Ou(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+fn(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+bn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+Gc({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Eu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+bn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Gc({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(t)}function Su(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Nc(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc(null)+Dc(null)+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(t)}function ju(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc({label:vn("Dismiss")})+"</div></div></div>";return bn(t)}function Mu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc({label:vn("Dismiss")})+"</div></div></div>";return bn(t)}function Tu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="Youve already used <strong>"+fn(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+zc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Hc()+'</div><div class="firebaseui-form-actions">'+Bc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Au(t,e,n){var r=t.email;return e="",t=vn(t=""+Jc(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="Youve already used <strong>"+fn(r)+"</strong>. You can connect your <strong>"+fn(t)+"</strong> account with <strong>"+fn(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+fn(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Bc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function ku(t,e,n){e="";var r=""+Jc(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+fn(r=vn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+fn(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Fc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Iu(t,e,n){var r=t.email;return e="",t=vn(t=""+Jc(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="Youve already used <strong>"+fn(r)+"</strong>. Sign in with "+fn(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Dc({label:vn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Cu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+fn(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc(null)+Dc({label:vn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Ru(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+fn(t.email)+"</strong></p>")+Uc(function(t){function e(){}var n={label:vn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$c()+"</div></div></form></div>",bn(e)}function Pu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function Lu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function Nu(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+fn(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></form></div>",bn(n)}function Du(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function Bu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function $u(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function Fu(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+fn(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(n)}function Uu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function zu(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+fn(e)+" "+fn(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></form></div>",bn(r)}function Hu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Fc()+"</div>":"")+"</div></div>",bn(t)}function Gu(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+fn(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=Dc({label:vn("Retry")})),bn(t+"</div></div></div>")}function Vu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+fn(t.errorMessage)+"</p></div></div>",bn(t)}function qu(t,e,n){var r=t.Pb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+fn(t.ic)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+fn(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc(null)+Dc({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",bn(e)}function Wu(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Rb).length;for(var i=0;i<e;i++){var o={ha:t[i]},s=n,a=(o=o||{}).ha,c=o,u="";switch((c=c||{}).ha.providerId){case"google.com":u+="firebaseui-idp-google";break;case"github.com":u+="firebaseui-idp-github";break;case"facebook.com":u+="firebaseui-idp-facebook";break;case"twitter.com":u+="firebaseui-idp-twitter";break;case"phone":u+="firebaseui-idp-phone";break;case"anonymous":u+="firebaseui-idp-anonymous";break;case"password":u+="firebaseui-idp-password";break;default:u+="firebaseui-idp-generic"}c=(c='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+wn(mn(u))+' firebaseui-id-idp-button" data-provider-id="'+wn(a.providerId)+'" style="background-color:')+wn(xn(mn((u=(u=(u=o)||{}).ha).va?u.va:s.ya[u.providerId]?""+s.ya[u.providerId]:0==u.providerId.indexOf("saml.")?""+s.ya.saml:0==u.providerId.indexOf("oidc.")?""+s.ya.oidc:""+s.ya.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;u=s,l=(l=l||{}).ha,u=gn(l.Ba?_n(l.Ba):u.za[l.providerId]?_n(u.za[l.providerId]):0==l.providerId.indexOf("saml.")?_n(u.za.saml):0==l.providerId.indexOf("oidc.")?_n(u.za.oidc):_n(u.za.password)),c=c+wn(_n(u))+'"></span>',"password"==a.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?c+=fn(a.V):a.S?c+=o="Sign in with "+fn(Jc(o,s)):c+="Sign in with email",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=a.S?c+fn(a.S):c+"Email",c+="</span>"):"phone"==a.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?c+=fn(a.V):a.S?c+=o="Sign in with "+fn(Jc(o,s)):c+="Sign in with phone",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=a.S?c+fn(a.S):c+"Phone",c+="</span>"):"anonymous"==a.providerId?(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?c+=fn(a.V):a.S?c+=o="Sign in with "+fn(Jc(o,s)):c+="Continue as guest",c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',c=a.S?c+fn(a.S):c+"Guest",c+="</span>"):(c+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',a.V?c+=fn(a.V):c+=u="Sign in with "+fn(Jc(o,s)),c+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(a.S?fn(a.S):fn(Jc(o,s)))+"</span>"),r+='<li class="firebaseui-list-item">'+(a=bn(c+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+qc(n)+"</div></div>",bn(r)}function Ku(t,e,n){var r,i=(t=t||{}).Fb,o=t.Wa;return e=t.ja,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+wn(null!=(t=(t=t||{}).Ca)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+bn(t))+(r=i?bn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?Gc(null):"")+Dc({label:vn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=bn(e+"</p>")):n=bn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Vc(n),bn(r+n+"</div></form></div>")}function Yu(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+fn(e=(t=t||{}).phoneNumber)+"</a>",fn(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=bn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gc(null)+Dc({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form>",t=bn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),bn(e+(n+t+"</div>"))}function Xu(){return bn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function Zu(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.dc).length;for(var i=0;i<e;i++){var o=t[i],s="",a=fn(o.displayName),c=o.tenantId?o.tenantId:"top-level-project";s+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+wn(c=vn(c))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+wn(o.tenantId)+'"':"")+'style="background-color:'+wn(xn(o.va))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+wn(_n(o.Ba))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?s+=fn(o.V):s+=o="Sign in to "+fn(o.displayName),r+='<li class="firebaseui-list-item">'+(s=bn(s+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+a+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+qc(n)+"</div></div>",bn(r)}function Ju(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Nc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Dc(null)+'</div></div><div class="firebaseui-card-footer">'+qc(n)+"</div></form></div>",bn(t)}function Qu(){return jc(this,"firebaseui-id-submit")}function tl(){return jc(this,"firebaseui-id-secondary-link")}function el(t,e){Cc(this,Qu.call(this),(function(e){t(e)}));var n=tl.call(this);n&&e&&Cc(this,n,(function(t){e(t)}))}function nl(){return jc(this,"firebaseui-id-password")}function rl(){return jc(this,"firebaseui-id-password-error")}function il(){var t=nl.call(this),e=rl.call(this);kc(this,t,(function(){Lc(e)&&(Ac(t,!0),Rc(e))}))}function ol(){var t=nl.call(this),e=rl.call(this);return qa(t)?(Ac(t,!0),Rc(e),e=!0):(Ac(t,!1),Pc(e,mn("Enter your password").toString()),e=!1),e?qa(t):null}function sl(t,e,n,r,i,o){hu.call(this,Tu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}P(lu,Xn),P(hu,Sc),(e=hu.prototype).lb=function(){var t=cn(this.gb,this.fb,this.Z,this.s);Qc(t),this.g=t},e.v=function(){if(hu.K.v.call(this),Sr(fu(this),new lu("pageEnter",fu(this),{pageId:this.Ha})),this.cb()&&this.Z.F){var t=this.Z.F;Cc(this,this.cb(),(function(){t()}))}if(this.bb()&&this.Z.D){var e=this.Z.D;Cc(this,this.bb(),(function(){e()}))}},e.Aa=function(){Sr(fu(this),new lu("pageExit",fu(this),{pageId:this.Ha})),hu.K.Aa.call(this)},e.m=function(){window.clearTimeout(this.da),this.fb=this.gb=this.da=null,this.Ga=!1,this.A=null,tu(this.N()),hu.K.m.call(this)},e.I=function(t,e,n,r){function i(){if(o.T)return null;o.Ga=!1,window.clearTimeout(o.da),o.da=null,o.A&&(tu(o.A),Ze(o.A),o.A=null)}var o=this;return o.Ga?null:(function(t){t.Ga=!0;var e=Ha(t.N(),"firebaseui-use-spinner");t.da=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=cn(Zc,{ub:e},null,t.s),t.N().appendChild(t.A),Qc(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},k(hu.prototype,{a:function(t){su.call(this);var e=cn(Wc,{message:t},null,this.s);this.N().appendChild(e),Cc(this,cu.call(this),(function(){Ze(e)}))},xc:su,zc:au,yc:cu,$:function(t,e){t=cn(Yc,{Na:t,message:e},null,this.s),ru.call(this,t)},h:iu,Cb:ou,Bc:function(){return jc(this,"firebaseui-tos")},cb:function(){return jc(this,"firebaseui-tos-link")},bb:function(){return jc(this,"firebaseui-pp-link")},Cc:function(){return jc(this,"firebaseui-tos-list")}}),mu.a="firebaseui.auth.soy2.page.signIn",bu.a="firebaseui.auth.soy2.page.passwordSignIn",gu.a="firebaseui.auth.soy2.page.passwordSignUp",vu.a="firebaseui.auth.soy2.page.passwordRecovery",yu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",wu.a="firebaseui.auth.soy2.page.callback",_u.a="firebaseui.auth.soy2.page.spinner",xu.a="firebaseui.auth.soy2.page.blank",Ou.a="firebaseui.auth.soy2.page.emailLinkSignInSent",Eu.a="firebaseui.auth.soy2.page.emailNotReceived",Su.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",ju.a="firebaseui.auth.soy2.page.differentDeviceError",Mu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Tu.a="firebaseui.auth.soy2.page.passwordLinking",Au.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",ku.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Iu.a="firebaseui.auth.soy2.page.federatedLinking",Cu.a="firebaseui.auth.soy2.page.unsupportedProvider",Ru.a="firebaseui.auth.soy2.page.passwordReset",Pu.a="firebaseui.auth.soy2.page.passwordResetSuccess",Lu.a="firebaseui.auth.soy2.page.passwordResetFailure",Nu.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Du.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Bu.a="firebaseui.auth.soy2.page.emailVerificationSuccess",$u.a="firebaseui.auth.soy2.page.emailVerificationFailure",Fu.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",Uu.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",zu.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",Hu.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",Gu.a="firebaseui.auth.soy2.page.recoverableError",Vu.a="firebaseui.auth.soy2.page.unrecoverableError",qu.a="firebaseui.auth.soy2.page.emailMismatch",Wu.a="firebaseui.auth.soy2.page.providerSignIn",Ku.a="firebaseui.auth.soy2.page.phoneSignInStart",Yu.a="firebaseui.auth.soy2.page.phoneSignInFinish",Xu.a="firebaseui.auth.soy2.page.signOut",Zu.a="firebaseui.auth.soy2.page.selectTenant",Ju.a="firebaseui.auth.soy2.page.providerMatchByEmail",c(sl,hu),sl.prototype.v=function(){this.P(),this.M(this.w,this.H),pu(this,this.i(),this.w),this.i().focus(),hu.prototype.v.call(this)},sl.prototype.m=function(){this.w=null,hu.prototype.m.call(this)},sl.prototype.j=function(){return qa(jc(this,"firebaseui-id-email"))},k(sl.prototype,{i:nl,B:rl,P:il,u:ol,fa:Qu,ca:tl,M:el});var al=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function cl(){return jc(this,"firebaseui-id-email")}function ul(){return jc(this,"firebaseui-id-email-error")}function ll(t){var e=cl.call(this),n=ul.call(this);kc(this,e,(function(){Lc(n)&&(Ac(e,!0),Rc(n))})),t&&Ic(this,e,(function(){t()}))}function hl(){return J(qa(cl.call(this))||"")}function fl(){var t=cl.call(this),e=ul.call(this),n=qa(t)||"";return n?al.test(n)?(Ac(t,!0),Rc(e),e=!0):(Ac(t,!1),Pc(e,mn("That email address isn't correct").toString()),e=!1):(Ac(t,!1),Pc(e,mn("Enter your email address to continue").toString()),e=!1),e?J(qa(t)):null}function dl(t,e,n,r,i,o,s){hu.call(this,bu,{email:n,ja:!!o},s,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function pl(t,e,n,r,i,o){hu.call(this,t,e,r,i||"notice",o),this.i=n||null}function ml(t,e,n,r,i){pl.call(this,yu,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function bl(t,e){pl.call(this,Bu,{G:!!t},t,e,"emailVerificationSuccess")}function gl(t,e){pl.call(this,$u,{G:!!t},t,e,"emailVerificationFailure")}function vl(t,e,n){pl.call(this,Fu,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function yl(t,e){pl.call(this,Uu,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function wl(t,e){pl.call(this,Hu,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function _l(t){pl.call(this,Xu,void 0,void 0,t,"signOut")}function xl(t,e){pl.call(this,Pu,{G:!!t},t,e,"passwordResetSuccess")}function Ol(t,e){pl.call(this,Lu,{G:!!t},t,e,"passwordResetFailure")}function El(t,e){pl.call(this,Du,{G:!!t},t,e,"emailChangeRevokeFailure")}function Sl(t,e,n){pl.call(this,Gu,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function jl(t,e){pl.call(this,Vu,{errorMessage:t},void 0,e,"unrecoverableError")}c(dl,hu),dl.prototype.v=function(){this.P(),this.fa(),this.ca(this.w,this.H),du(this,this.l(),this.i()),pu(this,this.i(),this.w),qa(this.l())?this.i().focus():this.l().focus(),hu.prototype.v.call(this)},dl.prototype.m=function(){this.H=this.w=null,hu.prototype.m.call(this)},k(dl.prototype,{l:cl,U:ul,P:ll,M:hl,j:fl,i:nl,B:rl,fa:il,u:ol,wa:Qu,qa:tl,ca:el}),P(pl,hu),pl.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),pl.K.v.call(this)},pl.prototype.m=function(){this.i=null,pl.K.m.call(this)},k(pl.prototype,{l:Qu,w:tl,u:el}),P(ml,pl),P(bl,pl),P(gl,pl),P(vl,pl),P(yl,pl),P(wl,pl),P(_l,pl),P(xl,pl),P(Ol,pl),P(El,pl),P(Sl,pl),P(jl,pl);var Ml=!1,Tl=null;function Al(t,e){Ml=!!e,Tl||("undefined"==typeof accountchooser&&function(){var t=window.navigator&&window.navigator.userAgent;if(t){var e;if(e=t.match(Ca)){var n=new Fa(e[3]||e[1]);return!(0<=t.indexOf("Opera Mini"))&&(0<=t.indexOf("Opera Mobi")?0<=t.indexOf("Android")&&Ua(n,"10.1"):Ua(n,"8.0"))}if(e=t.match(Ia))return Ua(new Fa(e[1]),"2.0");if(e=t.match(Ra))return Ua(new Fa(e[1]),"6.0");if(e=t.match(Pa))return n=new Fa(e[6]),t=e[3]&&new Fa(e[3]),e=e[5]&&new Fa(e[5],"_"),(!(!t||!Ua(t,"6.0"))||!(!e||!Ua(e,"10.5.6")))&&Ua(n,"3.0");if(e=t.match(Na))return Ua(new Fa(e[1]),"3.0");if(e=t.match(Da))return Ua(new Fa(e[1],"_"),"4.0");if(e=t.match(Ba))return Ua(new Fa(e[1]),"4.7");if(e=t.match($a))return n=new Fa(e[1]),t=new Fa(e[2]),Ua(n,"7.0")&&Ua(t,"7.0");if(e=t.match(ka))return n=new Fa(e[1]),t=new Fa(e[2]),Ua(n,"7.0")&&Ua(t,"6.0");if(t.match(La))return!1}return!0}()?(e=Se(ye(new ve(_e,"//www.gstatic.com/accountchooser/client.js"))),Tl=Xr(Oi(e)).ua((function(){}))):Tl=Xr()),Tl.then(t,t)}function kl(t,e){(t=aa(t=mf(t)).accountChooserInvoked||null)?t(e):e()}function Il(t,e,n){(t=aa(t=mf(t)).accountChooserResult||null)?t(e,n):n()}function Cl(t,e,n,r){function i(){var e=t();e&&(e=ra(mf(e)))&&e()}ja((function(){var o=t();o&&function(t,e,n,r,i){r?(Oa("callback",t,e),Ml&&n()):kl(t,(function(){bs(new ho(t.a.tenantId||null),of(t)),Ma((function(r){ss(Qo,of(t)),Il(t,r?"empty":"unavailable",(function(){Oa("signIn",t,e),(r||Ml)&&n()}))}),hs(of(t)),i)}))}(o,e,i,n,r)}),(function(n){var r=t();r&&function(t,e,n,r){function i(t){t=Nl(t),Fl(e,n,void 0,t),r()}Il(e,"accountSelected",(function(){ls(!1,of(e));var o=Bl(e);ff(e,nf(e).fetchSignInMethodsForEmail(t.a).then((function(i){zl(e,n,i,t.a,t.h||void 0,void 0,o),r()}),i))}))}(n,r,e,i)}),(function(n){var r=t();r&&function(t,e,n,r){Il(e,t?"addAccount":"unavailable",(function(){Oa("signIn",e,n),(t||Ml)&&r()}))}(n,r,e,i)}),t()&&function(t){return t.a.get("acUiConfig")||null}(mf(t())))}function Rl(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(t){}o=!1}if(o)n=fu(e),e.o(),Fl(t,n,void 0,mn("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=Nl(n)}e.a(o)}}}if(df(t),r)return Pl(t,n),Xr();if(!n.credential)throw Error("No credential found!");if(!(r=nf(t).currentUser||n.user))throw Error("User not logged in.");r=new no(r.email,r.displayName,r.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=os(es,of(t))&&!os(es,of(t))||function(t,e){var n=hs(e),r=H(n,(function(e){return e.a==t.a&&(e.g||null)==(t.g||null)}));-1<r&&q(n,r),n.unshift(t),as(ns,U(n,(function(t){return t.ba()})),e)}(r,of(t)),ss(es,of(t));try{var o=function(t,e){return bf(t),lf(t,(function(n){if(t.j&&!t.j.isAnonymous&&Fs(mf(t))&&!nf(t).currentUser)return vf(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return vf(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return yf(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return vf(t).then((function(){return rf(t).updateCurrentUser(e.user)})).then((function(){return e.user=rf(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(t){return Zi(t.code||t.message,t),e.a(t.code||t.message),Xr()}return n=o.then((function(e){Pl(t,e)}),i).then(void 0,i),ff(t,o),Xr(n)}function Pl(t,e){if(!e.user)throw Error("No user found");var n=oa(mf(t));if(ia(mf(t))&&n&&eo("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=oa(mf(t));var r=cs(of(t))||void 0;ss(ts,of(t));var i=!1;ui()?(n&&!n(e,r)||(i=!0,window.opener.location.assign(Me(ke(Ll(t,r))))),n||window.close()):n&&!n(e,r)||(i=!0,ci(Ll(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=ia(mf(t)),i=cs(of(t))||void 0,ss(ts,of(t));var o=!1;ui()?(r&&!r(n,e,i)||(o=!0,window.opener.location.assign(Me(ke(Ll(t,i))))),r||window.close()):r&&!r(n,e,i)||(o=!0,ci(Ll(t,i))),o||t.reset()}}function Ll(t,e){if(!(t=e||mf(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function Nl(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Bn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Bn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Rn();break;case"auth/invalid-verification-code":n+=mn("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=mn(n).toString())return e;try{return JSON.parse(t.message),Zi("Internal error: "+t.message,void 0),Ln().toString()}catch(e){return t.message}}function Dl(t,e,n,i){function o(){bs(new ho(t.a.tenantId||null),of(t)),ff(t,e.I(T(t.cc,t),[u],(function(){if("file:"===(window.location&&window.location.protocol))return ff(t,Jh(t).then((function(n){e.o(),ss(Qo,of(t)),Oa("callback",t,c,Xr(n))}),s))}),a))}function s(n){if(ss(Qo,of(t)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":o();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(Nl(n));break;default:e.o(),Oa("callback",t,c,Zr(n))}}function a(n){ss(Qo,of(t)),n.name&&"cancel"==n.name||(Zi("signInWithRedirect: "+n.code,void 0),n=Nl(n),"blank"==e.Ha&&ea(mf(t))?(e.o(),Oa("providerSignIn",t,c,n)):e.a(n))}var c=fu(e),u=function(t,e,n){var i=Ns[e]&&r.auth[Ns[e]]?new r.auth[Ns[e]]:0==e.indexOf("saml.")?new r.auth.SAMLAuthProvider(e):new r.auth.OAuthProvider(e);if(!i)throw Error("Invalid Firebase Auth provider!");var o=Ws(mf(t),e);if(i.addScope)for(var s=0;s<o.length;s++)i.addScope(o[s]);return o=Ks(mf(t),e)||{},n&&((t=e==r.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==r.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=Gs(mf(t),e))&&t.Nb)&&(o[t]=n)),i.setCustomParameters&&i.setCustomParameters(o),i}(t,n,i);na(mf(t))==ga?o():ff(t,function(t,e){return bf(t),lf(t,(function(n){return n&&!fs(of(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return yf(t,e)})):nf(t).signInWithPopup(e)}))}(t,u).then((function(n){e.o(),Oa("callback",t,c,Xr(n))}),s))}function Bl(t){return 1==(t=Hs(mf(t))).length&&t[0]==r.auth.EmailAuthProvider.PROVIDER_ID}function $l(t){return 1==(t=Hs(mf(t))).length&&t[0]==r.auth.PhoneAuthProvider.PROVIDER_ID}function Fl(t,e,n,r){Bl(t)?r?Oa("signIn",t,e,n,r):Gl(t,e,n):t&&$l(t)&&!r?Oa("phoneSignInStart",t,e):t&&ea(mf(t))&&!r?Oa("federatedRedirect",t,e,n):Oa("providerSignIn",t,e,r,n)}function Ul(t,e,n,r){var i=fu(e);ff(t,e.I(T(nf(t).fetchSignInMethodsForEmail,nf(t)),[n],(function(o){ls(ca(mf(t))==da,of(t)),e.o(),zl(t,i,o,n,void 0,r)}),(function(t){t=Nl(t),e.a(t)})))}function zl(t,e,n,i,o,s,a){n.length||ta(mf(t))?!n.length&&ta(mf(t))?Oa("sendEmailLinkForSignIn",t,e,i,(function(){Oa("signIn",t,e)})):G(n,r.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Oa("passwordSignIn",t,e,i,a):1==n.length&&n[0]===r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ta(mf(t))?Oa("sendEmailLinkForSignIn",t,e,i,(function(){Oa("signIn",t,e)})):Oa("unsupportedProvider",t,e,i):(n=Ps(n,Hs(mf(t))))?(ps(new uo(i),of(t)),Oa("federatedSignIn",t,e,i,n,s)):Oa("unsupportedProvider",t,e,i):Oa("passwordSignUp",t,e,i,o,void 0,a)}function Hl(t,e,n,r,i,o){var s=fu(e);ff(t,e.I(T(t.Hb,t),[n,o],(function(){e.o(),Oa("emailLinkSignInSent",t,s,n,r,o)}),i))}function Gl(t,e,n){ca(mf(t))==da?Al((function(){Ea?kl(t,(function(){bs(new ho(t.a.tenantId||null),of(t)),Ma((function(r){ss(Qo,of(t)),Il(t,r?"empty":"unavailable",(function(){n?Oa("prefilledEmailSignIn",t,e,n):Oa("signIn",t,e)}))}),hs(of(t)),Bs(mf(t)))})):(bf(t),Cl(ef,e,!1,Bs(mf(t))))}),!1):(Ml=!1,kl(t,(function(){Il(t,"unavailable",(function(){n?Oa("prefilledEmailSignIn",t,e,n):Oa("signIn",t,e)}))})))}function Vl(){return xt(fi(),"oobCode")}function ql(){var t=xt(fi(),"continueUrl");return t?function(){ci(t)}:null}function Wl(t,e){var n=hi(e,"Could not find the FirebaseUI widget element on the page.");switch(e=function(t){var e=fi();return(e=xt(e,t=ws(mf(t).a,"queryParameterForSignInSuccessUrl")))?Me(ke(e)):null}(t),function(t){var e=fi();for(var n in e=xt(e,t=Xs(mf(t)))||"",ya)if(ya[n].toLowerCase()==e.toLowerCase())return ya[n];return"callback"}(t)){case"callback":e&&us(e,of(t)),t.ob()?Oa("callback",t,n):Fl(t,n,sf(t));break;case"resetPassword":Oa("passwordReset",t,n,Vl(),ql());break;case"recoverEmail":Oa("emailChangeRevocation",t,n,Vl());break;case"revertSecondFactorAddition":Oa("revertSecondFactorAddition",t,n,Vl());break;case"verifyEmail":Oa("emailVerification",t,n,Vl(),ql());break;case"verifyAndChangeEmail":Oa("verifyAndChangeEmail",t,n,Vl(),ql());break;case"signIn":Oa("emailLinkSignInCallback",t,n,fi()),gf();break;case"select":if(e&&us(e,of(t)),Ea){Fl(t,n);break}return void Al((function(){bf(t),Cl(ef,n,!0)}),!0);default:throw Error("Unhandled widget operation.")}(e=ra(mf(t)))&&e()}function Kl(t,e){hu.call(this,Mu,void 0,e,"anonymousUserMismatch"),this.i=t}function Yl(t){hu.call(this,wu,void 0,t,"callback")}function Xl(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=fs(of(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=fu(e);ff(t,vf(t).then((function(){e.o(),Oa("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=Nl(t.code),e.a(t))})))}(t,e,r);else{var s=i&&i.a;s?ff(t,n.user.linkWithCredential(s).then((function(n){r={user:n.user,credential:s,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},Zl(t,e,r)}),(function(n){Jl(t,e,n)}))):Zl(t,e,r)}}else n=fu(e),e.o(),ds(of(t)),Fl(t,n)}function Zl(t,e,n){ds(of(t)),Rl(t,e,n)}function Jl(t,e,n){var r=fu(e);ds(of(t)),n=Nl(n),e.o(),Fl(t,r,void 0,n)}function Ql(t,e,n,i){var o=fu(e);ff(t,nf(t).fetchSignInMethodsForEmail(n).then((function(s){e.o(),s.length?G(s,r.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?Oa("passwordLinking",t,o,n):1==s.length&&s[0]===r.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Oa("emailLinkSignInLinking",t,o,n):(s=Ps(s,Hs(mf(t))))?Oa("federatedLinking",t,o,n,s,i):(ds(of(t)),Oa("unsupportedProvider",t,o,n)):(ds(of(t)),Oa("passwordRecovery",t,o,n,!1,Nn().toString()))}),(function(n){Jl(t,e,n)})))}function th(t,e){hu.call(this,ju,void 0,e,"differentDeviceError"),this.i=t}function eh(t,e,n,r){hu.call(this,Nu,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function nh(){return jc(this,"firebaseui-id-new-password")}function rh(){return jc(this,"firebaseui-id-password-toggle")}function ih(){this.Sa=!this.Sa;var t=rh.call(this),e=nh.call(this);this.Sa?(e.type="text",Ga(t,"firebaseui-input-toggle-off"),Va(t,"firebaseui-input-toggle-on")):(e.type="password",Ga(t,"firebaseui-input-toggle-on"),Va(t,"firebaseui-input-toggle-off")),e.focus()}function oh(){return jc(this,"firebaseui-id-new-password-error")}function sh(){this.Sa=!1;var t=nh.call(this);t.type="password";var e=oh.call(this);kc(this,t,(function(){Lc(e)&&(Ac(t,!0),Rc(e))}));var n=rh.call(this);Ga(n,"firebaseui-input-toggle-on"),Va(n,"firebaseui-input-toggle-off"),function(t,e,n){Gn(t,A(Vn,e=new ec(e))),sc(Mc(t),e,"focusin",n)}(this,t,(function(){Ga(n,"firebaseui-input-toggle-focus"),Va(n,"firebaseui-input-toggle-blur")})),function(t,e,n){Gn(t,A(Vn,e=new ec(e))),sc(Mc(t),e,"focusout",n)}(this,t,(function(){Ga(n,"firebaseui-input-toggle-blur"),Va(n,"firebaseui-input-toggle-focus")})),Cc(this,n,T(ih,this))}function ah(){var t=nh.call(this),e=oh.call(this);return qa(t)?(Ac(t,!0),Rc(e),e=!0):(Ac(t,!1),Pc(e,mn("Enter your password").toString()),e=!1),e?qa(t):null}function ch(t,e,n){hu.call(this,Ru,{email:t},n,"passwordReset"),this.l=e}function uh(t,e,n,r,i){hu.call(this,zu,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function lh(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=Nl(r),Ac(n.i(),!1),Pc(n.w(),t),n.i().focus()):(n&&n.o(),(n=new Ol).render(e),Qh(t,n))}function hh(t,e){try{var n="number"==typeof t.selectionStart}catch(t){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):re&&!be("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function fh(t,e,n,r,i,o){hu.call(this,Su,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function dh(t,e,n,r,i){hu.call(this,ku,{ha:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function ph(t){hu.call(this,xu,void 0,t,"blank")}function mh(t,e,n,i,o){var s=new ph,a=new Gt(n),c=a.a.a.get(Kt.ab)||"",u=a.a.a.get(Kt.Ta)||"",l="1"===a.a.a.get(Kt.Ra),h=Vt(a),f=a.a.a.get(Kt.PROVIDER_ID)||null;a=a.a.a.get(Kt.wb)||null,pf(t,a);var d=!os(rs,of(t)),p=i||function(t,e){var n=null;if(e=os(rs,e))try{var r=Po(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(t){}return n}(u,of(t)),m=(i=function(t,e){var n=null;if(e=os(is,e))try{var r=Po(t,e);n=JSON.parse(r)}catch(t){}return lo(n||null)}(u,of(t)))&&i.a;f&&m&&m.providerId!==f&&(m=null),s.render(e),Qh(t,s),ff(t,s.I((function(){var e=Xr(null);e=h&&d||d&&l?Zr(Error("anonymous-user-not-found")):function(t,e){var n=Vt(new Gt(e));return n?(e=new Hr((function(e,r){var i=rf(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):t&&t.isAnonymous&&t.uid!==n?r(Error("anonymous-user-mismatch")):r(Error("anonymous-user-not-found"))}));ff(t,i)})),ff(t,e),e):Xr(null)}(t,n).then((function(t){if(f&&!m)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,o?null:nf(t).checkActionCode(c)})).then((function(){return r}))}),[],(function(i){p?function(t,e,n,i,o,s){var a=fu(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Signing in...").toString());var c=null;o=(s?function(t,e,n,i,o){bf(t);var s=o||null,a=r.auth.EmailAuthProvider.credentialWithLink(n,i);return n=s?nf(t).signInWithEmailLink(n,i).then((function(t){return t.user.linkWithCredential(s)})).then((function(){return vf(t)})).then((function(){return yf(t,{code:"auth/email-already-in-use"},s)})):nf(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?yf(t,{code:"auth/email-already-in-use"},a):e.linkWithCredential(a)})),ff(t,n),n}(t,s,n,i,o):function(t,e,n,r){bf(t);var i,o=r||null;return e=nf(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){vf(t)})).then((function(){return rf(t).updateCurrentUser(i.user)})).then((function(){return i.user=rf(t).currentUser,i})),ff(t,e),e}(t,n,i,o)).then((function(n){ss(is,of(t)),ss(rs,of(t)),e.h(),e.$("firebaseui-icon-done",mn("Signed in!").toString()),c=setTimeout((function(){e.h(),Rl(t,e,n,!0)}),1e3),ff(t,(function(){e&&(e.h(),e.o()),clearTimeout(c)}))}),(function(r){if(e.h(),e.o(),!r.name||"cancel"!=r.name){var o=Nl(r);"auth/email-already-in-use"==r.code||"auth/credential-already-in-use"==r.code?(ss(is,of(t)),ss(rs,of(t))):"auth/invalid-email"==r.code?(o=mn("The email provided does not match the current sign-in session.").toString(),Oa("emailLinkConfirmation",t,a,i,bh,null,o)):Fl(t,a,n,o)}})),ff(t,o)}(t,s,p,n,m,i):l?(s.o(),Oa("differentDeviceError",t,e)):(s.o(),Oa("emailLinkConfirmation",t,e,n,bh))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(s.o(),r&&r.message){case"anonymous-user-not-found":Oa("differentDeviceError",t,e);break;case"anonymous-user-mismatch":Oa("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":Oa("emailLinkNewDeviceLinking",t,e,n,gh);break;default:r&&(i=Nl(r)),Fl(t,e,void 0,i)}})))}function bh(t,e,n,r){mh(t,e,r,n,!0)}function gh(t,e,n){mh(t,e,n)}function vh(t,e,n,r,i,o){hu.call(this,Au,{email:t,ha:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function yh(t,e,n,r,i,o){hu.call(this,Ou,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function wh(t,e,n,r,i,o,s){hu.call(this,qu,{ic:t,Pb:e},s,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function _h(t,e,n,r,i){hu.call(this,Eu,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function xh(t,e,n,r,i,o){hu.call(this,Iu,{email:t,ha:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function Oh(t,e,n,r,i,o){hu.call(this,vu,{email:n,Ua:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function Eh(){return jc(this,"firebaseui-id-name")}function Sh(){return jc(this,"firebaseui-id-name-error")}function jh(t,e,n,r,i,o,s,a,c){hu.call(this,gu,{email:r,Sb:t,name:i,Ua:!!n,ja:!!a},c,"passwordSignUp",{F:o,D:s}),this.w=e,this.H=n,this.B=t}function Mh(t,e){var n=Qs(mf(t)),i=e.j(),o=null;n&&(o=e.M());var s=e.P();if(i){if(n){if(!o)return void e.u().focus();o=at(o)}if(s){var a=r.auth.EmailAuthProvider.credential(i,s);ff(t,e.I(T(t.Xb,t),[i,s],(function(r){var i={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:o}).then((function(){return Rl(t,e,i)})),ff(t,r),r):Rl(t,e,i)}),(function(n){if(!n.name||"cancel"!=n.name){var r=Nl(n);switch(n.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=Nl(r);Ac(e.i(),!1),Pc(e.U(),t),e.i().focus()}var o=nf(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=fu(e),e.o(),Oa("passwordRecovery",t,r,n,!1,Nn().toString()))}),(function(){i()}));return ff(t,o),o}(t,e,i,n);case"auth/too-many-requests":r=mn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ac(e.l(),!1),Pc(e.ca(),r);break;default:Zi(n="setAccountInfo: "+No(n),void 0),e.a(r)}}})))}else e.l().focus()}else e.i().focus()}function Th(){return jc(this,"firebaseui-id-phone-confirmation-code")}function Ah(){return jc(this,"firebaseui-id-phone-confirmation-code-error")}function kh(){return jc(this,"firebaseui-id-resend-countdown")}function Ih(t,e,n,r,i,o,s,a,c){hu.call(this,Yu,{phoneNumber:i},c,"phoneSignInFinish",{F:s,D:a}),this.kb=o,this.i=new nc(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}c(Kl,hu),Kl.prototype.v=function(){var t=this;Cc(this,this.l(),(function(){t.i()})),this.l().focus(),hu.prototype.v.call(this)},Kl.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(Kl.prototype,{l:tl}),xa.anonymousUserMismatch=function(t,e){var n=new Kl((function(){n.o(),Fl(t,e)}));n.render(e),Qh(t,n)},c(Yl,hu),Yl.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},xa.callback=function(t,e,n){var r=new Yl;r.render(e),Qh(t,r),e=n||Jh(t),ff(t,e.then((function(e){Xl(t,r,e)}),(function(e){if(e&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)ps(new uo(e.email,e.credential),of(t)),Ql(t,r,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=fs(of(t)),i=Nl(e);n&&n.a?Ql(t,r,n.g,i):n?Ul(t,r,n.g,i):Jl(t,r,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&Bl(t)?Xl(t,r,{user:null,credential:null}):Jl(t,r,e))})))},c(th,hu),th.prototype.v=function(){var t=this;Cc(this,this.l(),(function(){t.i()})),this.l().focus(),hu.prototype.v.call(this)},th.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(th.prototype,{l:tl}),xa.differentDeviceError=function(t,e){var n=new th((function(){n.o(),Fl(t,e)}));n.render(e),Qh(t,n)},c(eh,hu),eh.prototype.v=function(){var t=this;Cc(this,jc(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),hu.prototype.v.call(this)},eh.prototype.m=function(){this.l=this.i=null,hu.prototype.m.call(this)},k(eh.prototype,{u:Qu,B:tl,w:el}),c(ch,hu),ch.prototype.v=function(){this.H(),this.B(this.l),pu(this,this.i(),this.l),this.i().focus(),hu.prototype.v.call(this)},ch.prototype.m=function(){this.l=null,hu.prototype.m.call(this)},k(ch.prototype,{i:nh,w:oh,M:rh,H:sh,u:ah,U:Qu,P:tl,B:el}),c(uh,hu),uh.prototype.v=function(){var t=this;Cc(this,jc(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),hu.prototype.v.call(this)},uh.prototype.m=function(){this.l=this.i=null,hu.prototype.m.call(this)},k(uh.prototype,{u:Qu,B:tl,w:el}),xa.passwordReset=function(t,e,n,r){ff(t,nf(t).verifyPasswordResetCode(n).then((function(i){var o=new ch(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&ff(t,n.I(T(nf(t).confirmPasswordReset,nf(t)),[r,o],(function(){n.o();var r=new xl(i);r.render(e),Qh(t,r)}),(function(r){lh(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),Qh(t,o)}),(function(){lh(t,e)})))},xa.emailChangeRevocation=function(t,e,n){var r=null;ff(t,nf(t).checkActionCode(n).then((function(e){return r=e.data.email,nf(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new eh(n,(function(){ff(t,r.I(T(nf(t).sendPasswordResetEmail,nf(t)),[n],(function(){r.o(),(r=new ml(n,void 0,Zs(mf(t)),Js(mf(t)))).render(e),Qh(t,r)}),(function(){r.a(Pn().toString())})))}));r.render(e),Qh(t,r)}(t,e,r)}),(function(){var n=new El;n.render(e),Qh(t,n)})))},xa.emailVerification=function(t,e,n,r){ff(t,nf(t).applyActionCode(n).then((function(){var n=new bl(r);n.render(e),Qh(t,n)}),(function(){var n=new gl;n.render(e),Qh(t,n)})))},xa.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;ff(t,nf(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,nf(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new uh(r.factorId,(function(){i.I(T(nf(t).sendPasswordResetEmail,nf(t)),[n],(function(){i.o(),(i=new ml(n,void 0,Zs(mf(t)),Js(mf(t)))).render(e),Qh(t,i)}),(function(){i.a(Pn().toString())}))}),r.phoneNumber);i.render(e),Qh(t,i)}(t,e,r,i)}),(function(){var n=new wl;n.render(e),Qh(t,n)})))},xa.verifyAndChangeEmail=function(t,e,n,r){var i=null;ff(t,nf(t).checkActionCode(n).then((function(e){return i=e.data.email,nf(t).applyActionCode(n)})).then((function(){var n=new vl(i,r);n.render(e),Qh(t,n)}),(function(){var n=new yl;n.render(e),Qh(t,n)})))},c(fh,hu),fh.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),hh(this.i(),(this.i().value||"").length),hu.prototype.v.call(this)},fh.prototype.m=function(){this.u=this.l=null,hu.prototype.m.call(this)},k(fh.prototype,{i:cl,M:ul,w:ll,H:hl,j:fl,U:Qu,P:tl,B:el}),xa.emailLinkConfirmation=function(t,e,n,r,i,o){var s=new fh((function(){var i=s.j();i?(s.o(),r(t,e,i,n)):s.i().focus()}),(function(){s.o(),Fl(t,e,i||void 0)}),i||void 0,Zs(mf(t)),Js(mf(t)));s.render(e),Qh(t,s),o&&s.a(o)},c(dh,hu),dh.prototype.v=function(){this.u(this.i),this.l().focus(),hu.prototype.v.call(this)},dh.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(dh.prototype,{l:Qu,u:el}),xa.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new Gt(n);if(n=i.a.a.get(Kt.PROVIDER_ID)||null,qt(i,null),n){var o=new dh(Gs(mf(t),n),(function(){o.o(),r(t,e,i.toString())}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o)}else Fl(t,e)},c(ph,hu),xa.emailLinkSignInCallback=mh,c(vh,hu),vh.prototype.v=function(){this.u(this.i),this.l().focus(),hu.prototype.v.call(this)},vh.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(vh.prototype,{l:Qu,u:el}),xa.emailLinkSignInLinking=function(t,e,n){var r=fs(of(t));if(ds(of(t)),r){var i=r.a.providerId,o=new vh(n,Gs(mf(t),i),(function(){!function(t,e,n,r){var i=fu(e);Hl(t,e,n,(function(){Fl(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=Nl(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.o(),Fl(t,i,n,o))}}),r)}(t,o,n,r)}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o)}else Fl(t,e)},c(yh,hu),yh.prototype.v=function(){var t=this;Cc(this,this.l(),(function(){t.i()})),Cc(this,jc(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),hu.prototype.v.call(this)},yh.prototype.m=function(){this.i=this.u=null,hu.prototype.m.call(this)},k(yh.prototype,{l:tl}),xa.emailLinkSignInSent=function(t,e,n,r,i){var o=new yh(n,(function(){o.o(),Oa("emailNotReceived",t,e,n,r,i)}),(function(){o.o(),r()}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o)},c(wh,hu),wh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),hu.prototype.v.call(this)},wh.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(wh.prototype,{u:Qu,B:tl,w:el}),xa.emailMismatch=function(t,e,n){var r=fs(of(t));if(r){var i=new wh(n.user.email,r.g,(function(){var e=i;ds(of(t)),Rl(t,e,n)}),(function(){var e=n.credential.providerId,o=fu(i);i.o(),r.a?Oa("federatedLinking",t,o,r.g,e):Oa("federatedSignIn",t,o,r.g,e)}),Zs(mf(t)),Js(mf(t)));i.render(e),Qh(t,i)}else Fl(t,e)},c(_h,hu),_h.prototype.v=function(){var t=this;Cc(this,this.u(),(function(){t.i()})),Cc(this,this.Ea(),(function(){t.l()})),this.u().focus(),hu.prototype.v.call(this)},_h.prototype.Ea=function(){return jc(this,"firebaseui-id-resend-email-link")},_h.prototype.m=function(){this.i=this.l=null,hu.prototype.m.call(this)},k(_h.prototype,{u:tl}),xa.emailNotReceived=function(t,e,n,r,i){var o=new _h((function(){Hl(t,o,n,r,(function(t){t=Nl(t),o.a(t)}),i)}),(function(){o.o(),Fl(t,e,n)}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o)},c(xh,hu),xh.prototype.v=function(){this.u(this.i),this.l().focus(),hu.prototype.v.call(this)},xh.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(xh.prototype,{l:Qu,u:el}),xa.federatedLinking=function(t,e,n,r,i){var o=fs(of(t));if(o&&o.a){var s=new xh(n,Gs(mf(t),r),(function(){Dl(t,s,r,n)}),Zs(mf(t)),Js(mf(t)));s.render(e),Qh(t,s),i&&s.a(i)}else Fl(t,e)},xa.federatedRedirect=function(t,e,n){var r=new ph;r.render(e),Qh(t,r),Dl(t,r,e=Hs(mf(t))[0],n)},xa.federatedSignIn=function(t,e,n,r,i){var o=new xh(n,Gs(mf(t),r),(function(){Dl(t,o,r,n)}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o),i&&o.a(i)},xa.passwordLinking=function(t,e,n){var r=fs(of(t));ds(of(t));var i=r&&r.a;if(i){var o=new sl(n,(function(){!function(t,e,n,r){var i=e.u();i?ff(t,e.I(T(t.Wb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return Rl(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),ff(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":Ac(e.i(),!1),Pc(e.B(),Nl(t));break;case"auth/too-many-requests":e.a(Nl(t));break;default:Zi("signInWithEmailAndPassword: "+t.message,void 0),e.a(Nl(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.o(),Oa("passwordRecovery",t,e,n)}),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o)}else Fl(t,e)},c(Oh,hu),Oh.prototype.v=function(){this.B(),this.H(this.l,this.u),qa(this.i())||this.i().focus(),pu(this,this.i(),this.l),hu.prototype.v.call(this)},Oh.prototype.m=function(){this.u=this.l=null,hu.prototype.m.call(this)},k(Oh.prototype,{i:cl,w:ul,B:ll,M:hl,j:fl,U:Qu,P:tl,H:el}),xa.passwordRecovery=function(t,e,n,r,i){var o=new Oh((function(){!function(t,e){var n=e.j();if(n){var r=fu(e);ff(t,e.I(T(nf(t).sendPasswordResetEmail,nf(t)),[n],(function(){e.o();var i=new ml(n,(function(){i.o(),Fl(t,r)}),Zs(mf(t)),Js(mf(t)));i.render(r),Qh(t,i)}),(function(t){Ac(e.i(),!1),Pc(e.w(),Nl(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.o(),Fl(t,e)},n,Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o),i&&o.a(i)},xa.passwordSignIn=function(t,e,n,i){var o=new dl((function(){!function(t,e){var n=e.j(),i=e.u();if(n)if(i){var o=r.auth.EmailAuthProvider.credential(n,i);ff(t,e.I(T(t.ac,t),[n,i],(function(n){return Rl(t,e,{user:n.user,credential:o,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ac(e.l(),!1),Pc(e.U(),Nl(t));break;case"auth/too-many-requests":case"auth/wrong-password":Ac(e.i(),!1),Pc(e.B(),Nl(t));break;default:Zi("verifyPassword: "+t.message,void 0),e.a(Nl(t))}})))}else e.i().focus();else e.l().focus()}(t,o)}),(function(){var n=o.M();o.o(),Oa("passwordRecovery",t,e,n)}),n,Zs(mf(t)),Js(mf(t)),i);o.render(e),Qh(t,o)},c(jh,hu),jh.prototype.v=function(){this.fa(),this.B&&this.Ka(),this.wa(),this.qa(this.w,this.H),this.B?(du(this,this.i(),this.u()),du(this,this.u(),this.l())):du(this,this.i(),this.l()),this.w&&pu(this,this.l(),this.w),qa(this.i())?this.B&&!qa(this.u())?this.u().focus():this.l().focus():this.i().focus(),hu.prototype.v.call(this)},jh.prototype.m=function(){this.H=this.w=null,hu.prototype.m.call(this)},k(jh.prototype,{i:cl,U:ul,fa:ll,kb:hl,j:fl,u:Eh,Ac:Sh,Ka:function(){var t=Eh.call(this),e=Sh.call(this);kc(this,t,(function(){Lc(e)&&(Ac(t,!0),Rc(e))}))},M:function(){var t=Eh.call(this),e=Sh.call(this),n=qa(t);return Ac(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Rc(e),e=!0):(Pc(e,mn("Enter your account name").toString()),e=!1),e?J(qa(t)):null},l:nh,ca:oh,mb:rh,wa:sh,P:ah,Mb:Qu,Lb:tl,qa:el}),xa.passwordSignUp=function(t,e,n,r,i,o){var s=new jh(Qs(mf(t)),(function(){Mh(t,s)}),i?void 0:function(){s.o(),Fl(t,e)},n,r,Zs(mf(t)),Js(mf(t)),o);s.render(e),Qh(t,s)},c(Ih,hu),Ih.prototype.v=function(){var t=this;this.U(this.kb),cr(this.i,"tick",this.w,!1,this),this.i.start(),Cc(this,jc(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),Cc(this,this.Ea(),(function(){t.M()})),this.Ka(this.l),this.fa(this.l,this.H),this.u().focus(),hu.prototype.v.call(this)},Ih.prototype.m=function(){this.M=this.H=this.l=this.P=null,rc(this.i),hr(this.i,"tick",this.w),this.i=null,hu.prototype.m.call(this)},Ih.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(rc(this.i),hr(this.i,"tick",this.w),this.wa(),this.mb())},k(Ih.prototype,{u:Th,qa:Ah,Ka:function(t){var e=Th.call(this),n=Ah.call(this);kc(this,e,(function(){Lc(n)&&(Ac(e,!0),Rc(n))})),t&&Ic(this,e,(function(){t()}))},ca:function(){var t=J(qa(Th.call(this))||"");return/^\d{6}$/.test(t)?t:null},Eb:kh,U:function(t){Qe(kh.call(this),mn("Resend code in "+(9<t?"0:":"0:0")+t).toString())},wa:function(){Rc(this.Eb())},Ea:function(){return jc(this,"firebaseui-id-resend-link")},mb:function(){Pc(this.Ea())},Mb:Qu,Lb:tl,fa:el}),xa.phoneSignInFinish=function(t,e,n,r,i,o){var s=new Ih((function(){s.o(),Oa("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),Ac(e.u(),!1),Pc(e.qa(),t)}var o=e.ca();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Verifying...").toString()),ff(t,e.I(T(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",mn("Verified!").toString());var r=setTimeout((function(){e.h(),e.o();var r={user:rf(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Rl(t,e,r,!0)}),1e3);ff(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=Nl(r);switch(r.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":r=fu(e),e.h(),e.o(),Oa("phoneSignInStart",t,r,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(o);break;default:e.h(),e.a(o)}}})))):i(mn("Wrong code. Try again.").toString())}(t,s,n,i)}),(function(){s.o(),Fl(t,e)}),(function(){s.o(),Oa("phoneSignInStart",t,e,n)}),Rs(n),r,Zs(mf(t)),Js(mf(t)));s.render(e),Qh(t,s),o&&s.a(o)};var Ch=!(re||Zt("Safari")&&!(Jt()||Zt("Coast")||Zt("Opera")||Zt("Edge")||Zt("Firefox")||Zt("FxiOS")||Zt("Silk")||Zt("Android")));function Rh(t,e){return/-[a-z]/.test(e)?null:Ch&&t.dataset?!Zt("Android")||Jt()||Zt("Firefox")||Zt("FxiOS")||Zt("Opera")||Zt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ph(t,e,n){var r=this;t=cn(Xc,{items:t},null,this.s),ru.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Rh(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||Xe(document))||Xe(document),r=_c(t),i=_c(n);if(!re||9<=Number(pe)){s=yc(n,"borderLeftWidth");var o=yc(n,"borderRightWidth");a=yc(n,"borderTopWidth"),c=yc(n,"borderBottomWidth"),o=new vc(parseFloat(a),parseFloat(o),parseFloat(c),parseFloat(s))}else{var s=Oc(n,"borderLeft");o=Oc(n,"borderRight");var a=Oc(n,"borderTop"),c=Oc(n,"borderBottom");o=new vc(a,o,c,s)}n==Xe(document)?(s=r.a-n.scrollLeft,r=r.g-n.scrollTop,!re||10<=Number(pe)||(s+=o.left,r+=o.top)):(s=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,a=ae&&!i&&!o,d(i)&&!a||!t.getBoundingClientRect?t=new Ge(i,o):t=new Ge((t=wc(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,a=n.scrollTop,n=new He(o+=Math.min(s,Math.max(s-(n.clientWidth-t.width),0)),a+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),Cc(this,t,(function(t){(t=(t=tn(t.target,"firebaseui-id-list-box-dialog-button"))&&Rh(t,"listboxid"))&&(iu.call(r),e(t))}))}function Lh(){return jc(this,"firebaseui-id-phone-number")}function Nh(){return jc(this,"firebaseui-id-country-selector")}function Dh(){return jc(this,"firebaseui-id-phone-number-error")}function Bh(t,e){var n=t.a,r=$h("1-US-0",n),i=null;if(!(i=e&&$h(e,n)?e:r?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");zh.call(this,i,t)}function $h(t,e){return!(!(t=Ss(t))||!G(e,t))}function Fh(t){return"firebaseui-flag-"+t.f}function Uh(t){var e=this;Ph.call(this,function(t){return U(t,(function(t){return{id:t.c,Na:"firebaseui-flag "+Fh(t),label:t.name+" +"+t.b}}))}(t.a),(function(n){zh.call(e,n,t,!0),e.O().focus()}),this.Da)}function zh(t,e,n){var r=Ss(t);r&&(n&&((e=Es(e,n=J(qa(Lh.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),Wa(Lh.call(this),n))),e=Ss(this.Da),this.Da=t,t=jc(this,"firebaseui-id-country-selector-flag"),e&&Va(t,Fh(e)),Ga(t,Fh(r)),Qe(jc(this,"firebaseui-id-country-selector-code"),"+"+r.b))}function Hh(t,e,n,r,i,o,s,a,c,u){hu.call(this,Ku,{Fb:e,Ca:c||null,Wa:!!n,ja:!!o},u,"phoneSignInStart",{F:r,D:i}),this.H=a||null,this.M=e,this.l=t,this.w=n||null,this.qa=s||null}function Gh(t,e,n,r){try{var i=e.U(ha)}catch(t){return}i?ua?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",mn("Verifying...").toString()),ff(t,e.I(T(t.bc,t),[Rs(i),n],(function(n){var r=fu(e);e.$("firebaseui-icon-done",mn("Code sent!").toString());var o=setTimeout((function(){e.h(),e.o(),Oa("phoneSignInFinish",t,r,i,15,n)}),1e3);ff(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(fa),ua=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=mn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void Pc(e.B(),Rn().toString());default:n=Nl(t)}e.a(n)}})))):la?Pc(e.u(),mn("Solve the reCAPTCHA").toString()):!la&&r&&e.i().click():(e.O().focus(),Pc(e.B(),Rn().toString()))}function Vh(t,e,n,r,i){hu.call(this,Wu,{Rb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function qh(t,e,n,r,i,o,s){hu.call(this,mu,{email:n,Wa:!!e,ja:!!o},s,"signIn",{F:r,D:i}),this.i=t,this.u=e}function Wh(t,e,n,r,i,o){hu.call(this,Cu,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function Kh(t,e){this.$=!1;var n=Zh(e);if(Xh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');Xh[n]=this,this.g=t,this.u=null,this.Y=!1,Yh(this.g),this.a=r.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),Yh(this.a),this.a.setPersistence&&this.a.setPersistence(r.auth.Auth.Persistence.SESSION),this.pa=e,this.da=new Ds,this.h=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=ki.Ya(),this.j=this.C=null,this.ea=this.A=!1}function Yh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}c(Hh,hu),Hh.prototype.v=function(){this.fa(this.qa,this.H),this.P(this.l,this.w||void 0),this.M||du(this,this.O(),this.i()),pu(this,this.i(),this.l),this.O().focus(),hh(this.O(),(this.O().value||"").length),hu.prototype.v.call(this)},Hh.prototype.m=function(){this.w=this.l=null,hu.prototype.m.call(this)},k(Hh.prototype,{Cb:ou,O:Lh,B:Dh,fa:function(t,e,n){var r=this,i=Lh.call(this),o=Nh.call(this),s=Dh.call(this),a=t||ks,c=a.a;if(0==c.length)throw Error("No available countries provided.");Bh.call(r,a,e),Cc(this,o,(function(){Uh.call(r,a)})),kc(this,i,(function(){Lc(s)&&(Ac(i,!0),Rc(s));var t=J(qa(i)||""),e=Ss(this.Da),n=Es(a,t);t=$h("1-US-0",c),n.length&&n[0].b!=e.b&&(e=n[0],zh.call(r,"1"==e.b&&t?"1-US-0":e.c,a))})),n&&Ic(this,i,(function(){n()}))},U:function(t){var e=J(qa(Lh.call(this))||""),n=(t=t||ks).a,r=Es(ks,e);if(r.length&&!G(n,r[0]))throw Wa(Lh.call(this)),Lh.call(this).focus(),Pc(Dh.call(this),mn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=Ss(this.Da),r.length&&r[0].b!=n.b&&zh.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new Is(this.Da,e):null},Ka:Nh,ca:function(){return jc(this,"firebaseui-recaptcha-container")},u:function(){return jc(this,"firebaseui-id-recaptcha-error")},i:Qu,wa:tl,P:el}),xa.phoneSignInStart=function(t,e,n,i){var o=function(t){var e=null;if($(Us(t),(function(t){t.provider==r.auth.PhoneAuthProvider.PROVIDER_ID&&O(t.recaptchaParameters)&&!w(t.recaptchaParameters)&&(e=ut(t.recaptchaParameters))})),e){var n=[];$(_a,(function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&eo('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(mf(t))||{};ua=null,la=!(o&&"invisible"===o.size);var s=$l(t),a=function(t){var e=(t=zs(t,r.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&js(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=Cs(t.loginHint)),e&&e[0]||n&&Ss(n.a)||null}(mf(t)),c=s?function(t){var e=null;return(t=zs(t,r.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=Cs(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Ca||null}(mf(t)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Ca||c,(c=Ys(mf(t)))&&Ts(c),ha=c?new Os(Ys(mf(t))):ks;var u=new Hh((function(e){Gh(t,u,l,!(!e||!e.keyCode))}),la,s?null:function(){l.clear(),u.o(),Fl(t,e)},Zs(mf(t)),Js(mf(t)),s,ha,a,n);u.render(e),Qh(t,u),i&&u.a(i),o.callback=function(e){u.u()&&Rc(u.u()),ua=e,la||Gh(t,u,l)},o["expired-callback"]=function(){ua=null};var l=new r.auth.RecaptchaVerifier(la?u.ca():u.i(),o,rf(t).app);ff(t,u.I(T(l.render,l),[],(function(t){fa=t}),(function(n){n.name&&"cancel"==n.name||(n=Nl(n),u.o(),Fl(t,e,void 0,n))})))},xa.prefilledEmailSignIn=function(t,e,n){var r=new ph;r.render(e),Qh(t,r),ff(t,r.I(T(nf(t).fetchSignInMethodsForEmail,nf(t)),[n],(function(i){r.o();var o=!(!Bl(t)||!sf(t));zl(t,e,i,n,void 0,void 0,o)}),(function(i){i=Nl(i),r.o(),Oa("signIn",t,e,n,i)})))},c(Vh,hu),Vh.prototype.v=function(){this.l(this.i),hu.prototype.v.call(this)},Vh.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(Vh.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?qe("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Cc(this,i,A(e,Rh(i,"providerId")))}}}),xa.providerSignIn=function(t,e,n,i){var o=new Vh((function(n){n==r.auth.EmailAuthProvider.PROVIDER_ID?(o.o(),Gl(t,e,i)):n==r.auth.PhoneAuthProvider.PROVIDER_ID?(o.o(),Oa("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){ff(t,e.I(T(t.Zb,t),[],(function(n){return e.o(),Rl(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Zi("ContinueAsGuest: "+t.code,void 0),t=Nl(t),e.a(t))})))}(t,o):Dl(t,o,n,i),bf(t),t.l.cancel()}),Vs(mf(t)),Zs(mf(t)),Js(mf(t)));o.render(e),Qh(t,o),n&&o.a(n),function(t){bf(t);try{(function t(e,n,r){return e.a&&n?(e.h=!0,new Hr((function(t){e.g=t,e.a.initialize({client_id:n,callback:t,auto_select:!r}),e.a.prompt()}))):Xr(n?Ci.Ya().load().then((function(){return e.a=Ai(),t(e,n,r)})).ua((function(){return null})):null)})(t.l,qs(mf(t)),function(t){var e;return bf(t),(e=t.Z)||(t=Ks(t=mf(t),r.auth.GoogleAuthProvider.PROVIDER_ID),e=!(!t||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.h&&function(t,e,n){if(n&&n.credential&&n.clientId===qs(mf(t))){if(Ws(mf(t),r.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var i=JSON.parse(atob(n.credential.split(".")[1])).email}catch(o){}return Dl(t,e,r.auth.GoogleAuthProvider.PROVIDER_ID,i),Xr(!0)}return o=r.auth.GoogleAuthProvider.credential(n.credential),s=!1,o=e.I(T(t.$b,t),[o],(function(n){var r=fu(e);e.o(),Oa("callback",t,r,Xr(n)),s=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=fu(e);e.o(),Oa("callback",t,r,Zr(n))}else n=Nl(n),e.a(n)})),ff(t,o),o.then((function(){return s}),(function(){return!1}))}var o,s;return n&&e.a(mn("The selected credential for the authentication provider is not supported!").toString()),Xr(!1)}(t,t.h,e)}))}catch(t){}}(t)},xa.sendEmailLinkForSignIn=function(t,e,n,r){var i=new Yl;i.render(e),Qh(t,i),Hl(t,i,n,r,(function(r){i.o(),r=Nl(r),Oa("signIn",t,e,n,r)}))},c(qh,hu),qh.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),hh(this.l(),(this.l().value||"").length),hu.prototype.v.call(this)},qh.prototype.m=function(){this.u=this.i=null,hu.prototype.m.call(this)},k(qh.prototype,{l:cl,M:ul,w:ll,H:hl,j:fl,U:Qu,P:tl,B:el}),xa.signIn=function(t,e,n,r){var i=Bl(t),o=new qh((function(){var e=o,n=e.j()||"";n&&Ul(t,e,n)}),i&&ca(mf(t))!=da?null:function(){o.o(),Fl(t,e,n)},n,Zs(mf(t)),Js(mf(t)),i);o.render(e),Qh(t,o),r&&o.a(r)},c(Wh,hu),Wh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),hu.prototype.v.call(this)},Wh.prototype.m=function(){this.i=this.l=null,hu.prototype.m.call(this)},k(Wh.prototype,{u:Qu,B:tl,w:el}),xa.unsupportedProvider=function(t,e,n){var r=new Wh(n,(function(){r.o(),Oa("passwordRecovery",t,e,n)}),(function(){r.o(),Fl(t,e,n)}),Zs(mf(t)),Js(mf(t)));r.render(e),Qh(t,r)};var Xh={};function Zh(t){return t||"[DEFAULT]"}function Jh(t){return bf(t),t.i||(t.i=lf(t,(function(e){return e&&!fs(of(t))?Xr(rf(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return yf(t,e)}))):Xr(nf(t).getRedirectResult().then((function(e){return Fs(mf(t))&&!e.user&&t.j&&!t.j.isAnonymous?rf(t).getRedirectResult():e})))}))),t.i}function Qh(t,e){bf(t),t.h=e}var tf=null;function ef(){return tf}function nf(t){return bf(t),t.a}function rf(t){return bf(t),t.g}function of(t){return bf(t),t.pa}function sf(t){return bf(t),t.O?t.O.emailHint:void 0}function af(t){return"signIn"===((t=new Gt(t)).a.a.get(Kt.vb)||null)&&!!t.a.a.get(Kt.ab)}function cf(t,e,n,r){bf(t),void 0!==t.g.languageCode&&(t.u=t.g.languageCode);var i="en".replace(/_/g,"-");t.g.languageCode=i,t.a.languageCode=i,t.Y=!0,void 0!==t.g.tenantId&&(t.a.tenantId=t.g.tenantId),t.jb(n),t.O=r||null;var o=f.document;t.C?t.C.then((function(){"complete"==o.readyState?uf(t,e):lr(window,"load",(function(){uf(t,e)}))})):"complete"==o.readyState?uf(t,e):lr(window,"load",(function(){uf(t,e)}))}function uf(t,e){var n=hi(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),tf){var r=tf;bf(r),fs(of(r))&&eo("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),tf.reset()}tf=t,t.T=n,function(t,e){t.L=null,t.J=new Tr(e),t.J.register(),cr(t.J,"pageEnter",(function(e){if(e=e&&e.pageId,t.L!=e){var n=mf(t);(n=aa(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Go(new Vo)&&Go(new qo)?Wl(t,e):(e=hi(e,"Could not find the FirebaseUI widget element on the page."),(n=new jl(mn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),Qh(t,n)),e=t.h&&"blank"==t.h.Ha&&ea(mf(t)),ms(of(t))&&!e&&(pf(t,(e=ms(of(t))).a),ss(Qo,of(t)))}function lf(t,e){if(t.A)return e(hf(t));if(ff(t,(function(){t.A=!1})),Fs(mf(t))){var n=new Hr((function(n){ff(t,t.g.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(hf(t))))})))}));return ff(t,n),n}return t.A=!0,e(null)}function hf(t){return bf(t),Fs(mf(t))&&t.j&&t.j.isAnonymous?t.j:null}function ff(t,e){if(bf(t),e){t.s.push(e);var n=function(){W(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function df(t){void 0!==t.g.languageCode&&t.Y&&(t.Y=!1,t.g.languageCode=t.u)}function pf(t,e){t.g.tenantId=e,t.a.tenantId=e}function mf(t){return bf(t),t.da}function bf(t){if(t.$)throw Error("AuthUI instance is deleted!")}function gf(){var t=fi();if(af(t)){for(var e in t=new Gt(t),Kt)Kt.hasOwnProperty(e)&&Ft(t.a.a,Kt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"};var n=f.document.title;f.history&&f.history.replaceState&&f.history.replaceState(e,n,t.toString())}}function vf(t){return bf(t),nf(t).signOut()}function yf(t,e,n){if(bf(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=sa(mf(t));return Xr().then((function(){return r(new $n("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.h&&(t.h.o(),t.h=null),e}))}return Zr(e)}function wf(t,e,n,r){hu.call(this,Ju,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function _f(t,e,n,r,i){hu.call(this,Zu,{dc:e},i,"selectTenant",{F:n,D:r}),this.i=t}function xf(t){hu.call(this,_u,void 0,t,"spinner")}function Of(t){for(var e in this.a=new gs,vs(this.a,"authDomain"),vs(this.a,"displayMode",If),vs(this.a,"tenants"),vs(this.a,"callbacks"),vs(this.a,"tosUrl"),vs(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{ys(this.a,e,t[e])}catch(t){Zi('Invalid config: "'+e+'"',void 0)}}function Ef(t){return t.a.get("callbacks")||{}}function Sf(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&eo("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){li(e)}}return null}function jf(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&eo("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){li(n)}}return null}function Mf(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(Rf))throw Error("Invalid tenant configuration!")}function Tf(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[Rf]))return Zi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Zi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}function Af(t,e,n){return t=function(t,e){var n=kf,r=void 0===r?{}:r;return Mf(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[Rf],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return"string"==typeof t?n.includes(t):n.includes(t.provider)})),t.signInOptions=e),t}(e=Kh.prototype).ob=function(){return bf(this),!!ms(of(this))||af(fi())},e.start=function(t,e){cf(this,t,e)},e.Db=function(){bf(this),this.Z=!0},e.reset=function(){bf(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&jr(this.J),df(this),this.O=null,gf(),ss(Qo,of(this)),bf(this),this.l.cancel(),this.i=Xr({user:null,credential:null}),tf==this&&(tf=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],ds(of(this)),this.h&&(this.h.o(),this.h=null),this.L=null,this.a&&(this.C=vf(this).then((function(){t.C=null}),(function(){t.C=null})))},e.jb=function(t){bf(this);var e,n=this.da;for(e in t)try{ys(n.a,e,t[e])}catch(t){Zi('Invalid config: "'+e+'"',void 0)}ce&&ys(n.a,"popupMode",!1),Ys(n),!this.ea&&ia(mf(this))&&(eo("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.ea=!0)},e.Vb=function(){bf(this);var t=mf(this),e=ws(t.a,"widgetUrl"),n=$s(t,e);mf(this).a.get("popupMode")?(n=n||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||n.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=ai(n,t))&&t.focus()):ci(n)},e.Xa=function(){var t=this;return bf(this),this.a.app.delete().then((function(){var e=Zh(of(t));delete Xh[e],t.reset(),t.$=!0}))},e.Hb=function(t,e){bf(this);var n=this,i=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!ta(mf(this)))return Zr(Error("Email link sign-in should be enabled to trigger email sending."));var o=function(t){if(ta(t)){var e={url:fi(),handleCodeInApp:!0};return(t=zs(t,r.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&ht(e,t.emailLinkSignIn()),e.url=At(fi(),e.url).toString(),e}return null}(mf(this)),s=new Gt(o.url);return function(t,e){e?t.a.a.set(Kt.Ta,e):Ft(t.a.a,Kt.Ta)}(s,i),e&&e.a&&(function(t,e,n){as(is,Ro(t,JSON.stringify(e.ba())),n)}(i,e,of(this)),qt(s,e.a.providerId)),function(t,e){null!==e?t.a.a.set(Kt.Ra,e?"1":"0"):Ft(t.a.a,Kt.Ra)}(s,function(t){return!(!(t=zs(t,r.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(mf(this))),lf(this,(function(e){return e&&((e=e.uid)?s.a.a.set(Kt.Qa,e):Ft(s.a.a,Kt.Qa)),o.url=s.toString(),nf(n).sendSignInLinkToEmail(t,o)})).then((function(){var e=of(n),r={};r.email=t,as(rs,Ro(i,JSON.stringify(r)),e)}),(function(t){throw ss(is,of(n)),ss(rs,of(n)),t}))},e.ac=function(t,e){bf(this);var n=this;return nf(this).signInWithEmailAndPassword(t,e).then((function(i){return lf(n,(function(o){return o?vf(n).then((function(){return yf(n,{code:"auth/email-already-in-use"},r.auth.EmailAuthProvider.credential(t,e))})):i}))}))},e.Xb=function(t,e){bf(this);var n=this;return lf(this,(function(i){if(i){var o=r.auth.EmailAuthProvider.credential(t,e);return i.linkWithCredential(o)}return nf(n).createUserWithEmailAndPassword(t,e)}))},e.$b=function(t){bf(this);var e=this;return lf(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return yf(e,n,t)})):nf(e).signInWithCredential(t)}))},e.cc=function(t){bf(this);var e=this,n=this.i;return this.i=null,lf(this,(function(n){return n&&!fs(of(e))?n.linkWithRedirect(t):nf(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},e.bc=function(t,e){bf(this);var n=this;return lf(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new Ri(t,(function(t){if("auth/credential-already-in-use"==t.code)return yf(n,t);throw t}))})):rf(n).signInWithPhoneNumber(t,e).then((function(t){return new Ri(t)}))}))},e.Zb=function(){return bf(this),rf(this).signInAnonymously()},e.Wb=function(t,e){return bf(this),nf(this).signInWithEmailAndPassword(t,e)},c(wf,hu),wf.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),hh(this.l(),(this.l().value||"").length),hu.prototype.v.call(this)},wf.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},k(wf.prototype,{l:cl,H:ul,u:ll,B:hl,j:fl,M:Qu,w:el}),c(_f,hu),_f.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?qe("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i],s=Rh(o,"tenantId");Cc(t,o,A(n,s))}}(this,this.i),hu.prototype.v.call(this)},_f.prototype.m=function(){this.i=null,hu.prototype.m.call(this)},c(xf,hu);var kf=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],If="optionFirst",Cf={oc:If,nc:"identifierFirst"},Rf="*";function Pf(t,e){var n=this;this.s=hi(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Of(e[t])})),this.pb=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.pb},set:function(t){this.pb=t||null},enumerable:!1})}function Lf(t){t.j&&t.j.reset(),t.nb(),t.g&&t.g.o()}(e=Pf.prototype).Tb=function(t,e){var n=this;Lf(this);var r=t.apiKey;return new Hr((function(t,i){if(n.a.hasOwnProperty(r)){var o=Ef(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),Cf)if(Cf[e]===t)return Cf[e];return If}(n.a[r])===If){var s=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[Rf])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,Ba:e.iconUrl,va:e.buttonColor}:(Zi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&s.push(t)}));var a=function(e){e={tenantId:e,providerIds:Tf(n.a[r],e||"_")},t(e)};if(1===s.length)return void a(s[0].tenantId);n.g=new _f((function(t){Lf(n),o&&o(),a(t)}),s,Sf(n.a[r]),jf(n.a[r]))}else n.g=new wf((function(){var i=n.g.j();if(i){for(var s=0;s<e.length;s++){var a=Tf(n.a[r],e[s]||"_",i);if(0!==a.length)return i={tenantId:e[s],providerIds:a,email:i},Lf(n),o&&o(),void t(i)}n.g.a(Dn({code:"no-matching-tenant-for-email"}).toString())}}),Sf(n.a[r]),jf(n.a[r]));n.g.render(n.s),(i=Ef(n.a[r]).selectTenantUiShown||null)&&i()}else{var c=Error("Invalid project configuration: API key is invalid!");c.code="invalid-configuration",n.qb(c),i(c)}}))},e.Ob=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Mf(this.a[t],e||"_");try{this.i=r.app(n).auth()}catch(o){var i=this.a[t].a.get("authDomain");if(!i)throw Error("Invalid project configuration: authDomain is required!");(t=r.initializeApp({apiKey:t,authDomain:i},n)).auth().tenantId=e,this.i=t.auth()}return this.i},e.Yb=function(t,e){var n=this;return new Hr((function(r,i){function o(e,r){n.j=new Kh(t),cf(n.j,n.s,e,r)}var s=t.app.options.apiKey;n.a.hasOwnProperty(s)||i(Error("Invalid project configuration: API key is invalid!"));var a=Af(n.a[s],t.tenantId||"_",e&&e.providerIds);Lf(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var c,u=Ef(n.a[s]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=We("firebaseui-id-page-callback",n.s))&&Rc(e),n.h=new xf,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.o(),n.h=null),l=!0,u&&u(t.tenantId))},a.callbacks=i,a.credentialHelper="none",e&&e.email&&(c={emailHint:e.email}),n.j?n.j.Xa().then((function(){o(a,c)})):o(a,c)}))},e.reset=function(){var t=this;return Xr().then((function(){t.j&&t.j.Xa()})).then((function(){t.j=null,Lf(t)}))},e.Ub=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Lf(t),t.h=new xf,t.g=t.h,t.h.render(t.s),t.A=null}),500))},e.nb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.o(),this.h=null)},e.Bb=function(){return Lf(this),this.g=new _l,this.g.render(this.s),Xr()},e.qb=function(t){var e,n=this,r=Dn({code:t.code}).toString()||t.message;Lf(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new Sl(r,e),this.g.render(this.s)},e.Qb=function(t){var e=this;return Xr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Mf(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Ef(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},R("firebaseui.auth.FirebaseUiHandler",Pf),R("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Pf.prototype.Tb),R("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Pf.prototype.Ob),R("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Pf.prototype.Yb),R("firebaseui.auth.FirebaseUiHandler.prototype.reset",Pf.prototype.reset),R("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Pf.prototype.Ub),R("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Pf.prototype.nb),R("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Pf.prototype.Bb),R("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Pf.prototype.qb),R("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Pf.prototype.Qb),R("firebaseui.auth.AuthUI",Kh),R("firebaseui.auth.AuthUI.getInstance",(function(t){return t=Zh(t),Xh[t]?Xh[t]:null})),R("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Kh.prototype.Db),R("firebaseui.auth.AuthUI.prototype.start",Kh.prototype.start),R("firebaseui.auth.AuthUI.prototype.setConfig",Kh.prototype.jb),R("firebaseui.auth.AuthUI.prototype.signIn",Kh.prototype.Vb),R("firebaseui.auth.AuthUI.prototype.reset",Kh.prototype.reset),R("firebaseui.auth.AuthUI.prototype.delete",Kh.prototype.Xa),R("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Kh.prototype.ob),R("firebaseui.auth.AuthUIError",$n),R("firebaseui.auth.AuthUIError.prototype.toJSON",$n.prototype.toJSON),R("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",da),R("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",pa),R("firebaseui.auth.CredentialHelper.NONE",ma),R("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Hr.prototype.catch=Hr.prototype.ua,Hr.prototype.finally=Hr.prototype.ec}).apply(void 0!==t?t:"undefined"!=typeof self?self:window)}).apply(void 0!==t?t:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=o.a);const s=firebaseui.auth}.call(this,n(8))},function(t,e,n){"use strict";var r=n(4).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";(function(e){var r,i=n(7),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(t,e,n){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,n)}),a.alloc||(a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=o(t);return e&&0!==e.length?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(t){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),t.exports=s}).call(this,n(6))},function(t,e,n){var r=n(4).Buffer,i=n(26).Transform,o=n(20).StringDecoder;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(2)(s,i),s.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=s},function(t,e,n){"use strict";n.r(e),n.d(e,"ACESFilmicToneMapping",(function(){return it})),n.d(e,"AddEquation",(function(){return M})),n.d(e,"AddOperation",(function(){return Q})),n.d(e,"AdditiveAnimationBlendMode",(function(){return Ke})),n.d(e,"AdditiveBlending",(function(){return O})),n.d(e,"AlphaFormat",(function(){return Bt})),n.d(e,"AlwaysDepth",(function(){return G})),n.d(e,"AlwaysStencilFunc",(function(){return jn})),n.d(e,"AmbientLight",(function(){return wh})),n.d(e,"AmbientLightProbe",(function(){return Hh})),n.d(e,"AnimationClip",(function(){return Ml})),n.d(e,"AnimationLoader",(function(){return Ll})),n.d(e,"AnimationMixer",(function(){return wf})),n.d(e,"AnimationObjectGroup",(function(){return vf})),n.d(e,"AnimationUtils",(function(){return pl})),n.d(e,"ArcCurve",(function(){return Hl})),n.d(e,"ArrayCamera",(function(){return Ca})),n.d(e,"ArrowHelper",(function(){return cd})),n.d(e,"Audio",(function(){return Qh})),n.d(e,"AudioAnalyser",(function(){return sf})),n.d(e,"AudioContext",(function(){return Fh})),n.d(e,"AudioListener",(function(){return Jh})),n.d(e,"AudioLoader",(function(){return Uh})),n.d(e,"AxesHelper",(function(){return ud})),n.d(e,"AxisHelper",(function(){return ip})),n.d(e,"BackSide",(function(){return g})),n.d(e,"BasicDepthPacking",(function(){return an})),n.d(e,"BasicShadowMap",(function(){return f})),n.d(e,"BinaryTextureLoader",(function(){return up})),n.d(e,"Bone",(function(){return dc})),n.d(e,"BooleanKeyframeTrack",(function(){return wl})),n.d(e,"BoundingBoxHelper",(function(){return op})),n.d(e,"Box2",(function(){return Af})),n.d(e,"Box3",(function(){return Br})),n.d(e,"Box3Helper",(function(){return rd})),n.d(e,"BoxBufferGeometry",(function(){return go})),n.d(e,"BoxGeometry",(function(){return bo})),n.d(e,"BoxHelper",(function(){return nd})),n.d(e,"BufferAttribute",(function(){return Ei})),n.d(e,"BufferGeometry",(function(){return Hi})),n.d(e,"BufferGeometryLoader",(function(){return Th})),n.d(e,"ByteType",(function(){return Mt})),n.d(e,"Cache",(function(){return Al})),n.d(e,"Camera",(function(){return xo})),n.d(e,"CameraHelper",(function(){return Qf})),n.d(e,"CanvasRenderer",(function(){return fp})),n.d(e,"CanvasTexture",(function(){return $c})),n.d(e,"CatmullRomCurve3",(function(){return Yl})),n.d(e,"CineonToneMapping",(function(){return rt})),n.d(e,"CircleBufferGeometry",(function(){return el})),n.d(e,"CircleGeometry",(function(){return tl})),n.d(e,"ClampToEdgeWrapping",(function(){return pt})),n.d(e,"Clock",(function(){return Wh})),n.d(e,"ClosedSplineCurve3",(function(){return ep})),n.d(e,"Color",(function(){return pi})),n.d(e,"ColorKeyframeTrack",(function(){return _l})),n.d(e,"CompressedTexture",(function(){return Bc})),n.d(e,"CompressedTextureLoader",(function(){return Nl})),n.d(e,"ConeBufferGeometry",(function(){return Qu})),n.d(e,"ConeGeometry",(function(){return Ju})),n.d(e,"CubeCamera",(function(){return Eo})),n.d(e,"CubeGeometry",(function(){return bo})),n.d(e,"CubeReflectionMapping",(function(){return at})),n.d(e,"CubeRefractionMapping",(function(){return ct})),n.d(e,"CubeTexture",(function(){return Xo})),n.d(e,"CubeTextureLoader",(function(){return $l})),n.d(e,"CubeUVReflectionMapping",(function(){return ht})),n.d(e,"CubeUVRefractionMapping",(function(){return ft})),n.d(e,"CubicBezierCurve",(function(){return Ql})),n.d(e,"CubicBezierCurve3",(function(){return th})),n.d(e,"CubicInterpolant",(function(){return bl})),n.d(e,"CullFaceBack",(function(){return a})),n.d(e,"CullFaceFront",(function(){return c})),n.d(e,"CullFaceFrontBack",(function(){return u})),n.d(e,"CullFaceNone",(function(){return s})),n.d(e,"Curve",(function(){return Ul})),n.d(e,"CurvePath",(function(){return ah})),n.d(e,"CustomBlending",(function(){return j})),n.d(e,"CustomToneMapping",(function(){return ot})),n.d(e,"CylinderBufferGeometry",(function(){return Zu})),n.d(e,"CylinderGeometry",(function(){return Xu})),n.d(e,"Cylindrical",(function(){return Mf})),n.d(e,"DataTexture",(function(){return jo})),n.d(e,"DataTexture2DArray",(function(){return Zo})),n.d(e,"DataTexture3D",(function(){return Jo})),n.d(e,"DataTextureLoader",(function(){return Dl})),n.d(e,"DecrementStencilOp",(function(){return mn})),n.d(e,"DecrementWrapStencilOp",(function(){return gn})),n.d(e,"DefaultLoadingManager",(function(){return Il})),n.d(e,"DepthFormat",(function(){return Gt})),n.d(e,"DepthStencilFormat",(function(){return Vt})),n.d(e,"DepthTexture",(function(){return Fc})),n.d(e,"DirectionalLight",(function(){return yh})),n.d(e,"DirectionalLightHelper",(function(){return Xf})),n.d(e,"DirectionalLightShadow",(function(){return vh})),n.d(e,"DiscreteInterpolant",(function(){return vl})),n.d(e,"DodecahedronBufferGeometry",(function(){return Qc})),n.d(e,"DodecahedronGeometry",(function(){return Jc})),n.d(e,"DoubleSide",(function(){return v})),n.d(e,"DstAlphaFactor",(function(){return B})),n.d(e,"DstColorFactor",(function(){return F})),n.d(e,"DynamicBufferAttribute",(function(){return Vd})),n.d(e,"DynamicCopyUsage",(function(){return Pn})),n.d(e,"DynamicDrawUsage",(function(){return Tn})),n.d(e,"DynamicReadUsage",(function(){return In})),n.d(e,"EdgesGeometry",(function(){return Yu})),n.d(e,"EdgesHelper",(function(){return sp})),n.d(e,"EllipseCurve",(function(){return zl})),n.d(e,"EqualDepth",(function(){return W})),n.d(e,"EqualStencilFunc",(function(){return _n})),n.d(e,"EquirectangularReflectionMapping",(function(){return ut})),n.d(e,"EquirectangularRefractionMapping",(function(){return lt})),n.d(e,"Euler",(function(){return cr})),n.d(e,"EventDispatcher",(function(){return Nn})),n.d(e,"ExtrudeBufferGeometry",(function(){return Lu})),n.d(e,"ExtrudeGeometry",(function(){return Pu})),n.d(e,"Face3",(function(){return vi})),n.d(e,"Face4",(function(){return kd})),n.d(e,"FaceColors",(function(){return Pd})),n.d(e,"FileLoader",(function(){return Pl})),n.d(e,"FlatShading",(function(){return y})),n.d(e,"Float32Attribute",(function(){return Qd})),n.d(e,"Float32BufferAttribute",(function(){return Ci})),n.d(e,"Float64Attribute",(function(){return tp})),n.d(e,"Float64BufferAttribute",(function(){return Ri})),n.d(e,"FloatType",(function(){return Ct})),n.d(e,"Fog",(function(){return Fa})),n.d(e,"FogExp2",(function(){return $a})),n.d(e,"Font",(function(){return Nh})),n.d(e,"FontLoader",(function(){return Bh})),n.d(e,"FrontFaceDirectionCCW",(function(){return h})),n.d(e,"FrontFaceDirectionCW",(function(){return l})),n.d(e,"FrontSide",(function(){return b})),n.d(e,"Frustum",(function(){return Ao})),n.d(e,"GammaEncoding",(function(){return tn})),n.d(e,"Geometry",(function(){return mo})),n.d(e,"GeometryUtils",(function(){return hp})),n.d(e,"GreaterDepth",(function(){return Y})),n.d(e,"GreaterEqualDepth",(function(){return K})),n.d(e,"GreaterEqualStencilFunc",(function(){return Sn})),n.d(e,"GreaterStencilFunc",(function(){return On})),n.d(e,"GridHelper",(function(){return Vf})),n.d(e,"Group",(function(){return Ra})),n.d(e,"HalfFloatType",(function(){return Rt})),n.d(e,"HemisphereLight",(function(){return hh})),n.d(e,"HemisphereLightHelper",(function(){return Gf})),n.d(e,"HemisphereLightProbe",(function(){return zh})),n.d(e,"IcosahedronBufferGeometry",(function(){return Zc})),n.d(e,"IcosahedronGeometry",(function(){return Xc})),n.d(e,"ImageBitmapLoader",(function(){return Ph})),n.d(e,"ImageLoader",(function(){return Bl})),n.d(e,"ImageUtils",(function(){return zn})),n.d(e,"ImmediateRenderObject",(function(){return Rf})),n.d(e,"IncrementStencilOp",(function(){return pn})),n.d(e,"IncrementWrapStencilOp",(function(){return bn})),n.d(e,"InstancedBufferAttribute",(function(){return Mh})),n.d(e,"InstancedBufferGeometry",(function(){return jh})),n.d(e,"InstancedInterleavedBuffer",(function(){return xf})),n.d(e,"InstancedMesh",(function(){return vc})),n.d(e,"Int16Attribute",(function(){return Yd})),n.d(e,"Int16BufferAttribute",(function(){return Ti})),n.d(e,"Int32Attribute",(function(){return Zd})),n.d(e,"Int32BufferAttribute",(function(){return ki})),n.d(e,"Int8Attribute",(function(){return qd})),n.d(e,"Int8BufferAttribute",(function(){return Si})),n.d(e,"IntType",(function(){return kt})),n.d(e,"InterleavedBuffer",(function(){return Ua})),n.d(e,"InterleavedBufferAttribute",(function(){return Ha})),n.d(e,"Interpolant",(function(){return ml})),n.d(e,"InterpolateDiscrete",(function(){return Ue})),n.d(e,"InterpolateLinear",(function(){return ze})),n.d(e,"InterpolateSmooth",(function(){return He})),n.d(e,"InvertStencilOp",(function(){return vn})),n.d(e,"JSONLoader",(function(){return dp})),n.d(e,"KeepStencilOp",(function(){return fn})),n.d(e,"KeyframeTrack",(function(){return yl})),n.d(e,"LOD",(function(){return cc})),n.d(e,"LatheBufferGeometry",(function(){return Vu})),n.d(e,"LatheGeometry",(function(){return Gu})),n.d(e,"Layers",(function(){return ur})),n.d(e,"LensFlare",(function(){return mp})),n.d(e,"LessDepth",(function(){return V})),n.d(e,"LessEqualDepth",(function(){return q})),n.d(e,"LessEqualStencilFunc",(function(){return xn})),n.d(e,"LessStencilFunc",(function(){return wn})),n.d(e,"Light",(function(){return lh})),n.d(e,"LightProbe",(function(){return Oh})),n.d(e,"LightShadow",(function(){return fh})),n.d(e,"Line",(function(){return Sc})),n.d(e,"Line3",(function(){return Cf})),n.d(e,"LineBasicMaterial",(function(){return yc})),n.d(e,"LineCurve",(function(){return eh})),n.d(e,"LineCurve3",(function(){return nh})),n.d(e,"LineDashedMaterial",(function(){return fl})),n.d(e,"LineLoop",(function(){return Ac})),n.d(e,"LinePieces",(function(){return Cd})),n.d(e,"LineSegments",(function(){return Tc})),n.d(e,"LineStrip",(function(){return Id})),n.d(e,"LinearEncoding",(function(){return Je})),n.d(e,"LinearFilter",(function(){return _t})),n.d(e,"LinearInterpolant",(function(){return gl})),n.d(e,"LinearMipMapLinearFilter",(function(){return St})),n.d(e,"LinearMipMapNearestFilter",(function(){return Ot})),n.d(e,"LinearMipmapLinearFilter",(function(){return Et})),n.d(e,"LinearMipmapNearestFilter",(function(){return xt})),n.d(e,"LinearToneMapping",(function(){return et})),n.d(e,"Loader",(function(){return Cl})),n.d(e,"LoaderUtils",(function(){return Sh})),n.d(e,"LoadingManager",(function(){return kl})),n.d(e,"LogLuvEncoding",(function(){return nn})),n.d(e,"LoopOnce",(function(){return Be})),n.d(e,"LoopPingPong",(function(){return Fe})),n.d(e,"LoopRepeat",(function(){return $e})),n.d(e,"LuminanceAlphaFormat",(function(){return zt})),n.d(e,"LuminanceFormat",(function(){return Ut})),n.d(e,"MOUSE",(function(){return i})),n.d(e,"Material",(function(){return wi})),n.d(e,"MaterialLoader",(function(){return Eh})),n.d(e,"Math",(function(){return Bn})),n.d(e,"MathUtils",(function(){return Bn})),n.d(e,"Matrix3",(function(){return Fn})),n.d(e,"Matrix4",(function(){return or})),n.d(e,"MaxEquation",(function(){return I})),n.d(e,"Mesh",(function(){return ao})),n.d(e,"MeshBasicMaterial",(function(){return _i})),n.d(e,"MeshDepthMaterial",(function(){return ja})),n.d(e,"MeshDistanceMaterial",(function(){return Ma})),n.d(e,"MeshFaceMaterial",(function(){return Nd})),n.d(e,"MeshLambertMaterial",(function(){return ll})),n.d(e,"MeshMatcapMaterial",(function(){return hl})),n.d(e,"MeshNormalMaterial",(function(){return ul})),n.d(e,"MeshPhongMaterial",(function(){return al})),n.d(e,"MeshPhysicalMaterial",(function(){return sl})),n.d(e,"MeshStandardMaterial",(function(){return ol})),n.d(e,"MeshToonMaterial",(function(){return cl})),n.d(e,"MinEquation",(function(){return k})),n.d(e,"MirroredRepeatWrapping",(function(){return mt})),n.d(e,"MixOperation",(function(){return J})),n.d(e,"MultiMaterial",(function(){return Dd})),n.d(e,"MultiplyBlending",(function(){return S})),n.d(e,"MultiplyOperation",(function(){return Z})),n.d(e,"NearestFilter",(function(){return bt})),n.d(e,"NearestMipMapLinearFilter",(function(){return wt})),n.d(e,"NearestMipMapNearestFilter",(function(){return vt})),n.d(e,"NearestMipmapLinearFilter",(function(){return yt})),n.d(e,"NearestMipmapNearestFilter",(function(){return gt})),n.d(e,"NeverDepth",(function(){return H})),n.d(e,"NeverStencilFunc",(function(){return yn})),n.d(e,"NoBlending",(function(){return _})),n.d(e,"NoColors",(function(){return Rd})),n.d(e,"NoToneMapping",(function(){return tt})),n.d(e,"NormalAnimationBlendMode",(function(){return We})),n.d(e,"NormalBlending",(function(){return x})),n.d(e,"NotEqualDepth",(function(){return X})),n.d(e,"NotEqualStencilFunc",(function(){return En})),n.d(e,"NumberKeyframeTrack",(function(){return xl})),n.d(e,"Object3D",(function(){return Or})),n.d(e,"ObjectLoader",(function(){return kh})),n.d(e,"ObjectSpaceNormalMap",(function(){return ln})),n.d(e,"OctahedronBufferGeometry",(function(){return Yc})),n.d(e,"OctahedronGeometry",(function(){return Kc})),n.d(e,"OneFactor",(function(){return R})),n.d(e,"OneMinusDstAlphaFactor",(function(){return $})),n.d(e,"OneMinusDstColorFactor",(function(){return U})),n.d(e,"OneMinusSrcAlphaFactor",(function(){return D})),n.d(e,"OneMinusSrcColorFactor",(function(){return L})),n.d(e,"OrthographicCamera",(function(){return gh})),n.d(e,"PCFShadowMap",(function(){return d})),n.d(e,"PCFSoftShadowMap",(function(){return p})),n.d(e,"PMREMGenerator",(function(){return xd})),n.d(e,"ParametricBufferGeometry",(function(){return Hc})),n.d(e,"ParametricGeometry",(function(){return zc})),n.d(e,"Particle",(function(){return $d})),n.d(e,"ParticleBasicMaterial",(function(){return zd})),n.d(e,"ParticleSystem",(function(){return Fd})),n.d(e,"ParticleSystemMaterial",(function(){return Hd})),n.d(e,"Path",(function(){return ch})),n.d(e,"PerspectiveCamera",(function(){return Oo})),n.d(e,"Plane",(function(){return Qr})),n.d(e,"PlaneBufferGeometry",(function(){return Po})),n.d(e,"PlaneGeometry",(function(){return Ro})),n.d(e,"PlaneHelper",(function(){return id})),n.d(e,"PointCloud",(function(){return Bd})),n.d(e,"PointCloudMaterial",(function(){return Ud})),n.d(e,"PointLight",(function(){return bh})),n.d(e,"PointLightHelper",(function(){return Ff})),n.d(e,"Points",(function(){return Lc})),n.d(e,"PointsMaterial",(function(){return kc})),n.d(e,"PolarGridHelper",(function(){return qf})),n.d(e,"PolyhedronBufferGeometry",(function(){return Vc})),n.d(e,"PolyhedronGeometry",(function(){return Gc})),n.d(e,"PositionalAudio",(function(){return of})),n.d(e,"PropertyBinding",(function(){return gf})),n.d(e,"PropertyMixer",(function(){return af})),n.d(e,"QuadraticBezierCurve",(function(){return rh})),n.d(e,"QuadraticBezierCurve3",(function(){return ih})),n.d(e,"Quaternion",(function(){return Kn})),n.d(e,"QuaternionKeyframeTrack",(function(){return El})),n.d(e,"QuaternionLinearInterpolant",(function(){return Ol})),n.d(e,"REVISION",(function(){return r})),n.d(e,"RGBADepthPacking",(function(){return cn})),n.d(e,"RGBAFormat",(function(){return Ft})),n.d(e,"RGBAIntegerFormat",(function(){return Zt})),n.d(e,"RGBA_ASTC_10x10_Format",(function(){return we})),n.d(e,"RGBA_ASTC_10x5_Format",(function(){return ge})),n.d(e,"RGBA_ASTC_10x6_Format",(function(){return ve})),n.d(e,"RGBA_ASTC_10x8_Format",(function(){return ye})),n.d(e,"RGBA_ASTC_12x10_Format",(function(){return _e})),n.d(e,"RGBA_ASTC_12x12_Format",(function(){return xe})),n.d(e,"RGBA_ASTC_4x4_Format",(function(){return ue})),n.d(e,"RGBA_ASTC_5x4_Format",(function(){return le})),n.d(e,"RGBA_ASTC_5x5_Format",(function(){return he})),n.d(e,"RGBA_ASTC_6x5_Format",(function(){return fe})),n.d(e,"RGBA_ASTC_6x6_Format",(function(){return de})),n.d(e,"RGBA_ASTC_8x5_Format",(function(){return pe})),n.d(e,"RGBA_ASTC_8x6_Format",(function(){return me})),n.d(e,"RGBA_ASTC_8x8_Format",(function(){return be})),n.d(e,"RGBA_BPTC_Format",(function(){return Oe})),n.d(e,"RGBA_ETC2_EAC_Format",(function(){return ce})),n.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return oe})),n.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return ie})),n.d(e,"RGBA_S3TC_DXT1_Format",(function(){return Qt})),n.d(e,"RGBA_S3TC_DXT3_Format",(function(){return te})),n.d(e,"RGBA_S3TC_DXT5_Format",(function(){return ee})),n.d(e,"RGBDEncoding",(function(){return sn})),n.d(e,"RGBEEncoding",(function(){return en})),n.d(e,"RGBEFormat",(function(){return Ht})),n.d(e,"RGBFormat",(function(){return $t})),n.d(e,"RGBIntegerFormat",(function(){return Xt})),n.d(e,"RGBM16Encoding",(function(){return on})),n.d(e,"RGBM7Encoding",(function(){return rn})),n.d(e,"RGB_ETC1_Format",(function(){return se})),n.d(e,"RGB_ETC2_Format",(function(){return ae})),n.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return re})),n.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return ne})),n.d(e,"RGB_S3TC_DXT1_Format",(function(){return Jt})),n.d(e,"RGFormat",(function(){return Kt})),n.d(e,"RGIntegerFormat",(function(){return Yt})),n.d(e,"RawShaderMaterial",(function(){return il})),n.d(e,"Ray",(function(){return Yr})),n.d(e,"Raycaster",(function(){return Of})),n.d(e,"RectAreaLight",(function(){return _h})),n.d(e,"RedFormat",(function(){return qt})),n.d(e,"RedIntegerFormat",(function(){return Wt})),n.d(e,"ReinhardToneMapping",(function(){return nt})),n.d(e,"RepeatWrapping",(function(){return dt})),n.d(e,"ReplaceStencilOp",(function(){return dn})),n.d(e,"ReverseSubtractEquation",(function(){return A})),n.d(e,"RingBufferGeometry",(function(){return Hu})),n.d(e,"RingGeometry",(function(){return zu})),n.d(e,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Le})),n.d(e,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Ce})),n.d(e,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Re})),n.d(e,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Pe})),n.d(e,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Ne})),n.d(e,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return De})),n.d(e,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Ee})),n.d(e,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Se})),n.d(e,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return je})),n.d(e,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Me})),n.d(e,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Te})),n.d(e,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ae})),n.d(e,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return ke})),n.d(e,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Ie})),n.d(e,"Scene",(function(){return Er})),n.d(e,"SceneUtils",(function(){return pp})),n.d(e,"ShaderChunk",(function(){return Lo})),n.d(e,"ShaderLib",(function(){return No})),n.d(e,"ShaderMaterial",(function(){return _o})),n.d(e,"ShadowMaterial",(function(){return rl})),n.d(e,"Shape",(function(){return uh})),n.d(e,"ShapeBufferGeometry",(function(){return Wu})),n.d(e,"ShapeGeometry",(function(){return qu})),n.d(e,"ShapePath",(function(){return Lh})),n.d(e,"ShapeUtils",(function(){return Iu})),n.d(e,"ShortType",(function(){return Tt})),n.d(e,"Skeleton",(function(){return fc})),n.d(e,"SkeletonHelper",(function(){return $f})),n.d(e,"SkinnedMesh",(function(){return uc})),n.d(e,"SmoothShading",(function(){return w})),n.d(e,"Sphere",(function(){return Ur})),n.d(e,"SphereBufferGeometry",(function(){return Uu})),n.d(e,"SphereGeometry",(function(){return Fu})),n.d(e,"Spherical",(function(){return jf})),n.d(e,"SphericalHarmonics3",(function(){return xh})),n.d(e,"Spline",(function(){return rp})),n.d(e,"SplineCurve",(function(){return oh})),n.d(e,"SplineCurve3",(function(){return np})),n.d(e,"SpotLight",(function(){return ph})),n.d(e,"SpotLightHelper",(function(){return Lf})),n.d(e,"SpotLightShadow",(function(){return dh})),n.d(e,"Sprite",(function(){return ic})),n.d(e,"SpriteMaterial",(function(){return Ga})),n.d(e,"SrcAlphaFactor",(function(){return N})),n.d(e,"SrcAlphaSaturateFactor",(function(){return z})),n.d(e,"SrcColorFactor",(function(){return P})),n.d(e,"StaticCopyUsage",(function(){return Rn})),n.d(e,"StaticDrawUsage",(function(){return Mn})),n.d(e,"StaticReadUsage",(function(){return kn})),n.d(e,"StereoCamera",(function(){return qh})),n.d(e,"StreamCopyUsage",(function(){return Ln})),n.d(e,"StreamDrawUsage",(function(){return An})),n.d(e,"StreamReadUsage",(function(){return Cn})),n.d(e,"StringKeyframeTrack",(function(){return Sl})),n.d(e,"SubtractEquation",(function(){return T})),n.d(e,"SubtractiveBlending",(function(){return E})),n.d(e,"TOUCH",(function(){return o})),n.d(e,"TangentSpaceNormalMap",(function(){return un})),n.d(e,"TetrahedronBufferGeometry",(function(){return Wc})),n.d(e,"TetrahedronGeometry",(function(){return qc})),n.d(e,"TextBufferGeometry",(function(){return $u})),n.d(e,"TextGeometry",(function(){return Bu})),n.d(e,"Texture",(function(){return Gn})),n.d(e,"TextureLoader",(function(){return Fl})),n.d(e,"TorusBufferGeometry",(function(){return ou})),n.d(e,"TorusGeometry",(function(){return iu})),n.d(e,"TorusKnotBufferGeometry",(function(){return ru})),n.d(e,"TorusKnotGeometry",(function(){return nu})),n.d(e,"Triangle",(function(){return li})),n.d(e,"TriangleFanDrawMode",(function(){return Ze})),n.d(e,"TriangleStripDrawMode",(function(){return Xe})),n.d(e,"TrianglesDrawMode",(function(){return Ye})),n.d(e,"TubeBufferGeometry",(function(){return eu})),n.d(e,"TubeGeometry",(function(){return tu})),n.d(e,"UVMapping",(function(){return st})),n.d(e,"Uint16Attribute",(function(){return Xd})),n.d(e,"Uint16BufferAttribute",(function(){return Ai})),n.d(e,"Uint32Attribute",(function(){return Jd})),n.d(e,"Uint32BufferAttribute",(function(){return Ii})),n.d(e,"Uint8Attribute",(function(){return Wd})),n.d(e,"Uint8BufferAttribute",(function(){return ji})),n.d(e,"Uint8ClampedAttribute",(function(){return Kd})),n.d(e,"Uint8ClampedBufferAttribute",(function(){return Mi})),n.d(e,"Uniform",(function(){return _f})),n.d(e,"UniformsLib",(function(){return ko})),n.d(e,"UniformsUtils",(function(){return wo})),n.d(e,"UnsignedByteType",(function(){return jt})),n.d(e,"UnsignedInt248Type",(function(){return Dt})),n.d(e,"UnsignedIntType",(function(){return It})),n.d(e,"UnsignedShort4444Type",(function(){return Pt})),n.d(e,"UnsignedShort5551Type",(function(){return Lt})),n.d(e,"UnsignedShort565Type",(function(){return Nt})),n.d(e,"UnsignedShortType",(function(){return At})),n.d(e,"VSMShadowMap",(function(){return m})),n.d(e,"Vector2",(function(){return $n})),n.d(e,"Vector3",(function(){return Zn})),n.d(e,"Vector4",(function(){return Vn})),n.d(e,"VectorKeyframeTrack",(function(){return jl})),n.d(e,"Vertex",(function(){return Gd})),n.d(e,"VertexColors",(function(){return Ld})),n.d(e,"VideoTexture",(function(){return Dc})),n.d(e,"WebGL1Renderer",(function(){return Ba})),n.d(e,"WebGLCubeRenderTarget",(function(){return So})),n.d(e,"WebGLMultisampleRenderTarget",(function(){return Wn})),n.d(e,"WebGLRenderTarget",(function(){return qn})),n.d(e,"WebGLRenderTargetCube",(function(){return lp})),n.d(e,"WebGLRenderer",(function(){return Da})),n.d(e,"WebGLUtils",(function(){return Ia})),n.d(e,"WireframeGeometry",(function(){return Uc})),n.d(e,"WireframeHelper",(function(){return ap})),n.d(e,"WrapAroundEnding",(function(){return qe})),n.d(e,"XHRLoader",(function(){return cp})),n.d(e,"ZeroCurvatureEnding",(function(){return Ge})),n.d(e,"ZeroFactor",(function(){return C})),n.d(e,"ZeroSlopeEnding",(function(){return Ve})),n.d(e,"ZeroStencilOp",(function(){return hn})),n.d(e,"sRGBEncoding",(function(){return Qe})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const e=Object(t);for(let t=1;t<arguments.length;t++){const n=arguments[t];if(null!=n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e});const r="118",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,a=1,c=2,u=3,l=0,h=1,f=0,d=1,p=2,m=3,b=0,g=1,v=2,y=1,w=2,_=0,x=1,O=2,E=3,S=4,j=5,M=100,T=101,A=102,k=103,I=104,C=200,R=201,P=202,L=203,N=204,D=205,B=206,$=207,F=208,U=209,z=210,H=0,G=1,V=2,q=3,W=4,K=5,Y=6,X=7,Z=0,J=1,Q=2,tt=0,et=1,nt=2,rt=3,it=4,ot=5,st=300,at=301,ct=302,ut=303,lt=304,ht=306,ft=307,dt=1e3,pt=1001,mt=1002,bt=1003,gt=1004,vt=1004,yt=1005,wt=1005,_t=1006,xt=1007,Ot=1007,Et=1008,St=1008,jt=1009,Mt=1010,Tt=1011,At=1012,kt=1013,It=1014,Ct=1015,Rt=1016,Pt=1017,Lt=1018,Nt=1019,Dt=1020,Bt=1021,$t=1022,Ft=1023,Ut=1024,zt=1025,Ht=Ft,Gt=1026,Vt=1027,qt=1028,Wt=1029,Kt=1030,Yt=1031,Xt=1032,Zt=1033,Jt=33776,Qt=33777,te=33778,ee=33779,ne=35840,re=35841,ie=35842,oe=35843,se=36196,ae=37492,ce=37496,ue=37808,le=37809,he=37810,fe=37811,de=37812,pe=37813,me=37814,be=37815,ge=37816,ve=37817,ye=37818,we=37819,_e=37820,xe=37821,Oe=36492,Ee=37840,Se=37841,je=37842,Me=37843,Te=37844,Ae=37845,ke=37846,Ie=37847,Ce=37848,Re=37849,Pe=37850,Le=37851,Ne=37852,De=37853,Be=2200,$e=2201,Fe=2202,Ue=2300,ze=2301,He=2302,Ge=2400,Ve=2401,qe=2402,We=2500,Ke=2501,Ye=0,Xe=1,Ze=2,Je=3e3,Qe=3001,tn=3007,en=3002,nn=3003,rn=3004,on=3005,sn=3006,an=3200,cn=3201,un=0,ln=1,hn=0,fn=7680,dn=7681,pn=7682,mn=7683,bn=34055,gn=34056,vn=5386,yn=512,wn=513,_n=514,xn=515,On=516,En=517,Sn=518,jn=519,Mn=35044,Tn=35048,An=35040,kn=35045,In=35049,Cn=35041,Rn=35046,Pn=35050,Ln=35042;function Nn(){}Object.assign(Nn.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t)}}});const Dn=[];for(let t=0;t<256;t++)Dn[t]=(t<16?"0":"")+t.toString(16);const Bn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Dn[255&t]+Dn[t>>8&255]+Dn[t>>16&255]+Dn[t>>24&255]+"-"+Dn[255&e]+Dn[e>>8&255]+"-"+Dn[e>>16&15|64]+Dn[e>>24&255]+"-"+Dn[63&n|128]+Dn[n>>8&255]+"-"+Dn[n>>16&255]+Dn[n>>24&255]+Dn[255&r]+Dn[r>>8&255]+Dn[r>>16&255]+Dn[r>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Bn.DEG2RAD},radToDeg:function(t){return t*Bn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),c=s(n/2),u=o((e+r)/2),l=s((e+r)/2),h=o((e-r)/2),f=s((e-r)/2),d=o((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":t.set(a*l,c*h,c*f,a*u);break;case"YZY":t.set(c*f,a*l,c*h,a*u);break;case"ZXZ":t.set(c*h,c*f,a*l,a*u);break;case"XZX":t.set(a*l,c*p,c*d,a*u);break;case"YXY":t.set(c*d,a*l,c*p,a*u);break;case"ZYZ":t.set(c*p,c*d,a*l,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function $n(t=0,e=0){this.x=t,this.y=e}function Fn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}let Un;Object.defineProperties($n.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign($n.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(Fn.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,s,a,c){const u=this.elements;return u[0]=t,u[1]=r,u[2]=s,u[3]=e,u[4]=i,u[5]=a,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},extractBasis:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[3],a=n[6],c=n[1],u=n[4],l=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],b=r[6],g=r[1],v=r[4],y=r[7],w=r[2],_=r[5],x=r[8];return i[0]=o*p+s*g+a*w,i[3]=o*m+s*v+a*_,i[6]=o*b+s*y+a*x,i[1]=c*p+u*g+l*w,i[4]=c*m+u*v+l*_,i[7]=c*b+u*y+l*x,i[2]=h*p+f*g+d*w,i[5]=h*m+f*v+d*_,i[8]=h*b+f*y+d*x,this},multiplyScalar:function(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],u=t[8];return e*o*u-e*s*c-n*i*u+n*s*a+r*i*c-r*o*a},getInverse:function(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=t.elements,r=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=n[5],l=n[6],h=n[7],f=n[8],d=f*c-u*h,p=u*l-f*a,m=h*a-c*l,b=i*d+o*p+s*m;if(0===b)return this.set(0,0,0,0,0,0,0,0,0);const g=1/b;return r[0]=d*g,r[1]=(s*h-f*o)*g,r[2]=(u*o-s*c)*g,r[3]=p*g,r[4]=(f*i-s*l)*g,r[5]=(s*a-u*i)*g,r[6]=m*g,r[7]=(o*l-h*i)*g,r[8]=(c*i-o*a)*g,this},transpose:function(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,o,s){const a=Math.cos(i),c=Math.sin(i);this.set(n*a,n*c,-n*(a*o+c*s)+o+t,-r*c,r*a,-r*(-c*o+a*s)+s+e,0,0,1)},scale:function(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){const e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],s=r[6],a=r[1],c=r[4],u=r[7];return r[0]=e*i+n*a,r[3]=e*o+n*c,r[6]=e*s+n*u,r[1]=-n*i+e*a,r[4]=-n*o+e*c,r[7]=-n*s+e*u,this},translate:function(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});const zn={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Un&&(Un=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Un.width=t.width,Un.height=t.height;const n=Un.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Un}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let Hn=0;function Gn(t,e,n,r,i,o,s,a,c,u){Object.defineProperty(this,"id",{value:Hn++}),this.uuid=Bn.generateUUID(),this.name="",this.image=void 0!==t?t:Gn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Gn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:pt,this.wrapT=void 0!==r?r:pt,this.magFilter=void 0!==i?i:_t,this.minFilter=void 0!==o?o:Et,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:Ft,this.internalFormat=null,this.type=void 0!==a?a:jt,this.offset=new $n(0,0),this.repeat=new $n(1,1),this.center=new $n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Je,this.version=0,this.onUpdate=null}function Vn(t=0,e=0,n=0,r=1){this.x=t,this.y=e,this.z=n,this.w=r}function qn(t,e,n){this.width=t,this.height=e,this.scissor=new Vn(0,0,t,e),this.scissorTest=!1,this.viewport=new Vn(0,0,t,e),n=n||{},this.texture=new Gn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:_t,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Wn(t,e,n){qn.call(this,t,e,n),this.samples=4}function Kn(t=0,e=0,n=0,r=1){this._x=t,this._y=e,this._z=n,this._w=r}Gn.DEFAULT_IMAGE=void 0,Gn.DEFAULT_MAPPING=st,Gn.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Gn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=Bn.generateUUID()),!e&&void 0===t.images[r.uuid]){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)e.push(zn.getDataURL(r[t]))}else e=zn.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:e}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==st)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case dt:t.x=t.x-Math.floor(t.x);break;case pt:t.x=t.x<0?0:1;break;case mt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case dt:t.y=t.y-Math.floor(t.y);break;case pt:t.y=t.y<0?0:1;break;case mt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Gn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(Vn.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(Vn.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){const e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){let e,n,r,i;const o=t.elements,s=o[0],a=o[4],c=o[8],u=o[1],l=o[5],h=o[9],f=o[2],d=o[6],p=o[10];if(Math.abs(a-u)<.01&&Math.abs(c-f)<.01&&Math.abs(h-d)<.01){if(Math.abs(a+u)<.1&&Math.abs(c+f)<.1&&Math.abs(h+d)<.1&&Math.abs(s+l+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const t=(s+1)/2,o=(l+1)/2,m=(p+1)/2,b=(a+u)/4,g=(c+f)/4,v=(h+d)/4;return t>o&&t>m?t<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=b/n,i=g/n):o>m?o<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=b/r,i=v/r):m<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=g/i,r=v/i),this.set(n,r,i,e),this}let m=Math.sqrt((d-h)*(d-h)+(c-f)*(c-f)+(u-a)*(u-a));return Math.abs(m)<.001&&(m=1),this.x=(d-h)/m,this.y=(c-f)/m,this.z=(u-a)/m,this.w=Math.acos((s+l+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),qn.prototype=Object.assign(Object.create(Nn.prototype),{constructor:qn,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Wn.prototype=Object.assign(Object.create(qn.prototype),{constructor:Wn,isWebGLMultisampleRenderTarget:!0,copy:function(t){return qn.prototype.copy.call(this,t),this.samples=t.samples,this}}),Object.assign(Kn,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,s){let a=n[r+0],c=n[r+1],u=n[r+2],l=n[r+3];const h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||a!==h||c!==f||u!==d){let t=1-s,e=a*h+c*f+u*d+l*p,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,e*n);t=Math.sin(t*o)/i,s=Math.sin(s*o)/i}const i=s*n;if(a=a*t+h*i,c=c*t+f*i,u=u*t+d*i,l=l*t+p*i,t===1-s){const t=1/Math.sqrt(a*a+c*c+u*u+l*l);a*=t,c*=t,u*=t,l*=t}}t[e]=a,t[e+1]=c,t[e+2]=u,t[e+3]=l},multiplyQuaternionsFlat:function(t,e,n,r,i,o){const s=n[r],a=n[r+1],c=n[r+2],u=n[r+3],l=i[o],h=i[o+1],f=i[o+2],d=i[o+3];return t[e]=s*d+u*l+a*f-c*h,t[e+1]=a*d+u*h+c*l-s*f,t[e+2]=c*d+u*f+s*h-a*l,t[e+3]=u*d-s*l-a*h-c*f,t}}),Object.defineProperties(Kn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(Kn.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,i=t._z,o=t.order,s=Math.cos,a=Math.sin,c=s(n/2),u=s(r/2),l=s(i/2),h=a(n/2),f=a(r/2),d=a(i/2);switch(o){case"XYZ":this._x=h*u*l+c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l-h*f*d;break;case"YXZ":this._x=h*u*l+c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l+h*f*d;break;case"ZXY":this._x=h*u*l-c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l-h*f*d;break;case"ZYX":this._x=h*u*l-c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l+h*f*d;break;case"YZX":this._x=h*u*l+c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l-h*f*d;break;case"XZY":this._x=h*u*l-c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){const e=t.elements,n=e[0],r=e[4],i=e[8],o=e[1],s=e[5],a=e[9],c=e[2],u=e[6],l=e[10],h=n+s+l;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(u-a)*t,this._y=(i-c)*t,this._z=(o-r)*t}else if(n>s&&n>l){const t=2*Math.sqrt(1+n-s-l);this._w=(u-a)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(i+c)/t}else if(s>l){const t=2*Math.sqrt(1+s-n-l);this._w=(i-c)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(a+u)/t}else{const t=2*Math.sqrt(1+l-n-s);this._w=(o-r)/t,this._x=(i+c)/t,this._y=(a+u)/t,this._z=.25*t}return this._onChangeCallback(),this},setFromUnitVectors:function(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Bn.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){const n=t._x,r=t._y,i=t._z,o=t._w,s=e._x,a=e._y,c=e._z,u=e._w;return this._x=n*u+o*s+r*c-i*a,this._y=r*u+o*a+i*s-n*c,this._z=i*u+o*c+n*a-r*s,this._w=o*u-n*s-r*a-i*c,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,o=this._w;let s=o*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),u=Math.atan2(c,s),l=Math.sin((1-e)*u)/c,h=Math.sin(e*u)/c;return this._w=o*l+this._w*h,this._x=n*l+this._x*h,this._y=r*l+this._y*h,this._z=i*l+this._z*h,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},fromBufferAttribute:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});const Yn=new Zn,Xn=new Kn;function Zn(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}Object.assign(Zn.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Xn.setFromEuler(t))},applyAxisAngle:function(t,e){return this.applyQuaternion(Xn.setFromAxisAngle(t,e))},applyMatrix3:function(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){const e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){const e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,c=a*e+o*r-s*n,u=a*n+s*e-i*r,l=a*r+i*n-o*e,h=-i*e-o*n-s*r;return this.x=c*a+h*-i+u*-s-l*-o,this.y=u*a+h*-o+l*-i-c*-s,this.z=l*a+h*-s+c*-o-u*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){const n=t.x,r=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this},projectOnVector:function(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)},projectOnPlane:function(t){return Yn.copy(this).projectOnVector(t),this.sub(Yn)},reflect:function(t){return this.sub(Yn.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Bn.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},setFromMatrix3Column:function(t,e){return this.fromArray(t.elements,3*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const Jn=new Zn,Qn=new or,tr=new Zn(0,0,0),er=new Zn(1,1,1),nr=new Zn,rr=new Zn,ir=new Zn;function or(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(or.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,s,a,c,u,l,h,f,d,p,m){const b=this.elements;return b[0]=t,b[4]=e,b[8]=n,b[12]=r,b[1]=i,b[5]=o,b[9]=s,b[13]=a,b[2]=c,b[6]=u,b[10]=l,b[14]=h,b[3]=f,b[7]=d,b[11]=p,b[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new or).fromArray(this.elements)},copy:function(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){const e=this.elements,n=t.elements,r=1/Jn.setFromMatrixColumn(t,0).length(),i=1/Jn.setFromMatrixColumn(t,1).length(),o=1/Jn.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),c=Math.sin(r),u=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){const t=o*u,n=o*l,r=s*u,i=s*l;e[0]=a*u,e[4]=-a*l,e[8]=c,e[1]=n+r*c,e[5]=t-i*c,e[9]=-s*a,e[2]=i-t*c,e[6]=r+n*c,e[10]=o*a}else if("YXZ"===t.order){const t=a*u,n=a*l,r=c*u,i=c*l;e[0]=t+i*s,e[4]=r*s-n,e[8]=o*c,e[1]=o*l,e[5]=o*u,e[9]=-s,e[2]=n*s-r,e[6]=i+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*u,n=a*l,r=c*u,i=c*l;e[0]=t-i*s,e[4]=-o*l,e[8]=r+n*s,e[1]=n+r*s,e[5]=o*u,e[9]=i-t*s,e[2]=-o*c,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*u,n=o*l,r=s*u,i=s*l;e[0]=a*u,e[4]=r*c-n,e[8]=t*c+i,e[1]=a*l,e[5]=i*c+t,e[9]=n*c-r,e[2]=-c,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*c,r=s*a,i=s*c;e[0]=a*u,e[4]=i-t*l,e[8]=r*l+n,e[1]=l,e[5]=o*u,e[9]=-s*u,e[2]=-c*u,e[6]=n*l+r,e[10]=t-i*l}else if("XZY"===t.order){const t=o*a,n=o*c,r=s*a,i=s*c;e[0]=a*u,e[4]=-l,e[8]=c*u,e[1]=t*l+i,e[5]=o*u,e[9]=n*l-r,e[2]=r*l-n,e[6]=s*u,e[10]=i*l+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(tr,t,er)},lookAt:function(t,e,n){const r=this.elements;return ir.subVectors(t,e),0===ir.lengthSq()&&(ir.z=1),ir.normalize(),nr.crossVectors(n,ir),0===nr.lengthSq()&&(1===Math.abs(n.z)?ir.x+=1e-4:ir.z+=1e-4,ir.normalize(),nr.crossVectors(n,ir)),nr.normalize(),rr.crossVectors(ir,nr),r[0]=nr.x,r[4]=rr.x,r[8]=ir.x,r[1]=nr.y,r[5]=rr.y,r[9]=ir.y,r[2]=nr.z,r[6]=rr.z,r[10]=ir.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){const n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[4],a=n[8],c=n[12],u=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],b=n[14],g=n[3],v=n[7],y=n[11],w=n[15],_=r[0],x=r[4],O=r[8],E=r[12],S=r[1],j=r[5],M=r[9],T=r[13],A=r[2],k=r[6],I=r[10],C=r[14],R=r[3],P=r[7],L=r[11],N=r[15];return i[0]=o*_+s*S+a*A+c*R,i[4]=o*x+s*j+a*k+c*P,i[8]=o*O+s*M+a*I+c*L,i[12]=o*E+s*T+a*C+c*N,i[1]=u*_+l*S+h*A+f*R,i[5]=u*x+l*j+h*k+f*P,i[9]=u*O+l*M+h*I+f*L,i[13]=u*E+l*T+h*C+f*N,i[2]=d*_+p*S+m*A+b*R,i[6]=d*x+p*j+m*k+b*P,i[10]=d*O+p*M+m*I+b*L,i[14]=d*E+p*T+m*C+b*N,i[3]=g*_+v*S+y*A+w*R,i[7]=g*x+v*j+y*k+w*P,i[11]=g*O+v*M+y*I+w*L,i[15]=g*E+v*T+y*C+w*N,this},multiplyScalar:function(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},determinant:function(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],s=t[5],a=t[9],c=t[13],u=t[2],l=t[6],h=t[10],f=t[14];return t[3]*(+i*a*l-r*c*l-i*s*h+n*c*h+r*s*f-n*a*f)+t[7]*(+e*a*f-e*c*h+i*o*h-r*o*f+r*c*u-i*a*u)+t[11]*(+e*c*l-e*s*f-i*o*l+n*o*f+i*s*u-n*c*u)+t[15]*(-r*s*u-e*a*l+e*s*h+r*o*l-n*o*h+n*a*u)},transpose:function(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},getInverse:function(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,r=t.elements,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],u=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],b=r[12],g=r[13],v=r[14],y=r[15],w=d*v*h-g*p*h+g*l*m-u*v*m-d*l*y+u*p*y,_=b*p*h-f*v*h-b*l*m+c*v*m+f*l*y-c*p*y,x=f*g*h-b*d*h+b*u*m-c*g*m-f*u*y+c*d*y,O=b*d*l-f*g*l-b*u*p+c*g*p+f*u*v-c*d*v,E=i*w+o*_+s*x+a*O;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/E;return n[0]=w*S,n[1]=(g*p*a-d*v*a-g*s*m+o*v*m+d*s*y-o*p*y)*S,n[2]=(u*v*a-g*l*a+g*s*h-o*v*h-u*s*y+o*l*y)*S,n[3]=(d*l*a-u*p*a-d*s*h+o*p*h+u*s*m-o*l*m)*S,n[4]=_*S,n[5]=(f*v*a-b*p*a+b*s*m-i*v*m-f*s*y+i*p*y)*S,n[6]=(b*l*a-c*v*a-b*s*h+i*v*h+c*s*y-i*l*y)*S,n[7]=(c*p*a-f*l*a+f*s*h-i*p*h-c*s*m+i*l*m)*S,n[8]=x*S,n[9]=(b*d*a-f*g*a-b*o*m+i*g*m+f*o*y-i*d*y)*S,n[10]=(c*g*a-b*u*a+b*o*h-i*g*h-c*o*y+i*u*y)*S,n[11]=(f*u*a-c*d*a-f*o*h+i*d*h+c*o*m-i*u*m)*S,n[12]=O*S,n[13]=(f*g*s-b*d*s+b*o*p-i*g*p-f*o*v+i*d*v)*S,n[14]=(b*u*s-c*g*s-b*o*l+i*g*l+c*o*v-i*u*v)*S,n[15]=(c*d*s-f*u*s+f*o*l-i*d*l-c*o*p+i*u*p)*S,this},scale:function(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,s=t.y,a=t.z,c=i*o,u=i*s;return this.set(c*o+n,c*s-r*a,c*a+r*s,0,c*s+r*a,u*s+n,u*a-r*o,0,c*a-r*s,u*a+r*o,i*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){const r=this.elements,i=e._x,o=e._y,s=e._z,a=e._w,c=i+i,u=o+o,l=s+s,h=i*c,f=i*u,d=i*l,p=o*u,m=o*l,b=s*l,g=a*c,v=a*u,y=a*l,w=n.x,_=n.y,x=n.z;return r[0]=(1-(p+b))*w,r[1]=(f+y)*w,r[2]=(d-v)*w,r[3]=0,r[4]=(f-y)*_,r[5]=(1-(h+b))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(d+v)*x,r[9]=(m-g)*x,r[10]=(1-(h+p))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(t,e,n){const r=this.elements;let i=Jn.set(r[0],r[1],r[2]).length(),o=Jn.set(r[4],r[5],r[6]).length(),s=Jn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],Qn.copy(this);const a=1/i,c=1/o,u=1/s;return Qn.elements[0]*=a,Qn.elements[1]*=a,Qn.elements[2]*=a,Qn.elements[4]*=c,Qn.elements[5]*=c,Qn.elements[6]*=c,Qn.elements[8]*=u,Qn.elements[9]*=u,Qn.elements[10]*=u,e.setFromRotationMatrix(Qn),n.x=i,n.y=o,n.z=s,this},makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=l,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){const s=this.elements,a=1/(e-t),c=1/(n-r),u=1/(o-i),l=(e+t)*a,h=(n+r)*c,f=(o+i)*u;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-l,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}});const sr=new or,ar=new Kn;function cr(t=0,e=0,n=0,r=cr.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=r}function ur(){this.mask=1}cr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],cr.DefaultOrder="XYZ",Object.defineProperties(cr.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(cr.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){const r=Bn.clamp,i=t.elements,o=i[0],s=i[4],a=i[8],c=i[1],u=i[5],l=i[9],h=i[2],f=i[6],d=i[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,n){return sr.makeRotationFromQuaternion(t),this.setFromRotationMatrix(sr,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return ar.setFromEuler(this),this.setFromQuaternion(ar,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Zn(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(ur.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return 0!=(this.mask&t.mask)}});let lr=0;const hr=new Zn,fr=new Kn,dr=new or,pr=new Zn,mr=new Zn,br=new Zn,gr=new Kn,vr=new Zn(1,0,0),yr=new Zn(0,1,0),wr=new Zn(0,0,1),_r={type:"added"},xr={type:"removed"};function Or(){Object.defineProperty(this,"id",{value:lr++}),this.uuid=Bn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Or.DefaultUp.clone();const t=new Zn,e=new cr,n=new Kn,r=new Zn(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new or},normalMatrix:{value:new Fn}}),this.matrix=new or,this.matrixWorld=new or,this.matrixAutoUpdate=Or.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ur,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Er(){Or.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Or.DefaultUp=new Zn(0,1,0),Or.DefaultMatrixAutoUpdate=!0,Or.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Or,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return fr.setFromAxisAngle(t,e),this.quaternion.multiply(fr),this},rotateOnWorldAxis:function(t,e){return fr.setFromAxisAngle(t,e),this.quaternion.premultiply(fr),this},rotateX:function(t){return this.rotateOnAxis(vr,t)},rotateY:function(t){return this.rotateOnAxis(yr,t)},rotateZ:function(t){return this.rotateOnAxis(wr,t)},translateOnAxis:function(t,e){return hr.copy(t).applyQuaternion(this.quaternion),this.position.add(hr.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(vr,t)},translateY:function(t){return this.translateOnAxis(yr,t)},translateZ:function(t){return this.translateOnAxis(wr,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(dr.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?pr.copy(t):pr.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),mr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dr.lookAt(mr,pr,this.up):dr.lookAt(pr,mr,this.up),this.quaternion.setFromRotationMatrix(dr),r&&(dr.extractRotation(r.matrixWorld),fr.setFromRotationMatrix(dr),this.quaternion.premultiply(fr.inverse()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(_r)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(xr)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),dr.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),dr.multiply(t.parent.matrixWorld)),t.applyMatrix4(dr),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Zn),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Kn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(mr,t,br),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Zn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(mr,gr,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Zn),this.updateMatrixWorld(!0);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(e){const e=o(t.geometries),r=o(t.materials),i=o(t.textures),s=o(t.images),a=o(t.shapes);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a)}return n.object=r,n;function o(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}}),Er.prototype=Object.assign(Object.create(Or.prototype),{constructor:Er,isScene:!0,copy:function(t,e){return Or.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){const e=Or.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Sr=[new Zn,new Zn,new Zn,new Zn,new Zn,new Zn,new Zn,new Zn],jr=new Zn,Mr=new Br,Tr=new Zn,Ar=new Zn,kr=new Zn,Ir=new Zn,Cr=new Zn,Rr=new Zn,Pr=new Zn,Lr=new Zn,Nr=new Zn,Dr=new Zn;function Br(t,e){this.min=void 0!==t?t:new Zn(1/0,1/0,1/0),this.max=void 0!==e?e:new Zn(-1/0,-1/0,-1/0)}function $r(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Dr.fromArray(t,o);const s=i.x*Math.abs(Dr.x)+i.y*Math.abs(Dr.y)+i.z*Math.abs(Dr.z),a=e.dot(Dr),c=n.dot(Dr),u=r.dot(Dr);if(Math.max(-Math.max(a,c,u),Math.min(a,c,u))>s)return!1}return!0}Object.assign(Br.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0;for(let a=0,c=t.length;a<c;a+=3){const c=t[a],u=t[a+1],l=t[a+2];c<e&&(e=c),u<n&&(n=u),l<r&&(r=l),c>i&&(i=c),u>o&&(o=u),l>s&&(s=l)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromBufferAttribute:function(t){let e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0;for(let a=0,c=t.count;a<c;a++){const c=t.getX(a),u=t.getY(a),l=t.getZ(a);c<e&&(e=c),u<n&&(n=u),l<r&&(r=l),c>i&&(i=c),u>o&&(o=u),l>s&&(s=l)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromPoints:function(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){const n=jr.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Zn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Zn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Mr.copy(e.boundingBox),Mr.applyMatrix4(t.matrixWorld),this.union(Mr));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Zn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,jr),jr.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(t){if(this.isEmpty())return!1;this.getCenter(Pr),Lr.subVectors(this.max,Pr),Tr.subVectors(t.a,Pr),Ar.subVectors(t.b,Pr),kr.subVectors(t.c,Pr),Ir.subVectors(Ar,Tr),Cr.subVectors(kr,Ar),Rr.subVectors(Tr,kr);let e=[0,-Ir.z,Ir.y,0,-Cr.z,Cr.y,0,-Rr.z,Rr.y,Ir.z,0,-Ir.x,Cr.z,0,-Cr.x,Rr.z,0,-Rr.x,-Ir.y,Ir.x,0,-Cr.y,Cr.x,0,-Rr.y,Rr.x,0];return!!$r(e,Tr,Ar,kr,Lr)&&(e=[1,0,0,0,1,0,0,0,1],!!$r(e,Tr,Ar,kr,Lr)&&(Nr.crossVectors(Ir,Cr),e=[Nr.x,Nr.y,Nr.z],$r(e,Tr,Ar,kr,Lr)))},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Zn),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return jr.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(jr).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()||(Sr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Sr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Sr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Sr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Sr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Sr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Sr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Sr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Sr)),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});const Fr=new Br;function Ur(t,e){this.center=void 0!==t?t:new Zn,this.radius=void 0!==e?e:-1}Object.assign(Ur.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){const n=this.center;void 0!==e?n.copy(e):Fr.setFromPoints(t).getCenter(n);let r=0;for(let e=0,i=t.length;e<i;e++)r=Math.max(r,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Zn),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Br),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});const zr=new Zn,Hr=new Zn,Gr=new Zn,Vr=new Zn,qr=new Zn,Wr=new Zn,Kr=new Zn;function Yr(t,e){this.origin=void 0!==t?t:new Zn,this.direction=void 0!==e?e:new Zn(0,0,-1)}Object.assign(Yr.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Zn),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,zr)),this},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Zn),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){const e=zr.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(zr.copy(this.direction).multiplyScalar(e).add(this.origin),zr.distanceToSquared(t))},distanceSqToSegment:function(t,e,n,r){Hr.copy(t).add(e).multiplyScalar(.5),Gr.copy(e).sub(t).normalize(),Vr.copy(this.origin).sub(Hr);const i=.5*t.distanceTo(e),o=-this.direction.dot(Gr),s=Vr.dot(this.direction),a=-Vr.dot(Gr),c=Vr.lengthSq(),u=Math.abs(1-o*o);let l,h,f,d;if(u>0)if(l=o*a-s,h=o*s-a,d=i*u,l>=0)if(h>=-d)if(h<=d){const t=1/u;l*=t,h*=t,f=l*(l+o*h+2*s)+h*(o*l+h+2*a)+c}else h=i,l=Math.max(0,-(o*h+s)),f=-l*l+h*(h+2*a)+c;else h=-i,l=Math.max(0,-(o*h+s)),f=-l*l+h*(h+2*a)+c;else h<=-d?(l=Math.max(0,-(-o*i+s)),h=l>0?-i:Math.min(Math.max(-i,-a),i),f=-l*l+h*(h+2*a)+c):h<=d?(l=0,h=Math.min(Math.max(-i,-a),i),f=h*(h+2*a)+c):(l=Math.max(0,-(o*i+s)),h=l>0?i:Math.min(Math.max(-i,-a),i),f=-l*l+h*(h+2*a)+c);else h=o>0?-i:i,l=Math.max(0,-(o*h+s)),f=-l*l+h*(h+2*a)+c;return n&&n.copy(this.direction).multiplyScalar(l).add(this.origin),r&&r.copy(Gr).multiplyScalar(h).add(Hr),f},intersectSphere:function(t,e){zr.subVectors(t.center,this.origin);const n=zr.dot(this.direction),r=zr.dot(zr)-n*n,i=t.radius*t.radius;if(r>i)return null;const o=Math.sqrt(i-r),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,e):this.at(s,e)},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){let n,r,i,o,s,a;const c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),u>=0?(i=(t.min.y-h.y)*u,o=(t.max.y-h.y)*u):(i=(t.max.y-h.y)*u,o=(t.min.y-h.y)*u),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),l>=0?(s=(t.min.z-h.z)*l,a=(t.max.z-h.z)*l):(s=(t.max.z-h.z)*l,a=(t.min.z-h.z)*l),n>a||s>r?null:((s>n||n!=n)&&(n=s),(a<r||r!=r)&&(r=a),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(t){return null!==this.intersectBox(t,zr)},intersectTriangle:function(t,e,n,r,i){qr.subVectors(e,t),Wr.subVectors(n,t),Kr.crossVectors(qr,Wr);let o,s=this.direction.dot(Kr);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Vr.subVectors(this.origin,t);const a=o*this.direction.dot(Wr.crossVectors(Vr,Wr));if(a<0)return null;const c=o*this.direction.dot(qr.cross(Vr));if(c<0)return null;if(a+c>s)return null;const u=-o*Vr.dot(Kr);return u<0?null:this.at(u/s,i)},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});const Xr=new Zn,Zr=new Zn,Jr=new Fn;function Qr(t,e){this.normal=void 0!==t?t:new Zn(1,0,0),this.constant=void 0!==e?e:0}Object.assign(Qr.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(t,e,n){const r=Xr.subVectors(n,e).cross(Zr.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Zn),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Zn);const n=t.delta(Xr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:e.copy(n).multiplyScalar(i).add(t.start)},intersectsLine:function(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Zn),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,e){const n=e||Jr.getNormalMatrix(t),r=this.coplanarPoint(Xr).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});const ti=new Zn,ei=new Zn,ni=new Zn,ri=new Zn,ii=new Zn,oi=new Zn,si=new Zn,ai=new Zn,ci=new Zn,ui=new Zn;function li(t,e,n){this.a=void 0!==t?t:new Zn,this.b=void 0!==e?e:new Zn,this.c=void 0!==n?n:new Zn}Object.assign(li,{getNormal:function(t,e,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Zn),r.subVectors(n,e),ti.subVectors(t,e),r.cross(ti);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(t,e,n,r,i){ti.subVectors(r,e),ei.subVectors(n,e),ni.subVectors(t,e);const o=ti.dot(ti),s=ti.dot(ei),a=ti.dot(ni),c=ei.dot(ei),u=ei.dot(ni),l=o*c-s*s;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Zn),0===l)return i.set(-2,-1,-1);const h=1/l,f=(c*a-s*u)*h,d=(o*u-s*a)*h;return i.set(1-f-d,d,f)},containsPoint:function(t,e,n,r){return li.getBarycoord(t,e,n,r,ri),ri.x>=0&&ri.y>=0&&ri.x+ri.y<=1},getUV:function(t,e,n,r,i,o,s,a){return this.getBarycoord(t,e,n,r,ri),a.set(0,0),a.addScaledVector(i,ri.x),a.addScaledVector(o,ri.y),a.addScaledVector(s,ri.z),a},isFrontFacing:function(t,e,n,r){return ti.subVectors(n,e),ei.subVectors(t,e),ti.cross(ei).dot(r)<0}}),Object.assign(li.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return ti.subVectors(this.c,this.b),ei.subVectors(this.a,this.b),.5*ti.cross(ei).length()},getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Zn),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return li.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Qr),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return li.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,r,i){return li.getUV(t,this.a,this.b,this.c,e,n,r,i)},containsPoint:function(t){return li.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return li.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Zn);const n=this.a,r=this.b,i=this.c;let o,s;ii.subVectors(r,n),oi.subVectors(i,n),ai.subVectors(t,n);const a=ii.dot(ai),c=oi.dot(ai);if(a<=0&&c<=0)return e.copy(n);ci.subVectors(t,r);const u=ii.dot(ci),l=oi.dot(ci);if(u>=0&&l<=u)return e.copy(r);const h=a*l-u*c;if(h<=0&&a>=0&&u<=0)return o=a/(a-u),e.copy(n).addScaledVector(ii,o);ui.subVectors(t,i);const f=ii.dot(ui),d=oi.dot(ui);if(d>=0&&f<=d)return e.copy(i);const p=f*c-a*d;if(p<=0&&c>=0&&d<=0)return s=c/(c-d),e.copy(n).addScaledVector(oi,s);const m=u*d-f*l;if(m<=0&&l-u>=0&&f-d>=0)return si.subVectors(i,r),s=(l-u)/(l-u+(f-d)),e.copy(r).addScaledVector(si,s);const b=1/(m+p+h);return o=p*b,s=h*b,e.copy(n).addScaledVector(ii,o).addScaledVector(oi,s)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});const hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fi={h:0,s:0,l:0},di={h:0,s:0,l:0};function pi(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function mi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function bi(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function gi(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function vi(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Zn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new pi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(pi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(t=Bn.euclideanModulo(t,1),e=Bn.clamp(e,0,1),n=Bn.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=mi(i,r,t+1/3),this.g=mi(i,r,t),this.b=mi(i,r,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[5]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[5]),this;break;case"hsl":case"hsla":if(t=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return e(t[5]),this.setHSL(n,r,i)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this},setColorName:function(t){const e=hi[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=bi(t.r),this.g=bi(t.g),this.b=bi(t.b),this},copyLinearToSRGB:function(t){return this.r=gi(t.r),this.g=gi(t.g),this.b=gi(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,r=this.b,i=Math.max(e,n,r),o=Math.min(e,n,r);let s,a;const c=(o+i)/2;if(o===i)s=0,a=0;else{const t=i-o;switch(a=c<=.5?t/(i+o):t/(2-i-o),i){case e:s=(n-r)/t+(n<r?6:0);break;case n:s=(r-e)/t+2;break;case r:s=(e-n)/t+4}s/=6}return t.h=s,t.s=a,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){return this.getHSL(fi),fi.h+=t,fi.s+=e,fi.l+=n,this.setHSL(fi.h,fi.s,fi.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(t,e){this.getHSL(fi),t.getHSL(di);const n=Bn.lerp(fi.h,di.h,e),r=Bn.lerp(fi.s,di.s,e),i=Bn.lerp(fi.l,di.l,e);return this.setHSL(n,r,i),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},fromBufferAttribute:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),pi.NAMES=hi,Object.assign(vi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});let yi=0;function wi(){Object.defineProperty(this,"id",{value:yi++}),this.uuid=Bn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=x,this.side=b,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=N,this.blendDst=D,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fn,this.stencilZFail=fn,this.stencilZPass=fn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function _i(t){wi.call(this),this.type="MeshBasicMaterial",this.color=new pi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}wi.prototype=Object.assign(Object.create(Nn.prototype),{constructor:wi,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===y;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==x&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==b&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),_i.prototype=Object.create(wi.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshBasicMaterial=!0,_i.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const xi=new Zn,Oi=new $n;function Ei(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Mn,this.updateRange={offset:0,count:-1},this.version=0}function Si(t,e,n){Ei.call(this,new Int8Array(t),e,n)}function ji(t,e,n){Ei.call(this,new Uint8Array(t),e,n)}function Mi(t,e,n){Ei.call(this,new Uint8ClampedArray(t),e,n)}function Ti(t,e,n){Ei.call(this,new Int16Array(t),e,n)}function Ai(t,e,n){Ei.call(this,new Uint16Array(t),e,n)}function ki(t,e,n){Ei.call(this,new Int32Array(t),e,n)}function Ii(t,e,n){Ei.call(this,new Uint32Array(t),e,n)}function Ci(t,e,n){Ei.call(this,new Float32Array(t),e,n)}function Ri(t,e,n){Ei.call(this,new Float64Array(t),e,n)}function Pi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Li(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}Object.defineProperty(Ei.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ei.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new pi),e[n++]=i.r,e[n++]=i.g,e[n++]=i.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new $n),e[n++]=i.x,e[n++]=i.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new Zn),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let r=0,i=t.length;r<i;r++){let i=t[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new Vn),e[n++]=i.x,e[n++]=i.y,e[n++]=i.z,e[n++]=i.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Oi.fromBufferAttribute(this,e),Oi.applyMatrix3(t),this.setXY(e,Oi.x,Oi.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)xi.fromBufferAttribute(this,e),xi.applyMatrix3(t),this.setXYZ(e,xi.x,xi.y,xi.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)xi.x=this.getX(e),xi.y=this.getY(e),xi.z=this.getZ(e),xi.applyMatrix4(t),this.setXYZ(e,xi.x,xi.y,xi.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)xi.x=this.getX(e),xi.y=this.getY(e),xi.z=this.getZ(e),xi.applyNormalMatrix(t),this.setXYZ(e,xi.x,xi.y,xi.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)xi.x=this.getX(e),xi.y=this.getY(e),xi.z=this.getZ(e),xi.transformDirection(t),this.setXYZ(e,xi.x,xi.y,xi.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Si.prototype=Object.create(Ei.prototype),Si.prototype.constructor=Si,ji.prototype=Object.create(Ei.prototype),ji.prototype.constructor=ji,Mi.prototype=Object.create(Ei.prototype),Mi.prototype.constructor=Mi,Ti.prototype=Object.create(Ei.prototype),Ti.prototype.constructor=Ti,Ai.prototype=Object.create(Ei.prototype),Ai.prototype.constructor=Ai,ki.prototype=Object.create(Ei.prototype),ki.prototype.constructor=ki,Ii.prototype=Object.create(Ei.prototype),Ii.prototype.constructor=Ii,Ci.prototype=Object.create(Ei.prototype),Ci.prototype.constructor=Ci,Ri.prototype=Object.create(Ei.prototype),Ri.prototype.constructor=Ri,Object.assign(Pi.prototype,{computeGroups:function(t){const e=[];let n,r,i=void 0;const o=t.faces;for(r=0;r<o.length;r++){const t=o[r];t.materialIndex!==i&&(i=t.materialIndex,void 0!==n&&(n.count=3*r-n.start,e.push(n)),n={start:3*r,materialIndex:i})}void 0!==n&&(n.count=3*r-n.start,e.push(n)),this.groups=e},fromGeometry:function(t){const e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,a=s.length;let c;if(a>0){c=[];for(let t=0;t<a;t++)c[t]={name:s[t].name,data:[]};this.morphTargets.position=c}const u=t.morphNormals,l=u.length;let h;if(l>0){h=[];for(let t=0;t<l;t++)h[t]={name:u[t].name,data:[]};this.morphTargets.normal=h}const f=t.skinIndices,d=t.skinWeights,p=f.length===n.length,m=d.length===n.length;n.length>0&&0===e.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let t=0;t<e.length;t++){const b=e[t];this.vertices.push(n[b.a],n[b.b],n[b.c]);const g=b.vertexNormals;if(3===g.length)this.normals.push(g[0],g[1],g[2]);else{const t=b.normal;this.normals.push(t,t,t)}const v=b.vertexColors;if(3===v.length)this.colors.push(v[0],v[1],v[2]);else{const t=b.color;this.colors.push(t,t,t)}if(!0===i){const e=r[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",t),this.uvs.push(new $n,new $n,new $n))}if(!0===o){const e=r[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",t),this.uvs2.push(new $n,new $n,new $n))}for(let t=0;t<a;t++){const e=s[t].vertices;c[t].data.push(e[b.a],e[b.b],e[b.c])}for(let e=0;e<l;e++){const n=u[e].vertexNormals[t];h[e].data.push(n.a,n.b,n.c)}p&&this.skinIndices.push(f[b.a],f[b.b],f[b.c]),m&&this.skinWeights.push(d[b.a],d[b.b],d[b.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});let Ni=1;const Di=new or,Bi=new Or,$i=new Zn,Fi=new Br,Ui=new Br,zi=new Zn;function Hi(){Object.defineProperty(this,"id",{value:Ni+=2}),this.uuid=Bn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Hi.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Hi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Li(t)>65535?Ii:Ai)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Fn).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Di.makeRotationX(t),this.applyMatrix4(Di),this},rotateY:function(t){return Di.makeRotationY(t),this.applyMatrix4(Di),this},rotateZ:function(t){return Di.makeRotationZ(t),this.applyMatrix4(Di),this},translate:function(t,e,n){return Di.makeTranslation(t,e,n),this.applyMatrix4(Di),this},scale:function(t,e,n){return Di.makeScale(t,e,n),this.applyMatrix4(Di),this},lookAt:function(t){return Bi.lookAt(t),Bi.updateMatrix(),this.applyMatrix4(Bi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($i).negate(),this.translate($i.x,$i.y,$i.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new Ci(3*e.vertices.length,3),n=new Ci(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new Ci(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ci(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Pi).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Ei(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Ei(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new Ei(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Ei(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Ei(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],r=t.morphTargets[e];for(let t=0,e=r.length;t<e;t++){const e=r[t],i=new Ci(3*e.data.length,3);i.name=e.name,n.push(i.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new Ci(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new Ci(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Br);const t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Fi.setFromBufferAttribute(n),this.morphTargetsRelative?(zi.addVectors(this.boundingBox.min,Fi.min),this.boundingBox.expandByPoint(zi),zi.addVectors(this.boundingBox.max,Fi.max),this.boundingBox.expandByPoint(zi)):(this.boundingBox.expandByPoint(Fi.min),this.boundingBox.expandByPoint(Fi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ur);const t=this.attributes.position,e=this.morphAttributes.position;if(t){const n=this.boundingSphere.center;if(Fi.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Ui.setFromBufferAttribute(n),this.morphTargetsRelative?(zi.addVectors(Fi.min,Ui.min),Fi.expandByPoint(zi),zi.addVectors(Fi.max,Ui.max),Fi.expandByPoint(zi)):(Fi.expandByPoint(Ui.min),Fi.expandByPoint(Ui.max))}Fi.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)zi.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(zi));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],s=this.morphTargetsRelative;for(let e=0,i=o.count;e<i;e++)zi.fromBufferAttribute(o,e),s&&($i.fromBufferAttribute(t,e),zi.add($i)),r=Math.max(r,n.distanceToSquared(zi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ei(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new Zn,i=new Zn,o=new Zn,s=new Zn,a=new Zn,c=new Zn,u=new Zn,l=new Zn;if(t)for(let h=0,f=t.count;h<f;h+=3){const f=t.getX(h+0),d=t.getX(h+1),p=t.getX(h+2);r.fromBufferAttribute(e,f),i.fromBufferAttribute(e,d),o.fromBufferAttribute(e,p),u.subVectors(o,i),l.subVectors(r,i),u.cross(l),s.fromBufferAttribute(n,f),a.fromBufferAttribute(n,d),c.fromBufferAttribute(n,p),s.add(u),a.add(u),c.add(u),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,c.x,c.y,c.z)}else for(let t=0,s=e.count;t<s;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),u.subVectors(o,i),l.subVectors(r,i),u.cross(l),n.setXYZ(t+0,u.x,u.y,u.z),n.setXYZ(t+1,u.x,u.y,u.z),n.setXYZ(t+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const i=n[r].array,o=t.attributes[r],s=o.array,a=o.itemSize*e,c=Math.min(s.length,i.length-a);for(let t=0,e=a;t<c;t++,e++)i[e]=s[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)zi.fromBufferAttribute(t,e),zi.normalize(),t.setXYZ(e,zi.x,zi.y,zi.z)},toNonIndexed:function(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,o=new n.constructor(e.length*r);let s=0,a=0;for(let t=0,i=e.length;t<i;t++){s=e[t]*r;for(let t=0;t<r;t++)o[a++]=n[s++]}return new Ei(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new Hi,n=this.index.array,r=this.attributes;for(const i in r){const o=t(r[i],n);e.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],s=i[r];for(let e=0,r=s.length;e<r;e++){const r=t(s[e],n);o.push(r)}e.morphAttributes[r]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const r=n[e],i=r.toJSON(t.data);""!==r.name&&(i.name=r.name),t.data.attributes[e]=i}const r={};let i=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e],i=r.toJSON(t.data);""!==r.name&&(i.name=r.name),o.push(i)}o.length>0&&(r[e]=o,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t},clone:function(){return(new Hi).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const t in r){const n=r[t];this.setAttribute(t,n.clone(e))}const i=t.morphAttributes;for(const t in i){const n=[],r=i[t];for(let t=0,i=r.length;t<i;t++)n.push(r[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Gi=new or,Vi=new Yr,qi=new Ur,Wi=new Zn,Ki=new Zn,Yi=new Zn,Xi=new Zn,Zi=new Zn,Ji=new Zn,Qi=new Zn,to=new Zn,eo=new Zn,no=new $n,ro=new $n,io=new $n,oo=new Zn,so=new Zn;function ao(t,e){Or.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Hi,this.material=void 0!==e?e:new _i,this.updateMorphTargets()}function co(t,e,n,r,i,o,s,a){let c;if(c=e.side===g?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,e.side!==v,a),null===c)return null;so.copy(a),so.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(so);return u<n.near||u>n.far?null:{distance:u,point:so.clone(),object:t}}function uo(t,e,n,r,i,o,s,a,c,u,l,h){Wi.fromBufferAttribute(i,u),Ki.fromBufferAttribute(i,l),Yi.fromBufferAttribute(i,h);const f=t.morphTargetInfluences;if(e.morphTargets&&o&&f){Qi.set(0,0,0),to.set(0,0,0),eo.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=f[t],n=o[t];0!==e&&(Xi.fromBufferAttribute(n,u),Zi.fromBufferAttribute(n,l),Ji.fromBufferAttribute(n,h),s?(Qi.addScaledVector(Xi,e),to.addScaledVector(Zi,e),eo.addScaledVector(Ji,e)):(Qi.addScaledVector(Xi.sub(Wi),e),to.addScaledVector(Zi.sub(Ki),e),eo.addScaledVector(Ji.sub(Yi),e)))}Wi.add(Qi),Ki.add(to),Yi.add(eo)}t.isSkinnedMesh&&(t.boneTransform(u,Wi),t.boneTransform(l,Ki),t.boneTransform(h,Yi));const d=co(t,e,n,r,Wi,Ki,Yi,oo);if(d){a&&(no.fromBufferAttribute(a,u),ro.fromBufferAttribute(a,l),io.fromBufferAttribute(a,h),d.uv=li.getUV(oo,Wi,Ki,Yi,no,ro,io,new $n)),c&&(no.fromBufferAttribute(c,u),ro.fromBufferAttribute(c,l),io.fromBufferAttribute(c,h),d.uv2=li.getUV(oo,Wi,Ki,Yi,no,ro,io,new $n));const t=new vi(u,l,h);li.getNormal(Wi,Ki,Yi,t.normal),d.face=t}return d}ao.prototype=Object.assign(Object.create(Or.prototype),{constructor:ao,isMesh:!0,copy:function(t){return Or.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),qi.copy(n.boundingSphere),qi.applyMatrix4(i),!1===t.ray.intersectsSphere(qi))return;if(Gi.getInverse(i),Vi.copy(t.ray).applyMatrix4(Gi),null!==n.boundingBox&&!1===Vi.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,s=n.attributes.position,a=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,l=n.attributes.uv2,h=n.groups,f=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,d=h.length;n<d;n++){const d=h[n],p=r[d.materialIndex];for(let n=Math.max(d.start,f.start),r=Math.min(d.start+d.count,f.start+f.count);n<r;n+=3){const r=i.getX(n),h=i.getX(n+1),f=i.getX(n+2);o=uo(this,p,t,Vi,s,a,c,u,l,r,h,f),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=d.materialIndex,e.push(o))}}else{for(let n=Math.max(0,f.start),h=Math.min(i.count,f.start+f.count);n<h;n+=3){const h=i.getX(n),f=i.getX(n+1),d=i.getX(n+2);o=uo(this,r,t,Vi,s,a,c,u,l,h,f,d),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}}else if(void 0!==s)if(Array.isArray(r))for(let n=0,i=h.length;n<i;n++){const i=h[n],d=r[i.materialIndex];for(let n=Math.max(i.start,f.start),r=Math.min(i.start+i.count,f.start+f.count);n<r;n+=3){o=uo(this,d,t,Vi,s,a,c,u,l,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,e.push(o))}}else{for(let n=Math.max(0,f.start),i=Math.min(s.count,f.start+f.count);n<i;n+=3){o=uo(this,r,t,Vi,s,a,c,u,l,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}}}else if(n.isGeometry){const i=Array.isArray(r),s=n.vertices,a=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let n=0,u=a.length;n<u;n++){const u=a[n],l=i?r[u.materialIndex]:r;if(void 0===l)continue;const h=s[u.a],f=s[u.b],d=s[u.c];if(o=co(this,l,t,Vi,h,f,d,oo),o){if(c&&c[n]){const t=c[n];no.copy(t[0]),ro.copy(t[1]),io.copy(t[2]),o.uv=li.getUV(oo,h,f,d,no,ro,io,new $n)}o.face=u,o.faceIndex=n,e.push(o)}}}}});let lo=0;const ho=new or,fo=new Or,po=new Zn;function mo(){Object.defineProperty(this,"id",{value:lo+=2}),this.uuid=Bn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}mo.prototype=Object.assign(Object.create(Nn.prototype),{constructor:mo,isGeometry:!0,applyMatrix4:function(t){const e=(new Fn).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++){this.vertices[e].applyMatrix4(t)}for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,r=n.vertexNormals.length;t<r;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return ho.makeRotationX(t),this.applyMatrix4(ho),this},rotateY:function(t){return ho.makeRotationY(t),this.applyMatrix4(ho),this},rotateZ:function(t){return ho.makeRotationZ(t),this.applyMatrix4(ho),this},translate:function(t,e,n){return ho.makeTranslation(t,e,n),this.applyMatrix4(ho),this},scale:function(t,e,n){return ho.makeScale(t,e,n),this.applyMatrix4(ho),this},lookAt:function(t){return fo.lookAt(t),fo.updateMatrix(),this.applyMatrix4(fo.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,r=t.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const i=r.position,o=r.normal,s=r.color,a=r.uv,c=r.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let t=0;t<i.count;t++)e.vertices.push((new Zn).fromBufferAttribute(i,t)),void 0!==s&&e.colors.push((new pi).fromBufferAttribute(s,t));function u(t,n,r,i){const u=void 0===s?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()],l=new vi(t,n,r,void 0===o?[]:[(new Zn).fromBufferAttribute(o,t),(new Zn).fromBufferAttribute(o,n),(new Zn).fromBufferAttribute(o,r)],u,i);e.faces.push(l),void 0!==a&&e.faceVertexUvs[0].push([(new $n).fromBufferAttribute(a,t),(new $n).fromBufferAttribute(a,n),(new $n).fromBufferAttribute(a,r)]),void 0!==c&&e.faceVertexUvs[1].push([(new $n).fromBufferAttribute(c,t),(new $n).fromBufferAttribute(c,n),(new $n).fromBufferAttribute(c,r)])}const l=t.groups;if(l.length>0)for(let t=0;t<l.length;t++){const e=l[t],r=e.start;for(let t=r,i=r+e.count;t<i;t+=3)void 0!==n?u(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):u(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)u(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<i.count;t+=3)u(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(po).negate(),this.translate(po.x,po.y,po.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new or;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){const t=new Zn,e=new Zn;for(let n=0,r=this.faces.length;n<r;n++){const r=this.faces[n],i=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(i,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new Zn;if(t){const t=new Zn,n=new Zn;for(let r=0,i=this.faces.length;r<i;r++){const i=this.faces[r],o=this.vertices[i.a],s=this.vertices[i.b],a=this.vertices[i.c];t.subVectors(a,s),n.subVectors(o,s),t.cross(n),e[i.a].add(t),e[i.b].add(t),e[i.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],r=n.vertexNormals;3===r.length?(r[0].copy(e[n.a]),r[1].copy(e[n.b]),r[2].copy(e[n.c])):(r[0]=e[n.a].clone(),r[1]=e[n.b].clone(),r[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new mo;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,r=this.faces.length;e<r;e++){const e=new Zn,r={a:new Zn,b:new Zn,c:new Zn};t.push(e),n.push(r)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],r=n.faceNormals[t],i=n.vertexNormals[t];r.copy(e.normal),i.a.copy(e.vertexNormals[0]),i.b.copy(e.vertexNormals[1]),i.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Br),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ur),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let r,i=this.vertices.length,o=this.vertices,s=t.vertices,a=this.faces,c=t.faces,u=this.colors,l=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Fn).getNormalMatrix(e));for(let t=0,n=s.length;t<n;t++){const n=s[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=l.length;t<e;t++)u.push(l[t].clone());for(let t=0,e=c.length;t<e;t++){let e,o,s,u=c[t],l=u.vertexNormals,h=u.vertexColors;e=new vi(u.a+i,u.b+i,u.c+i),e.normal.copy(u.normal),void 0!==r&&e.normal.applyMatrix3(r).normalize();for(let t=0,n=l.length;t<n;t++)o=l[t].clone(),void 0!==r&&o.applyMatrix3(r).normalize(),e.vertexNormals.push(o);e.color.copy(u.color);for(let t=0,n=h.length;t<n;t++)s=h[t],e.vertexColors.push(s.clone());e.materialIndex=u.materialIndex+n,a.push(e)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,r=n.length;t<r;t++){const r=n[t],i=[];for(let t=0,e=r.length;t<e;t++)i.push(r[t].clone());this.faceVertexUvs[e].push(i)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){const t={},e=[],n=[],r=Math.pow(10,4);for(let i=0,o=this.vertices.length;i<o;i++){const o=this.vertices[i],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===t[s]?(t[s]=i,e.push(this.vertices[i]),n[i]=e.length-1):n[i]=n[t[s]]}const i=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=n[e.a],e.b=n[e.b],e.c=n[e.c];const r=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(r[e]===r[(e+1)%3]){i.push(t);break}}for(let t=i.length-1;t>=0;t--){const e=i[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const o=this.vertices.length-e.length;return this.vertices=e,o},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new Zn(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let i,o;n&&n.length===e&&(i=[]),r&&r.length===e&&(o=[]);for(let s=0;s<e;s++){const e=t[s]._id;i&&i.push(n[e]),o&&o.push(r[e])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],r=[],i={},o=[],s={},a=[],c={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],r=!0,i=!1,o=void 0!==this.faceVertexUvs[0][t],s=e.normal.length()>0,a=e.vertexNormals.length>0,c=1!==e.color.r||1!==e.color.g||1!==e.color.b,d=e.vertexColors.length>0;let p=0;if(p=u(p,0,0),p=u(p,1,r),p=u(p,2,i),p=u(p,3,o),p=u(p,4,s),p=u(p,5,a),p=u(p,6,c),p=u(p,7,d),n.push(p),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(f(e[0]),f(e[1]),f(e[2]))}if(s&&n.push(l(e.normal)),a){const t=e.vertexNormals;n.push(l(t[0]),l(t[1]),l(t[2]))}if(c&&n.push(h(e.color)),d){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function u(t,e,n){return n?t|1<<e:t&~(1<<e)}function l(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==i[e]||(i[e]=r.length/3,r.push(t.x,t.y,t.z)),i[e]}function h(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==s[e]||(s[e]=o.length,o.push(t.getHex())),s[e]}function f(t){const e=t.x.toString()+t.y.toString();return void 0!==c[e]||(c[e]=a.length/2,a.push(t.x,t.y)),c[e]}return t.data={},t.data.vertices=e,t.data.normals=r,o.length>0&&(t.data.colors=o),a.length>0&&(t.data.uvs=[a]),t.data.faces=n,t},clone:function(){return(new mo).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const r=t.faces;for(let t=0,e=r.length;t<e;t++)this.faces.push(r[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,r=n.length;t<r;t++){const r=n[t],i=[];for(let t=0,e=r.length;t<e;t++){const e=r[t];i.push(e.clone())}this.faceVertexUvs[e].push(i)}}const i=t.morphTargets;for(let t=0,e=i.length;t<e;t++){const e={};if(e.name=i[t].name,void 0!==i[t].vertices){e.vertices=[];for(let n=0,r=i[t].vertices.length;n<r;n++)e.vertices.push(i[t].vertices[n].clone())}if(void 0!==i[t].normals){e.normals=[];for(let n=0,r=i[t].normals.length;n<r;n++)e.normals.push(i[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,r=o[t].vertexNormals.length;n<r;n++){const r=o[t].vertexNormals[n],i={};i.a=r.a.clone(),i.b=r.b.clone(),i.c=r.c.clone(),e.vertexNormals.push(i)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,r=o[t].faceNormals.length;n<r;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const s=t.skinWeights;for(let t=0,e=s.length;t<e;t++)this.skinWeights.push(s[t].clone());const a=t.skinIndices;for(let t=0,e=a.length;t<e;t++)this.skinIndices.push(a[t].clone());const c=t.lineDistances;for(let t=0,e=c.length;t<e;t++)this.lineDistances.push(c[t]);const u=t.boundingBox;null!==u&&(this.boundingBox=u.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class bo extends mo{constructor(t,e,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new go(t,e,n,r,i,o)),this.mergeVertices()}}class go extends Hi{constructor(t,e,n,r,i,o){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const s=this;t=t||1,e=e||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;const a=[],c=[],u=[],l=[];let h=0,f=0;function d(t,e,n,r,i,o,d,p,m,b,g){const v=o/m,y=d/b,w=o/2,_=d/2,x=p/2,O=m+1,E=b+1;let S=0,j=0;const M=new Zn;for(let o=0;o<E;o++){const s=o*y-_;for(let a=0;a<O;a++){const h=a*v-w;M[t]=h*r,M[e]=s*i,M[n]=x,c.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[n]=p>0?1:-1,u.push(M.x,M.y,M.z),l.push(a/m),l.push(1-o/b),S+=1}}for(let t=0;t<b;t++)for(let e=0;e<m;e++){const n=h+e+O*t,r=h+e+O*(t+1),i=h+(e+1)+O*(t+1),o=h+(e+1)+O*t;a.push(n,r,o),a.push(r,i,o),j+=6}s.addGroup(f,j,g),f+=j,h+=S}d("z","y","x",-1,-1,n,e,t,o,i,0),d("z","y","x",1,-1,n,e,-t,o,i,1),d("x","z","y",1,1,t,n,e,r,o,2),d("x","z","y",1,-1,t,n,-e,r,o,3),d("x","y","z",1,-1,t,e,n,r,i,4),d("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(a),this.setAttribute("position",new Ci(c,3)),this.setAttribute("normal",new Ci(u,3)),this.setAttribute("uv",new Ci(l,2))}}function vo(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function yo(t){const e={};for(let n=0;n<t.length;n++){const r=vo(t[n]);for(const t in r)e[t]=r[t]}return e}const wo={clone:vo,merge:yo};function _o(t){wi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function xo(){Or.call(this),this.type="Camera",this.matrixWorldInverse=new or,this.projectionMatrix=new or,this.projectionMatrixInverse=new or}function Oo(t,e,n,r){xo.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}_o.prototype=Object.create(wi.prototype),_o.prototype.constructor=_o,_o.prototype.isShaderMaterial=!0,_o.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vo(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this},_o.prototype.toJSON=function(t){const e=wi.prototype.toJSON.call(this,t);e.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},xo.prototype=Object.assign(Object.create(Or.prototype),{constructor:xo,isCamera:!0,copy:function(t,e){return Or.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Zn),this.updateMatrixWorld(!0);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Or.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){Or.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Oo.prototype=Object.assign(Object.create(xo.prototype),{constructor:Oo,isPerspectiveCamera:!0,copy:function(t,e){return xo.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Bn.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*Bn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Bn.RAD2DEG*Math.atan(Math.tan(.5*Bn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let t=this.near,e=t*Math.tan(.5*Bn.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/t,e-=o.offsetY*n/s,r*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(i+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){const e=Or.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});function Eo(t,e,n){if(Or.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Oo(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Zn(1,0,0)),this.add(r);const i=new Oo(90,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Zn(-1,0,0)),this.add(i);const o=new Oo(90,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Zn(0,1,0)),this.add(o);const s=new Oo(90,1,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new Zn(0,-1,0)),this.add(s);const a=new Oo(90,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Zn(0,0,1)),this.add(a);const c=new Oo(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Zn(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const u=t.xr.enabled,l=t.getRenderTarget();t.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,i),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(l),t.xr.enabled=u},this.clear=function(t,e,r,i){const o=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(n,o),t.clear(e,r,i);t.setRenderTarget(o)}}function So(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),qn.call(this,t,t,e)}function jo(t,e,n,r,i,o,s,a,c,u,l,h){Gn.call(this,null,o,s,a,c,u,r,i,l,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:bt,this.minFilter=void 0!==u?u:bt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Eo.prototype=Object.create(Or.prototype),Eo.prototype.constructor=Eo,So.prototype=Object.create(qn.prototype),So.prototype.constructor=So,So.prototype.isWebGLCubeRenderTarget=!0,So.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;const n=new Er,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV = equirectUv( direction );","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new _o({name:"CubemapFromEquirect",uniforms:vo(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:g,blending:_});i.uniforms.tEquirect.value=e;const o=new ao(new go(5,5,5),i);n.add(o);return new Eo(1,10,this).update(t,n),o.geometry.dispose(),o.material.dispose(),this},jo.prototype=Object.create(Gn.prototype),jo.prototype.constructor=jo,jo.prototype.isDataTexture=!0;const Mo=new Ur,To=new Zn;function Ao(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Qr,void 0!==e?e:new Qr,void 0!==n?n:new Qr,void 0!==r?r:new Qr,void 0!==i?i:new Qr,void 0!==o?o:new Qr]}Object.assign(Ao.prototype,{set:function(t,e,n,r,i,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromProjectionMatrix:function(t){const e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],u=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],b=n[13],g=n[14],v=n[15];return e[0].setComponents(s-r,l-a,p-h,v-m).normalize(),e[1].setComponents(s+r,l+a,p+h,v+m).normalize(),e[2].setComponents(s+i,l+c,p+f,v+b).normalize(),e[3].setComponents(s-i,l-c,p-f,v-b).normalize(),e[4].setComponents(s-o,l-u,p-d,v-g).normalize(),e[5].setComponents(s+o,l+u,p+d,v+g).normalize(),this},intersectsObject:function(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Mo.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Mo)},intersectsSprite:function(t){return Mo.center.set(0,0,0),Mo.radius=.7071067811865476,Mo.applyMatrix4(t.matrixWorld),this.intersectsSphere(Mo)},intersectsSphere:function(t){const e=this.planes,n=t.center,r=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(To.x=r.normal.x>0?t.max.x:t.min.x,To.y=r.normal.y>0?t.max.y:t.min.y,To.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(To)<0)return!1}return!0},containsPoint:function(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});const ko={common:{diffuse:{value:new pi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Fn},uv2Transform:{value:new Fn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new pi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Fn}},sprite:{diffuse:{value:new pi(15658734)},opacity:{value:1},center:{value:new $n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Fn}}};function Io(){let t=null,e=!1,n=null,r=null;function i(e,o){n(e,o),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Co(t,e){const n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))},update:function(e,i){e.isInterleavedBufferAttribute&&(e=e.data);const o=r.get(e);void 0===o?r.set(e,function(e,n){const r=e.array,i=e.usage,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,i),e.onUploadCallback();let s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,i)):o.version<e.version&&(!function(e,r,i){const o=r.array,s=r.updateRange;t.bindBuffer(i,e),-1===s.count?t.bufferSubData(i,0,o):(n?t.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):t.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,e,i),o.version=e.version)}}}function Ro(t,e,n,r){mo.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Po(t,e,n,r)),this.mergeVertices()}function Po(t,e,n,r){Hi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=(t=t||1)/2,o=(e=e||1)/2,s=Math.floor(n)||1,a=Math.floor(r)||1,c=s+1,u=a+1,l=t/s,h=e/a,f=[],d=[],p=[],m=[];for(let t=0;t<u;t++){const e=t*h-o;for(let n=0;n<c;n++){const r=n*l-i;d.push(r,-e,0),p.push(0,0,1),m.push(n/s),m.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+c*t,r=e+c*(t+1),i=e+1+c*(t+1),o=e+1+c*t;f.push(n,r,o),f.push(r,i,o)}this.setIndex(f),this.setAttribute("position",new Ci(d,3)),this.setAttribute("normal",new Ci(p,3)),this.setAttribute("uv",new Ci(m,2))}Ro.prototype=Object.create(mo.prototype),Ro.prototype.constructor=Ro,Po.prototype=Object.create(Hi.prototype),Po.prototype.constructor=Po;const Lo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},No={basic:{uniforms:yo([ko.common,ko.specularmap,ko.envmap,ko.aomap,ko.lightmap,ko.fog]),vertexShader:Lo.meshbasic_vert,fragmentShader:Lo.meshbasic_frag},lambert:{uniforms:yo([ko.common,ko.specularmap,ko.envmap,ko.aomap,ko.lightmap,ko.emissivemap,ko.fog,ko.lights,{emissive:{value:new pi(0)}}]),vertexShader:Lo.meshlambert_vert,fragmentShader:Lo.meshlambert_frag},phong:{uniforms:yo([ko.common,ko.specularmap,ko.envmap,ko.aomap,ko.lightmap,ko.emissivemap,ko.bumpmap,ko.normalmap,ko.displacementmap,ko.fog,ko.lights,{emissive:{value:new pi(0)},specular:{value:new pi(1118481)},shininess:{value:30}}]),vertexShader:Lo.meshphong_vert,fragmentShader:Lo.meshphong_frag},standard:{uniforms:yo([ko.common,ko.envmap,ko.aomap,ko.lightmap,ko.emissivemap,ko.bumpmap,ko.normalmap,ko.displacementmap,ko.roughnessmap,ko.metalnessmap,ko.fog,ko.lights,{emissive:{value:new pi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lo.meshphysical_vert,fragmentShader:Lo.meshphysical_frag},toon:{uniforms:yo([ko.common,ko.aomap,ko.lightmap,ko.emissivemap,ko.bumpmap,ko.normalmap,ko.displacementmap,ko.gradientmap,ko.fog,ko.lights,{emissive:{value:new pi(0)}}]),vertexShader:Lo.meshtoon_vert,fragmentShader:Lo.meshtoon_frag},matcap:{uniforms:yo([ko.common,ko.bumpmap,ko.normalmap,ko.displacementmap,ko.fog,{matcap:{value:null}}]),vertexShader:Lo.meshmatcap_vert,fragmentShader:Lo.meshmatcap_frag},points:{uniforms:yo([ko.points,ko.fog]),vertexShader:Lo.points_vert,fragmentShader:Lo.points_frag},dashed:{uniforms:yo([ko.common,ko.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lo.linedashed_vert,fragmentShader:Lo.linedashed_frag},depth:{uniforms:yo([ko.common,ko.displacementmap]),vertexShader:Lo.depth_vert,fragmentShader:Lo.depth_frag},normal:{uniforms:yo([ko.common,ko.bumpmap,ko.normalmap,ko.displacementmap,{opacity:{value:1}}]),vertexShader:Lo.normal_vert,fragmentShader:Lo.normal_frag},sprite:{uniforms:yo([ko.sprite,ko.fog]),vertexShader:Lo.sprite_vert,fragmentShader:Lo.sprite_frag},background:{uniforms:{uvTransform:{value:new Fn},t2D:{value:null}},vertexShader:Lo.background_vert,fragmentShader:Lo.background_frag},cube:{uniforms:yo([ko.envmap,{opacity:{value:1}}]),vertexShader:Lo.cube_vert,fragmentShader:Lo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lo.equirect_vert,fragmentShader:Lo.equirect_frag},distanceRGBA:{uniforms:yo([ko.common,ko.displacementmap,{referencePosition:{value:new Zn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lo.distanceRGBA_vert,fragmentShader:Lo.distanceRGBA_frag},shadow:{uniforms:yo([ko.lights,ko.fog,{color:{value:new pi(0)},opacity:{value:1}}]),vertexShader:Lo.shadow_vert,fragmentShader:Lo.shadow_frag}};function Do(t,e,n,r){const i=new pi(0);let o,s,a=0,c=null,u=0,l=null;function h(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return i},setClearColor:function(t,e){i.set(t),a=void 0!==e?e:1,h(i,a)},getClearAlpha:function(){return a},setClearAlpha:function(t){a=t,h(i,a)},render:function(e,r,f,d){let p=!0===r.isScene?r.background:null;const m=t.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(p=null),null===p?h(i,a):p&&p.isColor&&(h(p,1),d=!0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||p.mapping===ht)){void 0===s&&(s=new ao(new go(1,1,1),new _o({name:"BackgroundCubeMaterial",uniforms:vo(No.cube.uniforms),vertexShader:No.cube.vertexShader,fragmentShader:No.cube.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(s));const r=p.isWebGLCubeRenderTarget?p.texture:p;s.material.uniforms.envMap.value=r,s.material.uniforms.flipEnvMap.value=r.isCubeTexture?-1:1,c===p&&u===r.version&&l===t.toneMapping||(s.material.needsUpdate=!0,c=p,u=r.version,l=t.toneMapping),e.unshift(s,s.geometry,s.material,0,0,null)}else p&&p.isTexture&&(void 0===o&&(o=new ao(new Po(2,2),new _o({name:"BackgroundMaterial",uniforms:vo(No.background.uniforms),vertexShader:No.background.vertexShader,fragmentShader:No.background.fragmentShader,side:b,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&u===p.version&&l===t.toneMapping||(o.material.needsUpdate=!0,c=p,u=p.version,l=t.toneMapping),e.unshift(o,o.geometry,o.material,0,0,null))}}}function Bo(t,e,n,r){const i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},c=f(null);let u=c;function l(e){return r.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return r.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function f(t){const e=[],n=[],r=[];for(let t=0;t<i;t++)e[t]=0,n[t]=0,r[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{}}}function d(){const t=u.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function p(t){m(t,0)}function m(n,i){const o=u.newAttributes,s=u.enabledAttributes,a=u.attributeDivisors;if(o[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),a[n]!==i){(r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),a[n]=i}}function b(){const e=u.newAttributes,n=u.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function g(e,n,i,o,s,a){!0!==r.isWebGL2||5124!==i&&5125!==i?t.vertexAttribPointer(e,n,i,o,s,a):t.vertexAttribIPointer(e,n,i,o,s,a)}function v(){y(),u!==c&&(u=c,l(u.object))}function y(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(i,c,h,v,y){let w=!1;if(s){const e=function(e,n,i){const s=!0===i.wireframe;let c=a[e.id];void 0===c&&(c={},a[e.id]=c);let u=c[n.id];void 0===u&&(u={},c[n.id]=u);let l=u[s];void 0===l&&(l=f(r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),u[s]=l);return l}(v,h,c);u!==e&&(u=e,l(u.object)),w=function(t){const e=u.attributes,n=t.attributes;if(Object.keys(e).length!==Object.keys(n).length)return!0;for(const t in n){const r=e[t],i=n[t];if(r.attribute!==i)return!0;if(r.data!==i.data)return!0}return!1}(v),w&&function(t){const e={},n=t.attributes;for(const t in n){const r=n[t],i={};i.attribute=r,r.data&&(i.data=r.data),e[t]=i}u.attributes=e}(v)}else{const t=!0===c.wireframe;u.geometry===v.id&&u.program===h.id&&u.wireframe===t||(u.geometry=v.id,u.program=h.id,u.wireframe=t,w=!0)}!0===i.isInstancedMesh&&(w=!0),null!==y&&n.update(y,34963),w&&(!function(i,o,s,a){if(!1===r.isWebGL2&&(i.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;d();const c=a.attributes,u=s.getAttributes(),l=o.defaultAttributeValues;for(const e in u){const r=u[e];if(r>=0){const o=c[e];if(void 0!==o){const e=o.normalized,i=o.itemSize,s=n.get(o);if(void 0===s)continue;const c=s.buffer,u=s.type,l=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(m(r,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):p(r),t.bindBuffer(34962,c),g(r,i,u,e,s*l,h*l)}else o.isInstancedBufferAttribute?(m(r,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):p(r),t.bindBuffer(34962,c),g(r,i,u,e,0,0)}else if("instanceMatrix"===e){const e=n.get(i.instanceMatrix);if(void 0===e)continue;const o=e.buffer,s=e.type;m(r+0,1),m(r+1,1),m(r+2,1),m(r+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(r+0,4,s,!1,64,0),t.vertexAttribPointer(r+1,4,s,!1,64,16),t.vertexAttribPointer(r+2,4,s,!1,64,32),t.vertexAttribPointer(r+3,4,s,!1,64,48)}else if(void 0!==l){const n=l[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r,n);break;case 3:t.vertexAttrib3fv(r,n);break;case 4:t.vertexAttrib4fv(r,n);break;default:t.vertexAttrib1fv(r,n)}}}}b()}(i,c,h,v),null!==y&&t.bindBuffer(34963,n.get(y).buffer))},reset:v,resetDefaultState:y,dispose:function(){v();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const t in e){const n=e[t];for(const t in n)h(n[t].object),delete n[t];delete e[t]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)h(r[t].object),delete r[t];delete n[t.id]}},initAttributes:d,enableAttribute:p,disableUnusedAttributes:b}}function $o(t,e,n,r){const i=r.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,r){t.drawArrays(o,e,r),n.update(r,o)},this.renderInstances=function(r,s,a,c){if(0===c)return;let u,l;if(i)u=t,l="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](o,s,a,c),n.update(a,o,c)}}function Fo(t,e,n){let r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=i(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const c=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),l=t.getParameter(35660),h=t.getParameter(3379),f=t.getParameter(34076),d=t.getParameter(34921),p=t.getParameter(36347),m=t.getParameter(36348),b=t.getParameter(36349),g=l>0,v=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;const n=e.get("EXT_texture_filter_anisotropic");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,r},getMaxPrecision:i,precision:s,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:b,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v,maxSamples:o?t.getParameter(36183):0}}function Uo(){const t=this;let e=null,n=0,r=!1,i=!1;const o=new Qr,s=new Fn,a={value:null,needsUpdate:!1};function c(){a.value!==e&&(a.value=e,a.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(e,n,r,i){let c=null!==e?e.length:0,u=null;if(0!==c){if(u=a.value,!0!==i||null===u){const t=r+4*c,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=r;t!==c;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(u,n),u[n+3]=o.constant}a.value=u,a.needsUpdate=!0}return t.numPlanes=c,t.numIntersection=0,u}this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){const s=0!==t.length||i||0!==n||r;return r=i,e=u(t,o,0),n=t.length,s},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,s,l,h,f){if(!r||null===t||0===t.length||i&&!s)i?u(null):c();else{const r=i?0:n,s=4*r;let c=h.clippingState||null;a.value=c,c=u(t,l,s,f);for(let t=0;t!==s;++t)c[t]=e[t];h.clippingState=c,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=r}}}function zo(t){const e={};return{get:function(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function Ho(t,e,n,r){const i=new WeakMap,o=new WeakMap;function s(t){const a=t.target,c=i.get(a);null!==c.index&&e.remove(c.index);for(const t in c.attributes)e.remove(c.attributes[t]);a.removeEventListener("dispose",s),i.delete(a);const u=o.get(c);u&&(e.remove(u),o.delete(c)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],r=t.index,i=t.attributes.position;let s=0;if(null!==r){const t=r.array;s=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],o=t[e+2];n.push(r,i,i,o,o,r)}}else{const t=i.array;s=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}const a=new(Li(n)>65535?Ii:Ai)(n,1);a.version=s;const c=o.get(t);c&&e.remove(c),o.set(t,a)}return{get:function(t,e){let r=i.get(e);return r||(e.addEventListener("dispose",s),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Hi).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const r=t.morphAttributes;for(const t in r){const n=r[t];for(let t=0,r=n.length;t<r;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function Go(t,e,n,r){const i=r.isWebGL2;let o,s,a;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,r){t.drawElements(o,r,s,e*a),n.update(r,o)},this.renderInstances=function(r,c,u,l){if(0===l)return;let h,f;if(i)h=t,f="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](o,u,s,c*a,l),n.update(u,o,l)}}function Vo(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(r=r||1,e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function qo(t,e){return t[0]-e[0]}function Wo(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ko(t){const e={},n=new Float32Array(8),r=[];for(let t=0;t<8;t++)r[t]=[t,0];return{update:function(i,o,s,a){const c=i.morphTargetInfluences,u=void 0===c?0:c.length;let l=e[o.id];if(void 0===l){l=[];for(let t=0;t<u;t++)l[t]=[t,0];e[o.id]=l}for(let t=0;t<u;t++){const e=l[t];e[0]=t,e[1]=c[t]}l.sort(Wo);for(let t=0;t<8;t++)t<u&&l[t][1]?(r[t][0]=l[t][0],r[t][1]=l[t][1]):(r[t][0]=Number.MAX_SAFE_INTEGER,r[t][1]=0);r.sort(qo);const h=s.morphTargets&&o.morphAttributes.position,f=s.morphNormals&&o.morphAttributes.normal;let d=0;for(let t=0;t<8;t++){const e=r[t],i=e[0],s=e[1];i!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+t)!==h[i]&&o.setAttribute("morphTarget"+t,h[i]),f&&o.getAttribute("morphNormal"+t)!==f[i]&&o.setAttribute("morphNormal"+t,f[i]),n[t]=s,d+=s):(h&&void 0!==o.getAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),f&&void 0!==o.getAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const p=o.morphTargetsRelative?1:1-d;a.getUniforms().setValue(t,"morphTargetBaseInfluence",p),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Yo(t,e,n,r){let i=new WeakMap;return{update:function(t){const o=r.render.frame,s=t.geometry,a=e.get(t,s);return i.get(a)!==o&&(s.isGeometry&&a.updateFromObject(t),e.update(a),i.set(a,o)),t.isInstancedMesh&&n.update(t.instanceMatrix,34962),a},dispose:function(){i=new WeakMap}}}function Xo(t,e,n,r,i,o,s,a,c,u){t=void 0!==t?t:[],e=void 0!==e?e:at,s=void 0!==s?s:$t,Gn.call(this,t,e,n,r,i,o,s,a,c,u),this.flipY=!1}function Zo(t,e,n,r){Gn.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:r||1},this.magFilter=bt,this.minFilter=bt,this.wrapR=pt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Jo(t,e,n,r){Gn.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:r||1},this.magFilter=bt,this.minFilter=bt,this.wrapR=pt,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}No.physical={uniforms:yo([No.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $n(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new pi(0)},transparency:{value:0}}]),vertexShader:Lo.meshphysical_vert,fragmentShader:Lo.meshphysical_frag},Xo.prototype=Object.create(Gn.prototype),Xo.prototype.constructor=Xo,Xo.prototype.isCubeTexture=!0,Object.defineProperty(Xo.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Zo.prototype=Object.create(Gn.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isDataTexture2DArray=!0,Jo.prototype=Object.create(Gn.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isDataTexture3D=!0;const Qo=new Gn,ts=new Zo,es=new Jo,ns=new Xo,rs=[],is=[],os=new Float32Array(16),ss=new Float32Array(9),as=new Float32Array(4);function cs(t,e,n){const r=t[0];if(r<=0||r>0)return t;let i=e*n,o=rs[i];if(void 0===o&&(o=new Float32Array(i),rs[i]=o),0!==e){r.toArray(o,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(o,i)}return o}function us(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ls(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function hs(t,e){let n=is[e];void 0===n&&(n=new Int32Array(e),is[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function fs(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ds(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(us(n,e))return;t.uniform2fv(this.addr,e),ls(n,e)}}function ps(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(us(n,e))return;t.uniform3fv(this.addr,e),ls(n,e)}}function ms(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(us(n,e))return;t.uniform4fv(this.addr,e),ls(n,e)}}function bs(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(us(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ls(n,e)}else{if(us(n,r))return;as.set(r),t.uniformMatrix2fv(this.addr,!1,as),ls(n,r)}}function gs(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(us(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ls(n,e)}else{if(us(n,r))return;ss.set(r),t.uniformMatrix3fv(this.addr,!1,ss),ls(n,r)}}function vs(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(us(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ls(n,e)}else{if(us(n,r))return;os.set(r),t.uniformMatrix4fv(this.addr,!1,os),ls(n,r)}}function ys(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||Qo,i)}function ws(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||ts,i)}function _s(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||es,i)}function xs(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||ns,i)}function Os(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Es(t,e){const n=this.cache;us(n,e)||(t.uniform2iv(this.addr,e),ls(n,e))}function Ss(t,e){const n=this.cache;us(n,e)||(t.uniform3iv(this.addr,e),ls(n,e))}function js(t,e){const n=this.cache;us(n,e)||(t.uniform4iv(this.addr,e),ls(n,e))}function Ms(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ts(t,e){t.uniform1fv(this.addr,e)}function As(t,e){t.uniform1iv(this.addr,e)}function ks(t,e){t.uniform2iv(this.addr,e)}function Is(t,e){t.uniform3iv(this.addr,e)}function Cs(t,e){t.uniform4iv(this.addr,e)}function Rs(t,e){const n=cs(e,this.size,2);t.uniform2fv(this.addr,n)}function Ps(t,e){const n=cs(e,this.size,3);t.uniform3fv(this.addr,n)}function Ls(t,e){const n=cs(e,this.size,4);t.uniform4fv(this.addr,n)}function Ns(t,e){const n=cs(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Ds(t,e){const n=cs(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Bs(t,e){const n=cs(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $s(t,e,n){const r=e.length,i=hs(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTexture2D(e[t]||Qo,i[t])}function Fs(t,e,n){const r=e.length,i=hs(n,r);t.uniform1iv(this.addr,i);for(let t=0;t!==r;++t)n.safeSetTextureCube(e[t]||ns,i[t])}function Us(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return fs;case 35664:return ds;case 35665:return ps;case 35666:return ms;case 35674:return bs;case 35675:return gs;case 35676:return vs;case 5124:case 35670:return Os;case 35667:case 35671:return Es;case 35668:case 35672:return Ss;case 35669:case 35673:return js;case 5125:return Ms;case 35678:case 36198:case 36298:case 36306:case 35682:return ys;case 35679:case 36299:case 36307:return _s;case 35680:case 36300:case 36308:case 36293:return xs;case 36289:case 36303:case 36311:case 36292:return ws}}(e.type)}function zs(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ts;case 35664:return Rs;case 35665:return Ps;case 35666:return Ls;case 35674:return Ns;case 35675:return Ds;case 35676:return Bs;case 5124:case 35670:return As;case 35667:case 35671:return ks;case 35668:case 35672:return Is;case 35669:case 35673:return Cs;case 35678:case 36198:case 36298:case 36306:case 35682:return $s;case 35680:case 36300:case 36308:case 36293:return Fs}}(e.type)}function Hs(t){this.id=t,this.seq=[],this.map={}}zs.prototype.updateCache=function(t){let e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ls(e,t)},Hs.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(t,e[o.id],n)}};const Gs=/([\w\d_]+)(\])?(\[|\.)?/g;function Vs(t,e){t.seq.push(e),t.map[e.id]=e}function qs(t,e,n){const r=t.name,i=r.length;for(Gs.lastIndex=0;;){const o=Gs.exec(r),s=Gs.lastIndex;let a=o[1],c="]"===o[2],u=o[3];if(c&&(a|=0),void 0===u||"["===u&&s+2===i){Vs(n,void 0===u?new Us(a,t,e):new zs(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new Hs(a),Vs(n,t)),n=t}}}function Ws(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r);qs(n,t.getUniformLocation(e,n.name),this)}}function Ks(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}Ws.prototype.setValue=function(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)},Ws.prototype.setOptional=function(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)},Ws.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Ws.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n};let Ys=0;function Xs(t){switch(t){case Je:return["Linear","( value )"];case Qe:return["sRGB","( value )"];case en:return["RGBE","( value )"];case rn:return["RGBM","( value, 7.0 )"];case on:return["RGBM","( value, 16.0 )"];case sn:return["RGBD","( value, 256.0 )"];case tn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case nn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Zs(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function Js(t,e){const n=Xs(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Qs(t,e){const n=Xs(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ta(t,e){let n;switch(e){case et:n="Linear";break;case nt:n="Reinhard";break;case rt:n="OptimizedCineon";break;case it:n="ACESFilmic";break;case ot:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ea(t){return""!==t}function na(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ra(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ia=/^[ \t]*#include +<([\w\d./]+)>/gm;function oa(t){return t.replace(ia,sa)}function sa(t,e){const n=Lo[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return oa(n)}const aa=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ca=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function ua(t){return t.replace(ca,ha).replace(aa,la)}function la(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ha(t,e,n,r)}function ha(t,e,n,r){let i="";for(let t=parseInt(e);t<parseInt(n);t++)i+=r.replace(/\[ i \]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return i}function fa(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function da(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const c=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===d?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===p?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===m&&(e="SHADOWMAP_TYPE_VSM"),e}(n),u=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case at:case ct:e="ENVMAP_TYPE_CUBE";break;case ht:case ft:e="ENVMAP_TYPE_CUBE_UV";break;case ut:case lt:e="ENVMAP_TYPE_EQUIREC"}return e}(n),l=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ct:case lt:e="ENVMAP_MODE_REFRACTION"}return e}(n),h=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Z:e="ENVMAP_BLENDING_MULTIPLY";break;case J:e="ENVMAP_BLENDING_MIX";break;case Q:e="ENVMAP_BLENDING_ADD"}return e}(n),f=t.gammaFactor>0?t.gammaFactor:1,b=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ea).join("\n")}(n),g=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),v=i.createProgram();let y,w;if(n.isRawShaderMaterial?(y=[g].filter(ea).join("\n"),y.length>0&&(y+="\n"),w=[b,g].filter(ea).join("\n"),w.length>0&&(w+="\n")):(y=[fa(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ea).join("\n"),w=[b,fa(n),"#define SHADER_NAME "+n.shaderName,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+l:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==tt?"#define TONE_MAPPING":"",n.toneMapping!==tt?Lo.tonemapping_pars_fragment:"",n.toneMapping!==tt?ta("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Lo.encodings_pars_fragment,n.map?Js("mapTexelToLinear",n.mapEncoding):"",n.matcap?Js("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Js("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Js("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Js("lightMapTexelToLinear",n.lightMapEncoding):"",Qs("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ea).join("\n")),s=oa(s),s=na(s,n),s=ra(s,n),a=oa(a),a=na(a,n),a=ra(a,n),s=ua(s),a=ua(a),n.isWebGL2&&!n.isRawShaderMaterial){let t=!1;const e=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==s.match(e)&&null!==a.match(e)&&(t=!0,s=s.replace(e,""),a=a.replace(e,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,w=["#version 300 es\n","#define varying in",t?"":"out highp vec4 pc_fragColor;",t?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w}const _=w+a,x=Ks(i,35633,y+s),O=Ks(i,35632,_);if(i.attachShader(v,x),i.attachShader(v,O),void 0!==n.index0AttributeName?i.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const t=i.getProgramInfoLog(v).trim(),e=i.getShaderInfoLog(x).trim(),n=i.getShaderInfoLog(O).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(v,35714)){r=!1;const e=Zs(i,x,"vertex"),n=Zs(i,O,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(v,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:t,vertexShader:{log:e,prefix:y},fragmentShader:{log:n,prefix:w}})}let E,S;return i.deleteShader(x),i.deleteShader(O),this.getUniforms=function(){return void 0===E&&(E=new Ws(i,v)),E},this.getAttributes=function(){return void 0===S&&(S=function(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i).name;n[r]=t.getAttribLocation(e,r)}return n}(i,v)),S},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=Ys++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=x,this.fragmentShader=O,this}function pa(t,e,n,r){const i=[],o=n.isWebGL2,s=n.logarithmicDepthBuffer,a=n.floatVertexTextures,c=n.maxVertexUniforms,u=n.vertexTextures;let l=n.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(t){let e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=Je,e}return{getParameters:function(r,i,f,p,m,b,y){const w=p.fog,_=r.isMeshStandardMaterial?p.environment:null,x=r.envMap||_,O=h[r.type],E=y.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(a)return 1024;{const t=c,n=Math.floor((t-20)/4),r=Math.min(n,e.length);return r<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+r+"."),0):r}}(y):0;null!==r.precision&&(l=n.getMaxPrecision(r.precision),l!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",l,"instead."));const S=function(t,e){let n;if(e){const r=No[e];n={name:t.name||t.type,uniforms:wo.clone(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}}else n={name:t.name||t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};return n}(r,O);r.onBeforeCompile(S,t);const j=t.getRenderTarget();return{isWebGL2:o,shaderID:O,shaderName:S.name,uniforms:S.uniforms,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,defines:r.defines,isRawShaderMaterial:r.isRawShaderMaterial,isShaderMaterial:r.isShaderMaterial,precision:l,instancing:!0===y.isInstancedMesh,supportsVertexTextures:u,outputEncoding:null!==j?d(j.texture):t.outputEncoding,map:!!r.map,mapEncoding:d(r.map),matcap:!!r.matcap,matcapEncoding:d(r.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:d(x),envMapCubeUV:!!x&&(x.mapping===ht||x.mapping===ft),lightMap:!!r.lightMap,lightMapEncoding:d(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:d(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===ln,tangentSpaceNormalMap:r.normalMapType===un,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||!r.displacementMap),fog:!!w,useFog:r.fog,fogExp2:w&&w.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:s,skinning:r.skinning&&E>0,maxBones:E,useVertexTexture:a,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:m,numClipIntersection:b,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:tt,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===v,flipSided:r.side===g,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==e.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==e.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==e.get("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(void 0===e.isRawShaderMaterial){for(let t=0;t<f.length;t++)n.push(e[f[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},acquireProgram:function(e,n){let o;for(let t=0,e=i.length;t<e;t++){const e=i[t];if(e.cacheKey===n){o=e,++o.usedTimes;break}}return void 0===o&&(o=new da(t,n,e,r),i.push(o)),o},releaseProgram:function(t){if(0==--t.usedTimes){const e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},programs:i}}function ma(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function ba(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ga(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function va(){const t=[];let e=0;const n=[],r=[],i={id:-1};function o(n,r,o,s,a,c){let u=t[e];return void 0===u?(u={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:s,renderOrder:n.renderOrder,z:a,group:c},t[e]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=o,u.program=o.program||i,u.groupOrder=s,u.renderOrder=n.renderOrder,u.z=a,u.group=c),e++,u}return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(t,e,i,s,a,c){const u=o(t,e,i,s,a,c);(!0===i.transparent?r:n).push(u)},unshift:function(t,e,i,s,a,c){const u=o(t,e,i,s,a,c);(!0===i.transparent?r:n).unshift(u)},finish:function(){for(let n=e,r=t.length;n<r;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.program=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||ba),r.length>1&&r.sort(e||ga)}}}function ya(){let t=new WeakMap;function e(n){const r=n.target;r.removeEventListener("dispose",e),t.delete(r)}return{get:function(n,r){const i=t.get(n);let o;return void 0===i?(o=new va,t.set(n,new WeakMap),t.get(n).set(r,o),n.addEventListener("dispose",e)):(o=i.get(r),void 0===o&&(o=new va,i.set(r,o))),o},dispose:function(){t=new WeakMap}}}function wa(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Zn,color:new pi};break;case"SpotLight":n={position:new Zn,direction:new Zn,color:new pi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Zn,color:new pi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Zn,skyColor:new pi,groundColor:new pi};break;case"RectAreaLight":n={color:new pi,position:new Zn,halfWidth:new Zn,halfHeight:new Zn}}return t[e.id]=n,n}}}let _a=0;function xa(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Oa(){const t=new wa,e=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $n};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $n,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)n.probe.push(new Zn);const r=new Zn,i=new or,o=new or;return{setup:function(s,a,c){let u=0,l=0,h=0;for(let t=0;t<9;t++)n.probe[t].set(0,0,0);let f=0,d=0,p=0,m=0,b=0,g=0,v=0,y=0;const w=c.matrixWorldInverse;s.sort(xa);for(let a=0,c=s.length;a<c;a++){const c=s[a],_=c.color,x=c.intensity,O=c.distance,E=c.shadow&&c.shadow.map?c.shadow.map.texture:null;if(c.isAmbientLight)u+=_.r*x,l+=_.g*x,h+=_.b*x;else if(c.isLightProbe)for(let t=0;t<9;t++)n.probe[t].addScaledVector(c.sh.coefficients[t],x);else if(c.isDirectionalLight){const i=t.get(c);if(i.color.copy(c.color).multiplyScalar(c.intensity),i.direction.setFromMatrixPosition(c.matrixWorld),r.setFromMatrixPosition(c.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(w),c.castShadow){const t=c.shadow,r=e.get(c);r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,n.directionalShadow[f]=r,n.directionalShadowMap[f]=E,n.directionalShadowMatrix[f]=c.shadow.matrix,g++}n.directional[f]=i,f++}else if(c.isSpotLight){const i=t.get(c);if(i.position.setFromMatrixPosition(c.matrixWorld),i.position.applyMatrix4(w),i.color.copy(_).multiplyScalar(x),i.distance=O,i.direction.setFromMatrixPosition(c.matrixWorld),r.setFromMatrixPosition(c.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(w),i.coneCos=Math.cos(c.angle),i.penumbraCos=Math.cos(c.angle*(1-c.penumbra)),i.decay=c.decay,c.castShadow){const t=c.shadow,r=e.get(c);r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,n.spotShadow[p]=r,n.spotShadowMap[p]=E,n.spotShadowMatrix[p]=c.shadow.matrix,y++}n.spot[p]=i,p++}else if(c.isRectAreaLight){const e=t.get(c);e.color.copy(_).multiplyScalar(x),e.position.setFromMatrixPosition(c.matrixWorld),e.position.applyMatrix4(w),o.identity(),i.copy(c.matrixWorld),i.premultiply(w),o.extractRotation(i),e.halfWidth.set(.5*c.width,0,0),e.halfHeight.set(0,.5*c.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),n.rectArea[m]=e,m++}else if(c.isPointLight){const r=t.get(c);if(r.position.setFromMatrixPosition(c.matrixWorld),r.position.applyMatrix4(w),r.color.copy(c.color).multiplyScalar(c.intensity),r.distance=c.distance,r.decay=c.decay,c.castShadow){const t=c.shadow,r=e.get(c);r.shadowBias=t.bias,r.shadowNormalBias=t.normalBias,r.shadowRadius=t.radius,r.shadowMapSize=t.mapSize,r.shadowCameraNear=t.camera.near,r.shadowCameraFar=t.camera.far,n.pointShadow[d]=r,n.pointShadowMap[d]=E,n.pointShadowMatrix[d]=c.shadow.matrix,v++}n.point[d]=r,d++}else if(c.isHemisphereLight){const e=t.get(c);e.direction.setFromMatrixPosition(c.matrixWorld),e.direction.transformDirection(w),e.direction.normalize(),e.skyColor.copy(c.color).multiplyScalar(x),e.groundColor.copy(c.groundColor).multiplyScalar(x),n.hemi[b]=e,b++}}n.ambient[0]=u,n.ambient[1]=l,n.ambient[2]=h;const _=n.hash;_.directionalLength===f&&_.pointLength===d&&_.spotLength===p&&_.rectAreaLength===m&&_.hemiLength===b&&_.numDirectionalShadows===g&&_.numPointShadows===v&&_.numSpotShadows===y||(n.directional.length=f,n.spot.length=p,n.rectArea.length=m,n.point.length=d,n.hemi.length=b,n.directionalShadow.length=g,n.directionalShadowMap.length=g,n.pointShadow.length=v,n.pointShadowMap.length=v,n.spotShadow.length=y,n.spotShadowMap.length=y,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=v,n.spotShadowMatrix.length=y,_.directionalLength=f,_.pointLength=d,_.spotLength=p,_.rectAreaLength=m,_.hemiLength=b,_.numDirectionalShadows=g,_.numPointShadows=v,_.numSpotShadows=y,n.version=_a++)},state:n}}function Ea(){const t=new Oa,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function Sa(){let t=new WeakMap;function e(n){const r=n.target;r.removeEventListener("dispose",e),t.delete(r)}return{get:function(n,r){let i;return!1===t.has(n)?(i=new Ea,t.set(n,new WeakMap),t.get(n).set(r,i),n.addEventListener("dispose",e)):!1===t.get(n).has(r)?(i=new Ea,t.get(n).set(r,i)):i=t.get(n).get(r),i},dispose:function(){t=new WeakMap}}}function ja(t){wi.call(this),this.type="MeshDepthMaterial",this.depthPacking=an,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Ma(t){wi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Zn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}ja.prototype=Object.create(wi.prototype),ja.prototype.constructor=ja,ja.prototype.isMeshDepthMaterial=!0,ja.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ma.prototype=Object.create(wi.prototype),Ma.prototype.constructor=Ma,Ma.prototype.isMeshDistanceMaterial=!0,Ma.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};function Ta(t,e,n){let r=new Ao;const i=new $n,o=new $n,s=new Vn,a=[],c=[],u={},l={0:g,1:b,2:v},h=new _o({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new $n},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONAL_PASS=1;const p=new Hi;p.setAttribute("position",new Ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new ao(p,h),w=this;function x(n,r){const i=e.update(y);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,h,y,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,f,y,null)}function O(t,e,n){const r=t<<0|e<<1|n<<2;let i=a[r];return void 0===i&&(i=new ja({depthPacking:cn,morphTargets:t,skinning:e}),a[r]=i),i}function E(t,e,n){const r=t<<0|e<<1|n<<2;let i=c[r];return void 0===i&&(i=new Ma({morphTargets:t,skinning:e}),c[r]=i),i}function S(e,n,r,i,o,s,a){let c=null,h=O,f=e.customDepthMaterial;if(!0===i.isPointLight&&(h=E,f=e.customDistanceMaterial),void 0===f){let t=!1;!0===r.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let i=!1;!0===e.isSkinnedMesh&&(!0===r.skinning?i=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e));c=h(t,i,!0===e.isInstancedMesh)}else c=f;if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const t=c.uuid,e=r.uuid;let n=u[t];void 0===n&&(n={},u[t]=n);let i=n[e];void 0===i&&(i=c.clone(),n[e]=i),c=i}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=a===m?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:l[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=o,c.farDistance=s),c}function j(n,i,o,s,a){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===m)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=e.update(n),i=n.material;if(Array.isArray(i)){const e=r.groups;for(let c=0,u=e.length;c<u;c++){const u=e[c],l=i[u.materialIndex];if(l&&l.visible){const e=S(n,r,l,s,o.near,o.far,a);t.renderBufferDirect(o,null,r,e,n,u)}}}else if(i.visible){const e=S(n,r,i,s,o.near,o.far,a);t.renderBufferDirect(o,null,r,e,n,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)j(c[t],i,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d,this.render=function(e,a,c){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===e.length)return;const u=t.getRenderTarget(),l=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),f=t.state;f.setBlending(_),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let u=0,l=e.length;u<l;u++){const l=e[u],h=l.shadow;if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;if(void 0===h){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}i.copy(h.mapSize);const d=h.getFrameExtents();if(i.multiply(d),o.copy(h.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/d.x),i.x=o.x*d.x,h.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/d.y),i.y=o.y*d.y,h.mapSize.y=o.y)),null===h.map&&!h.isPointLightShadow&&this.type===m){const t={minFilter:_t,magFilter:_t,format:Ft};h.map=new qn(i.x,i.y,t),h.map.texture.name=l.name+".shadowMap",h.mapPass=new qn(i.x,i.y,t),h.camera.updateProjectionMatrix()}if(null===h.map){const t={minFilter:bt,magFilter:bt,format:Ft};h.map=new qn(i.x,i.y,t),h.map.texture.name=l.name+".shadowMap",h.camera.updateProjectionMatrix()}t.setRenderTarget(h.map),t.clear();const p=h.getViewportCount();for(let t=0;t<p;t++){const e=h.getViewport(t);s.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),f.viewport(s),h.updateMatrices(l,t),r=h.getFrustum(),j(a,c,h.camera,l,this.type)}h.isPointLightShadow||this.type!==m||x(h,c),h.needsUpdate=!1}w.needsUpdate=!1,t.setRenderTarget(u,l,h)}}function Aa(t,e,n){const r=n.isWebGL2;const i=new function(){let e=!1;const n=new Vn;let r=null;const i=new Vn(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,s,a){!0===a&&(e*=s,r*=s,o*=s),n.set(e,r,o,s),!1===i.equals(n)&&(t.clearColor(e,r,o,s),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,r=null,i=null;return{setTest:function(t){t?pt(2929):mt(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case H:t.depthFunc(512);break;case G:t.depthFunc(519);break;case V:t.depthFunc(513);break;case q:t.depthFunc(515);break;case W:t.depthFunc(514);break;case K:t.depthFunc(518);break;case Y:t.depthFunc(516);break;case X:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},u=new function(){let e=!1,n=null,r=null,i=null,o=null,s=null,a=null,c=null,u=null;return{setTest:function(t){e||(t?pt(2960):mt(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,s){r===e&&i===n&&o===s||(t.stencilFunc(e,n,s),r=e,i=n,o=s)},setOp:function(e,n,r){s===e&&a===n&&c===r||(t.stencilOp(e,n,r),s=e,a=n,c=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,s=null,a=null,c=null,u=null}}};let l={},h=null,f=null,d=null,p=null,m=null,b=null,y=null,w=null,Z=null,J=!1,Q=null,tt=null,et=null,nt=null,rt=null;const it=t.getParameter(35661);let ot=!1,st=0;const at=t.getParameter(7938);-1!==at.indexOf("WebGL")?(st=parseFloat(/^WebGL\ ([0-9])/.exec(at)[1]),ot=st>=1):-1!==at.indexOf("OpenGL ES")&&(st=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(at)[1]),ot=st>=2);let ct=null,ut={};const lt=new Vn,ht=new Vn;function ft(e,n,r){const i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<r;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,i);return o}const dt={};function pt(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function mt(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}dt[3553]=ft(3553,3553,1),dt[34067]=ft(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),u.setClear(0),pt(2929),o.setFunc(q),yt(!1),wt(a),pt(2884),vt(_);const bt={[M]:32774,[T]:32778,[A]:32779};if(r)bt[k]=32775,bt[I]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(bt[k]=t.MIN_EXT,bt[I]=t.MAX_EXT)}const gt={[C]:0,[R]:1,[P]:768,[N]:770,[z]:776,[F]:774,[B]:772,[L]:769,[D]:771,[U]:775,[$]:773};function vt(e,n,r,i,o,s,a,c){if(e!==_){if(f||(pt(3042),f=!0),e===j)o=o||n,s=s||r,a=a||i,n===p&&o===y||(t.blendEquationSeparate(bt[n],bt[o]),p=n,y=o),r===m&&i===b&&s===w&&a===Z||(t.blendFuncSeparate(gt[r],gt[i],gt[s],gt[a]),m=r,b=i,w=s,Z=a),d=e,J=null;else if(e!==d||c!==J){if(p===M&&y===M||(t.blendEquation(32774),p=M,y=M),c)switch(e){case x:t.blendFuncSeparate(1,771,1,771);break;case O:t.blendFunc(1,1);break;case E:t.blendFuncSeparate(0,0,769,771);break;case S:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case x:t.blendFuncSeparate(770,771,1,771);break;case O:t.blendFunc(770,1);break;case E:t.blendFunc(0,769);break;case S:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}m=null,b=null,w=null,Z=null,d=e,J=c}}else f&&(mt(3042),f=!1)}function yt(e){Q!==e&&(e?t.frontFace(2304):t.frontFace(2305),Q=e)}function wt(e){e!==s?(pt(2884),e!==tt&&(e===a?t.cullFace(1029):e===c?t.cullFace(1028):t.cullFace(1032))):mt(2884),tt=e}function _t(e,n,r){e?(pt(32823),nt===n&&rt===r||(t.polygonOffset(n,r),nt=n,rt=r)):mt(32823)}function xt(e){void 0===e&&(e=33984+it-1),ct!==e&&(t.activeTexture(e),ct=e)}return{buffers:{color:i,depth:o,stencil:u},enable:pt,disable:mt,useProgram:function(e){return h!==e&&(t.useProgram(e),h=e,!0)},setBlending:vt,setMaterial:function(t,e){t.side===v?mt(2884):pt(2884);let n=t.side===g;e&&(n=!n),yt(n),t.blending===x&&!1===t.transparent?vt(_):vt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),i.setMask(t.colorWrite);const r=t.stencilWrite;u.setTest(r),r&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),_t(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:yt,setCullFace:wt,setLineWidth:function(e){e!==et&&(ot&&t.lineWidth(e),et=e)},setPolygonOffset:_t,setScissorTest:function(t){t?pt(3089):mt(3089)},activeTexture:xt,bindTexture:function(e,n){null===ct&&xt();let r=ut[ct];void 0===r&&(r={type:void 0,texture:void 0},ut[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||dt[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=ut[ct];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===lt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),lt.copy(e))},viewport:function(e){!1===ht.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ht.copy(e))},reset:function(){l={},ct=null,ut={},h=null,d=null,Q=null,tt=null,i.reset(),o.reset(),u.reset()}}}function ka(t,e,n,r,i,o,s){const a=i.isWebGL2,c=i.maxTextures,u=i.maxCubemapSize,l=i.maxTextureSize,h=i.maxSamples,f=new WeakMap;let d,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function m(t,e){return p?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(t,e,n,r){let i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const r=e?Bn.floorPowerOfTwo:Math.floor,o=r(i*t.width),s=r(i*t.height);void 0===d&&(d=m(o,s));const a=n?m(o,s):d;a.width=o,a.height=s;return a.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return Bn.isPowerOfTwo(t.width)&&Bn.isPowerOfTwo(t.height)}function v(t,e){return t.generateMipmaps&&e&&t.minFilter!==bt&&t.minFilter!==_t}function y(e,n,i,o){t.generateMipmap(e);r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function w(n,r,i){if(!1===a)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function _(t){return t===bt||t===gt||t===yt?9728:9729}function x(e){const n=e.target;n.removeEventListener("dispose",x),function(e){const n=r.get(e);if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture),r.remove(e)}(n),n.isVideoTexture&&f.delete(n),s.memory.textures--}function O(e){const n=e.target;n.removeEventListener("dispose",O),function(e){const n=r.get(e),i=r.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(e.texture),r.remove(e)}(n),s.memory.textures--}let E=0;function S(t,e){const i=r.get(t);if(t.isVideoTexture&&function(t){const e=s.render.frame;f.get(t)!==e&&(f.set(t,e),t.update())}(t),t.version>0&&i.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void C(i,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,i.__webglTexture)}function j(e,i){if(6!==e.image.length)return;const s=r.get(e);if(e.version>0&&s.__version!==e.version){I(s,e),n.activeTexture(33984+i),n.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);const r=e&&(e.isCompressedTexture||e.image[0].isCompressedTexture),c=e.image[0]&&e.image[0].isDataTexture,l=[];for(let t=0;t<6;t++)l[t]=r||c?c?e.image[t].image:e.image[t]:b(e.image[t],!1,!0,u);const h=l[0],f=g(h)||a,d=o.convert(e.format),p=o.convert(e.type),m=w(e.internalFormat,d,p);let _;if(k(34067,e,f),r){for(let t=0;t<6;t++){_=l[t].mipmaps;for(let r=0;r<_.length;r++){const i=_[r];e.format!==Ft&&e.format!==$t?null!==d?n.compressedTexImage2D(34069+t,r,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,r,m,i.width,i.height,0,d,p,i.data)}}s.__maxMipLevel=_.length-1}else{_=e.mipmaps;for(let t=0;t<6;t++)if(c){n.texImage2D(34069+t,0,m,l[t].width,l[t].height,0,d,p,l[t].data);for(let e=0;e<_.length;e++){const r=_[e].image[t].image;n.texImage2D(34069+t,e+1,m,r.width,r.height,0,d,p,r.data)}}else{n.texImage2D(34069+t,0,m,d,p,l[t]);for(let e=0;e<_.length;e++){const r=_[e];n.texImage2D(34069+t,e+1,m,d,p,r.image[t])}}s.__maxMipLevel=_.length}v(e,f)&&y(34067,e,h.width,h.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+i),n.bindTexture(34067,s.__webglTexture)}function M(t,e){n.activeTexture(33984+e),n.bindTexture(34067,r.get(t).__webglTexture)}const T={[dt]:10497,[pt]:33071,[mt]:33648},A={[bt]:9728,[gt]:9984,[yt]:9986,[_t]:9729,[xt]:9985,[Et]:9987};function k(n,o,s){s?(t.texParameteri(n,10242,T[o.wrapS]),t.texParameteri(n,10243,T[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,T[o.wrapR]),t.texParameteri(n,10240,A[o.magFilter]),t.texParameteri(n,10241,A[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===pt&&o.wrapT===pt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,_(o.magFilter)),t.texParameteri(n,10241,_(o.minFilter)),o.minFilter!==bt&&o.minFilter!==_t&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const c=e.get("EXT_texture_filter_anisotropic");if(c){if(o.type===Ct&&null===e.get("OES_texture_float_linear"))return;if(o.type===Rt&&null===(a||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function I(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",x),e.__webglTexture=t.createTexture(),s.memory.textures++)}function C(e,r,i){let s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),I(e,r),n.activeTexture(33984+i),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);const c=function(t){return!a&&(t.wrapS!==pt||t.wrapT!==pt||t.minFilter!==bt&&t.minFilter!==_t)}(r)&&!1===g(r.image),u=b(r.image,c,!1,l),h=g(u)||a,f=o.convert(r.format);let d,p=o.convert(r.type),m=w(r.internalFormat,f,p);k(s,r,h);const _=r.mipmaps;if(r.isDepthTexture)m=6402,a?m=r.type===Ct?36012:r.type===It?33190:r.type===Dt?35056:33189:r.type===Ct&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Gt&&6402===m&&r.type!==At&&r.type!==It&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=At,p=o.convert(r.type)),r.format===Vt&&6402===m&&(m=34041,r.type!==Dt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Dt,p=o.convert(r.type))),n.texImage2D(3553,0,m,u.width,u.height,0,f,p,null);else if(r.isDataTexture)if(_.length>0&&h){for(let t=0,e=_.length;t<e;t++)d=_[t],n.texImage2D(3553,t,m,d.width,d.height,0,f,p,d.data);r.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,f,p,u.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(let t=0,e=_.length;t<e;t++)d=_[t],r.format!==Ft&&r.format!==$t?null!==f?n.compressedTexImage2D(3553,t,m,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,m,d.width,d.height,0,f,p,d.data);e.__maxMipLevel=_.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,f,p,u.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,f,p,u.data),e.__maxMipLevel=0;else if(_.length>0&&h){for(let t=0,e=_.length;t<e;t++)d=_[t],n.texImage2D(3553,t,m,f,p,d);r.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,f,p,u),e.__maxMipLevel=0;v(r,h)&&y(s,r,u.width,u.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function R(e,i,s,a){const c=o.convert(i.texture.format),u=o.convert(i.texture.type),l=w(i.texture.internalFormat,c,u);n.texImage2D(a,0,l,i.width,i.height,0,c,u,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,s,a,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Ct?i=36012:e.type===It&&(i=33190));const r=N(n);t.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else t.renderbufferStorage(36161,i,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const e=N(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=o.convert(n.texture.format),i=o.convert(n.texture.type),s=w(n.texture.internalFormat,e,i);if(r){const e=N(n);t.renderbufferStorageMultisample(36161,e,s,n.width,n.height)}else t.renderbufferStorage(36161,s,n.width,n.height)}t.bindRenderbuffer(36161,null)}function L(e){const n=r.get(e),i=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),S(n.depthTexture,0);const i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Gt)t.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Vt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(let r=0;r<6;r++)t.bindFramebuffer(36160,n.__webglFramebuffer[r]),n.__webglDepthbuffer[r]=t.createRenderbuffer(),P(n.__webglDepthbuffer[r],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),P(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function N(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(h,t.samples):0}let D=!1,B=!1;this.allocateTextureUnit=function(){const t=E;return t>=c&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+c),E+=1,t},this.resetTextureUnits=function(){E=0},this.setTexture2D=S,this.setTexture2DArray=function(t,e){const i=r.get(t);t.version>0&&i.__version!==t.version?C(i,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(t,e){const i=r.get(t);t.version>0&&i.__version!==t.version?C(i,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=j,this.setTextureCubeDynamic=M,this.setupRenderTarget=function(e){const i=r.get(e),c=r.get(e.texture);e.addEventListener("dispose",O),c.__webglTexture=t.createTexture(),s.memory.textures++;const u=!0===e.isWebGLCubeRenderTarget,l=!0===e.isWebGLMultisampleRenderTarget,h=g(e)||a;if(!a||e.texture.format!==$t||e.texture.type!==Ct&&e.texture.type!==Rt||(e.texture.format=Ft,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){i.__webglFramebuffer=[];for(let e=0;e<6;e++)i.__webglFramebuffer[e]=t.createFramebuffer()}else if(i.__webglFramebuffer=t.createFramebuffer(),l)if(a){i.__webglMultisampledFramebuffer=t.createFramebuffer(),i.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,i.__webglColorRenderbuffer);const n=o.convert(e.texture.format),r=o.convert(e.texture.type),s=w(e.texture.internalFormat,n,r),a=N(e);t.renderbufferStorageMultisample(36161,a,s,e.width,e.height),t.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(i.__webglDepthRenderbuffer=t.createRenderbuffer(),P(i.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,c.__webglTexture),k(34067,e.texture,h);for(let t=0;t<6;t++)R(i.__webglFramebuffer[t],e,36064,34069+t);v(e.texture,h)&&y(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),k(3553,e.texture,h),R(i.__webglFramebuffer,e,36064,3553),v(e.texture,h)&&y(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&L(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(v(e,g(t)||a)){const i=t.isWebGLCubeRenderTarget?34067:3553,o=r.get(e).__webglTexture;n.bindTexture(i,o),y(i,e,t.width,t.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(a){const n=r.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const i=e.width,o=e.height;let s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,i,o,0,0,i,o,s,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===D&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),D=!0),t=t.texture),S(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),B=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?j(t,e):M(t,e)}}function Ia(t,e,n){const r=n.isWebGL2;return{convert:function(t){let n;if(t===jt)return 5121;if(t===Pt)return 32819;if(t===Lt)return 32820;if(t===Nt)return 33635;if(t===Mt)return 5120;if(t===Tt)return 5122;if(t===At)return 5123;if(t===kt)return 5124;if(t===It)return 5125;if(t===Ct)return 5126;if(t===Rt)return r?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(t===Bt)return 6406;if(t===$t)return 6407;if(t===Ft)return 6408;if(t===Ut)return 6409;if(t===zt)return 6410;if(t===Gt)return 6402;if(t===Vt)return 34041;if(t===qt)return 6403;if(t===Wt)return 36244;if(t===Kt)return 33319;if(t===Yt)return 33320;if(t===Xt)return 36248;if(t===Zt)return 36249;if(t===Jt||t===Qt||t===te||t===ee){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(t===Jt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Qt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===te)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ee)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===ne||t===re||t===ie||t===oe){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(t===ne)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===re)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ie)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===oe)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===se)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===ae||t===ce)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(t===ae)return n.COMPRESSED_RGB8_ETC2;if(t===ce)return n.COMPRESSED_RGBA8_ETC2_EAC}return t===ue||t===le||t===he||t===fe||t===de||t===pe||t===me||t===be||t===ge||t===ve||t===ye||t===we||t===_e||t===xe||t===Ee||t===Se||t===je||t===Me||t===Te||t===Ae||t===ke||t===Ie||t===Ce||t===Re||t===Pe||t===Le||t===Ne||t===De?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):t===Oe?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===Dt?r?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Ca(t){Oo.call(this),this.cameras=t||[]}function Ra(){Or.call(this),this.type="Group"}function Pa(){this._targetRay=null,this._grip=null}function La(t,e){const n=this;let r=null,i=1,o=null,s="local-floor",a=null;const c=[],u=new Map,l=new Oo;l.layers.enable(1),l.viewport=new Vn;const h=new Oo;h.layers.enable(2),h.viewport=new Vn;const f=[l,h],d=new Ca;d.layers.enable(1),d.layers.enable(2);let p=null,m=null;function b(t){const e=u.get(t.inputSource);e&&e.dispatchEvent({type:t.type})}function g(){u.forEach((function(t,e){t.disconnect(e)})),u.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function v(t){o=t,E.setContext(r),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function y(t){const e=r.inputSources;for(let t=0;t<c.length;t++)u.set(e[t],c[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=u.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),u.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],r=u.get(n);r&&r.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=c[t];return void 0===e&&(e=new Pa,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=c[t];return void 0===e&&(e=new Pa,c[t]=e),e.getGripSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(t){if(r=t,null!==r){r.addEventListener("select",b),r.addEventListener("selectstart",b),r.addEventListener("selectend",b),r.addEventListener("squeeze",b),r.addEventListener("squeezestart",b),r.addEventListener("squeezeend",b),r.addEventListener("end",g);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:i},o=new XRWebGLLayer(r,e,n);r.updateRenderState({baseLayer:o}),r.requestReferenceSpace(s).then(v),r.addEventListener("inputsourceschange",y)}};const w=new Zn,_=new Zn;function x(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}this.getCamera=function(t){d.near=h.near=l.near=t.near,d.far=h.far=l.far=t.far,p===d.near&&m===d.far||(r.updateRenderState({depthNear:d.near,depthFar:d.far}),p=d.near,m=d.far);const e=t.parent,n=d.cameras;x(d,e);for(let t=0;t<n.length;t++)x(n[t],e);t.matrixWorld.copy(d.matrixWorld);const i=t.children;for(let t=0,e=i.length;t<e;t++)i[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){w.setFromMatrixPosition(e.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);const r=w.distanceTo(_),i=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),c=(i[9]+1)/i[5],u=(i[9]-1)/i[5],l=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=s*l,d=s*h,p=r/(-l+h),m=p*-l;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);const b=s+p,g=a+p,v=f-m,y=d+(r-m),x=c*a/g*b,O=u*a/g*b;t.projectionMatrix.makePerspective(v,y,x,O,b,g)}(d,l,h):d.projectionMatrix.copy(l.projectionMatrix),d};let O=null;const E=new Io;E.setAnimationLoop((function(e,n){if(a=n.getViewerPose(o),null!==a){const e=a.views,n=r.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let i=!1;e.length!==d.cameras.length&&(d.cameras.length=0,i=!0);for(let t=0;t<e.length;t++){const r=e[t],o=n.getViewport(r),s=f[t];s.matrix.fromArray(r.transform.matrix),s.projectionMatrix.fromArray(r.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===t&&d.matrix.copy(s.matrix),!0===i&&d.cameras.push(s)}}const i=r.inputSources;for(let t=0;t<c.length;t++){const e=c[t],r=i[t];e.update(r,n,o)}O&&O(e,n)})),this.setAnimationLoop=function(t){O=t},this.dispose=function(){}}function Na(t){function e(e,n,r){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=n.envMap||r;let o,s;i&&(e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio,e.maxMipLevel.value=t.get(i).__maxMipLevel),n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?o=n.map:n.specularMap?o=n.specularMap:n.displacementMap?o=n.displacementMap:n.normalMap?o=n.normalMap:n.bumpMap?o=n.bumpMap:n.roughnessMap?o=n.roughnessMap:n.metalnessMap?o=n.metalnessMap:n.alphaMap?o=n.alphaMap:n.emissiveMap&&(o=n.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uvTransform.value.copy(o.matrix)),n.aoMap?s=n.aoMap:n.lightMap&&(s=n.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function n(t,e,n){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===g&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===g&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),(e.envMap||n)&&(t.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,r,i,o,s){r.isMeshBasicMaterial?e(t,r):r.isMeshLambertMaterial?(e(t,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,r)):r.isMeshToonMaterial?(e(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===g&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===g&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshPhongMaterial?(e(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===g&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===g&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshStandardMaterial?(e(t,r,i),r.isMeshPhysicalMaterial?function(t,e,r){n(t,e,r),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen);e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap);e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap);e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===g&&t.clearcoatNormalScale.value.negate());t.transparency.value=e.transparency}(t,r,i):n(t,r,i)):r.isMeshMatcapMaterial?(e(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===g&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===g&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDepthMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isMeshDistanceMaterial?(e(t,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?(e(t,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===g&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===g&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,n,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);let i;e.map?i=e.map:e.alphaMap&&(i=e.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,r,o,s):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);let n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Da(t){const e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",l=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h=null,f=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Je,this.physicallyCorrectLights=!1,this.toneMapping=tt,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let p=!1,m=null,b=0,g=0,v=null,y=null,w=-1,_=null,x=null;const O=new Vn,E=new Vn;let S=null,j=e.width,M=e.height,T=1,A=null,k=null;const I=new Vn(0,0,j,M),C=new Vn(0,0,j,M);let R=!1;const P=new Ao,L=new Uo;let N=!1,D=!1;const B=new or,$=new Zn,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===v?T:1}let z,H,G,V,q,W,K,Y,X,Z,J,Q,et,nt,rt,it,ot,st,at,ct=n;function ut(t,n){for(let r=0;r<t.length;r++){const i=t[r],o=e.getContext(i,n);if(null!==o)return o}return null}try{const t={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:l};if(e.addEventListener("webglcontextlost",dt,!1),e.addEventListener("webglcontextrestored",pt,!1),null===ct){const e=["webgl2","webgl","experimental-webgl"];if(!0===d.isWebGL1Renderer&&e.shift(),ct=ut(e,t),null===ct)throw ut(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function lt(){z=new zo(ct),H=new Fo(ct,z,t),!1===H.isWebGL2&&(z.get("WEBGL_depth_texture"),z.get("OES_texture_float"),z.get("OES_texture_half_float"),z.get("OES_texture_half_float_linear"),z.get("OES_standard_derivatives"),z.get("OES_element_index_uint"),z.get("OES_vertex_array_object"),z.get("ANGLE_instanced_arrays")),z.get("OES_texture_float_linear"),st=new Ia(ct,z,H),G=new Aa(ct,z,H),G.scissor(E.copy(C).multiplyScalar(T).floor()),G.viewport(O.copy(I).multiplyScalar(T).floor()),V=new Vo(ct),q=new ma,W=new ka(ct,z,G,q,H,st,V),K=new Co(ct,H),at=new Bo(ct,z,K,H),Y=new Ho(ct,K,V,at),X=new Yo(ct,Y,K,V),rt=new Ko(ct),Z=new pa(d,z,H,at),J=new Na(q),Q=new ya,et=new Sa,nt=new Do(d,G,X,a),it=new $o(ct,z,V,H),ot=new Go(ct,z,V,H),V.programs=Z.programs,d.capabilities=H,d.extensions=z,d.properties=q,d.renderLists=Q,d.state=G,d.info=V}lt();const ht=new La(d,ct);this.xr=ht;const ft=new Ta(d,X,H.maxTextureSize);function dt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,lt()}function mt(t){const e=t.target;e.removeEventListener("dispose",mt),function(t){bt(t),q.remove(t)}(e)}function bt(t){const e=q.get(t).program;t.program=void 0,void 0!==e&&Z.releaseProgram(e)}this.shadowMap=ft,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){const t=z.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=z.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(t){void 0!==t&&(T=t,this.setSize(j,M,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new $n),t.set(j,M)},this.setSize=function(t,n,r){ht.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=t,M=n,e.width=Math.floor(t*T),e.height=Math.floor(n*T),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new $n),t.set(j*T,M*T).floor()},this.setDrawingBufferSize=function(t,n,r){j=t,M=n,T=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Vn),t.copy(O)},this.getViewport=function(t){return t.copy(I)},this.setViewport=function(t,e,n,r){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,r),G.viewport(O.copy(I).multiplyScalar(T).floor())},this.getScissor=function(t){return t.copy(C)},this.setScissor=function(t,e,n,r){t.isVector4?C.set(t.x,t.y,t.z,t.w):C.set(t,e,n,r),G.scissor(E.copy(C).multiplyScalar(T).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(t){G.setScissorTest(R=t)},this.setOpaqueSort=function(t){A=t},this.setTransparentSort=function(t){k=t},this.getClearColor=function(){return nt.getClearColor()},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(t,e,n){let r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),ct.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",dt,!1),e.removeEventListener("webglcontextrestored",pt,!1),Q.dispose(),et.dispose(),q.dispose(),X.dispose(),at.dispose(),ht.dispose(),vt.stop()},this.renderBufferImmediate=function(t,e){at.initAttributes();const n=q.get(t);t.hasPositions&&!n.position&&(n.position=ct.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ct.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ct.createBuffer()),t.hasColors&&!n.color&&(n.color=ct.createBuffer());const r=e.getAttributes();t.hasPositions&&(ct.bindBuffer(34962,n.position),ct.bufferData(34962,t.positionArray,35048),at.enableAttribute(r.position),ct.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(ct.bindBuffer(34962,n.normal),ct.bufferData(34962,t.normalArray,35048),at.enableAttribute(r.normal),ct.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(ct.bindBuffer(34962,n.uv),ct.bufferData(34962,t.uvArray,35048),at.enableAttribute(r.uv),ct.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(ct.bindBuffer(34962,n.color),ct.bufferData(34962,t.colorArray,35048),at.enableAttribute(r.color),ct.vertexAttribPointer(r.color,3,5126,!1,0,0)),at.disableUnusedAttributes(),ct.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){null===e&&(e=F);const s=i.isMesh&&i.matrixWorld.determinant()<0,a=Ot(t,e,r,i);G.setMaterial(r,s);let c=n.index;const u=n.attributes.position;if(null===c){if(void 0===u||0===u.count)return}else if(0===c.count)return;let l,h=1;!0===r.wireframe&&(c=Y.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&rt.update(i,n,r,a),at.setup(i,r,a,n,c);let f=it;null!==c&&(l=K.get(c),f=ot,f.setIndex(l));const d=null!==c?c.count:u.count,p=n.drawRange.start*h,m=n.drawRange.count*h,b=null!==o?o.start*h:0,g=null!==o?o.count*h:1/0,v=Math.max(p,b),y=Math.min(d,p+m,b+g)-1,w=Math.max(0,y-v+1);if(0!==w){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*U()),f.setMode(1)):f.setMode(4);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),G.setLineWidth(t*U()),i.isLineSegments?f.setMode(1):i.isLineLoop?f.setMode(2):f.setMode(3)}else i.isPoints?f.setMode(0):i.isSprite&&f.setMode(4);if(i.isInstancedMesh)f.renderInstances(n,v,w,i.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);f.renderInstances(n,v,w,t)}else f.render(v,w)}},this.compile=function(t,e){f=et.get(t,e),f.init(),t.traverse((function(t){t.isLight&&(f.pushLight(t),t.castShadow&&f.pushShadow(t))})),f.setupLights(e);const n=new WeakMap;t.traverse((function(e){let r=e.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];!1===n.has(o)&&(xt(o,t,e),n.set(o))}else!1===n.has(r)&&(xt(r,t,e),n.set(r))}))};let gt=null;const vt=new Io;function yt(t,e,n,r){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)f.pushLight(t),t.castShadow&&f.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||P.intersectsSprite(t)){r&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);const e=X.update(t),i=t.material;i.visible&&h.push(t,e,i,n,$.z,null)}}else if(t.isImmediateRenderObject)r&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B),h.push(t,null,t.material,n,$.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==V.render.frame&&(t.skeleton.update(),t.skeleton.frame=V.render.frame),!t.frustumCulled||P.intersectsObject(t))){r&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);const e=X.update(t),i=t.material;if(Array.isArray(i)){const r=e.groups;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i[s.materialIndex];a&&a.visible&&h.push(t,e,a,n,$.z,s)}}else i.visible&&h.push(t,e,i,n,$.z,null)}const i=t.children;for(let t=0,o=i.length;t<o;t++)yt(i[t],e,n,r)}function wt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.object,a=o.geometry,c=null===r?o.material:r,u=o.group;if(n.isArrayCamera){x=n;const t=n.cameras;for(let n=0,r=t.length;n<r;n++){const r=t[n];s.layers.test(r.layers)&&(G.viewport(O.copy(r.viewport)),f.setupLights(r),_t(s,e,r,a,c,u))}}else x=null,_t(s,e,n,a,c,u)}}function _t(t,e,n,r,i,o){if(t.onBeforeRender(d,e,n,r,i,o),f=et.get(e,x||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const r=Ot(n,e,i,t);G.setMaterial(i),at.reset(),function(t,e){t.render((function(t){d.renderBufferImmediate(t,e)}))}(t,r)}else d.renderBufferDirect(n,e,r,i,t,o);t.onAfterRender(d,e,n,r,i,o),f=et.get(e,x||n)}function xt(t,e,n){!0!==e.isScene&&(e=F);const r=q.get(t),i=f.state.lights,o=f.state.shadowsArray,s=i.state.version,a=Z.getParameters(t,i.state,o,e,L.numPlanes,L.numIntersection,n),c=Z.getProgramCacheKey(a);let u=r.program,l=!0;if(void 0===u)t.addEventListener("dispose",mt);else if(u.cacheKey!==c)bt(t);else if(r.lightsStateVersion!==s)r.lightsStateVersion=s,l=!1;else{if(void 0!==a.shaderID)return;l=!1}l&&(u=Z.acquireProgram(a,c),r.program=u,r.uniforms=a.uniforms,r.outputEncoding=a.outputEncoding,t.program=u);const h=u.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(let e=0;e<d.maxMorphTargets;e++)h["morphTarget"+e]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(let e=0;e<d.maxMorphNormals;e++)h["morphNormal"+e]>=0&&t.numSupportedMorphNormals++}const p=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=L.numPlanes,r.numIntersection=L.numIntersection,p.clippingPlanes=L.uniform),r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=s,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);const m=r.program.getUniforms(),b=Ws.seqWithValue(m.seq,p);r.uniformsList=b}function Ot(t,e,n,r){!0!==e.isScene&&(e=F),W.resetTextureUnits();const i=e.fog,o=n.isMeshStandardMaterial?e.environment:null,s=null===v?d.outputEncoding:v.texture.encoding,a=q.get(n),c=f.state.lights;if(!0===N&&(!0===D||t!==_)){const e=t===_&&n.id===w;L.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,a,e)}n.version===a.__version?void 0===a.program||n.fog&&a.fog!==i||a.environment!==o||a.needsLights&&a.lightsStateVersion!==c.state.version?xt(n,e,r):void 0===a.numClippingPlanes||a.numClippingPlanes===L.numPlanes&&a.numIntersection===L.numIntersection?a.outputEncoding!==s&&xt(n,e,r):xt(n,e,r):(xt(n,e,r),a.__version=n.version);let u=!1,l=!1,h=!1;const p=a.program,m=p.getUniforms(),b=a.uniforms;if(G.useProgram(p.program)&&(u=!0,l=!0,h=!0),n.id!==w&&(w=n.id,l=!0),u||_!==t){if(m.setValue(ct,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&m.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),_!==t&&(_=t,l=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=m.map.cameraPosition;void 0!==e&&e.setValue(ct,$.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&m.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&m.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){m.setOptional(ct,r,"bindMatrix"),m.setOptional(ct,r,"bindMatrixInverse");const t=r.skeleton;if(t){const e=t.bones;if(H.floatVertexTextures){if(void 0===t.boneTexture){let n=Math.sqrt(4*e.length);n=Bn.ceilPowerOfTwo(n),n=Math.max(n,4);const r=new Float32Array(n*n*4);r.set(t.boneMatrices);const i=new jo(r,n,n,Ft,Ct);t.boneMatrices=r,t.boneTexture=i,t.boneTextureSize=n}m.setValue(ct,"boneTexture",t.boneTexture,W),m.setValue(ct,"boneTextureSize",t.boneTextureSize)}else m.setOptional(ct,t,"boneMatrices")}}var g,y;return(l||a.receiveShadow!==r.receiveShadow)&&(a.receiveShadow=r.receiveShadow,m.setValue(ct,"receiveShadow",r.receiveShadow)),l&&(m.setValue(ct,"toneMappingExposure",d.toneMappingExposure),a.needsLights&&(y=h,(g=b).ambientLightColor.needsUpdate=y,g.lightProbe.needsUpdate=y,g.directionalLights.needsUpdate=y,g.directionalLightShadows.needsUpdate=y,g.pointLights.needsUpdate=y,g.pointLightShadows.needsUpdate=y,g.spotLights.needsUpdate=y,g.spotLightShadows.needsUpdate=y,g.rectAreaLights.needsUpdate=y,g.hemisphereLights.needsUpdate=y),i&&n.fog&&J.refreshFogUniforms(b,i),J.refreshMaterialUniforms(b,n,o,T,M),void 0!==b.ltc_1&&(b.ltc_1.value=ko.LTC_1),void 0!==b.ltc_2&&(b.ltc_2.value=ko.LTC_2),Ws.upload(ct,a.uniformsList,b,W)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ws.upload(ct,a.uniformsList,b,W),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(ct,"center",r.center),m.setValue(ct,"modelViewMatrix",r.modelViewMatrix),m.setValue(ct,"normalMatrix",r.normalMatrix),m.setValue(ct,"modelMatrix",r.matrixWorld),p}vt.setAnimationLoop((function(t){ht.isPresenting||gt&&gt(t)})),"undefined"!=typeof window&&vt.setContext(window),this.setAnimationLoop=function(t){gt=t,ht.setAnimationLoop(t),null===t?vt.stop():vt.start()},this.render=function(t,e){let n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===p)return;at.resetDefaultState(),w=-1,_=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===ht.enabled&&!0===ht.isPresenting&&(e=ht.getCamera(e)),!0===t.isScene&&t.onBeforeRender(d,t,e,n||v),f=et.get(t,e),f.init(),B.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),P.setFromProjectionMatrix(B),D=this.localClippingEnabled,N=L.init(this.clippingPlanes,D,e),h=Q.get(t,e),h.init(),yt(t,e,0,d.sortObjects),h.finish(),!0===d.sortObjects&&h.sort(A,k),!0===N&&L.beginShadows();const i=f.state.shadowsArray;ft.render(i,t,e),f.setupLights(e),!0===N&&L.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),nt.render(h,t,e,r);const o=h.opaque,s=h.transparent;o.length>0&&wt(o,t,e),s.length>0&&wt(s,t,e),!0===t.isScene&&t.onAfterRender(d,t,e),null!==v&&(W.updateRenderTargetMipmap(v),W.updateMultisampleRenderTarget(v)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),h=null,f=null},this.setFramebuffer=function(t){m!==t&&null===v&&ct.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return v},this.setRenderTarget=function(t,e,n){v=t,b=e,g=n,t&&void 0===q.get(t).__webglFramebuffer&&W.setupRenderTarget(t);let r=m,i=!1;if(t){const n=q.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=n[e||0],i=!0):r=t.isWebGLMultisampleRenderTarget?q.get(t).__webglMultisampledFramebuffer:n,O.copy(t.viewport),E.copy(t.scissor),S=t.scissorTest}else O.copy(I).multiplyScalar(T).floor(),E.copy(C).multiplyScalar(T).floor(),S=R;if(y!==r&&(ct.bindFramebuffer(36160,r),y=r),G.viewport(O),G.scissor(E),G.setScissorTest(S),i){const r=q.get(t.texture);ct.framebufferTexture2D(36160,36064,34069+(e||0),r.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,r,i,o,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=q.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==y&&(ct.bindFramebuffer(36160,a),s=!0);try{const a=t.texture,c=a.format,u=a.type;if(c!==Ft&&st.convert(c)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===jt||st.convert(u)===ct.getParameter(35738)||u===Ct&&(H.isWebGL2||z.get("OES_texture_float")||z.get("WEBGL_color_buffer_float"))||u===Rt&&(H.isWebGL2?z.get("EXT_color_buffer_float"):z.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ct.checkFramebufferStatus(36160)?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&ct.readPixels(e,n,r,i,st.convert(c),st.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&ct.bindFramebuffer(36160,y)}}},this.copyFramebufferToTexture=function(t,e,n){void 0===n&&(n=0);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),s=st.convert(e.format);W.setTexture2D(e,0),ct.copyTexImage2D(3553,n,s,t.x,t.y,i,o,0),G.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r){void 0===r&&(r=0);const i=e.image.width,o=e.image.height,s=st.convert(n.format),a=st.convert(n.type);W.setTexture2D(n,0),ct.pixelStorei(37440,n.flipY),ct.pixelStorei(37441,n.premultiplyAlpha),ct.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ct.texSubImage2D(3553,r,t.x,t.y,i,o,s,a,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):ct.texSubImage2D(3553,r,t.x,t.y,s,a,e.image),0===r&&n.generateMipmaps&&ct.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(t){W.setTexture2D(t,0),G.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ba(t){Da.call(this,t)}function $a(t,e){this.name="",this.color=new pi(t),this.density=void 0!==e?e:25e-5}function Fa(t,e,n){this.name="",this.color=new pi(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Ua(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Mn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Bn.generateUUID()}Ca.prototype=Object.assign(Object.create(Oo.prototype),{constructor:Ca,isArrayCamera:!0}),Ra.prototype=Object.assign(Object.create(Or.prototype),{constructor:Ra,isGroup:!0}),Object.assign(Pa.prototype,{constructor:Pa,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Ra,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Ra,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(t,e,n){let r=null,i=null;const o=this._targetRay,s=this._grip;return t&&(null!==o&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==s&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)))),null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),this}}),Object.assign(La.prototype,Nn.prototype),Ba.prototype=Object.assign(Object.create(Da.prototype),{constructor:Ba,isWebGL1Renderer:!0}),Object.assign($a.prototype,{isFogExp2:!0,clone:function(){return new $a(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Fa.prototype,{isFog:!0,clone:function(){return new Fa(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ua.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ua.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new Ua(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const za=new Zn;function Ha(t,e,n,r){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Ga(t){wi.call(this),this.type="SpriteMaterial",this.color=new pi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let Va;Object.defineProperties(Ha.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ha.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)za.x=this.getX(e),za.y=this.getY(e),za.z=this.getZ(e),za.applyMatrix4(t),this.setXYZ(e,za.x,za.y,za.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Ei(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ha(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Ga.prototype=Object.create(wi.prototype),Ga.prototype.constructor=Ga,Ga.prototype.isSpriteMaterial=!0,Ga.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const qa=new Zn,Wa=new Zn,Ka=new Zn,Ya=new $n,Xa=new $n,Za=new or,Ja=new Zn,Qa=new Zn,tc=new Zn,ec=new $n,nc=new $n,rc=new $n;function ic(t){if(Or.call(this),this.type="Sprite",void 0===Va){Va=new Hi;const t=new Ua(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Va.setIndex([0,1,2,0,2,3]),Va.setAttribute("position",new Ha(t,3,0,!1)),Va.setAttribute("uv",new Ha(t,2,3,!1))}this.geometry=Va,this.material=void 0!==t?t:new Ga,this.center=new $n(.5,.5)}function oc(t,e,n,r,i,o){Ya.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(Xa.x=o*Ya.x-i*Ya.y,Xa.y=i*Ya.x+o*Ya.y):Xa.copy(Ya),t.copy(e),t.x+=Xa.x,t.y+=Xa.y,t.applyMatrix4(Za)}ic.prototype=Object.assign(Object.create(Or.prototype),{constructor:ic,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wa.setFromMatrixScale(this.matrixWorld),Za.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ka.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Wa.multiplyScalar(-Ka.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;oc(Ja.set(-.5,-.5,0),Ka,o,Wa,r,i),oc(Qa.set(.5,-.5,0),Ka,o,Wa,r,i),oc(tc.set(.5,.5,0),Ka,o,Wa,r,i),ec.set(0,0),nc.set(1,0),rc.set(1,1);let s=t.ray.intersectTriangle(Ja,Qa,tc,!1,qa);if(null===s&&(oc(Qa.set(-.5,.5,0),Ka,o,Wa,r,i),nc.set(0,1),s=t.ray.intersectTriangle(Ja,tc,Qa,!1,qa),null===s))return;const a=t.ray.origin.distanceTo(qa);a<t.near||a>t.far||e.push({distance:a,point:qa.clone(),uv:li.getUV(qa,Ja,Qa,tc,ec,nc,rc,new $n),face:null,object:this})},copy:function(t){return Or.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const sc=new Zn,ac=new Zn;function cc(){Or.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function uc(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ao.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new or,this.bindMatrixInverse=new or}cc.prototype=Object.assign(Object.create(Or.prototype),{constructor:cc,isLOD:!0,copy:function(t){Or.prototype.copy.call(this,t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);const n=this.levels;let r;for(r=0;r<n.length&&!(e<n[r].distance);r++);return n.splice(r,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,r;for(n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){sc.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(sc);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){sc.setFromMatrixPosition(t.matrixWorld),ac.setFromMatrixPosition(this.matrixWorld);const n=sc.distanceTo(ac)/t.zoom;let r,i;for(e[0].object.visible=!0,r=1,i=e.length;r<i&&n>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(this._currentLevel=r-1;r<i;r++)e[r].object.visible=!1}},toJSON:function(t){const e=Or.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,r=n.length;t<r;t++){const r=n[t];e.object.levels.push({object:r.object.uuid,distance:r.distance})}return e}}),uc.prototype=Object.assign(Object.create(ao.prototype),{constructor:uc,isSkinnedMesh:!0,copy:function(t){return ao.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new Vn,e=this.geometry.attributes.skinWeight;for(let n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){ao.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const t=new Zn,e=new Vn,n=new Vn,r=new Zn,i=new or;return function(o,s){const a=this.skeleton,c=this.geometry;e.fromBufferAttribute(c.attributes.skinIndex,o),n.fromBufferAttribute(c.attributes.skinWeight,o),t.fromBufferAttribute(c.attributes.position,o).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let o=0;o<4;o++){const c=n.getComponent(o);if(0!==c){const n=e.getComponent(o);i.multiplyMatrices(a.bones[n].matrixWorld,a.boneInverses[n]),s.addScaledVector(r.copy(t).applyMatrix4(i),c)}}return s.applyMatrix4(this.bindMatrixInverse)}}()});const lc=new or,hc=new or;function fc(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new or)}}function dc(){Or.call(this),this.type="Bone"}Object.assign(fc.prototype,{calculateInverses:function(){this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++){const e=new or;this.bones[t]&&e.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.getInverse(this.boneInverses[t])}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=t.length;r<i;r++){const i=t[r]?t[r].matrixWorld:hc;lc.multiplyMatrices(i,e[r]),lc.toArray(n,16*r)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new fc(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),dc.prototype=Object.assign(Object.create(Or.prototype),{constructor:dc,isBone:!0});const pc=new or,mc=new or,bc=[],gc=new ao;function vc(t,e,n){ao.call(this,t,e),this.instanceMatrix=new Ei(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function yc(t){wi.call(this),this.type="LineBasicMaterial",this.color=new pi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}vc.prototype=Object.assign(Object.create(ao.prototype),{constructor:vc,isInstancedMesh:!0,copy:function(t){return ao.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,r=this.count;if(gc.geometry=this.geometry,gc.material=this.material,void 0!==gc.material)for(let i=0;i<r;i++){this.getMatrixAt(i,pc),mc.multiplyMatrices(n,pc),gc.matrixWorld=mc,gc.raycast(t,bc);for(let t=0,n=bc.length;t<n;t++){const n=bc[t];n.instanceId=i,n.object=this,e.push(n)}bc.length=0}},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),yc.prototype=Object.create(wi.prototype),yc.prototype.constructor=yc,yc.prototype.isLineBasicMaterial=!0,yc.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const wc=new Zn,_c=new Zn,xc=new or,Oc=new Yr,Ec=new Ur;function Sc(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Or.call(this),this.type="Line",this.geometry=void 0!==t?t:new Hi,this.material=void 0!==e?e:new yc,this.updateMorphTargets()}Sc.prototype=Object.assign(Object.create(Or.prototype),{constructor:Sc,isLine:!0,copy:function(t){return Or.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,r=e.count;t<r;t++)wc.fromBufferAttribute(e,t-1),_c.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=wc.distanceTo(_c);t.setAttribute("lineDistance",new Ci(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let t=1,r=e.length;t<r;t++)n[t]=n[t-1],n[t]+=e[t-1].distanceTo(e[t])}return this},raycast:function(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ec.copy(n.boundingSphere),Ec.applyMatrix4(r),Ec.radius+=i,!1===t.ray.intersectsSphere(Ec))return;xc.getInverse(r),Oc.copy(t.ray).applyMatrix4(xc);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new Zn,c=new Zn,u=new Zn,l=new Zn,h=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes.position.array;if(null!==r){const n=r.array;for(let r=0,o=n.length-1;r<o;r+=h){const o=n[r],h=n[r+1];a.fromArray(i,3*o),c.fromArray(i,3*h);if(Oc.distanceSqToSegment(a,c,l,u)>s)continue;l.applyMatrix4(this.matrixWorld);const f=t.ray.origin.distanceTo(l);f<t.near||f>t.far||e.push({distance:f,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else for(let n=0,r=i.length/3-1;n<r;n+=h){a.fromArray(i,3*n),c.fromArray(i,3*n+3);if(Oc.distanceSqToSegment(a,c,l,u)>s)continue;l.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(l);r<t.near||r>t.far||e.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const r=n.vertices,i=r.length;for(let n=0;n<i-1;n+=h){if(Oc.distanceSqToSegment(r[n],r[n+1],l,u)>s)continue;l.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(l);i<t.near||i>t.far||e.push({distance:i,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const jc=new Zn,Mc=new Zn;function Tc(t,e){Sc.call(this,t,e),this.type="LineSegments"}function Ac(t,e){Sc.call(this,t,e),this.type="LineLoop"}function kc(t){wi.call(this),this.type="PointsMaterial",this.color=new pi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}Tc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Tc,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,r=e.count;t<r;t+=2)jc.fromBufferAttribute(e,t),Mc.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+jc.distanceTo(Mc);t.setAttribute("lineDistance",new Ci(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let t=0,r=e.length;t<r;t+=2)jc.copy(e[t]),Mc.copy(e[t+1]),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+jc.distanceTo(Mc)}return this}}),Ac.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Ac,isLineLoop:!0}),kc.prototype=Object.create(wi.prototype),kc.prototype.constructor=kc,kc.prototype.isPointsMaterial=!0,kc.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const Ic=new or,Cc=new Yr,Rc=new Ur,Pc=new Zn;function Lc(t,e){Or.call(this),this.type="Points",this.geometry=void 0!==t?t:new Hi,this.material=void 0!==e?e:new kc,this.updateMorphTargets()}function Nc(t,e,n,r,i,o,s){const a=Cc.distanceSqToPoint(t);if(a<n){const n=new Zn;Cc.closestPointToPoint(t,n),n.applyMatrix4(r);const c=i.ray.origin.distanceTo(n);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:s})}}function Dc(t,e,n,r,i,o,s,a,c){Gn.call(this,t,e,n,r,i,o,s,a,c),this.format=void 0!==s?s:$t,this.minFilter=void 0!==o?o:_t,this.magFilter=void 0!==i?i:_t,this.generateMipmaps=!1}function Bc(t,e,n,r,i,o,s,a,c,u,l,h){Gn.call(this,null,o,s,a,c,u,r,i,l,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function $c(t,e,n,r,i,o,s,a,c){Gn.call(this,t,e,n,r,i,o,s,a,c),this.needsUpdate=!0}function Fc(t,e,n,r,i,o,s,a,c,u){if((u=void 0!==u?u:Gt)!==Gt&&u!==Vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Gt&&(n=At),void 0===n&&u===Vt&&(n=Dt),Gn.call(this,null,r,i,o,s,a,u,n,c),this.image={width:t,height:e},this.magFilter=void 0!==s?s:bt,this.minFilter=void 0!==a?a:bt,this.flipY=!1,this.generateMipmaps=!1}function Uc(t){Hi.call(this),this.type="WireframeGeometry";const e=[],n=[0,0],r={},i=["a","b","c"];if(t&&t.isGeometry){const o=t.faces;for(let t=0,e=o.length;t<e;t++){const e=o[t];for(let t=0;t<3;t++){const o=e[i[t]],s=e[i[(t+1)%3]];n[0]=Math.min(o,s),n[1]=Math.max(o,s);const a=n[0]+","+n[1];void 0===r[a]&&(r[a]={index1:n[0],index2:n[1]})}}for(const n in r){const i=r[n];let o=t.vertices[i.index1];e.push(o.x,o.y,o.z),o=t.vertices[i.index2],e.push(o.x,o.y,o.z)}}else if(t&&t.isBufferGeometry){let i=new Zn;if(null!==t.index){const o=t.attributes.position,s=t.index;let a=t.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let t=0,e=a.length;t<e;++t){const e=a[t],i=e.start;for(let t=i,o=i+e.count;t<o;t+=3)for(let e=0;e<3;e++){const i=s.getX(t+e),o=s.getX(t+(e+1)%3);n[0]=Math.min(i,o),n[1]=Math.max(i,o);const a=n[0]+","+n[1];void 0===r[a]&&(r[a]={index1:n[0],index2:n[1]})}}for(const t in r){const n=r[t];i.fromBufferAttribute(o,n.index1),e.push(i.x,i.y,i.z),i.fromBufferAttribute(o,n.index2),e.push(i.x,i.y,i.z)}}else{const n=t.attributes.position;for(let t=0,r=n.count/3;t<r;t++)for(let r=0;r<3;r++){const o=3*t+r;i.fromBufferAttribute(n,o),e.push(i.x,i.y,i.z);const s=3*t+(r+1)%3;i.fromBufferAttribute(n,s),e.push(i.x,i.y,i.z)}}}this.setAttribute("position",new Ci(e,3))}function zc(t,e,n){mo.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Hc(t,e,n)),this.mergeVertices()}function Hc(t,e,n){Hi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const r=[],i=[],o=[],s=[],a=1e-5,c=new Zn,u=new Zn,l=new Zn,h=new Zn,f=new Zn;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=e+1;for(let r=0;r<=n;r++){const d=r/n;for(let n=0;n<=e;n++){const r=n/e;t(r,d,u),i.push(u.x,u.y,u.z),r-a>=0?(t(r-a,d,l),h.subVectors(u,l)):(t(r+a,d,l),h.subVectors(l,u)),d-a>=0?(t(r,d-a,l),f.subVectors(u,l)):(t(r,d+a,l),f.subVectors(l,u)),c.crossVectors(h,f).normalize(),o.push(c.x,c.y,c.z),s.push(r,d)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*d+n,i=t*d+n+1,o=(t+1)*d+n+1,s=(t+1)*d+n;r.push(e,i,s),r.push(i,o,s)}this.setIndex(r),this.setAttribute("position",new Ci(i,3)),this.setAttribute("normal",new Ci(o,3)),this.setAttribute("uv",new Ci(s,2))}function Gc(t,e,n,r){mo.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Vc(t,e,n,r)),this.mergeVertices()}function Vc(t,e,n,r){Hi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;const i=[],o=[];function s(t,e,n,r){const i=Math.pow(2,r),o=[];for(let r=0;r<=i;r++){o[r]=[];const s=t.clone().lerp(n,r/i),a=e.clone().lerp(n,r/i),c=i-r;for(let t=0;t<=c;t++)o[r][t]=0===t&&r===i?s:s.clone().lerp(a,t/c)}for(let t=0;t<i;t++)for(let e=0;e<2*(i-t)-1;e++){const n=Math.floor(e/2);e%2==0?(a(o[t][n+1]),a(o[t+1][n]),a(o[t][n])):(a(o[t][n+1]),a(o[t+1][n+1]),a(o[t+1][n]))}}function a(t){i.push(t.x,t.y,t.z)}function c(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function u(t,e,n,r){r<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=r/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}!function(t){const n=new Zn,r=new Zn,i=new Zn;for(let o=0;o<e.length;o+=3)c(e[o+0],n),c(e[o+1],r),c(e[o+2],i),s(n,r,i,t)}(r=r||0),function(t){const e=new Zn;for(let n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){const t=new Zn;for(let n=0;n<i.length;n+=3){t.x=i[n+0],t.y=i[n+1],t.z=i[n+2];const r=l(t)/2/Math.PI+.5,s=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);o.push(r,1-s)}var e;(function(){const t=new Zn,e=new Zn,n=new Zn,r=new Zn,s=new $n,a=new $n,c=new $n;for(let h=0,f=0;h<i.length;h+=9,f+=6){t.set(i[h+0],i[h+1],i[h+2]),e.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),s.set(o[f+0],o[f+1]),a.set(o[f+2],o[f+3]),c.set(o[f+4],o[f+5]),r.copy(t).add(e).add(n).divideScalar(3);const d=l(r);u(s,f+0,t,d),u(a,f+2,e,d),u(c,f+4,n,d)}})(),function(){for(let t=0;t<o.length;t+=6){const e=o[t+0],n=o[t+2],r=o[t+4],i=Math.max(e,n,r),s=Math.min(e,n,r);i>.9&&s<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),r<.2&&(o[t+4]+=1))}}()}(),this.setAttribute("position",new Ci(i,3)),this.setAttribute("normal",new Ci(i.slice(),3)),this.setAttribute("uv",new Ci(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function qc(t,e){mo.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Wc(t,e)),this.mergeVertices()}function Wc(t,e){Vc.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Kc(t,e){mo.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Yc(t,e)),this.mergeVertices()}function Yc(t,e){Vc.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Xc(t,e){mo.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Zc(t,e)),this.mergeVertices()}function Zc(t,e){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Vc.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Jc(t,e){mo.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Qc(t,e)),this.mergeVertices()}function Qc(t,e){const n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Vc.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function tu(t,e,n,r,i,o){mo.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new eu(t,e,n,r,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}function eu(t,e,n,r,i){Hi.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;const o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new Zn,a=new Zn,c=new $n;let u=new Zn;const l=[],h=[],f=[],d=[];function p(i){u=t.getPointAt(i/e,u);const c=o.normals[i],f=o.binormals[i];for(let t=0;t<=r;t++){const e=t/r*Math.PI*2,i=Math.sin(e),o=-Math.cos(e);a.x=o*c.x+i*f.x,a.y=o*c.y+i*f.y,a.z=o*c.z+i*f.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=u.x+n*a.x,s.y=u.y+n*a.y,s.z=u.z+n*a.z,l.push(s.x,s.y,s.z)}}!function(){for(let t=0;t<e;t++)p(t);p(!1===i?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=r;n++)c.x=t/e,c.y=n/r,f.push(c.x,c.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,s=(r+1)*(t-1)+e;d.push(n,i,s),d.push(i,o,s)}}()}(),this.setIndex(d),this.setAttribute("position",new Ci(l,3)),this.setAttribute("normal",new Ci(h,3)),this.setAttribute("uv",new Ci(f,2))}function nu(t,e,n,r,i,o,s){mo.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==s&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ru(t,e,n,r,i,o)),this.mergeVertices()}function ru(t,e,n,r,i,o){Hi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;const s=[],a=[],c=[],u=[],l=new Zn,h=new Zn,f=new Zn,d=new Zn,p=new Zn,m=new Zn,b=new Zn;for(let s=0;s<=n;++s){const v=s/n*i*Math.PI*2;g(v,i,o,t,f),g(v+.01,i,o,t,d),m.subVectors(d,f),b.addVectors(d,f),p.crossVectors(m,b),b.crossVectors(p,m),p.normalize(),b.normalize();for(let t=0;t<=r;++t){const i=t/r*Math.PI*2,o=-e*Math.cos(i),d=e*Math.sin(i);l.x=f.x+(o*b.x+d*p.x),l.y=f.y+(o*b.y+d*p.y),l.z=f.z+(o*b.z+d*p.z),a.push(l.x,l.y,l.z),h.subVectors(l,f).normalize(),c.push(h.x,h.y,h.z),u.push(s/n),u.push(t/r)}}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*(t-1)+(e-1),i=(r+1)*t+(e-1),o=(r+1)*t+e,a=(r+1)*(t-1)+e;s.push(n,i,a),s.push(i,o,a)}function g(t,e,n,r,i){const o=Math.cos(t),s=Math.sin(t),a=n/e*t,c=Math.cos(a);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*s*.5,i.z=r*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new Ci(a,3)),this.setAttribute("normal",new Ci(c,3)),this.setAttribute("uv",new Ci(u,2))}function iu(t,e,n,r,i){mo.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new ou(t,e,n,r,i)),this.mergeVertices()}function ou(t,e,n,r,i){Hi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;const o=[],s=[],a=[],c=[],u=new Zn,l=new Zn,h=new Zn;for(let o=0;o<=n;o++)for(let f=0;f<=r;f++){const d=f/r*i,p=o/n*Math.PI*2;l.x=(t+e*Math.cos(p))*Math.cos(d),l.y=(t+e*Math.cos(p))*Math.sin(d),l.z=e*Math.sin(p),s.push(l.x,l.y,l.z),u.x=t*Math.cos(d),u.y=t*Math.sin(d),h.subVectors(l,u).normalize(),a.push(h.x,h.y,h.z),c.push(f/r),c.push(o/n)}for(let t=1;t<=n;t++)for(let e=1;e<=r;e++){const n=(r+1)*t+e-1,i=(r+1)*(t-1)+e-1,s=(r+1)*(t-1)+e,a=(r+1)*t+e;o.push(n,i,a),o.push(i,s,a)}this.setIndex(o),this.setAttribute("position",new Ci(s,3)),this.setAttribute("normal",new Ci(a,3)),this.setAttribute("uv",new Ci(c,2))}Lc.prototype=Object.assign(Object.create(Or.prototype),{constructor:Lc,isPoints:!0,copy:function(t){return Or.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rc.copy(n.boundingSphere),Rc.applyMatrix4(r),Rc.radius+=i,!1===t.ray.intersectsSphere(Rc))return;Ic.getInverse(r),Cc.copy(t.ray).applyMatrix4(Ic);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const i=n.index,o=n.attributes.position.array;if(null!==i){const n=i.array;for(let i=0,a=n.length;i<a;i++){const a=n[i];Pc.fromArray(o,3*a),Nc(Pc,a,s,r,t,e,this)}}else for(let n=0,i=o.length/3;n<i;n++)Pc.fromArray(o,3*n),Nc(Pc,n,s,r,t,e,this)}else{const i=n.vertices;for(let n=0,o=i.length;n<o;n++)Nc(i[n],n,s,r,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Dc.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Dc,isVideoTexture:!0,update:function(){const t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Bc.prototype=Object.create(Gn.prototype),Bc.prototype.constructor=Bc,Bc.prototype.isCompressedTexture=!0,$c.prototype=Object.create(Gn.prototype),$c.prototype.constructor=$c,$c.prototype.isCanvasTexture=!0,Fc.prototype=Object.create(Gn.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isDepthTexture=!0,Uc.prototype=Object.create(Hi.prototype),Uc.prototype.constructor=Uc,zc.prototype=Object.create(mo.prototype),zc.prototype.constructor=zc,Hc.prototype=Object.create(Hi.prototype),Hc.prototype.constructor=Hc,Gc.prototype=Object.create(mo.prototype),Gc.prototype.constructor=Gc,Vc.prototype=Object.create(Hi.prototype),Vc.prototype.constructor=Vc,qc.prototype=Object.create(mo.prototype),qc.prototype.constructor=qc,Wc.prototype=Object.create(Vc.prototype),Wc.prototype.constructor=Wc,Kc.prototype=Object.create(mo.prototype),Kc.prototype.constructor=Kc,Yc.prototype=Object.create(Vc.prototype),Yc.prototype.constructor=Yc,Xc.prototype=Object.create(mo.prototype),Xc.prototype.constructor=Xc,Zc.prototype=Object.create(Vc.prototype),Zc.prototype.constructor=Zc,Jc.prototype=Object.create(mo.prototype),Jc.prototype.constructor=Jc,Qc.prototype=Object.create(Vc.prototype),Qc.prototype.constructor=Qc,tu.prototype=Object.create(mo.prototype),tu.prototype.constructor=tu,eu.prototype=Object.create(Hi.prototype),eu.prototype.constructor=eu,eu.prototype.toJSON=function(){const t=Hi.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},nu.prototype=Object.create(mo.prototype),nu.prototype.constructor=nu,ru.prototype=Object.create(Hi.prototype),ru.prototype.constructor=ru,iu.prototype=Object.create(mo.prototype),iu.prototype.constructor=iu,ou.prototype=Object.create(Hi.prototype),ou.prototype.constructor=ou;const su=function(t,e,n){n=n||2;let r,i,o,s,a,c,u,l=e&&e.length,h=l?e[0]*n:t.length,f=au(t,0,h,n,!0),d=[];if(!f||f.next===f.prev)return d;if(l&&(f=function(t,e,n,r){let i,o,s,a,c,u=[];for(i=0,o=e.length;i<o;i++)s=e[i]*r,a=i<o-1?e[i+1]*r:t.length,c=au(t,s,a,r,!1),c===c.next&&(c.steiner=!0),u.push(vu(c));for(u.sort(pu),i=0;i<u.length;i++)mu(u[i],n),n=cu(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(let e=n;e<h;e+=n)a=t[e],c=t[e+1],a<r&&(r=a),c<i&&(i=c),a>o&&(o=a),c>s&&(s=c);u=Math.max(o-r,s-i),u=0!==u?1/u:0}return uu(f,d,n,r,i,u),d};function au(t,e,n,r,i){let o,s;if(i===function(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Tu(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Tu(o,t[o],t[o+1],s);return s&&xu(s,s.next)&&(Au(s),s=s.next),s}function cu(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!xu(r,r.next)&&0!==_u(r.prev,r,r.next))r=r.next;else{if(Au(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function uu(t,e,n,r,i,o,s){if(!t)return;!s&&o&&function(t,e,n,r){let i=t;do{null===i.z&&(i.z=gu(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,n,r,i,o,s,a,c,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,r);e++);for(c=u;a>0||c>0&&r;)0!==a&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1)}(i)}(t,r,i,o);let a,c,u=t;for(;t.prev!==t.next;)if(a=t.prev,c=t.next,o?hu(t,r,i,o):lu(t))e.push(a.i/n),e.push(t.i/n),e.push(c.i/n),Au(t),t=c.next,u=c.next;else if((t=c)===u){s?1===s?uu(t=fu(cu(t),e,n),e,n,r,i,o,2):2===s&&du(t,e,n,r,i,o):uu(cu(t),e,n,r,i,o,1);break}}function lu(t){let e=t.prev,n=t,r=t.next;if(_u(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(yu(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&_u(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function hu(t,e,n,r){let i=t.prev,o=t,s=t.next;if(_u(i,o,s)>=0)return!1;let a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,c=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,u=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=gu(a,c,e,n,r),f=gu(u,l,e,n,r),d=t.prevZ,p=t.nextZ;for(;d&&d.z>=h&&p&&p.z<=f;){if(d!==t.prev&&d!==t.next&&yu(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_u(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&yu(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_u(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&yu(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_u(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&yu(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_u(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function fu(t,e,n){let r=t;do{let i=r.prev,o=r.next.next;!xu(i,o)&&Ou(i,r,r.next,o)&&ju(i,o)&&ju(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Au(r),Au(r.next),r=t=o),r=r.next}while(r!==t);return cu(r)}function du(t,e,n,r,i,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&wu(s,t)){let a=Mu(s,t);return s=cu(s,s.next),a=cu(a,a.next),uu(s,e,n,r,i,o),void uu(a,e,n,r,i,o)}t=t.next}s=s.next}while(s!==t)}function pu(t,e){return t.x-e.x}function mu(t,e){if(e=function(t,e){let n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let t=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(t<=i&&t>s){if(s=t,t===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n;let a,c=n,u=n.x,l=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&yu(o<l?i:s,o,u,l,o<l?s:i,o,r.x,r.y)&&(a=Math.abs(o-r.y)/(i-r.x),ju(r,t)&&(a<h||a===h&&(r.x>n.x||r.x===n.x&&bu(n,r)))&&(n=r,h=a)),r=r.next}while(r!==c);return n}(t,e)){const n=Mu(e,t);cu(e,e.next),cu(n,n.next)}}function bu(t,e){return _u(t.prev,t,e.prev)<0&&_u(e.next,t,t.next)<0}function gu(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function vu(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function yu(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function wu(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ou(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(ju(t,e)&&ju(e,t)&&function(t,e){let n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(_u(t.prev,t,e.prev)||_u(t,e.prev,e))||xu(t,e)&&_u(t.prev,t,t.next)>0&&_u(e.prev,e,e.next)>0)}function _u(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function xu(t,e){return t.x===e.x&&t.y===e.y}function Ou(t,e,n,r){const i=Su(_u(t,e,n)),o=Su(_u(t,e,r)),s=Su(_u(n,r,t)),a=Su(_u(n,r,e));return i!==o&&s!==a||(!(0!==i||!Eu(t,n,e))||(!(0!==o||!Eu(t,r,e))||(!(0!==s||!Eu(n,t,r))||!(0!==a||!Eu(n,e,r)))))}function Eu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Su(t){return t>0?1:t<0?-1:0}function ju(t,e){return _u(t.prev,t,t.next)<0?_u(t,e,t.next)>=0&&_u(t,t.prev,e)>=0:_u(t,e,t.prev)<0||_u(t,t.next,e)<0}function Mu(t,e){let n=new ku(t.i,t.x,t.y),r=new ku(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Tu(t,e,n,r){const i=new ku(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Au(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ku(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Iu={area:function(t){const e=t.length;let n=0;for(let r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return Iu.area(t)<0},triangulateShape:function(t,e){const n=[],r=[],i=[];Cu(t),Ru(n,t);let o=t.length;e.forEach(Cu);for(let t=0;t<e.length;t++)r.push(o),o+=e[t].length,Ru(n,e[t]);const s=su(n,r);for(let t=0;t<s.length;t+=3)i.push(s.slice(t,t+3));return i}};function Cu(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ru(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function Pu(t,e){mo.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Lu(t,e)),this.mergeVertices()}function Lu(t,e){Hi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],i=[];for(let e=0,n=t.length;e<n;e++){o(t[e])}function o(t){const o=[],s=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let c=void 0!==e.depth?e.depth:100,u=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:l-2,f=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3;const p=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:Nu;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);let b,g,v,y,w,_=!1;p&&(b=p.getSpacedPoints(a),_=!0,u=!1,g=p.computeFrenetFrames(a,!1),v=new Zn,y=new Zn,w=new Zn),u||(d=0,l=0,h=0,f=0);const x=t.extractPoints(s);let O=x.shape;const E=x.holes;if(!Iu.isClockWise(O)){O=O.reverse();for(let t=0,e=E.length;t<e;t++){const e=E[t];Iu.isClockWise(e)&&(E[t]=e.reverse())}}const S=Iu.triangulateShape(O,E),j=O;for(let t=0,e=E.length;t<e;t++){const e=E[t];O=O.concat(e)}function M(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const T=O.length,A=S.length;function k(t,e,n){let r,i,o;const s=t.x-e.x,a=t.y-e.y,c=n.x-t.x,u=n.y-t.y,l=s*s+a*a,h=s*u-a*c;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(l),f=Math.sqrt(c*c+u*u),d=e.x-a/h,p=e.y+s/h,m=((n.x-u/f-d)*u-(n.y+c/f-p)*c)/(s*u-a*c);r=d+s*m-t.x,i=p+a*m-t.y;const b=r*r+i*i;if(b<=2)return new $n(r,i);o=Math.sqrt(b/2)}else{let t=!1;s>Number.EPSILON?c>Number.EPSILON&&(t=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(u)&&(t=!0),t?(r=-a,i=s,o=Math.sqrt(l)):(r=s,i=a,o=Math.sqrt(l/2))}return new $n(r/o,i/o)}const I=[];for(let t=0,e=j.length,n=e-1,r=t+1;t<e;t++,n++,r++)n===e&&(n=0),r===e&&(r=0),I[t]=k(j[t],j[n],j[r]);const C=[];let R,P=I.concat();for(let t=0,e=E.length;t<e;t++){const e=E[t];R=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),R[t]=k(e[t],e[r],e[i]);C.push(R),P=P.concat(R)}for(let t=0;t<d;t++){const e=t/d,n=l*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,e=j.length;t<e;t++){const e=M(j[t],I[t],r);D(e.x,e.y,-n)}for(let t=0,e=E.length;t<e;t++){const e=E[t];R=C[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],R[t],r);D(i.x,i.y,-n)}}}const L=h+f;for(let t=0;t<T;t++){const e=u?M(O[t],P[t],L):O[t];_?(y.copy(g.normals[0]).multiplyScalar(e.x),v.copy(g.binormals[0]).multiplyScalar(e.y),w.copy(b[0]).add(y).add(v),D(w.x,w.y,w.z)):D(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<T;e++){const n=u?M(O[e],P[e],L):O[e];_?(y.copy(g.normals[t]).multiplyScalar(n.x),v.copy(g.binormals[t]).multiplyScalar(n.y),w.copy(b[t]).add(y).add(v),D(w.x,w.y,w.z)):D(n.x,n.y,c/a*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=l*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,e=j.length;t<e;t++){const e=M(j[t],I[t],r);D(e.x,e.y,c+n)}for(let t=0,e=E.length;t<e;t++){const e=E[t];R=C[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],R[t],r);_?D(i.x,i.y+b[a-1].y,b[a-1].x+n):D(i.x,i.y,c+n)}}}function N(t,e){let n=t.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=t.length-1);for(let t=0,n=a+2*d;t<n;t++){const n=T*t,o=T*(t+1);$(e+r+n,e+i+n,e+i+o,e+r+o)}}}function D(t,e,n){o.push(t),o.push(e),o.push(n)}function B(t,e,i){F(t),F(e),F(i);const o=r.length/3,s=m.generateTopUV(n,r,o-3,o-2,o-1);U(s[0]),U(s[1]),U(s[2])}function $(t,e,i,o){F(t),F(e),F(o),F(e),F(i),F(o);const s=r.length/3,a=m.generateSideWallUV(n,r,s-6,s-3,s-2,s-1);U(a[0]),U(a[1]),U(a[3]),U(a[1]),U(a[2]),U(a[3])}function F(t){r.push(o[3*t+0]),r.push(o[3*t+1]),r.push(o[3*t+2])}function U(t){i.push(t.x),i.push(t.y)}!function(){const t=r.length/3;if(u){let t=0,e=T*t;for(let t=0;t<A;t++){const n=S[t];B(n[2]+e,n[1]+e,n[0]+e)}t=a+2*d,e=T*t;for(let t=0;t<A;t++){const n=S[t];B(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<A;t++){const e=S[t];B(e[2],e[1],e[0])}for(let t=0;t<A;t++){const e=S[t];B(e[0]+T*a,e[1]+T*a,e[2]+T*a)}}n.addGroup(t,r.length/3-t,0)}(),function(){const t=r.length/3;let e=0;N(j,e),e+=j.length;for(let t=0,n=E.length;t<n;t++){const n=E[t];N(n,e),e+=n.length}n.addGroup(t,r.length/3-t,1)}()}this.setAttribute("position",new Ci(r,3)),this.setAttribute("uv",new Ci(i,2)),this.computeVertexNormals()}Pu.prototype=Object.create(mo.prototype),Pu.prototype.constructor=Pu,Pu.prototype.toJSON=function(){const t=mo.prototype.toJSON.call(this);return Du(this.parameters.shapes,this.parameters.options,t)},Lu.prototype=Object.create(Hi.prototype),Lu.prototype.constructor=Lu,Lu.prototype.toJSON=function(){const t=Hi.prototype.toJSON.call(this);return Du(this.parameters.shapes,this.parameters.options,t)};const Nu={generateTopUV:function(t,e,n,r,i){const o=e[3*n],s=e[3*n+1],a=e[3*r],c=e[3*r+1],u=e[3*i],l=e[3*i+1];return[new $n(o,s),new $n(a,c),new $n(u,l)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[3*n],a=e[3*n+1],c=e[3*n+2],u=e[3*r],l=e[3*r+1],h=e[3*r+2],f=e[3*i],d=e[3*i+1],p=e[3*i+2],m=e[3*o],b=e[3*o+1],g=e[3*o+2];return Math.abs(a-l)<.01?[new $n(s,1-c),new $n(u,1-h),new $n(f,1-p),new $n(m,1-g)]:[new $n(a,1-c),new $n(l,1-h),new $n(d,1-p),new $n(b,1-g)]}};function Du(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){const r=t[e];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function Bu(t,e){mo.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new $u(t,e)),this.mergeVertices()}function $u(t,e){const n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new mo;const r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Lu.call(this,r,e),this.type="TextBufferGeometry"}function Fu(t,e,n,r,i,o,s){mo.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Uu(t,e,n,r,i,o,s)),this.mergeVertices()}function Uu(t,e,n,r,i,o,s){Hi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;const a=Math.min(o+s,Math.PI);let c=0;const u=[],l=new Zn,h=new Zn,f=[],d=[],p=[],m=[];for(let f=0;f<=n;f++){const b=[],g=f/n;let v=0;0==f&&0==o?v=.5/e:f==n&&a==Math.PI&&(v=-.5/e);for(let n=0;n<=e;n++){const a=n/e;l.x=-t*Math.cos(r+a*i)*Math.sin(o+g*s),l.y=t*Math.cos(o+g*s),l.z=t*Math.sin(r+a*i)*Math.sin(o+g*s),d.push(l.x,l.y,l.z),h.copy(l).normalize(),p.push(h.x,h.y,h.z),m.push(a+v,1-g),b.push(c++)}u.push(b)}for(let t=0;t<n;t++)for(let r=0;r<e;r++){const e=u[t][r+1],i=u[t][r],s=u[t+1][r],c=u[t+1][r+1];(0!==t||o>0)&&f.push(e,i,c),(t!==n-1||a<Math.PI)&&f.push(i,s,c)}this.setIndex(f),this.setAttribute("position",new Ci(d,3)),this.setAttribute("normal",new Ci(p,3)),this.setAttribute("uv",new Ci(m,2))}function zu(t,e,n,r,i,o){mo.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Hu(t,e,n,r,i,o)),this.mergeVertices()}function Hu(t,e,n,r,i,o){Hi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||.5,e=e||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;const s=[],a=[],c=[],u=[];let l=t;const h=(e-t)/(r=void 0!==r?Math.max(1,r):1),f=new Zn,d=new $n;for(let t=0;t<=r;t++){for(let t=0;t<=n;t++){const r=i+t/n*o;f.x=l*Math.cos(r),f.y=l*Math.sin(r),a.push(f.x,f.y,f.z),c.push(0,0,1),d.x=(f.x/e+1)/2,d.y=(f.y/e+1)/2,u.push(d.x,d.y)}l+=h}for(let t=0;t<r;t++){const e=t*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,a=r+n+2,c=r+1;s.push(i,o,c),s.push(o,a,c)}}this.setIndex(s),this.setAttribute("position",new Ci(a,3)),this.setAttribute("normal",new Ci(c,3)),this.setAttribute("uv",new Ci(u,2))}function Gu(t,e,n,r){mo.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new Vu(t,e,n,r)),this.mergeVertices()}function Vu(t,e,n,r){Hi.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Bn.clamp(r,0,2*Math.PI);const i=[],o=[],s=[],a=1/e,c=new Zn,u=new $n;for(let i=0;i<=e;i++){const l=n+i*a*r,h=Math.sin(l),f=Math.cos(l);for(let n=0;n<=t.length-1;n++)c.x=t[n].x*h,c.y=t[n].y,c.z=t[n].x*f,o.push(c.x,c.y,c.z),u.x=i/e,u.y=n/(t.length-1),s.push(u.x,u.y)}for(let n=0;n<e;n++)for(let e=0;e<t.length-1;e++){const r=e+n*t.length,o=r,s=r+t.length,a=r+t.length+1,c=r+1;i.push(o,s,c),i.push(s,a,c)}if(this.setIndex(i),this.setAttribute("position",new Ci(o,3)),this.setAttribute("uv",new Ci(s,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new Zn,i=new Zn,o=new Zn,s=e*t.length*3;for(let e=0,a=0;e<t.length;e++,a+=3)r.x=n[a+0],r.y=n[a+1],r.z=n[a+2],i.x=n[s+a+0],i.y=n[s+a+1],i.z=n[s+a+2],o.addVectors(r,i).normalize(),n[a+0]=n[s+a+0]=o.x,n[a+1]=n[s+a+1]=o.y,n[a+2]=n[s+a+2]=o.z}}function qu(t,e){mo.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Wu(t,e)),this.mergeVertices()}function Wu(t,e){Hi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;const n=[],r=[],i=[],o=[];let s=0,a=0;if(!1===Array.isArray(t))c(t);else for(let e=0;e<t.length;e++)c(t[e]),this.addGroup(s,a,e),s+=a,a=0;function c(t){const s=r.length/3,c=t.extractPoints(e);let u=c.shape;const l=c.holes;!1===Iu.isClockWise(u)&&(u=u.reverse());for(let t=0,e=l.length;t<e;t++){const e=l[t];!0===Iu.isClockWise(e)&&(l[t]=e.reverse())}const h=Iu.triangulateShape(u,l);for(let t=0,e=l.length;t<e;t++){const e=l[t];u=u.concat(e)}for(let t=0,e=u.length;t<e;t++){const e=u[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=h.length;t<e;t++){const e=h[t],r=e[0]+s,i=e[1]+s,o=e[2]+s;n.push(r,i,o),a+=3}}this.setIndex(n),this.setAttribute("position",new Ci(r,3)),this.setAttribute("normal",new Ci(i,3)),this.setAttribute("uv",new Ci(o,2))}function Ku(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function Yu(t,e){Hi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;const n=[],r=Math.cos(Bn.DEG2RAD*e),i=[0,0],o={};let s,a,c;const u=["a","b","c"];let l;t.isBufferGeometry?(l=new mo,l.fromBufferGeometry(t)):l=t.clone(),l.mergeVertices(),l.computeFaceNormals();const h=l.vertices,f=l.faces;for(let t=0,e=f.length;t<e;t++){const e=f[t];for(let n=0;n<3;n++)s=e[u[n]],a=e[u[(n+1)%3]],i[0]=Math.min(s,a),i[1]=Math.max(s,a),c=i[0]+","+i[1],void 0===o[c]?o[c]={index1:i[0],index2:i[1],face1:t,face2:void 0}:o[c].face2=t}for(c in o){const t=o[c];if(void 0===t.face2||f[t.face1].normal.dot(f[t.face2].normal)<=r){let e=h[t.index1];n.push(e.x,e.y,e.z),e=h[t.index2],n.push(e.x,e.y,e.z)}}this.setAttribute("position",new Ci(n,3))}function Xu(t,e,n,r,i,o,s,a){mo.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new Zu(t,e,n,r,i,o,s,a)),this.mergeVertices()}function Zu(t,e,n,r,i,o,s,a){Hi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};const c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI;const u=[],l=[],h=[],f=[];let d=0;const p=[],m=n/2;let b=0;function g(n){let i,o;const p=new $n,g=new Zn;let v=0;const y=!0===n?t:e,w=!0===n?1:-1;i=d;for(let t=1;t<=r;t++)l.push(0,m*w,0),h.push(0,w,0),f.push(.5,.5),d++;o=d;for(let t=0;t<=r;t++){const e=t/r*a+s,n=Math.cos(e),i=Math.sin(e);g.x=y*i,g.y=m*w,g.z=y*n,l.push(g.x,g.y,g.z),h.push(0,w,0),p.x=.5*n+.5,p.y=.5*i*w+.5,f.push(p.x,p.y),d++}for(let t=0;t<r;t++){const e=i+t,r=o+t;!0===n?u.push(r,r+1,e):u.push(r+1,r,e),v+=3}c.addGroup(b,v,!0===n?1:2),b+=v}!function(){const o=new Zn,g=new Zn;let v=0;const y=(e-t)/n;for(let c=0;c<=i;c++){const u=[],b=c/i,v=b*(e-t)+t;for(let t=0;t<=r;t++){const e=t/r,i=e*a+s,c=Math.sin(i),p=Math.cos(i);g.x=v*c,g.y=-b*n+m,g.z=v*p,l.push(g.x,g.y,g.z),o.set(c,y,p).normalize(),h.push(o.x,o.y,o.z),f.push(e,1-b),u.push(d++)}p.push(u)}for(let t=0;t<r;t++)for(let e=0;e<i;e++){const n=p[e][t],r=p[e+1][t],i=p[e+1][t+1],o=p[e][t+1];u.push(n,r,o),u.push(r,i,o),v+=6}c.addGroup(b,v,0),b+=v}(),!1===o&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(u),this.setAttribute("position",new Ci(l,3)),this.setAttribute("normal",new Ci(h,3)),this.setAttribute("uv",new Ci(f,2))}function Ju(t,e,n,r,i,o,s){Xu.call(this,0,t,e,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}function Qu(t,e,n,r,i,o,s){Zu.call(this,0,t,e,n,r,i,o,s),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}function tl(t,e,n,r){mo.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new el(t,e,n,r)),this.mergeVertices()}function el(t,e,n,r){Hi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;const i=[],o=[],s=[],a=[],c=new Zn,u=new $n;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let i=0,l=3;i<=e;i++,l+=3){const h=n+i/e*r;c.x=t*Math.cos(h),c.y=t*Math.sin(h),o.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(o[l]/t+1)/2,u.y=(o[l+1]/t+1)/2,a.push(u.x,u.y)}for(let t=1;t<=e;t++)i.push(t,t+1,0);this.setIndex(i),this.setAttribute("position",new Ci(o,3)),this.setAttribute("normal",new Ci(s,3)),this.setAttribute("uv",new Ci(a,2))}Bu.prototype=Object.create(mo.prototype),Bu.prototype.constructor=Bu,$u.prototype=Object.create(Lu.prototype),$u.prototype.constructor=$u,Fu.prototype=Object.create(mo.prototype),Fu.prototype.constructor=Fu,Uu.prototype=Object.create(Hi.prototype),Uu.prototype.constructor=Uu,zu.prototype=Object.create(mo.prototype),zu.prototype.constructor=zu,Hu.prototype=Object.create(Hi.prototype),Hu.prototype.constructor=Hu,Gu.prototype=Object.create(mo.prototype),Gu.prototype.constructor=Gu,Vu.prototype=Object.create(Hi.prototype),Vu.prototype.constructor=Vu,qu.prototype=Object.create(mo.prototype),qu.prototype.constructor=qu,qu.prototype.toJSON=function(){const t=mo.prototype.toJSON.call(this);return Ku(this.parameters.shapes,t)},Wu.prototype=Object.create(Hi.prototype),Wu.prototype.constructor=Wu,Wu.prototype.toJSON=function(){const t=Hi.prototype.toJSON.call(this);return Ku(this.parameters.shapes,t)},Yu.prototype=Object.create(Hi.prototype),Yu.prototype.constructor=Yu,Xu.prototype=Object.create(mo.prototype),Xu.prototype.constructor=Xu,Zu.prototype=Object.create(Hi.prototype),Zu.prototype.constructor=Zu,Ju.prototype=Object.create(Xu.prototype),Ju.prototype.constructor=Ju,Qu.prototype=Object.create(Zu.prototype),Qu.prototype.constructor=Qu,tl.prototype=Object.create(mo.prototype),tl.prototype.constructor=tl,el.prototype=Object.create(Hi.prototype),el.prototype.constructor=el;var nl=Object.freeze({__proto__:null,WireframeGeometry:Uc,ParametricGeometry:zc,ParametricBufferGeometry:Hc,TetrahedronGeometry:qc,TetrahedronBufferGeometry:Wc,OctahedronGeometry:Kc,OctahedronBufferGeometry:Yc,IcosahedronGeometry:Xc,IcosahedronBufferGeometry:Zc,DodecahedronGeometry:Jc,DodecahedronBufferGeometry:Qc,PolyhedronGeometry:Gc,PolyhedronBufferGeometry:Vc,TubeGeometry:tu,TubeBufferGeometry:eu,TorusKnotGeometry:nu,TorusKnotBufferGeometry:ru,TorusGeometry:iu,TorusBufferGeometry:ou,TextGeometry:Bu,TextBufferGeometry:$u,SphereGeometry:Fu,SphereBufferGeometry:Uu,RingGeometry:zu,RingBufferGeometry:Hu,PlaneGeometry:Ro,PlaneBufferGeometry:Po,LatheGeometry:Gu,LatheBufferGeometry:Vu,ShapeGeometry:qu,ShapeBufferGeometry:Wu,ExtrudeGeometry:Pu,ExtrudeBufferGeometry:Lu,EdgesGeometry:Yu,ConeGeometry:Ju,ConeBufferGeometry:Qu,CylinderGeometry:Xu,CylinderBufferGeometry:Zu,CircleGeometry:tl,CircleBufferGeometry:el,BoxGeometry:bo,BoxBufferGeometry:go});function rl(t){wi.call(this),this.type="ShadowMaterial",this.color=new pi(0),this.transparent=!0,this.setValues(t)}function il(t){_o.call(this,t),this.type="RawShaderMaterial"}function ol(t){wi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function sl(t){ol.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $n(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(t)}function al(t){wi.call(this),this.type="MeshPhongMaterial",this.color=new pi(16777215),this.specular=new pi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function cl(t){wi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ul(t){wi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ll(t){wi.call(this),this.type="MeshLambertMaterial",this.color=new pi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function hl(t){wi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function fl(t){yc.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}rl.prototype=Object.create(wi.prototype),rl.prototype.constructor=rl,rl.prototype.isShadowMaterial=!0,rl.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this},il.prototype=Object.create(_o.prototype),il.prototype.constructor=il,il.prototype.isRawShaderMaterial=!0,ol.prototype=Object.create(wi.prototype),ol.prototype.constructor=ol,ol.prototype.isMeshStandardMaterial=!0,ol.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},sl.prototype=Object.create(ol.prototype),sl.prototype.constructor=sl,sl.prototype.isMeshPhysicalMaterial=!0,sl.prototype.copy=function(t){return ol.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new pi).copy(t.sheen):this.sheen=null,this.transparency=t.transparency,this},al.prototype=Object.create(wi.prototype),al.prototype.constructor=al,al.prototype.isMeshPhongMaterial=!0,al.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},cl.prototype=Object.create(wi.prototype),cl.prototype.constructor=cl,cl.prototype.isMeshToonMaterial=!0,cl.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ul.prototype=Object.create(wi.prototype),ul.prototype.constructor=ul,ul.prototype.isMeshNormalMaterial=!0,ul.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ll.prototype=Object.create(wi.prototype),ll.prototype.constructor=ll,ll.prototype.isMeshLambertMaterial=!0,ll.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},hl.prototype=Object.create(wi.prototype),hl.prototype.constructor=hl,hl.prototype.isMeshMatcapMaterial=!0,hl.prototype.copy=function(t){return wi.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},fl.prototype=Object.create(yc.prototype),fl.prototype.constructor=fl,fl.prototype.isLineDashedMaterial=!0,fl.prototype.copy=function(t){return yc.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var dl=Object.freeze({__proto__:null,ShadowMaterial:rl,SpriteMaterial:Ga,RawShaderMaterial:il,ShaderMaterial:_o,PointsMaterial:kc,MeshPhysicalMaterial:sl,MeshStandardMaterial:ol,MeshPhongMaterial:al,MeshToonMaterial:cl,MeshNormalMaterial:ul,MeshLambertMaterial:ll,MeshDepthMaterial:ja,MeshDistanceMaterial:Ma,MeshBasicMaterial:_i,MeshMatcapMaterial:hl,LineDashedMaterial:fl,LineBasicMaterial:yc,Material:wi});const pl={arraySlice:function(t,e,n){return pl.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const r=n[o]*e;for(let n=0;n!==e;++n)i[s++]=t[r+n]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),n.push(s)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,i){i=i||30;const o=t.clone();o.name=e;const s=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],a=e.getValueSize(),c=[],u=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*i;if(!(o<n||o>=r)){c.push(e.times[t]);for(let n=0;n<a;++n)u.push(e.values[t*a+n])}}0!==c.length&&(e.times=pl.convertArray(c,e.times.constructor),e.values=pl.convertArray(u,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let t=0;t<o.tracks.length;++t)a>o.tracks[t].times[0]&&(a=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=t),(void 0===r||r<=0)&&(r=30);const i=t.tracks.length,o=e/r;for(let e=0;e<i;++e){const r=n.tracks[e],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const s=t.tracks.find((function(t){return t.name===r.name&&t.ValueTypeName===i}));if(void 0===s)continue;const a=r.getValueSize(),c=r.times.length-1;let u;if(o<=r.times[0])u=pl.arraySlice(r.values,0,r.valueSize);else if(o>=r.times[c]){const t=c*a;u=pl.arraySlice(r.values,t)}else{const t=r.createInterpolant();t.evaluate(o),u=t.resultBuffer}if("quaternion"===i){new Kn(u[0],u[1],u[2],u[3]).normalize().conjugate().toArray(u)}const l=s.times.length;for(let t=0;t<l;++t){const e=t*a;if("quaternion"===i)Kn.multiplyQuaternionsFlat(s.values,e,u,0,s.values,e);else for(let t=0;t<a;++t)s.values[e+t]-=u[t]}}return t.blendMode=Ke,t}};function ml(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function bl(t,e,n,r){ml.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function gl(t,e,n,r){ml.call(this,t,e,n,r)}function vl(t,e,n,r){ml.call(this,t,e,n,r)}function yl(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=pl.convertArray(e,this.TimeBufferType),this.values=pl.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function wl(t,e,n){yl.call(this,t,e,n)}function _l(t,e,n,r){yl.call(this,t,e,n,r)}function xl(t,e,n,r){yl.call(this,t,e,n,r)}function Ol(t,e,n,r){ml.call(this,t,e,n,r)}function El(t,e,n,r){yl.call(this,t,e,n,r)}function Sl(t,e,n,r){yl.call(this,t,e,n,r)}function jl(t,e,n,r){yl.call(this,t,e,n,r)}function Ml(t,e,n,r){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==r?r:We,this.uuid=Bn.generateUUID(),this.duration<0&&this.resetDuration()}function Tl(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xl;case"vector":case"vector2":case"vector3":case"vector4":return jl;case"color":return _l;case"quaternion":return El;case"bool":case"boolean":return wl;case"string":return Sl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];pl.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(ml.prototype,{evaluate:function(t){let e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let o;n:{r:if(!(t<r)){for(let o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;{const s=e[1];t<s&&(n=2,i=s);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){const r=n+o>>>1;t<e[r]?o=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let t=0;t!==r;++t)e[t]=n[i+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ml.prototype,{beforeStart_:ml.prototype.copySampleValue_,afterEnd_:ml.prototype.copySampleValue_}),bl.prototype=Object.assign(Object.create(ml.prototype),{constructor:bl,DefaultSettings_:{endingStart:Ge,endingEnd:Ge},intervalChanged_:function(t,e,n){let r=this.parameterPositions,i=t-2,o=t+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case Ve:i=t,s=2*e-n;break;case qe:i=r.length-2,s=e+r[i]-r[i+1];break;default:i=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Ve:o=t,a=2*n-e;break;case qe:o=1,a=n+r[1]-r[0];break;default:o=t-1,a=e}const c=.5*(n-e),u=this.valueSize;this._weightPrev=c/(e-s),this._weightNext=c/(a-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,u=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,b=-h*m+2*h*p-h*d,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,v=(-1-f)*m+(1.5+f)*p+.5*d,y=f*m-f*p;for(let t=0;t!==s;++t)i[t]=b*o[u+t]+g*o[c+t]+v*o[a+t]+y*o[l+t];return i}}),gl.prototype=Object.assign(Object.create(ml.prototype),{constructor:gl,interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,c=a-s,u=(n-e)/(r-e),l=1-u;for(let t=0;t!==s;++t)i[t]=o[c+t]*l+o[a+t]*u;return i}}),vl.prototype=Object.assign(Object.create(ml.prototype),{constructor:vl,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(yl,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:pl.convertArray(t.times,Array),values:pl.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(yl.prototype,{constructor:yl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ze,InterpolantFactoryMethodDiscrete:function(t){return new vl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new gl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new bl(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Ue:e=this.InterpolantFactoryMethodDiscrete;break;case ze:e=this.InterpolantFactoryMethodLinear;break;case He:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ue;case this.InterpolantFactoryMethodLinear:return ze;case this.InterpolantFactoryMethodSmooth:return He}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const t=this.getValueSize();this.times=pl.arraySlice(n,i,o),this.values=pl.arraySlice(this.values,i*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==i;e++){const r=n[e];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,r),t=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,r,o),t=!1;break}o=r}if(void 0!==r&&pl.isTypedArray(r))for(let e=0,n=r.length;e!==n;++e){const n=r[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t},optimize:function(){const t=pl.arraySlice(this.times),e=pl.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===He,i=t.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==a[0]))if(r)i=!0;else{const t=s*n,r=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[r+s]||n!==e[o+s]){i=!0;break}}}if(i){if(s!==o){t[o]=t[s];const r=s*n,i=o*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++o}}if(i>0){t[o]=t[i];for(let t=i*n,r=o*n,s=0;s!==n;++s)e[r+s]=e[t+s];++o}return o!==t.length?(this.times=pl.arraySlice(t,0,o),this.values=pl.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=pl.arraySlice(this.times,0),e=pl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),wl.prototype=Object.assign(Object.create(yl.prototype),{constructor:wl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ue,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),_l.prototype=Object.assign(Object.create(yl.prototype),{constructor:_l,ValueTypeName:"color"}),xl.prototype=Object.assign(Object.create(yl.prototype),{constructor:xl,ValueTypeName:"number"}),Ol.prototype=Object.assign(Object.create(ml.prototype),{constructor:Ol,interpolate_:function(t,e,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(r-e);let c=t*s;for(let t=c+s;c!==t;c+=4)Kn.slerpFlat(i,0,o,c-s,o,c,a);return i}}),El.prototype=Object.assign(Object.create(yl.prototype),{constructor:El,ValueTypeName:"quaternion",DefaultInterpolation:ze,InterpolantFactoryMethodLinear:function(t){return new Ol(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Sl.prototype=Object.assign(Object.create(yl.prototype),{constructor:Sl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ue,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),jl.prototype=Object.assign(Object.create(yl.prototype),{constructor:jl,ValueTypeName:"vector"}),Object.assign(Ml,{parse:function(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let t=0,i=n.length;t!==i;++t)e.push(Tl(n[t]).scale(r));return new Ml(t.name,t.duration,e,t.blendMode)},toJSON:function(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,r=n.length;t!==r;++t)e.push(yl.toJSON(n[t]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){const i=e.length,o=[];for(let t=0;t<i;t++){let s=[],a=[];s.push((t+i-1)%i,t,(t+1)%i),a.push(0,1,0);const c=pl.getKeyframeOrder(s);s=pl.sortedArray(s,1,c),a=pl.sortedArray(a,1,c),r||0!==s[0]||(s.push(i),a.push(a[0])),o.push(new xl(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new Ml(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(i);if(o&&o.length>1){const t=o[1];let e=r[t];e||(r[t]=e=[]),e.push(n)}}const o=[];for(const t in r)o.push(Ml.CreateFromMorphTargetSequence(t,r[t],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,i){if(0!==n.length){const o=[],s=[];pl.flattenJSON(n,o,s,r),0!==o.length&&i.push(new t(e,o,s))}},r=[],i=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const c=t.hierarchy||[];for(let t=0;t<c.length;t++){const i=c[t].keys;if(i&&0!==i.length)if(i[0].morphTargets){const t={};let e;for(e=0;e<i.length;e++)if(i[e].morphTargets)for(let n=0;n<i[e].morphTargets.length;n++)t[i[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let r=0;r!==i[e].morphTargets.length;++r){const r=i[e];t.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new xl(".morphTargetInfluence["+n+"]",t,o))}a=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(jl,o+".position",i,"pos",r),n(El,o+".quaternion",i,"rot",r),n(jl,o+".scale",i,"scl",r)}}if(0===r.length)return null;return new Ml(i,a,r,s)}}),Object.assign(Ml.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ml(this.name,this.duration,t,this.blendMode)}});const Al={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function kl(t,e,n){const r=this;let i=!1,o=0,s=0,a=void 0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,s),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return a?a(t):t},this.setURLModifier=function(t){return a=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){const e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=c.length;e<n;e+=2){const n=c[e],r=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}const Il=new kl;function Cl(t){this.manager=void 0!==t?t:Il,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Cl.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Rl={};function Pl(t){Cl.call(this,t)}function Ll(t){Cl.call(this,t)}function Nl(t){Cl.call(this,t)}function Dl(t){Cl.call(this,t)}function Bl(t){Cl.call(this,t)}function $l(t){Cl.call(this,t)}function Fl(t){Cl.call(this,t)}function Ul(){this.type="Curve",this.arcLengthDivisions=200}function zl(t,e,n,r,i,o,s,a){Ul.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function Hl(t,e,n,r,i,o){zl.call(this,t,e,n,n,r,i,o),this.type="ArcCurve"}function Gl(){let t=0,e=0,n=0,r=0;function i(i,o,s,a){t=i,e=s,n=-3*i+3*o-2*s-a,r=2*i-2*o+s+a}return{initCatmullRom:function(t,e,n,r,o){i(e,n,o*(n-t),o*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,o,s,a){let c=(e-t)/o-(n-t)/(o+s)+(n-e)/s,u=(n-e)/s-(r-e)/(s+a)+(r-n)/a;c*=s,u*=s,i(e,n,c,u)},calc:function(i){const o=i*i;return t+e*i+n*o+r*(o*i)}}}Pl.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Pl,load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Al.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;if(void 0!==Rl[t])return void Rl[t].push({onLoad:e,onProgress:n,onError:r});const s=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let e=0;e<a.length;e++)t[e]=a.charCodeAt(e);r="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;r=e.parseFromString(a,n);break;case"json":r=JSON.parse(a);break;default:r=a}setTimeout((function(){e&&e(r),i.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}),0)}}else{Rl[t]=[],Rl[t].push({onLoad:e,onProgress:n,onError:r}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",(function(e){const n=this.response,r=Rl[t];if(delete Rl[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Al.add(t,n);for(let t=0,e=r.length;t<e;t++){const e=r[t];e.onLoad&&e.onLoad(n)}i.manager.itemEnd(t)}else{for(let t=0,n=r.length;t<n;t++){const n=r[t];n.onError&&n.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}}),!1),a.addEventListener("progress",(function(e){const n=Rl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onProgress&&r.onProgress(e)}}),!1),a.addEventListener("error",(function(e){const n=Rl[t];delete Rl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),a.addEventListener("abort",(function(e){const n=Rl[t];delete Rl[t];for(let t=0,r=n.length;t<r;t++){const r=n[t];r.onError&&r.onError(e)}i.manager.itemError(t),i.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return i.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Ll.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Ll,load:function(t,e,n,r){const i=this,o=new Pl(i.manager);o.setPath(i.path),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const r=Ml.parse(t[n]);e.push(r)}return e}}),Nl.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Nl,load:function(t,e,n,r){const i=this,o=[],s=new Bc;s.image=o;const a=new Pl(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer");let c=0;function u(u){a.load(t[u],(function(t){const n=i.parse(t,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=_t),s.format=n.format,s.needsUpdate=!0,e&&e(s))}),n,r)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)u(e);else a.load(t,(function(t){const n=i.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=_t),s.format=n.format,s.needsUpdate=!0,e&&e(s)}),n,r);return s}}),Dl.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Dl,load:function(t,e,n,r){const i=this,o=new jo,s=new Pl(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(t,(function(t){const n=i.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:pt,o.wrapT=void 0!==n.wrapT?n.wrapT:pt,o.magFilter=void 0!==n.magFilter?n.magFilter:_t,o.minFilter=void 0!==n.minFilter?n.minFilter:_t,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Et),1===n.mipmapCount&&(o.minFilter=_t),o.needsUpdate=!0,e&&e(o,n))}),n,r),o}}),Bl.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Bl,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Al.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),Al.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}return s.addEventListener("load",a,!1),s.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s}}),$l.prototype=Object.assign(Object.create(Cl.prototype),{constructor:$l,load:function(t,e,n,r){const i=new Xo,o=new Bl(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(t[n],(function(t){i.images[n]=t,s++,6===s&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(let e=0;e<t.length;++e)a(e);return i}}),Fl.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Fl,load:function(t,e,n,r){const i=new Gn,o=new Bl(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){i.image=n;const r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?$t:Ft,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}),Object.assign(Ul.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),i=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),i+=n.distanceTo(r),e.push(i),r=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let r,i=0,o=n.length;r=e||t*n[o-1];let s,a=0,c=o-1;for(;a<=c;)if(i=Math.floor(a+(c-a)/2),s=n[i]-r,s<0)a=i+1;else{if(!(s>0)){c=i;break}c=i-1}if(i=c,n[i]===r)return i/(o-1);const u=n[i];return(i+(r-u)/(n[i+1]-u))/(o-1)},getTangent:function(t,e){let n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);const i=this.getPoint(n),o=this.getPoint(r),s=e||(i.isVector2?new $n:new Zn);return s.copy(o).sub(i).normalize(),s},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new Zn,r=[],i=[],o=[],s=new Zn,a=new or;for(let e=0;e<=t;e++){const n=e/t;r[e]=this.getTangentAt(n,new Zn),r[e].normalize()}i[0]=new Zn,o[0]=new Zn;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),l=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),l<=c&&(c=l,n.set(0,1,0)),h<=c&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),o[0].crossVectors(r[0],i[0]);for(let e=1;e<=t;e++){if(i[e]=i[e-1].clone(),o[e]=o[e-1].clone(),s.crossVectors(r[e-1],r[e]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos(Bn.clamp(r[e-1].dot(r[e]),-1,1));i[e].applyMatrix4(a.makeRotationAxis(s,t))}o[e].crossVectors(r[e],i[e])}if(!0===e){let e=Math.acos(Bn.clamp(i[0].dot(i[t]),-1,1));e/=t,r[0].dot(s.crossVectors(i[0],i[t]))>0&&(e=-e);for(let n=1;n<=t;n++)i[n].applyMatrix4(a.makeRotationAxis(r[n],e*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),zl.prototype=Object.create(Ul.prototype),zl.prototype.constructor=zl,zl.prototype.isEllipseCurve=!0,zl.prototype.getPoint=function(t,e){const n=e||new $n,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const s=this.aStartAngle+t*i;let a=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,r=c-this.aY;a=n*t-r*e+this.aX,c=n*e+r*t+this.aY}return n.set(a,c)},zl.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},zl.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},zl.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Hl.prototype=Object.create(zl.prototype),Hl.prototype.constructor=Hl,Hl.prototype.isArcCurve=!0;const Vl=new Zn,ql=new Gl,Wl=new Gl,Kl=new Gl;function Yl(t,e,n,r){Ul.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Xl(t,e,n,r,i){const o=.5*(r-e),s=.5*(i-n),a=t*t;return(2*n-2*r+o+s)*(t*a)+(-3*n+3*r-2*o-s)*a+o*t+n}function Zl(t,e,n,r){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function Jl(t,e,n,r,i){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function Ql(t,e,n,r){Ul.call(this),this.type="CubicBezierCurve",this.v0=t||new $n,this.v1=e||new $n,this.v2=n||new $n,this.v3=r||new $n}function th(t,e,n,r){Ul.call(this),this.type="CubicBezierCurve3",this.v0=t||new Zn,this.v1=e||new Zn,this.v2=n||new Zn,this.v3=r||new Zn}function eh(t,e){Ul.call(this),this.type="LineCurve",this.v1=t||new $n,this.v2=e||new $n}function nh(t,e){Ul.call(this),this.type="LineCurve3",this.v1=t||new Zn,this.v2=e||new Zn}function rh(t,e,n){Ul.call(this),this.type="QuadraticBezierCurve",this.v0=t||new $n,this.v1=e||new $n,this.v2=n||new $n}function ih(t,e,n){Ul.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Zn,this.v1=e||new Zn,this.v2=n||new Zn}function oh(t){Ul.call(this),this.type="SplineCurve",this.points=t||[]}Yl.prototype=Object.create(Ul.prototype),Yl.prototype.constructor=Yl,Yl.prototype.isCatmullRomCurve3=!0,Yl.prototype.getPoint=function(t,e){const n=e||new Zn,r=this.points,i=r.length,o=(i-(this.closed?0:1))*t;let s,a,c,u,l=Math.floor(o),h=o-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===h&&l===i-1&&(l=i-2,h=1),this.closed||l>0?s=r[(l-1)%i]:(Vl.subVectors(r[0],r[1]).add(r[0]),s=Vl),a=r[l%i],c=r[(l+1)%i],this.closed||l+2<i?u=r[(l+2)%i]:(Vl.subVectors(r[i-1],r[i-2]).add(r[i-1]),u=Vl),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(s.distanceToSquared(a),t),n=Math.pow(a.distanceToSquared(c),t),r=Math.pow(c.distanceToSquared(u),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),ql.initNonuniformCatmullRom(s.x,a.x,c.x,u.x,e,n,r),Wl.initNonuniformCatmullRom(s.y,a.y,c.y,u.y,e,n,r),Kl.initNonuniformCatmullRom(s.z,a.z,c.z,u.z,e,n,r)}else"catmullrom"===this.curveType&&(ql.initCatmullRom(s.x,a.x,c.x,u.x,this.tension),Wl.initCatmullRom(s.y,a.y,c.y,u.y,this.tension),Kl.initCatmullRom(s.z,a.z,c.z,u.z,this.tension));return n.set(ql.calc(h),Wl.calc(h),Kl.calc(h)),n},Yl.prototype.copy=function(t){Ul.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Yl.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Yl.prototype.fromJSON=function(t){Ul.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Zn).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ql.prototype=Object.create(Ul.prototype),Ql.prototype.constructor=Ql,Ql.prototype.isCubicBezierCurve=!0,Ql.prototype.getPoint=function(t,e){const n=e||new $n,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(Jl(t,r.x,i.x,o.x,s.x),Jl(t,r.y,i.y,o.y,s.y)),n},Ql.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ql.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ql.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},th.prototype=Object.create(Ul.prototype),th.prototype.constructor=th,th.prototype.isCubicBezierCurve3=!0,th.prototype.getPoint=function(t,e){const n=e||new Zn,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(Jl(t,r.x,i.x,o.x,s.x),Jl(t,r.y,i.y,o.y,s.y),Jl(t,r.z,i.z,o.z,s.z)),n},th.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},th.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},th.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},eh.prototype=Object.create(Ul.prototype),eh.prototype.constructor=eh,eh.prototype.isLineCurve=!0,eh.prototype.getPoint=function(t,e){const n=e||new $n;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},eh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},eh.prototype.getTangent=function(t,e){const n=e||new $n;return n.copy(this.v2).sub(this.v1).normalize(),n},eh.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},eh.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},eh.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},nh.prototype=Object.create(Ul.prototype),nh.prototype.constructor=nh,nh.prototype.isLineCurve3=!0,nh.prototype.getPoint=function(t,e){const n=e||new Zn;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},nh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},nh.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},nh.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},nh.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},rh.prototype=Object.create(Ul.prototype),rh.prototype.constructor=rh,rh.prototype.isQuadraticBezierCurve=!0,rh.prototype.getPoint=function(t,e){const n=e||new $n,r=this.v0,i=this.v1,o=this.v2;return n.set(Zl(t,r.x,i.x,o.x),Zl(t,r.y,i.y,o.y)),n},rh.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},rh.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},rh.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ih.prototype=Object.create(Ul.prototype),ih.prototype.constructor=ih,ih.prototype.isQuadraticBezierCurve3=!0,ih.prototype.getPoint=function(t,e){const n=e||new Zn,r=this.v0,i=this.v1,o=this.v2;return n.set(Zl(t,r.x,i.x,o.x),Zl(t,r.y,i.y,o.y),Zl(t,r.z,i.z,o.z)),n},ih.prototype.copy=function(t){return Ul.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ih.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ih.prototype.fromJSON=function(t){return Ul.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},oh.prototype=Object.create(Ul.prototype),oh.prototype.constructor=oh,oh.prototype.isSplineCurve=!0,oh.prototype.getPoint=function(t,e){const n=e||new $n,r=this.points,i=(r.length-1)*t,o=Math.floor(i),s=i-o,a=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(Xl(s,a.x,c.x,u.x,l.x),Xl(s,a.y,c.y,u.y,l.y)),n},oh.prototype.copy=function(t){Ul.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this},oh.prototype.toJSON=function(){const t=Ul.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t},oh.prototype.fromJSON=function(t){Ul.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new $n).fromArray(n))}return this};var sh=Object.freeze({__proto__:null,ArcCurve:Hl,CatmullRomCurve3:Yl,CubicBezierCurve:Ql,CubicBezierCurve3:th,EllipseCurve:zl,LineCurve:eh,LineCurve3:nh,QuadraticBezierCurve:rh,QuadraticBezierCurve3:ih,SplineCurve:oh});function ah(){Ul.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ch(t){ah.call(this),this.type="Path",this.currentPoint=new $n,t&&this.setFromPoints(t)}function uh(t){ch.call(this,t),this.uuid=Bn.generateUUID(),this.type="Shape",this.holes=[]}function lh(t,e){Or.call(this),this.type="Light",this.color=new pi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function hh(t,e,n){lh.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Or.DefaultUp),this.updateMatrix(),this.groundColor=new pi(e)}function fh(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new $n(512,512),this.map=null,this.mapPass=null,this.matrix=new or,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ao,this._frameExtents=new $n(1,1),this._viewportCount=1,this._viewports=[new Vn(0,0,1,1)]}function dh(){fh.call(this,new Oo(50,1,.5,500))}function ph(t,e,n,r,i,o){lh.call(this,t,e),this.type="SpotLight",this.position.copy(Or.DefaultUp),this.updateMatrix(),this.target=new Or,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new dh}function mh(){fh.call(this,new Oo(90,1,.5,500)),this._frameExtents=new $n(4,2),this._viewportCount=6,this._viewports=[new Vn(2,1,1,1),new Vn(0,1,1,1),new Vn(3,1,1,1),new Vn(1,1,1,1),new Vn(3,0,1,1),new Vn(1,0,1,1)],this._cubeDirections=[new Zn(1,0,0),new Zn(-1,0,0),new Zn(0,0,1),new Zn(0,0,-1),new Zn(0,1,0),new Zn(0,-1,0)],this._cubeUps=[new Zn(0,1,0),new Zn(0,1,0),new Zn(0,1,0),new Zn(0,1,0),new Zn(0,0,1),new Zn(0,0,-1)]}function bh(t,e,n,r){lh.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new mh}function gh(t,e,n,r,i,o){xo.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function vh(){fh.call(this,new gh(-5,5,5,-5,.5,500))}function yh(t,e){lh.call(this,t,e),this.type="DirectionalLight",this.position.copy(Or.DefaultUp),this.updateMatrix(),this.target=new Or,this.shadow=new vh}function wh(t,e){lh.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function _h(t,e,n,r){lh.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function xh(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Zn)}function Oh(t,e){lh.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new xh}function Eh(t){Cl.call(this,t),this.textures={}}ah.prototype=Object.assign(Object.create(Ul.prototype),{constructor:ah,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new eh(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=e){const t=n[r]-e,i=this.curves[r],o=i.getLength(),s=0===o?0:1-t/o;return i.getPointAt(s)}r++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;const e=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],s=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s);for(let t=0;t<a.length;t++){const r=a[t];n&&n.equals(r)||(e.push(r),n=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Ul.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Ul.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){Ul.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new sh[n.type]).fromJSON(n))}return this}}),ch.prototype=Object.assign(Object.create(ah.prototype),{constructor:ch,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new eh(this.currentPoint.clone(),new $n(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,r){const i=new rh(this.currentPoint.clone(),new $n(t,e),new $n(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(t,e,n,r,i,o){const s=new Ql(this.currentPoint.clone(),new $n(t,e),new $n(n,r),new $n(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this},splineThru:function(t){const e=new oh([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,r,i,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+s,e+a,n,r,i,o),this},absarc:function(t,e,n,r,i,o){return this.absellipse(t,e,n,n,r,i,o),this},ellipse:function(t,e,n,r,i,o,s,a){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+c,e+u,n,r,i,o,s,a),this},absellipse:function(t,e,n,r,i,o,s,a){const c=new zl(t,e,n,r,i,o,s,a);if(this.curves.length>0){const t=c.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(t){return ah.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=ah.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return ah.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),uh.prototype=Object.assign(Object.create(ch.prototype),{constructor:uh,getPointsHoles:function(t){const e=[];for(let n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){ch.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){const t=ch.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){ch.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new ch).fromJSON(n))}return this}}),lh.prototype=Object.assign(Object.create(Or.prototype),{constructor:lh,isLight:!0,copy:function(t){return Or.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=Or.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),hh.prototype=Object.assign(Object.create(lh.prototype),{constructor:hh,isHemisphereLight:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(fh.prototype,{_projScreenMatrix:new or,_lightPositionWorld:new Zn,_lookTarget:new Zn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),i.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(i),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),dh.prototype=Object.assign(Object.create(fh.prototype),{constructor:dh,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*Bn.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),fh.prototype.updateMatrices.call(this,t)}}),ph.prototype=Object.assign(Object.create(lh.prototype),{constructor:ph,isSpotLight:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),mh.prototype=Object.assign(Object.create(fh.prototype),{constructor:mh,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);const n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;i.setFromMatrixPosition(t.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),bh.prototype=Object.assign(Object.create(lh.prototype),{constructor:bh,isPointLight:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),gh.prototype=Object.assign(Object.create(xo.prototype),{constructor:gh,isOrthographicCamera:!0,copy:function(t,e){return xo.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,o=n+t,s=r+e,a=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,o=i+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){const e=Or.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),vh.prototype=Object.assign(Object.create(fh.prototype),{constructor:vh,isDirectionalLightShadow:!0,updateMatrices:function(t){fh.prototype.updateMatrices.call(this,t)}}),yh.prototype=Object.assign(Object.create(lh.prototype),{constructor:yh,isDirectionalLight:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),wh.prototype=Object.assign(Object.create(lh.prototype),{constructor:wh,isAmbientLight:!0}),_h.prototype=Object.assign(Object.create(lh.prototype),{constructor:_h,isRectAreaLight:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=lh.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(xh.prototype,{isSphericalHarmonics3:!0,set:function(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*r),e.addScaledVector(o[2],.488603*i),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*r*1.092548),e.addScaledVector(o[5],r*i*1.092548),e.addScaledVector(o[6],.315392*(3*i*i-1)),e.addScaledVector(o[7],n*i*1.092548),e.addScaledVector(o[8],.546274*(n*n-r*r)),e},getIrradianceAt:function(t,e){const n=t.x,r=t.y,i=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*r),e.addScaledVector(o[2],1.023328*i),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*r),e.addScaledVector(o[5],.858086*r*i),e.addScaledVector(o[6],.743125*i*i-.247708),e.addScaledVector(o[7],.858086*n*i),e.addScaledVector(o[8],.429043*(n*n-r*r)),e},add:function(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},addScaledSH:function(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this},scale:function(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},equals:function(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t,e){void 0===e&&(e=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(t,e+3*r);return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(t,e+3*r);return t}}),Object.assign(xh,{getBasisAt:function(t,e){const n=t.x,r=t.y,i=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*i,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*i,e[6]=.315392*(3*i*i-1),e[7]=1.092548*n*i,e[8]=.546274*(n*n-r*r)}}),Oh.prototype=Object.assign(Object.create(lh.prototype),{constructor:Oh,isLightProbe:!0,copy:function(t){return lh.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=lh.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Eh.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Eh,load:function(t,e,n,r){const i=this,o=new Pl(i.manager);o.setPath(i.path),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const r=new dl[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new pi).setHex(t.sheen)),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.vertexTangents&&(r.vertexTangents=t.vertexTangents),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const i=t.uniforms[e];switch(r.uniforms[e]={},i.type){case"t":r.uniforms[e].value=n(i.value);break;case"c":r.uniforms[e].value=(new pi).setHex(i.value);break;case"v2":r.uniforms[e].value=(new $n).fromArray(i.value);break;case"v3":r.uniforms[e].value=(new Zn).fromArray(i.value);break;case"v4":r.uniforms[e].value=(new Vn).fromArray(i.value);break;case"m3":r.uniforms[e].value=(new Fn).fromArray(i.value);case"m4":r.uniforms[e].value=(new or).fromArray(i.value);break;default:r.uniforms[e].value=i.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)r.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),r.normalScale=(new $n).fromArray(e)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new $n).fromArray(t.clearcoatNormalScale)),r},setTextures:function(t){return this.textures=t,this}});const Sh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function jh(){Hi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Mh(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ei.call(this,t,e,n),this.meshPerAttribute=r||1}function Th(t){Cl.call(this,t)}jh.prototype=Object.assign(Object.create(Hi.prototype),{constructor:jh,isInstancedBufferGeometry:!0,copy:function(t){return Hi.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=Hi.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Mh.prototype=Object.assign(Object.create(Ei.prototype),{constructor:Mh,isInstancedBufferAttribute:!0,copy:function(t){return Ei.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Ei.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Th.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Th,load:function(t,e,n,r){const i=this,o=new Pl(i.manager);o.setPath(i.path),o.load(t,(function(n){try{e(i.parse(JSON.parse(n)))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)},parse:function(t){const e={},n={};function r(t,r){if(void 0!==e[r])return e[r];const i=t.interleavedBuffers[r],o=function(t,e){if(void 0!==n[e])return n[e];const r=t.arrayBuffers[e],i=new Uint32Array(r).buffer;return n[e]=i,i}(t,i.buffer),s=new Ua(new Ah[i.type](o),i.stride);return s.uuid=i.uuid,e[r]=s,s}const i=t.isInstancedBufferGeometry?new jh:new Hi,o=t.data.index;if(void 0!==o){const t=new Ah[o.type](o.array);i.setIndex(new Ei(t,1))}const s=t.data.attributes;for(const e in s){const n=s[e];let o;if(n.isInterleavedBufferAttribute){o=new Ha(r(t.data,n.data),n.itemSize,n.offset,n.normalized)}else{const t=new Ah[n.type](n.array);o=new(n.isInstancedBufferAttribute?Mh:Ei)(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),i.setAttribute(e,o)}const a=t.data.morphAttributes;if(a)for(const e in a){const n=a[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e];let s;if(i.isInterleavedBufferAttribute){s=new Ha(r(t.data,i.data),i.itemSize,i.offset,i.normalized)}else{s=new Ei(new Ah[i.type](i.array),i.itemSize,i.normalized)}void 0!==i.name&&(s.name=i.name),o.push(s)}i.morphAttributes[e]=o}t.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let t=0,e=c.length;t!==e;++t){const e=c[t];i.addGroup(e.start,e.count,e.materialIndex)}const u=t.data.boundingSphere;if(void 0!==u){const t=new Zn;void 0!==u.center&&t.fromArray(u.center),i.boundingSphere=new Ur(t,u.radius)}return t.name&&(i.name=t.name),t.userData&&(i.userData=t.userData),i}});const Ah={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function kh(t){Cl.call(this,t)}kh.prototype=Object.assign(Object.create(Cl.prototype),{constructor:kh,load:function(t,e,n,r){const i=this,o=""===this.path?Sh.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const s=new Pl(i.manager);s.setPath(this.path),s.load(t,(function(n){let o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}const s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)},parse:function(t,e){const n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),i=this.parseImages(t.images,(function(){void 0!==e&&e(a)})),o=this.parseTextures(t.textures,i),s=this.parseMaterials(t.materials,o),a=this.parseObject(t.object,r,s);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseShape:function(t){const e={};if(void 0!==t)for(let n=0,r=t.length;n<r;n++){const r=(new uh).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){const n={};let r;if(void 0!==t){const i=new Th;for(let o=0,s=t.length;o<s;o++){let s;const a=t[o];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new nl[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new nl[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new nl[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new nl[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new nl[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new nl[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new nl[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new nl[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new nl[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new nl[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new nl[a.type]((new sh[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new nl[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new nl[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let t=0,n=a.shapes.length;t<n;t++){const n=e[a.shapes[t]];r.push(n)}s=new nl[a.type](r,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let t=0,n=a.shapes.length;t<n;t++){const n=e[a.shapes[t]];r.push(n)}const t=a.options.extrudePath;void 0!==t&&(a.options.extrudePath=(new sh[t.type]).fromJSON(t)),s=new nl[a.type](r,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(a);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n},parseMaterials:function(t,e){const n={},r={};if(void 0!==t){const i=new Eh;i.setTextures(e);for(let e=0,o=t.length;e<o;e++){const o=t[e];if("MultiMaterial"===o.type){const t=[];for(let e=0;e<o.materials.length;e++){const r=o.materials[e];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),t.push(n[r.uuid])}r[o.uuid]=t}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r},parseAnimations:function(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Ml.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){const n=this,r={};let i;function o(t){return n.manager.itemStart(t),i.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){const s=new kl(e);i=new Bl(s),i.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const i=t[e],s=i.url;if(Array.isArray(s)){r[i.uuid]=[];for(let t=0,e=s.length;t<e;t++){const e=s[t],a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:n.resourcePath+e;r[i.uuid].push(o(a))}}else{const t=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i.url)?i.url:n.resourcePath+i.url;r[i.uuid]=o(t)}}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}const r={};if(void 0!==t)for(let i=0,o=t.length;i<o;i++){const o=t[i];let s;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),s=Array.isArray(e[o.image])?new Xo(e[o.image]):new Gn(e[o.image]),s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,Ih)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Ch),s.wrapT=n(o.wrap[1],Ch)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,Rh)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,Rh)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r},parseObject:function(t,e,n){let r,i,o;function s(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),e.push(n[i])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":r=new Er,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new pi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Fa(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new $a(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new Oo(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new gh(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new wh(t.color,t.intensity);break;case"DirectionalLight":r=new yh(t.color,t.intensity);break;case"PointLight":r=new bh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new _h(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new ph(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new hh(t.color,t.groundColor,t.intensity);break;case"LightProbe":r=(new Oh).fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":i=s(t.geometry),o=a(t.material),r=new ao(i,o);break;case"InstancedMesh":i=s(t.geometry),o=a(t.material);const e=t.count,n=t.instanceMatrix;r=new vc(i,o,e),r.instanceMatrix=new Ei(new Float32Array(n.array),16);break;case"LOD":r=new cc;break;case"Line":r=new Sc(s(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new Ac(s(t.geometry),a(t.material));break;case"LineSegments":r=new Tc(s(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new Lc(s(t.geometry),a(t.material));break;case"Sprite":r=new ic(a(t.material));break;case"Group":r=new Ra;break;default:r=new Or}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children){const i=t.children;for(let t=0;t<i.length;t++)r.add(this.parseObject(i[t],e,n))}if("LOD"===t.type){void 0!==t.autoUpdate&&(r.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const n=e[t],i=r.getObjectByProperty("uuid",n.object);void 0!==i&&r.addLevel(i,n.distance)}}return r}});const Ih={UVMapping:st,CubeReflectionMapping:at,CubeRefractionMapping:ct,EquirectangularReflectionMapping:ut,EquirectangularRefractionMapping:lt,CubeUVReflectionMapping:ht,CubeUVRefractionMapping:ft},Ch={RepeatWrapping:dt,ClampToEdgeWrapping:pt,MirroredRepeatWrapping:mt},Rh={NearestFilter:bt,NearestMipmapNearestFilter:gt,NearestMipmapLinearFilter:yt,LinearFilter:_t,LinearMipmapNearestFilter:xt,LinearMipmapLinearFilter:Et};function Ph(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Cl.call(this,t),this.options={premultiplyAlpha:"none"}}function Lh(){this.type="ShapePath",this.color=new pi,this.subPaths=[],this.currentPath=null}function Nh(t){this.type="Font",this.data=t}function Dh(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");const s=new Lh;let a,c,u,l,h,f,d,p;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=t.length;i<o;){switch(t[i++]){case"m":a=t[i++]*e+n,c=t[i++]*e+r,s.moveTo(a,c);break;case"l":a=t[i++]*e+n,c=t[i++]*e+r,s.lineTo(a,c);break;case"q":u=t[i++]*e+n,l=t[i++]*e+r,h=t[i++]*e+n,f=t[i++]*e+r,s.quadraticCurveTo(h,f,u,l);break;case"b":u=t[i++]*e+n,l=t[i++]*e+r,h=t[i++]*e+n,f=t[i++]*e+r,d=t[i++]*e+n,p=t[i++]*e+r,s.bezierCurveTo(h,f,d,p,u,l)}}}return{offsetX:o.ha*e,path:s}}function Bh(t){Cl.call(this,t)}let $h;Ph.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Ph,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=Al.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout((function(){e&&e(o),i.manager.itemEnd(t)}),0),o;fetch(t).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,i.options)})).then((function(n){Al.add(t,n),e&&e(n),i.manager.itemEnd(t)})).catch((function(e){r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)})),i.manager.itemStart(t)}}),Object.assign(Lh.prototype,{moveTo:function(t,e){return this.currentPath=new ch,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this},bezierCurveTo:function(t,e,n,r,i,o){return this.currentPath.bezierCurveTo(t,e,n,r,i,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n],i=new uh;i.curves=r.curves,e.push(i)}return e}function r(t,e){const n=e.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=e[i],s=e[o],a=s.x-n.x,c=s.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=e[o],a=-a,s=e[i],c=-c),t.y<n.y||t.y>s.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=c*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;r=!r}}else{if(t.y!==n.y)continue;if(s.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=s.x)return!0}}return r}const i=Iu.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let s,a,c,u=[];if(1===o.length)return a=o[0],c=new uh,c.curves=a.curves,u.push(c),u;let l=!i(o[0].getPoints());l=t?!l:l;const h=[],f=[];let d,p,m=[],b=0;f[b]=void 0,m[b]=[];for(let e=0,n=o.length;e<n;e++)a=o[e],d=a.getPoints(),s=i(d),s=t?!s:s,s?(!l&&f[b]&&b++,f[b]={s:new uh,p:d},f[b].s.curves=a.curves,l&&b++,m[b]=[]):m[b].push({h:a,p:d[0]});if(!f[0])return n(o);if(f.length>1){let t=!1;const e=[];for(let t=0,e=f.length;t<e;t++)h[t]=[];for(let n=0,i=f.length;n<i;n++){const i=m[n];for(let o=0;o<i.length;o++){const s=i[o];let a=!0;for(let i=0;i<f.length;i++)r(s.p,f[i].p)&&(n!==i&&e.push({froms:n,tos:i,hole:o}),a?(a=!1,h[i].push(s)):t=!0);a&&h[n].push(s)}}e.length>0&&(t||(m=h))}for(let t=0,e=f.length;t<e;t++){c=f[t].s,u.push(c),p=m[t];for(let t=0,e=p.length;t<e;t++)c.holes.push(p[t].h)}return u}}),Object.assign(Nh.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);const n=[],r=function(t,e,n){const r=Array.from?Array.from(t):String(t).split(""),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[];let a=0,c=0;for(let t=0;t<r.length;t++){const e=r[t];if("\n"===e)a=0,c-=o;else{const t=Dh(e,i,a,c,n);a+=t.offsetX,s.push(t.path)}}return s}(t,e,this.data);for(let t=0,e=r.length;t<e;t++)Array.prototype.push.apply(n,r[t].toShapes());return n}}),Bh.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Bh,load:function(t,e,n,r){const i=this,o=new Pl(this.manager);o.setPath(this.path),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new Nh(t)}});const Fh={getContext:function(){return void 0===$h&&($h=new(window.AudioContext||window.webkitAudioContext)),$h},setContext:function(t){$h=t}};function Uh(t){Cl.call(this,t)}function zh(t,e,n){Oh.call(this,void 0,n);const r=(new pi).set(t),i=(new pi).set(e),o=new Zn(r.r,r.g,r.b),s=new Zn(i.r,i.g,i.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(c)}function Hh(t,e){Oh.call(this,void 0,e);const n=(new pi).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Uh.prototype=Object.assign(Object.create(Cl.prototype),{constructor:Uh,load:function(t,e,n,r){const i=this,o=new Pl(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.load(t,(function(n){try{const t=n.slice(0);Fh.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),i.manager.itemError(t)}}),n,r)}}),zh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:zh,isHemisphereLightProbe:!0,copy:function(t){return Oh.prototype.copy.call(this,t),this},toJSON:function(t){return Oh.prototype.toJSON.call(this,t)}}),Hh.prototype=Object.assign(Object.create(Oh.prototype),{constructor:Hh,isAmbientLightProbe:!0,copy:function(t){return Oh.prototype.copy.call(this,t),this},toJSON:function(t){return Oh.prototype.toJSON.call(this,t)}});const Gh=new or,Vh=new or;function qh(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Oo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Oo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Wh(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(qh.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),r=e.eyeSep/2,i=r*e.near/e.focus,o=e.near*Math.tan(Bn.DEG2RAD*e.fov*.5)/e.zoom;let s,a;Vh.elements[12]=-r,Gh.elements[12]=r,s=-o*e.aspect+i,a=o*e.aspect+i,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*e.aspect-i,a=o*e.aspect-i,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Vh),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Gh)}}),Object.assign(Wh.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});const Kh=new Zn,Yh=new Kn,Xh=new Zn,Zh=new Zn;function Jh(){Or.call(this),this.type="AudioListener",this.context=Fh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Wh}function Qh(t){Or.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}Jh.prototype=Object.assign(Object.create(Or.prototype),{constructor:Jh,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){Or.prototype.updateMatrixWorld.call(this,t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Kh,Yh,Xh),Zh.set(0,0,-1).applyQuaternion(Yh),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Kh.x,t),e.positionY.linearRampToValueAtTime(Kh.y,t),e.positionZ.linearRampToValueAtTime(Kh.z,t),e.forwardX.linearRampToValueAtTime(Zh.x,t),e.forwardY.linearRampToValueAtTime(Zh.y,t),e.forwardZ.linearRampToValueAtTime(Zh.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(Kh.x,Kh.y,Kh.z),e.setOrientation(Zh.x,Zh.y,Zh.z,n.x,n.y,n.z)}}),Qh.prototype=Object.assign(Object.create(Or.prototype),{constructor:Qh,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(void 0===t&&(t=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});const tf=new Zn,ef=new Kn,nf=new Zn,rf=new Zn;function of(t){Qh.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function sf(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function af(t,e,n){let r,i,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}of.prototype=Object.assign(Object.create(Qh.prototype),{constructor:of,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(t){if(Or.prototype.updateMatrixWorld.call(this,t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(tf,ef,nf),rf.set(0,0,1).applyQuaternion(ef);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(tf.x,t),e.positionY.linearRampToValueAtTime(tf.y,t),e.positionZ.linearRampToValueAtTime(tf.z,t),e.orientationX.linearRampToValueAtTime(rf.x,t),e.orientationY.linearRampToValueAtTime(rf.y,t),e.orientationZ.linearRampToValueAtTime(rf.z,t)}else e.setPosition(tf.x,tf.y,tf.z),e.setOrientation(rf.x,rf.y,rf.z)}}),Object.assign(sf.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(af.prototype,{accumulate:function(t,e){const n=this.buffer,r=this.valueSize,i=t*r+r;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==r;++t)n[i+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,i,0,t,r)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const t=e*this._origIndex;this._mixBufferRegion(n,r,t,1-i,e)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let t=e,i=e+e;t!==i;++t)if(n[t]!==n[t+e]){s.setValue(n,r);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let t=n,i=r;t!==i;++t)e[t]=e[r+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)t[e+r]=t[n+r]},_slerp:function(t,e,n,r){Kn.slerpFlat(t,e,t,e,t,n,r)},_slerpAdditive:function(t,e,n,r,i){const o=this._workIndex*i;Kn.multiplyQuaternionsFlat(t,o,t,e,t,n),Kn.slerpFlat(t,e,t,e,t,o,r)},_lerp:function(t,e,n,r,i){const o=1-r;for(let s=0;s!==i;++s){const i=e+s;t[i]=t[i]*o+t[n+s]*r}},_lerpAdditive:function(t,e,n,r,i){for(let o=0;o!==i;++o){const i=e+o;t[i]=t[i]+t[n+o]*r}}});const cf=new RegExp("[\\[\\]\\.:\\/]","g"),uf="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",lf=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),hf=/(WCOD+)?/.source.replace("WCOD",uf),ff=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),df=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),pf=new RegExp("^"+lf+hf+ff+df+"$"),mf=["material","materials","bones"];function bf(t,e,n){const r=n||gf.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function gf(t,e,n){this.path=e,this.parsedPath=n||gf.parseTrackName(e),this.node=gf.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function vf(){this.uuid=Bn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}function yf(t,e,n,r){this._mixer=t,this._clip=e,this._localRoot=n||null,this.blendMode=r||e.blendMode;const i=e.tracks,o=i.length,s=new Array(o),a={endingStart:Ge,endingEnd:Ge};for(let t=0;t!==o;++t){const e=i[t].createInterpolant(null);s[t]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$e,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function wf(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function _f(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function xf(t,e,n){Ua.call(this,t,e),this.meshPerAttribute=n||1}function Of(t,e,n,r){this.ray=new Yr(t,e),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new ur,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Ef(t,e){return t.distance-e.distance}function Sf(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)Sf(r[t],e,n,!0)}}function jf(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Mf(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}Object.assign(bf.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(gf,{Composite:bf,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new gf.Composite(t,e,n):new gf(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(cf,"")},parseTrackName:function(t){const e=pf.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==mf.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const o=n(i.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}}),Object.assign(gf.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=gf.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const o=t[r];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(gf.prototype,{_getValue_unbound:gf.prototype.getValue,_setValue_unbound:gf.prototype.setValue}),Object.assign(vf.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let s=void 0,a=t.length,c=this.nCachedObjects_;for(let u=0,l=arguments.length;u!==l;++u){const l=arguments[u],h=l.uuid;let f=e[h];if(void 0===f){f=a++,e[h]=f,t.push(l);for(let t=0,e=o;t!==e;++t)i[t].push(new gf(l,n[t],r[t]))}else if(f<c){s=t[f];const a=--c,u=t[a];e[u.uuid]=f,t[f]=u,e[h]=a,t[a]=l;for(let t=0,e=o;t!==e;++t){const e=i[t],o=e[a];let s=e[f];e[f]=o,void 0===s&&(s=new gf(l,n[t],r[t])),e[a]=s}}else t[f]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,c=e[a];if(void 0!==c&&c>=i){const o=i++,u=t[o];e[u.uuid]=c,t[c]=u,e[a]=o,t[o]=s;for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[o],i=e[c];e[c]=r,e[o]=i}}}this.nCachedObjects_=i},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=t.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,c=e[a];if(void 0!==c)if(delete e[a],c<i){const s=--i,a=t[s],u=--o,l=t[u];e[a.uuid]=c,t[c]=a,e[l.uuid]=s,t[s]=l,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[s],i=e[u];e[c]=r,e[s]=i,e.pop()}}else{const i=--o,s=t[i];e[s.uuid]=c,t[c]=s,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t];e[c]=e[i],e.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){let n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,s=this._parsedPaths,a=this._objects,c=a.length,u=this.nCachedObjects_,l=new Array(c);r=i.length,n[t]=r,o.push(t),s.push(e),i.push(l);for(let n=u,r=a.length;n!==r;++n){const r=a[n];l[n]=new gf(r,t,e)}return l},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];e[t[s]]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}}),Object.assign(yf.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,i=r/n,o=n/r;t.warp(1,i,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){let t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){const r=this._mixer,i=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,c=s.sampleValues;return a[0]=i,a[1]=i+n,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){let t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(!this.enabled)return void this._updateWeight(t);const i=this._startTime;if(null!==i){const r=(t-i)*n;if(r<0||0===n)return;this._startTime=null,e=n*r}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case Ke:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(s);break;case We:default:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulate(r,s)}}},_updateWeight:function(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){const e=this._clip.duration,n=this.loop;let r=this.time+t,i=this._loopCount;const o=n===Fe;if(0===t)return-1===i?r:o&&1==(1&i)?e-r:r;if(n===Be){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=e)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=e||r<0){const n=Math.floor(r/e);r-=e*n,i+=Math.abs(n);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?e:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1==(1&i))return e-r}return r},_setEndings:function(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=Ve,r.endingEnd=Ve):(r.endingStart=t?this.zeroSlopeAtStart?Ve:Ge:qe,r.endingEnd=e?this.zeroSlopeAtEnd?Ve:Ge:qe)},_scheduleFading:function(t,e,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=e,s[1]=i+t,a[1]=n,this}}),wf.prototype=Object.assign(Object.create(Nn.prototype),{constructor:wf,_bindAction:function(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,c=this._bindingsByRootAndName;let u=c[a];void 0===u&&(u={},c[a]=u);for(let t=0;t!==i;++t){const i=r[t],c=i.name;let l=u[c];if(void 0!==l)o[t]=l;else{if(l=o[t],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,c));continue}const r=e&&e._propertyBindings[t].binding.parsedPath;l=new af(gf.create(n,c,r),i.ValueTypeName,i.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,c),o[t]=l}s[t].resultBuffer=l.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const r=this._actions,i=this._actionsByClip;let o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const i=t._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,c=a[a.length-1],u=t._byClipCacheIndex;c._byClipCacheIndex=u,a[u]=c,a.pop(),t._byClipCacheIndex=null;delete s.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[e];void 0===o&&(o={},r[e]=o),o[n]=t,t._cacheIndex=i.length,i.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=e[e.length-1],c=t._cacheIndex;a._cacheIndex=c,e[c]=a,e.pop(),delete s[i],0===Object.keys(s).length&&delete o[r]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new gl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const r=e||this._root,i=r.uuid;let o="string"==typeof t?Ml.findByName(r,t):t;const s=null!==o?o.uuid:t;let a=this._actionsByClip[s],c=null;if(void 0===n&&(n=null!==o?o.blendMode:We),void 0!==a){const t=a.actionByRoot[i];if(void 0!==t&&t.blendMode===n)return t;c=a.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const u=new yf(this,o,e,n);return this._bindAction(u,c),this._addInactiveAction(u,s,i),u},existingAction:function(t,e){const n=e||this._root,r=n.uuid,i="string"==typeof t?Ml.findByName(n,t):t,o=i?i.uuid:t,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[r]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1;for(let s=0;s!==n;++s){e[s]._update(r,t,i,o)}const s=this._bindings,a=this._nActiveBindings;for(let t=0;t!==a;++t)s[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const t=i.knownActions;for(let n=0,r=t.length;n!==r;++n){const r=t[n];this._deactivateAction(r);const i=r._cacheIndex,o=e[e.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,e[i]=o,e.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),_f.prototype.clone=function(){return new _f(void 0===this.value.clone?this.value:this.value.clone())},xf.prototype=Object.assign(Object.create(Ua.prototype),{constructor:xf,isInstancedInterleavedBuffer:!0,copy:function(t){return Ua.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=Ua.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=Ua.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.assign(Of.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){const r=n||[];return Sf(t,this,r,e),r.sort(Ef),r},intersectObjects:function(t,e,n){const r=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(let n=0,i=t.length;n<i;n++)Sf(t[n],this,r,e);return r.sort(Ef),r}}),Object.assign(jf.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Bn.clamp(e/this.radius,-1,1))),this}}),Object.assign(Mf.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}});const Tf=new $n;function Af(t,e){this.min=void 0!==t?t:new $n(1/0,1/0),this.max=void 0!==e?e:new $n(-1/0,-1/0)}Object.assign(Af.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){const n=Tf.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new $n),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new $n),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new $n),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new $n),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return Tf.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});const kf=new Zn,If=new Zn;function Cf(t,e){this.start=void 0!==t?t:new Zn,this.end=void 0!==e?e:new Zn}function Rf(t){Or.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(Cf.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Zn),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Zn),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Zn),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){kf.subVectors(t,this.start),If.subVectors(this.end,this.start);const n=If.dot(If);let r=If.dot(kf)/n;return e&&(r=Bn.clamp(r,0,1)),r},closestPointToPoint:function(t,e,n){const r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Zn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Rf.prototype=Object.create(Or.prototype),Rf.prototype.constructor=Rf,Rf.prototype.isImmediateRenderObject=!0;const Pf=new Zn;function Lf(t,e){Or.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const n=new Hi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,n=32;t<n;t++,e++){const i=t/n*Math.PI*2,o=e/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Ci(r,3));const i=new yc({fog:!1,toneMapped:!1});this.cone=new Tc(n,i),this.add(this.cone),this.update()}Lf.prototype=Object.create(Or.prototype),Lf.prototype.constructor=Lf,Lf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Lf.prototype.update=function(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Pf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Pf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const Nf=new Zn,Df=new or,Bf=new or;function $f(t){const e=function t(e){const n=[];e&&e.isBone&&n.push(e);for(let r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new Hi,r=[],i=[],o=new pi(0,0,1),s=new pi(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new Ci(r,3)),n.setAttribute("color",new Ci(i,3));const a=new yc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Tc.call(this,n,a),this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Ff(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;const r=new Uu(e,4,2),i=new _i({wireframe:!0,fog:!1,toneMapped:!1});ao.call(this,r,i),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}$f.prototype=Object.create(Tc.prototype),$f.prototype.constructor=$f,$f.prototype.isSkeletonHelper=!0,$f.prototype.updateMatrixWorld=function(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");Bf.getInverse(this.root.matrixWorld);for(let t=0,n=0;t<e.length;t++){const i=e[t];i.parent&&i.parent.isBone&&(Df.multiplyMatrices(Bf,i.matrixWorld),Nf.setFromMatrixPosition(Df),r.setXYZ(n,Nf.x,Nf.y,Nf.z),Df.multiplyMatrices(Bf,i.parent.matrixWorld),Nf.setFromMatrixPosition(Df),r.setXYZ(n+1,Nf.x,Nf.y,Nf.z),n+=2)}n.getAttribute("position").needsUpdate=!0,Or.prototype.updateMatrixWorld.call(this,t)},Ff.prototype=Object.create(ao.prototype),Ff.prototype.constructor=Ff,Ff.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ff.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const Uf=new Zn,zf=new pi,Hf=new pi;function Gf(t,e,n){Or.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Yc(e);r.rotateY(.5*Math.PI),this.material=new _i({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Ei(o,3)),this.add(new ao(r,this.material)),this.update()}function Vf(t,e,n,r){t=t||10,e=e||10,n=new pi(void 0!==n?n:4473924),r=new pi(void 0!==r?r:8947848);const i=e/2,o=t/e,s=t/2,a=[],c=[];for(let t=0,u=0,l=-s;t<=e;t++,l+=o){a.push(-s,0,l,s,0,l),a.push(l,0,-s,l,0,s);const e=t===i?n:r;e.toArray(c,u),u+=3,e.toArray(c,u),u+=3,e.toArray(c,u),u+=3,e.toArray(c,u),u+=3}const u=new Hi;u.setAttribute("position",new Ci(a,3)),u.setAttribute("color",new Ci(c,3));const l=new yc({vertexColors:!0,toneMapped:!1});Tc.call(this,u,l),this.type="GridHelper"}function qf(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new pi(void 0!==i?i:4473924),o=new pi(void 0!==o?o:8947848);const s=[],a=[];for(let n=0;n<=e;n++){const r=n/e*(2*Math.PI),c=Math.sin(r)*t,u=Math.cos(r)*t;s.push(0,0,0),s.push(c,0,u);const l=1&n?i:o;a.push(l.r,l.g,l.b),a.push(l.r,l.g,l.b)}for(let e=0;e<=n;e++){const c=1&e?i:o,u=t-t/n*e;for(let t=0;t<r;t++){let e=t/r*(2*Math.PI),n=Math.sin(e)*u,i=Math.cos(e)*u;s.push(n,0,i),a.push(c.r,c.g,c.b),e=(t+1)/r*(2*Math.PI),n=Math.sin(e)*u,i=Math.cos(e)*u,s.push(n,0,i),a.push(c.r,c.g,c.b)}}const c=new Hi;c.setAttribute("position",new Ci(s,3)),c.setAttribute("color",new Ci(a,3));const u=new yc({vertexColors:!0,toneMapped:!1});Tc.call(this,c,u),this.type="PolarGridHelper"}Gf.prototype=Object.create(Or.prototype),Gf.prototype.constructor=Gf,Gf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Gf.prototype.update=function(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");zf.copy(this.light.color),Hf.copy(this.light.groundColor);for(let t=0,n=e.count;t<n;t++){const r=t<n/2?zf:Hf;e.setXYZ(t,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(Uf.setFromMatrixPosition(this.light.matrixWorld).negate())},Vf.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Vf,copy:function(t){return Tc.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),qf.prototype=Object.create(Tc.prototype),qf.prototype.constructor=qf;const Wf=new Zn,Kf=new Zn,Yf=new Zn;function Xf(t,e,n){Or.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);let r=new Hi;r.setAttribute("position",new Ci([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const i=new yc({fog:!1,toneMapped:!1});this.lightPlane=new Sc(r,i),this.add(this.lightPlane),r=new Hi,r.setAttribute("position",new Ci([0,0,0,0,0,1],3)),this.targetLine=new Sc(r,i),this.add(this.targetLine),this.update()}Xf.prototype=Object.create(Or.prototype),Xf.prototype.constructor=Xf,Xf.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Xf.prototype.update=function(){Wf.setFromMatrixPosition(this.light.matrixWorld),Kf.setFromMatrixPosition(this.light.target.matrixWorld),Yf.subVectors(Kf,Wf),this.lightPlane.lookAt(Kf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kf),this.targetLine.scale.z=Yf.length()};const Zf=new Zn,Jf=new xo;function Qf(t){const e=new Hi,n=new yc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},s=new pi(16755200),a=new pi(16711680),c=new pi(43775),u=new pi(16777215),l=new pi(3355443);function h(t,e,n){f(t,n),f(e,n)}function f(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(r.length/3-1)}h("n1","n2",s),h("n2","n4",s),h("n4","n3",s),h("n3","n1",s),h("f1","f2",s),h("f2","f4",s),h("f4","f3",s),h("f3","f1",s),h("n1","f1",s),h("n2","f2",s),h("n3","f3",s),h("n4","f4",s),h("p","n1",a),h("p","n2",a),h("p","n3",a),h("p","n4",a),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",u),h("p","c",l),h("cn1","cn2",l),h("cn3","cn4",l),h("cf1","cf2",l),h("cf3","cf4",l),e.setAttribute("position",new Ci(r,3)),e.setAttribute("color",new Ci(i,3)),Tc.call(this,e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function td(t,e,n,r,i,o,s){Zf.set(i,o,s).unproject(r);const a=e[t];if(void 0!==a){const t=n.getAttribute("position");for(let e=0,n=a.length;e<n;e++)t.setXYZ(a[e],Zf.x,Zf.y,Zf.z)}}Qf.prototype=Object.create(Tc.prototype),Qf.prototype.constructor=Qf,Qf.prototype.update=function(){const t=this.geometry,e=this.pointMap;Jf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),td("c",e,t,Jf,0,0,-1),td("t",e,t,Jf,0,0,1),td("n1",e,t,Jf,-1,-1,-1),td("n2",e,t,Jf,1,-1,-1),td("n3",e,t,Jf,-1,1,-1),td("n4",e,t,Jf,1,1,-1),td("f1",e,t,Jf,-1,-1,1),td("f2",e,t,Jf,1,-1,1),td("f3",e,t,Jf,-1,1,1),td("f4",e,t,Jf,1,1,1),td("u1",e,t,Jf,.7,1.1,-1),td("u2",e,t,Jf,-.7,1.1,-1),td("u3",e,t,Jf,0,2,-1),td("cf1",e,t,Jf,-1,0,1),td("cf2",e,t,Jf,1,0,1),td("cf3",e,t,Jf,0,-1,1),td("cf4",e,t,Jf,0,1,1),td("cn1",e,t,Jf,-1,0,-1),td("cn2",e,t,Jf,1,0,-1),td("cn3",e,t,Jf,0,-1,-1),td("cn4",e,t,Jf,0,1,-1),t.getAttribute("position").needsUpdate=!0};const ed=new Br;function nd(t,e){this.object=t,void 0===e&&(e=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Hi;i.setIndex(new Ei(n,1)),i.setAttribute("position",new Ei(r,3)),Tc.call(this,i,new yc({color:e,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function rd(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Hi;r.setIndex(new Ei(n,1)),r.setAttribute("position",new Ci([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Tc.call(this,r,new yc({color:e,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function id(t,e,n){this.plane=t,this.size=void 0===e?1:e;const r=void 0!==n?n:16776960,i=new Hi;i.setAttribute("position",new Ci([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Sc.call(this,i,new yc({color:r,toneMapped:!1})),this.type="PlaneHelper";const o=new Hi;o.setAttribute("position",new Ci([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ao(o,new _i({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}nd.prototype=Object.create(Tc.prototype),nd.prototype.constructor=nd,nd.prototype.update=function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ed.setFromObject(this.object),ed.isEmpty())return;const e=ed.min,n=ed.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()},nd.prototype.setFromObject=function(t){return this.object=t,this.update(),this},nd.prototype.copy=function(t){return Tc.prototype.copy.call(this,t),this.object=t.object,this},nd.prototype.clone=function(){return(new this.constructor).copy(this)},rd.prototype=Object.create(Tc.prototype),rd.prototype.constructor=rd,rd.prototype.updateMatrixWorld=function(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Or.prototype.updateMatrixWorld.call(this,t))},id.prototype=Object.create(Sc.prototype),id.prototype.constructor=id,id.prototype.updateMatrixWorld=function(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?g:b,this.lookAt(this.plane.normal),Or.prototype.updateMatrixWorld.call(this,t)};const od=new Zn;let sd,ad;function cd(t,e,n,r,i,o){Or.call(this),this.type="ArrowHelper",void 0===t&&(t=new Zn(0,0,1)),void 0===e&&(e=new Zn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===sd&&(sd=new Hi,sd.setAttribute("position",new Ci([0,0,0,0,1,0],3)),ad=new Zu(0,.5,1,5,1),ad.translate(0,-.5,0)),this.position.copy(e),this.line=new Sc(sd,new yc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ao(ad,new _i({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function ud(t){const e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Hi;n.setAttribute("position",new Ci(e,3)),n.setAttribute("color",new Ci([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));const r=new yc({vertexColors:!0,toneMapped:!1});Tc.call(this,n,r),this.type="AxesHelper"}cd.prototype=Object.create(Or.prototype),cd.prototype.constructor=cd,cd.prototype.setDirection=function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{od.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(od,e)}},cd.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},cd.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},cd.prototype.copy=function(t){return Or.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},cd.prototype.clone=function(){return(new this.constructor).copy(this)},ud.prototype=Object.create(Tc.prototype),ud.prototype.constructor=ud;const ld=Math.pow(2,8),hd=[.125,.215,.35,.446,.526,.582],fd=5+hd.length,dd={[Je]:0,[Qe]:1,[en]:2,[rn]:3,[on]:4,[sn]:5,[tn]:6},pd=new gh,{_lodPlanes:md,_sizeLods:bd,_sigmas:gd}=function(){const t=[],e=[],n=[];let r=8;for(let i=0;i<fd;i++){const o=Math.pow(2,r);e.push(o);let s=1/o;i>4?s=hd[i-8+4-1]:0==i&&(s=0),n.push(s);const a=1/(o-1),c=-a/2,u=1+a/2,l=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,d=3,p=2,m=1,b=new Float32Array(d*f*h),g=new Float32Array(p*f*h),v=new Float32Array(m*f*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];b.set(r,d*f*t),g.set(l,p*f*t);const i=[t,t,t,t,t,t];v.set(i,m*f*t)}const y=new Hi;y.setAttribute("position",new Ei(b,d)),y.setAttribute("uv",new Ei(g,p)),y.setAttribute("faceIndex",new Ei(v,m)),t.push(y),r>4&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}();let vd=null;const yd=(1+Math.sqrt(5))/2,wd=1/yd,_d=[new Zn(1,1,1),new Zn(-1,1,1),new Zn(1,1,-1),new Zn(-1,1,-1),new Zn(0,yd,wd),new Zn(0,yd,-wd),new Zn(wd,0,yd),new Zn(-wd,0,yd),new Zn(yd,wd,0),new Zn(-yd,wd,0)];function xd(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),n=new Zn(0,1,0);return new il({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:dd[Je]},outputEncoding:{value:dd[Je]}},vertexShader:Td(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${Ad()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function Od(t){return void 0!==t&&t.type===jt&&(t.encoding===Je||t.encoding===Qe||t.encoding===tn)}function Ed(t){const e=new qn(3*ld,3*ld,t);return e.texture.mapping=ht,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Sd(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function jd(){return new il({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new $n(1,1)},inputEncoding:{value:dd[Je]},outputEncoding:{value:dd[Je]}},vertexShader:Td(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${Ad()}\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1})}function Md(){return new il({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:dd[Je]},outputEncoding:{value:dd[Je]}},vertexShader:Td(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${Ad()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:_,depthTest:!1,depthWrite:!1})}function Td(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function Ad(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}function kd(t,e,n,r,i,o,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new vi(t,e,n,i,o,s)}xd.prototype={constructor:xd,fromScene:function(t,e=0,n=.1,r=100){vd=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(t){return this._fromTexture(t)},fromCubemap:function(t){return this._fromTexture(t)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Md(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=jd(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<md.length;t++)md[t].dispose()},_cleanup:function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(vd),t.scissorTest=!1,Sd(t,0,0,t.width,t.height)},_fromTexture:function(t){vd=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e},_allocateTargets:function(t){const e={magFilter:bt,minFilter:bt,generateMipmaps:!1,type:jt,format:Ht,encoding:Od(t)?t.encoding:en,depthBuffer:!1,stencilBuffer:!1},n=Ed(e);return n.depthBuffer=!t,this._pingPongRenderTarget=Ed(e),n},_compileMaterial:function(t){const e=new ao(md[0],t);this._renderer.compile(e,pd)},_sceneToCubeUV:function(t,e,n,r){const i=new Oo(90,1,e,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,c=a.outputEncoding,u=a.toneMapping,l=a.getClearColor(),h=a.getClearAlpha();a.toneMapping=tt,a.outputEncoding=Je;let f=t.background;if(f&&f.isColor){f.convertSRGBToLinear();const e=Math.max(f.r,f.g,f.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);f=f.multiplyScalar(Math.pow(2,-n));const r=(n+128)/255;a.setClearColor(f,r),t.background=null}for(let e=0;e<6;e++){const n=e%3;0==n?(i.up.set(0,o[e],0),i.lookAt(s[e],0,0)):1==n?(i.up.set(0,0,o[e]),i.lookAt(0,s[e],0)):(i.up.set(0,o[e],0),i.lookAt(0,0,s[e])),Sd(r,n*ld,e>2?ld:0,ld,ld),a.setRenderTarget(r),a.render(t,i)}a.toneMapping=u,a.outputEncoding=c,a.setClearColor(l,h)},_textureToCubeUV:function(t,e){const n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Md()):null==this._equirectShader&&(this._equirectShader=jd());const r=t.isCubeTexture?this._cubemapShader:this._equirectShader,i=new ao(md[0],r),o=r.uniforms;o.envMap.value=t,t.isCubeTexture||o.texelSize.value.set(1/t.image.width,1/t.image.height),o.inputEncoding.value=dd[t.encoding],o.outputEncoding.value=dd[e.texture.encoding],Sd(e,0,0,3*ld,2*ld),n.setRenderTarget(e),n.render(i,pd)},_applyPMREM:function(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let e=1;e<fd;e++){const n=Math.sqrt(gd[e]*gd[e]-gd[e-1]*gd[e-1]),r=_d[(e-1)%_d.length];this._blur(t,e-1,e,n,r)}e.autoClear=n},_blur:function(t,e,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,n,r,"latitudinal",i),this._halfBlur(o,t,n,n,r,"longitudinal",i)},_halfBlur:function(t,e,n,r,i,o,s){const a=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new ao(md[r],c),l=c.uniforms,h=bd[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):20;p>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let b=0;for(let t=0;t<20;++t){const e=t/d,n=Math.exp(-e*e/2);m.push(n),0==t?b+=n:t<p&&(b+=2*n)}for(let t=0;t<m.length;t++)m[t]=m[t]/b;l.envMap.value=t.texture,l.samples.value=p,l.weights.value=m,l.latitudinal.value="latitudinal"===o,s&&(l.poleAxis.value=s),l.dTheta.value=f,l.mipInt.value=8-n,l.inputEncoding.value=dd[t.texture.encoding],l.outputEncoding.value=dd[t.texture.encoding];const g=bd[r];Sd(e,3*Math.max(0,ld-2*g),(0===r?0:2*ld)+2*g*(r>4?r-8+4:0),3*g,2*g),a.setRenderTarget(e),a.render(u,pd)}};const Id=0,Cd=1,Rd=0,Pd=1,Ld=2;function Nd(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Dd(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Bd(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Lc(t,e)}function $d(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ic(t)}function Fd(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Lc(t,e)}function Ud(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new kc(t)}function zd(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new kc(t)}function Hd(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new kc(t)}function Gd(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Zn(t,e,n)}function Vd(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ei(t,e).setUsage(Tn)}function qd(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Si(t,e)}function Wd(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ji(t,e)}function Kd(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Mi(t,e)}function Yd(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ti(t,e)}function Xd(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ai(t,e)}function Zd(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ki(t,e)}function Jd(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ii(t,e)}function Qd(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ci(t,e)}function tp(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ri(t,e)}function ep(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Yl.call(this,t),this.type="catmullrom",this.closed=!0}function np(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Yl.call(this,t),this.type="catmullrom"}function rp(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Yl.call(this,t),this.type="catmullrom"}function ip(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new ud(t)}function op(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new nd(t,e)}function sp(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Tc(new Yu(t.geometry),new yc({color:void 0!==e?e:16777215}))}function ap(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Tc(new Uc(t.geometry),new yc({color:void 0!==e?e:16777215}))}function cp(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Pl(t)}function up(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Dl(t)}function lp(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new So(t,n)}Ul.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ul.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ah.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new mo;for(let n=0,r=t.length;n<r;n++){const r=t[n];e.vertices.push(new Zn(r.x,r.y,r.z||0))}return e}}),Object.assign(ch.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),ep.prototype=Object.create(Yl.prototype),np.prototype=Object.create(Yl.prototype),rp.prototype=Object.create(Yl.prototype),Object.assign(rp.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Vf.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},$f.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Cl.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Sh.extractUrlBase(t)}}),Cl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(kh.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(Af.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Br.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Ur.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ao.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Cf.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Bn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Bn.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Bn.ceilPowerOfTwo(t)}}),Object.assign(Fn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(or.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Zn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),Qr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Kn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Yr.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(li.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(li,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),li.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),li.getNormal(t,e,n,r)}}),Object.assign(uh.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Pu(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new qu(this,t)}}),Object.assign($n.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Zn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Vn.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(mo.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Or.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Or.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(ao.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(ao.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Ye},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(cc.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(fc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),uc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ul.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Oo.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(lh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Ei.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Tn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Tn)}}}),Object.assign(Ei.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Tn:Mn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Hi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Ei(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Hi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(jh.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Of.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Ua.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Tn},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Ua.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Tn:Mn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Lu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(_f.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(wi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new pi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===y}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(al.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(_o.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Da.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Da.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Qe:Je}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ta.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(qn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Qh.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new Uh).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),sf.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Eo.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};const hp={merge:function(t,e,n){let r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function fp(){console.error("THREE.CanvasRenderer has been removed")}function dp(){console.error("THREE.JSONLoader has been removed.")}zn.crossOrigin=void 0,zn.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new Fl;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},zn.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new $l;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},zn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},zn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const pp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function mp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}}))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):b(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=b(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(48),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=Object.create(n(38));o.inherits=n(2);var s=n(95),a=n(62);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){t.exports=i;var r=n(24).EventEmitter;function i(){r.call(this)}n(2)(i,r),i.Readable=n(37),i.Writable=n(253),i.Duplex=n(254),i.Transform=n(255),i.PassThrough=n(256),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e,n){"use strict";(function(e,r){var i=n(4).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(t);if(t>0)if(t>65536)for(var s=0;s<t;s+=65536)o.getRandomValues(n.slice(s,s+65536));else o.getRandomValues(n);if("function"==typeof e)return r.nextTick((function(){e(null,n)}));return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(8),n(6))},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,s,a;if("string"==typeof e&&(i="not ",e.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var c=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(c," ").concat(r," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var i=n(101),o=n(105);n(2)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||e.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(6))},function(t,e,n){var r=n(4).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)n[c+l]=t[a+l];a+=u,(s+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,s,a;if("string"==typeof e&&(i="not ",e.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var c=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(c," ").concat(r," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var i=n(126),o=n(130);n(2)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||e.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(6))},function(t,e){const n=/[&<>"']/,r=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=t=>s[t];const c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(t){return t.replace(c,(t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const l=/(^|[^\[])\^/g;const h=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const d={},p=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function g(t,e){d[" "+t]||(p.test(t)?d[" "+t]=t+"/":d[" "+t]=v(t,"/",!0));const n=-1===(t=d[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(m,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(b,"$1")+e:t+e}function v(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}t.exports={escape:function(t,e){if(e){if(n.test(t))return t.replace(r,a)}else if(i.test(t))return t.replace(o,a);return t},unescape:u,edit:function(t,e){t=t.source||t,e=e||"";const n={replace:(e,r)=>(r=(r=r.source||r).replace(l,"$1"),t=t.replace(e,r),n),getRegex:()=>new RegExp(t,e)};return n},cleanUrl:function(t,e,n){if(t){let t;try{t=decodeURIComponent(u(n)).replace(h,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!f.test(n)&&(n=g(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n},resolveUrl:g,noopTest:{exec:function(){}},merge:function(t){let e,n,r=1;for(;r<arguments.length;r++)for(n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},splitCells:function(t,e){const n=t.replace(/\|/g,(t,e,n)=>{let r=!1,i=e;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:v,findClosingBracket:function(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},function(t,e,n){!function(){function e(t){return t[0]}function r(t){return t[0].value}var i=n(162),o=Object.assign({ws:{match:/\s+/,lineBreaks:!0,next:"main"},comment:/\#.*/,arrow:{match:/[=-]+\>/,next:"main"},js:{match:/\{\%(?:[^%]|\%[^}])*\%\}/,value:t=>t.slice(2,-2)},word:{match:/[\w\?\+]+/,next:"afterWord"},string:{match:/"(?:[^\\"\n]|\\["\\/bfnrt]|\\u[a-fA-F0-9]{4})*"/,value:t=>JSON.parse(t),next:"main"},btstring:{match:/`[^`]*`/,value:t=>t.slice(1,-1),next:"main"}},function(t){var e={};for(var n of t)e[n]={match:n,next:"main"};return e}([",","|","$","%","(",")",":?",":*",":+","@include","@builtin","@","]"])),s=i.states({main:Object.assign({},o,{charclass:{match:/\.|\[(?:\\.|[^\\\n])+?\]/,value:t=>new RegExp(t)}}),afterWord:Object.assign({},o,{"[":{match:"[",next:"main"}})});var a={Lexer:s,ParserRules:[{name:"final$ebnf$1",symbols:[s.has("ws")?{type:"ws"}:ws],postprocess:e},{name:"final$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"final",symbols:["_","prog","_","final$ebnf$1"],postprocess:function(t){return t[1]}},{name:"prog",symbols:["prod"],postprocess:function(t){return[t[0]]}},{name:"prog",symbols:["prod","ws","prog"],postprocess:function(t){return[t[0]].concat(t[2])}},{name:"prod",symbols:["word","_",s.has("arrow")?{type:"arrow"}:arrow,"_","expression+"],postprocess:function(t){return{name:t[0],rules:t[4]}}},{name:"prod",symbols:["word",{literal:"["},"wordlist",{literal:"]"},"_",s.has("arrow")?{type:"arrow"}:arrow,"_","expression+"],postprocess:function(t){return{macro:t[0],args:t[2],exprs:t[7]}}},{name:"prod",symbols:[{literal:"@"},"_","js"],postprocess:function(t){return{body:t[2]}}},{name:"prod",symbols:[{literal:"@"},"word","ws","word"],postprocess:function(t){return{config:t[1],value:t[3]}}},{name:"prod",symbols:[{literal:"@include"},"_","string"],postprocess:function(t){return{include:t[2].literal,builtin:!1}}},{name:"prod",symbols:[{literal:"@builtin"},"_","string"],postprocess:function(t){return{include:t[2].literal,builtin:!0}}},{name:"expression+",symbols:["completeexpression"]},{name:"expression+",symbols:["expression+","_",{literal:"|"},"_","completeexpression"],postprocess:function(t){return t[0].concat([t[4]])}},{name:"expressionlist",symbols:["completeexpression"]},{name:"expressionlist",symbols:["expressionlist","_",{literal:","},"_","completeexpression"],postprocess:function(t){return t[0].concat([t[4]])}},{name:"wordlist",symbols:["word"]},{name:"wordlist",symbols:["wordlist","_",{literal:","},"_","word"],postprocess:function(t){return t[0].concat([t[4]])}},{name:"completeexpression",symbols:["expr"],postprocess:function(t){return{tokens:t[0]}}},{name:"completeexpression",symbols:["expr","_","js"],postprocess:function(t){return{tokens:t[0],postprocess:t[2]}}},{name:"expr_member",symbols:["word"],postprocess:e},{name:"expr_member",symbols:[{literal:"$"},"word"],postprocess:function(t){return{mixin:t[1]}}},{name:"expr_member",symbols:["word",{literal:"["},"expressionlist",{literal:"]"}],postprocess:function(t){return{macrocall:t[0],args:t[2]}}},{name:"expr_member$ebnf$1",symbols:[{literal:"i"}],postprocess:e},{name:"expr_member$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"expr_member",symbols:["string","expr_member$ebnf$1"],postprocess:function(t){return t[1]?function(t){for(var e=t.literal,n=[],r=0;r<e.length;r++){var i=e.charAt(r);i.toUpperCase()!==i||i.toLowerCase()!==i?n.push(new RegExp("["+i.toLowerCase()+i.toUpperCase()+"]")):n.push({literal:i})}return{subexpression:[{tokens:n,postprocess:function(t){return t.join("")}}]}}(t[0]):t[0]}},{name:"expr_member",symbols:[{literal:"%"},"word"],postprocess:function(t){return{token:t[1]}}},{name:"expr_member",symbols:["charclass"],postprocess:e},{name:"expr_member",symbols:[{literal:"("},"_","expression+","_",{literal:")"}],postprocess:function(t){return{subexpression:t[2]}}},{name:"expr_member",symbols:["expr_member","_","ebnf_modifier"],postprocess:function(t){return{ebnf:t[0],modifier:t[2]}}},{name:"ebnf_modifier",symbols:[{literal:":+"}],postprocess:r},{name:"ebnf_modifier",symbols:[{literal:":*"}],postprocess:r},{name:"ebnf_modifier",symbols:[{literal:":?"}],postprocess:r},{name:"expr",symbols:["expr_member"]},{name:"expr",symbols:["expr","ws","expr_member"],postprocess:function(t){return t[0].concat([t[2]])}},{name:"word",symbols:[s.has("word")?{type:"word"}:word],postprocess:r},{name:"string",symbols:[s.has("string")?{type:"string"}:string],postprocess:t=>({literal:t[0].value})},{name:"string",symbols:[s.has("btstring")?{type:"btstring"}:btstring],postprocess:t=>({literal:t[0].value})},{name:"charclass",symbols:[s.has("charclass")?{type:"charclass"}:charclass],postprocess:r},{name:"js",symbols:[s.has("js")?{type:"js"}:js],postprocess:r},{name:"_$ebnf$1",symbols:["ws"],postprocess:e},{name:"_$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"_",symbols:["_$ebnf$1"]},{name:"ws",symbols:[s.has("ws")?{type:"ws"}:ws]},{name:"ws$ebnf$1",symbols:[s.has("ws")?{type:"ws"}:ws],postprocess:e},{name:"ws$ebnf$1",symbols:[],postprocess:function(t){return null}},{name:"ws",symbols:["ws$ebnf$1",s.has("comment")?{type:"comment"}:comment,"_"]}],ParserStart:"final"};void 0!==t.exports?t.exports=a:window.grammar=a}()},function(t,e,n){},function(t,e,n){"use strict";var r=n(237),i=n(238);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=y(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(60);function y(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var y=t=u.join(a);if(y=y.trim(),!n&&1===t.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(y);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,y=y.substr(_.length)}if(n||_||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===y.substr(0,2);!O||_&&b[_]||(y=y.substr(2),this.slashes=!0)}if(!b[_]&&(O||_&&!g[_])){for(var E,S,j=-1,M=0;M<f.length;M++){-1!==(T=y.indexOf(f[M]))&&(-1===j||T<j)&&(j=T)}-1!==(S=-1===j?y.lastIndexOf("@"):y.lastIndexOf("@",j))&&(E=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(E)),j=-1;for(M=0;M<h.length;M++){var T;-1!==(T=y.indexOf(h[M]))&&(-1===j||T<j)&&(j=T)}-1===j&&(j=y.length),this.host=y.slice(0,j),y=y.slice(j),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var k=this.hostname.split(/\./),I=(M=0,k.length);M<I;M++){var C=k[M];if(C&&!C.match(d)){for(var R="",P=0,L=C.length;P<L;P++)C.charCodeAt(P)>127?R+="x":R+=C[P];if(!R.match(d)){var N=k.slice(0,M),D=k.slice(M+1),B=C.match(p);B&&(N.push(B[1]),D.unshift(B[2])),D.length&&(y="/"+D.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var $=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+$,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[x])for(M=0,I=l.length;M<I;M++){var U=l[M];if(-1!==y.indexOf(U)){var z=encodeURIComponent(U);z===U&&(z=escape(U)),y=y.split(U).join(z)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,G)):e&&(this.search="",this.query={}),y&&(this.pathname=y),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$=this.pathname||"";var V=this.search||"";this.path=$+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=t[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||y||n.host&&t.pathname,x=_,O=n.pathname&&n.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===O[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=p;else if(p.length)O||(O=[]),O.pop(),O=O.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=O.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=O.slice(-1)[0],j=(n.host||t.host||O.length>1)&&("."===S||".."===S)||""===S,M=0,T=O.length;T>=0;T--)"."===(S=O[T])?O.splice(T,1):".."===S?(O.splice(T,1),M++):M&&(O.splice(T,1),M--);if(!_&&!x)for(;M--;M)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),j&&"/"!==O.join("/").substr(-1)&&O.push("");var A,k=""===O[0]||O[0]&&"/"===O[0].charAt(0);E&&(n.hostname=n.host=k?"":O.length?O.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(_=_||n.host&&O.length)&&!k&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(e=t.exports=n(95)).Stream=e,e.Readable=e,e.Writable=n(62),e.Duplex=n(25),e.Transform=n(98),e.PassThrough=n(249)},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(7).Buffer)},function(t,e,n){"use strict";var r=n(2),i=n(64),o=n(66),s=n(67),a=n(22);function c(t){a.call(this,"digest"),this._hash=t}r(c,a),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new c(s(t))}},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,n(7).Buffer)},function(t,e,n){"use strict";var r=n(17),i=n(12);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){"use strict";const r=n(2),i=n(78).Reporter,o=n(21).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(s,i),e.DecoderBuffer=s,s.isDecoderBuffer=function(t){if(t instanceof s)return!0;return"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.isEncoderBuffer=function(t){if(t instanceof a)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},function(t,e){function n(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:n,changeDefaults:function(e){t.exports.defaults=e}}},function(t,e,n){"use strict";function r(t){let e=document.getElementById("hiddenCopyField");e.value=t,e.select(),document.execCommand("Copy")}n.d(e,"a",(function(){return r}))},function(t,e,n){t.exports=function(){return new Worker(n.p+"19e878c082da3f5ab388.worker.js")}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return m})),n.d(e,"__spread",(function(){return b})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return x})),n.d(e,"__importStar",(function(){return O})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return j}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(6))},function(t,e,n){var r=n(4).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,n,r,i){for(var o,s,a,c,u=n[0],l=n[1],h=n[2],f=n[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],b=t[3]^e[3],g=4,v=1;v<i;v++)o=u[d>>>24]^l[p>>>16&255]^h[m>>>8&255]^f[255&b]^e[g++],s=u[p>>>24]^l[m>>>16&255]^h[b>>>8&255]^f[255&d]^e[g++],a=u[m>>>24]^l[b>>>16&255]^h[d>>>8&255]^f[255&p]^e[g++],c=u[b>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&m]^e[g++],d=o,p=s,m=a,b=c;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&b])^e[g++],s=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[b>>>8&255]<<8|r[255&d])^e[g++],a=(r[m>>>24]<<24|r[b>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[g++],c=(r[b>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^e[g++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[s]=u,r[u]=s;var l=t[s],h=t[l],f=t[h],d=257*t[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*f^65537*h^257*l^16843008*s,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=l^t[t[t[f^l]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(t){this._key=i(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),i[o]=i[o-e]^s}for(var u=[],l=0;l<r;l++){var h=r-l,f=i[h-(l%4?0:4)];u[l]=l<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=s(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},function(t,e,n){var r=n(4).Buffer,i=n(64);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=n/8,a=r.alloc(s),c=r.alloc(o||0),u=r.alloc(0);s>0||o>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var h=0;if(s>0){var f=a.length-s;h=Math.min(s,u.length),u.copy(a,f,0,h),s-=h}if(h<u.length&&o>0){var d=c.length-o,p=Math.min(o,u.length-h);u.copy(c,d,h,h+p),o-=p}}return u.fill(0),{key:a,iv:c}}},function(t,e,n){"use strict";var r=n(10),i=n(13),o=i.getNAF,s=i.getJSF,a=i.assert;function c(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){a(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var s=[],c=0;c<r.length;c+=n.step){var u=0;for(e=c+n.step-1;e>=c;e--)u=(u<<1)+r[e];s.push(u)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(c=0;c<s.length;c++){(u=s[c])===f?h=h.mixedAdd(n.points[c]):u===-f&&(h=h.mixedAdd(n.points[c].neg()))}l=l.add(h)}return l.toP()},c.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=o(e,n,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(e=0;u>=0&&0===s[u];u--)e++;if(u>=0&&e++,c=c.dblp(e),u<0)break;var l=s[u];a(0!==l),c="affine"===t.type?l>0?c.mixedAdd(i[l-1>>1]):c.mixedAdd(i[-l-1>>1].neg()):l>0?c.add(i[l-1>>1]):c.add(i[-l-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,n,r,i){for(var a=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,h=0;h<r;h++){var f=(S=e[h])._getNAFPoints(t);a[h]=f.wnd,c[h]=f.points}for(h=r-1;h>=1;h-=2){var d=h-1,p=h;if(1===a[d]&&1===a[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],g=s(n[d],n[p]);l=Math.max(g[0].length,l),u[d]=new Array(l),u[p]=new Array(l);for(var v=0;v<l;v++){var y=0|g[0][v],w=0|g[1][v];u[d][v]=b[3*(y+1)+(w+1)],u[p][v]=0,c[d]=m}}else u[d]=o(n[d],a[d],this._bitLength),u[p]=o(n[p],a[p],this._bitLength),l=Math.max(u[d].length,l),l=Math.max(u[p].length,l)}var _=this.jpoint(null,null,null),x=this._wnafT4;for(h=l;h>=0;h--){for(var O=0;h>=0;){var E=!0;for(v=0;v<r;v++)x[v]=0|u[v][h],0!==x[v]&&(E=!1);if(!E)break;O++,h--}if(h>=0&&O++,_=_.dblp(O),h<0)break;for(v=0;v<r;v++){var S,j=x[v];0!==j&&(j>0?S=c[v][j-1>>1]:j<0&&(S=c[v][-j-1>>1].neg()),_="affine"===S.type?_.mixedAdd(S):_.add(S))}}for(h=0;h<r;h++)c[h]=null;return i?_:_.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var r=n(328),i=n(335),o=n(336),s=n(69),a=n(112),c=n(4).Buffer;function u(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var n,u,l=o(t,e),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":u=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(f,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,f=a.pbkdf2Sync(e,n,r,h,"sha1"),d=s.createDecipheriv(o,f,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=u,u.signature=r.signature},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])m(c)||!w(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(b(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(O(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var u,w="",E=!1,S=["{","}"];(d(n)&&(E=!0,S=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+h(n)),0!==s.length||E&&0!=n.length?r<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=E?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return f(t,n,r,a,e,E)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(u,w,S)):S[0]+w+S[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return w(t)&&"[object RegExp]"===E(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===E(t)}function x(t){return w(t)&&("[object Error]"===E(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=w,e.isDate=_,e.isError=x,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(347);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),j[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=n(348),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(k,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(6))},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},s={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(r)},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(6))},function(t,e){t.exports=function(t){function e(e,n){var r,i,o,s,a;this.object=e,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(u),c.update(),d=f.NONE},this.update=(r=new t.Vector3,i=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),o=i.clone().inverse(),s=new t.Vector3,a=new t.Quaternion,function(){var t=c.object.position;return r.copy(t).sub(c.target),r.applyQuaternion(i),m.setFromVector3(r),c.autoRotate&&d===f.NONE&&k(2*Math.PI/60/60*c.autoRotateSpeed),m.theta+=b.theta,m.phi+=b.phi,m.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,m.theta)),m.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=g,m.radius=Math.max(c.minDistance,Math.min(c.maxDistance,m.radius)),c.target.add(v),r.setFromSpherical(m),r.applyQuaternion(o),t.copy(c.target).add(r),c.object.lookAt(c.target),!0===c.enableDamping?(b.theta*=1-c.dampingFactor,b.phi*=1-c.dampingFactor):b.set(0,0,0),g=1,v.set(0,0,0),!!(y||s.distanceToSquared(c.object.position)>p||8*(1-a.dot(c.object.quaternion))>p)&&(c.dispatchEvent(u),s.copy(c.object.position),a.copy(c.object.quaternion),y=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",q,!1),c.domElement.removeEventListener("mousedown",B,!1),c.domElement.removeEventListener("wheel",U,!1),c.domElement.removeEventListener("touchstart",H,!1),c.domElement.removeEventListener("touchend",V,!1),c.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",F,!1),window.removeEventListener("keydown",z,!1)};var c=this,u={type:"change"},l={type:"start"},h={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},d=f.NONE,p=1e-6,m=new t.Spherical,b=new t.Spherical,g=1,v=new t.Vector3,y=!1,w=new t.Vector2,_=new t.Vector2,x=new t.Vector2,O=new t.Vector2,E=new t.Vector2,S=new t.Vector2,j=new t.Vector2,M=new t.Vector2,T=new t.Vector2;function A(){return Math.pow(.95,c.zoomSpeed)}function k(t){b.theta-=t}function I(t){b.phi-=t}var C,R=(C=new t.Vector3,function(t,e){C.setFromMatrixColumn(e,0),C.multiplyScalar(-t),v.add(C)}),P=function(){var e=new t.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),v.add(e)}}(),L=function(){var e=new t.Vector3;return function(n,r){var i=c.domElement===document?c.domElement.body:c.domElement;if(c.object instanceof t.PerspectiveCamera){var o=c.object.position;e.copy(o).sub(c.target);var s=e.length();s*=Math.tan(c.object.fov/2*Math.PI/180),R(2*n*s/i.clientHeight,c.object.matrix),P(2*r*s/i.clientHeight,c.object.matrix)}else c.object instanceof t.OrthographicCamera?(R(n*(c.object.right-c.object.left)/c.object.zoom/i.clientWidth,c.object.matrix),P(r*(c.object.top-c.object.bottom)/c.object.zoom/i.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function N(e){c.object instanceof t.PerspectiveCamera?g/=e:c.object instanceof t.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function D(e){c.object instanceof t.PerspectiveCamera?g*=e:c.object instanceof t.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function B(t){if(!1!==c.enabled){if(t.preventDefault(),t.button===c.mouseButtons.ORBIT){if(!1===c.enableRotate)return;!function(t){w.set(t.clientX,t.clientY)}(t),d=f.ROTATE}else if(t.button===c.mouseButtons.ZOOM){if(!1===c.enableZoom)return;!function(t){j.set(t.clientX,t.clientY)}(t),d=f.DOLLY}else if(t.button===c.mouseButtons.PAN){if(!1===c.enablePan)return;!function(t){O.set(t.clientX,t.clientY)}(t),d=f.PAN}d!==f.NONE&&(document.addEventListener("mousemove",$,!1),document.addEventListener("mouseup",F,!1),c.dispatchEvent(l))}}function $(t){if(!1!==c.enabled)if(t.preventDefault(),d===f.ROTATE){if(!1===c.enableRotate)return;!function(t){_.set(t.clientX,t.clientY),x.subVectors(_,w);var e=c.domElement===document?c.domElement.body:c.domElement;k(2*Math.PI*x.x/e.clientWidth*c.rotateSpeed),I(2*Math.PI*x.y/e.clientHeight*c.rotateSpeed),w.copy(_),c.update()}(t)}else if(d===f.DOLLY){if(!1===c.enableZoom)return;!function(t){M.set(t.clientX,t.clientY),T.subVectors(M,j),T.y>0?N(A()):T.y<0&&D(A()),j.copy(M),c.update()}(t)}else if(d===f.PAN){if(!1===c.enablePan)return;!function(t){E.set(t.clientX,t.clientY),S.subVectors(E,O),L(S.x,S.y),O.copy(E),c.update()}(t)}}function F(t){!1!==c.enabled&&(document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",F,!1),c.dispatchEvent(h),d=f.NONE)}function U(t){!1===c.enabled||!1===c.enableZoom||d!==f.NONE&&d!==f.ROTATE||(t.preventDefault(),t.stopPropagation(),function(t){t.deltaY<0?D(A()):t.deltaY>0&&N(A()),c.update()}(t),c.dispatchEvent(l),c.dispatchEvent(h))}function z(t){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(t){switch(t.keyCode){case c.keys.UP:L(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:L(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:L(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:L(-c.keyPanSpeed,0),c.update()}}(t)}function H(t){if(!1!==c.enabled){switch(t.touches.length){case 1:if(!1===c.enableRotate)return;!function(t){w.set(t.touches[0].pageX,t.touches[0].pageY)}(t),d=f.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);j.set(0,r)}(t),d=f.TOUCH_DOLLY;break;case 3:if(!1===c.enablePan)return;!function(t){O.set(t.touches[0].pageX,t.touches[0].pageY)}(t),d=f.TOUCH_PAN;break;default:d=f.NONE}d!==f.NONE&&c.dispatchEvent(l)}}function G(t){if(!1!==c.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===c.enableRotate)return;if(d!==f.TOUCH_ROTATE)return;!function(t){_.set(t.touches[0].pageX,t.touches[0].pageY),x.subVectors(_,w);var e=c.domElement===document?c.domElement.body:c.domElement;k(2*Math.PI*x.x/e.clientWidth*c.rotateSpeed),I(2*Math.PI*x.y/e.clientHeight*c.rotateSpeed),w.copy(_),c.update()}(t);break;case 2:if(!1===c.enableZoom)return;if(d!==f.TOUCH_DOLLY)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);M.set(0,r),T.subVectors(M,j),T.y>0?D(A()):T.y<0&&N(A()),j.copy(M),c.update()}(t);break;case 3:if(!1===c.enablePan)return;if(d!==f.TOUCH_PAN)return;!function(t){E.set(t.touches[0].pageX,t.touches[0].pageY),S.subVectors(E,O),L(S.x,S.y),O.copy(E),c.update()}(t);break;default:d=f.NONE}}function V(t){!1!==c.enabled&&(c.dispatchEvent(h),d=f.NONE)}function q(t){t.preventDefault()}c.domElement.addEventListener("contextmenu",q,!1),c.domElement.addEventListener("mousedown",B,!1),c.domElement.addEventListener("wheel",U,!1),c.domElement.addEventListener("touchstart",H,!1),c.domElement.addEventListener("touchend",V,!1),c.domElement.addEventListener("touchmove",G,!1),window.addEventListener("keydown",z,!1),this.update()}return e.prototype=Object.create(t.EventDispatcher.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(46),s=n(58),a=n(86),c=n(87),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new c.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var h=l.value;this._addComponent(h)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!s.contains(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),m=p.next();!m.done;m=p.next()){var b=m.value;e[b]._addComponent(a)}}catch(t){c={error:t}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",e),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(46),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|u>>6,d=63&u;c||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();var u=o<<2|s>>4;if(r.push(u),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==c){var h=a<<6&192|c;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return c.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?b(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new p(i,a),u=0,l=Object.keys(r);u<l.length;u++){var h=l[u];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=r[h])}return c},t}();function b(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),s=1518500249):(o=c^u^l,s=1859775393):r<60?(o=c&u|l&(c|u),s=2400959708):(o=c^u^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var _=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function x(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.contains=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=O,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(8))},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:s,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var i="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?i+=r.charAt(s):a<128?i+=o[a]:a<2048?i+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?i+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),i+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,o){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var a=e;return i(e)&&!i(n)&&(a=s(e,o)),i(e)&&i(n)?(n.forEach((function(n,i){if(r.call(e,i)){var s=e[i];s&&"object"==typeof s&&n&&"object"==typeof n?e[i]=t(s,n,o):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var s=n[i];return r.call(e,i)?e[i]=t(e[i],s,o):e[i]=s,e}),a)}}},function(t,e,n){"use strict";e.decode=e.parse=n(239),e.encode=e.stringify=n(240)},function(t,e,n){var r=n(7),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r,i){var o=n(48);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=g;var u=Object.create(n(38));u.inherits=n(2);var l={deprecate:n(63)},h=n(96),f=n(61).Buffer,d=i.Uint8Array||function(){};var p,m=n(97);function b(){}function g(t,e){a=a||n(25),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,i);else{var s=x(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?c(w,t,n,s,i):w(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(t){if(a=a||n(25),!(p.call(v,this)||this instanceof a))return new v(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function y(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,y(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(O,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(v,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===v&&(t&&t._writableState instanceof g)}})):p=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=b),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,a,r,i,o);return c}(this,i,a,t,e,n)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(6),n(247).setImmediate,n(8))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(8))},function(t,e,n){"use strict";var r=n(2),i=n(100),o=n(4).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function u(t,e,n,r,i,o,s){return c(t+(e&n|~e&r)+i+o|0,s)+e|0}function l(t,e,n,r,i,o,s){return c(t+(e&r|n&~r)+i+o|0,s)+e|0}function h(t,e,n,r,i,o,s){return c(t+(e^n^r)+i+o|0,s)+e|0}function f(t,e,n,r,i,o,s){return c(t+(n^(e|~r))+i+o|0,s)+e|0}r(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,t[0],3614090360,7),o=u(o,n,r,i,t[1],3905402710,12),i=u(i,o,n,r,t[2],606105819,17),r=u(r,i,o,n,t[3],3250441966,22),n=u(n,r,i,o,t[4],4118548399,7),o=u(o,n,r,i,t[5],1200080426,12),i=u(i,o,n,r,t[6],2821735955,17),r=u(r,i,o,n,t[7],4249261313,22),n=u(n,r,i,o,t[8],1770035416,7),o=u(o,n,r,i,t[9],2336552879,12),i=u(i,o,n,r,t[10],4294925233,17),r=u(r,i,o,n,t[11],2304563134,22),n=u(n,r,i,o,t[12],1804603682,7),o=u(o,n,r,i,t[13],4254626195,12),i=u(i,o,n,r,t[14],2792965006,17),n=l(n,r=u(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,n,r,i,t[6],3225465664,9),i=l(i,o,n,r,t[11],643717713,14),r=l(r,i,o,n,t[0],3921069994,20),n=l(n,r,i,o,t[5],3593408605,5),o=l(o,n,r,i,t[10],38016083,9),i=l(i,o,n,r,t[15],3634488961,14),r=l(r,i,o,n,t[4],3889429448,20),n=l(n,r,i,o,t[9],568446438,5),o=l(o,n,r,i,t[14],3275163606,9),i=l(i,o,n,r,t[3],4107603335,14),r=l(r,i,o,n,t[8],1163531501,20),n=l(n,r,i,o,t[13],2850285829,5),o=l(o,n,r,i,t[2],4243563512,9),i=l(i,o,n,r,t[7],1735328473,14),n=h(n,r=l(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=h(o,n,r,i,t[8],2272392833,11),i=h(i,o,n,r,t[11],1839030562,16),r=h(r,i,o,n,t[14],4259657740,23),n=h(n,r,i,o,t[1],2763975236,4),o=h(o,n,r,i,t[4],1272893353,11),i=h(i,o,n,r,t[7],4139469664,16),r=h(r,i,o,n,t[10],3200236656,23),n=h(n,r,i,o,t[13],681279174,4),o=h(o,n,r,i,t[0],3936430074,11),i=h(i,o,n,r,t[3],3572445317,16),r=h(r,i,o,n,t[6],76029189,23),n=h(n,r,i,o,t[9],3654602809,4),o=h(o,n,r,i,t[12],3873151461,11),i=h(i,o,n,r,t[15],530742520,16),n=f(n,r=h(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,n,r,i,t[7],1126891415,10),i=f(i,o,n,r,t[14],2878612391,15),r=f(r,i,o,n,t[5],4237533241,21),n=f(n,r,i,o,t[12],1700485571,6),o=f(o,n,r,i,t[3],2399980690,10),i=f(i,o,n,r,t[10],4293915773,15),r=f(r,i,o,n,t[1],2240044497,21),n=f(n,r,i,o,t[8],1873313359,6),o=f(o,n,r,i,t[15],4264355552,10),i=f(i,o,n,r,t[6],2734768916,15),r=f(r,i,o,n,t[13],1309151649,21),n=f(n,r,i,o,t[4],4149444226,6),o=f(o,n,r,i,t[11],3174756917,10),i=f(i,o,n,r,t[2],718787259,15),r=f(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},function(t,e,n){"use strict";var r=n(28).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){"use strict";var r=n(7).Buffer,i=n(2),o=n(100),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,n,r,i,o,s,a){return p(t+(e^n^r)+o+s|0,a)+i|0}function b(t,e,n,r,i,o,s,a){return p(t+(e&n|~e&r)+o+s|0,a)+i|0}function g(t,e,n,r,i,o,s,a){return p(t+((e|~n)^r)+o+s|0,a)+i|0}function v(t,e,n,r,i,o,s,a){return p(t+(e&r|n&~r)+o+s|0,a)+i|0}function y(t,e,n,r,i,o,s,a){return p(t+(e^(n|~r))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,x=0|this._c,O=0|this._d,E=0|this._e,S=0;S<80;S+=1){var j,M;S<16?(j=m(n,r,i,o,d,t[a[S]],h[0],u[S]),M=y(w,_,x,O,E,t[c[S]],f[0],l[S])):S<32?(j=b(n,r,i,o,d,t[a[S]],h[1],u[S]),M=v(w,_,x,O,E,t[c[S]],f[1],l[S])):S<48?(j=g(n,r,i,o,d,t[a[S]],h[2],u[S]),M=g(w,_,x,O,E,t[c[S]],f[2],l[S])):S<64?(j=v(n,r,i,o,d,t[a[S]],h[3],u[S]),M=b(w,_,x,O,E,t[c[S]],f[3],l[S])):(j=y(n,r,i,o,d,t[a[S]],h[4],u[S]),M=m(w,_,x,O,E,t[c[S]],f[4],l[S])),n=d,d=o,o=p(i,10),i=r,r=j,w=E,E=O,O=p(x,10),x=_,_=M}var T=this._b+i+O|0;this._b=this._c+o+E|0,this._c=this._d+d+w|0,this._d=this._e+n+_|0,this._e=this._a+r+x|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(272),e.sha1=n(273),e.sha224=n(274),e.sha256=n(107),e.sha384=n(275),e.sha512=n(108)},function(t,e,n){"use strict";var r=n(12);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var r=n(284),i=n(292),o=n(121);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(285),CBC:n(286),CFB:n(287),CFB8:n(288),CFB1:n(289),OFB:n(290),CTR:n(119),GCM:n(119)},i=n(121);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(296);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){"use strict";var r=n(31).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},function(t,e,n){(function(e){var r=n(10),i=n(27);function o(t,n){var i=function(t){var e=s(t);return{blinder:e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),o=n.modulus.byteLength(),a=(r.mont(n.modulus),new r(t).mul(i.blinder).umod(n.modulus)),c=a.toRed(r.mont(n.prime1)),u=a.toRed(r.mont(n.prime2)),l=n.coefficient,h=n.prime1,f=n.prime2,d=c.redPow(n.exponent1),p=u.redPow(n.exponent2);d=d.fromRed(),p=p.fromRed();var m=d.isub(p).imul(l).umod(h);return m.imul(f),p.iadd(m),new e(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function s(t){for(var e=t.modulus.byteLength(),n=new r(i(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new r(i(e));return n}t.exports=o,o.getr=s}).call(this,n(7).Buffer)},function(t,e,n){"use strict";var r=e;r.version=n(309).version,r.utils=n(13),r.rand=n(71),r.curve=n(133),r.curves=n(75),r.ec=n(320),r.eddsa=n(324)},function(t,e,n){"use strict";var r,i=e,o=n(76),s=n(133),a=n(13).assert;function c(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(319)}catch(t){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(t,e,n){var r=e;r.utils=n(17),r.common=n(41),r.sha=n(313),r.ripemd=n(317),r.hmac=n(318),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";const r=n(78).Reporter,i=n(42).EncoderBuffer,o=n(42).DecoderBuffer,s=n(12),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e,n){const r={};this._baseState=r,r.name=n,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};l.forEach((function(n){e[n]=t[n]}));const n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){const t=this._baseState;c.forEach((function(e){this[e]=function(){const n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),s.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){const e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);const r=t[n];e[r]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){u.prototype[t]=function(){const e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){const n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));let r,i=n.default,s=!0,a=null;if(null!==n.key&&(a=t.enterKey(n.key)),n.optional){let r=null;if(null!==n.explicit?r=n.explicit:null!==n.implicit?r=n.implicit:null!==n.tag&&(r=n.tag),null!==r||n.any){if(s=this._peekTag(t,r,n.any),t.isError(s))return s}else{const r=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(r)}}if(n.obj&&s&&(r=t.enterObject()),s){if(null!==n.explicit){const e=this._decodeTag(t,n.explicit);if(t.isError(e))return e;t=e}const r=t.offset;if(null===n.use&&null===n.choice){let e;n.any&&(e=t.save());const r=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(r))return r;n.any?i=t.raw(e):t=r}if(e&&e.track&&null!==n.tag&&e.track(t.path(),r,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const r=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(r,e)}}return n.obj&&s&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,n.key,i),i},u.prototype._decodeGeneric=function(t,e,n){const r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){const n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){const n=this._baseState;let r=null,i=!1;return Object.keys(n.choice).some((function(o){const s=t.save(),a=n.choice[o];try{const n=a._decode(t,e);if(t.isError(n))return!1;r={type:o,value:n},i=!0}catch(e){return t.restore(s),!1}return!0}),this),i?r:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,n){const r=this._baseState;if(null!==r.default&&r.default===t)return;const i=this._encodeValue(t,e,n);return void 0===i||this._skipDefault(i,e,n)?void 0:i},u.prototype._encodeValue=function(t,e,n){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,n)._encode(t,e),a=!0;else if(i.children)s=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");const r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i}),this).filter((function(t){return t})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,s=this._createEncoderBuffer(t.map((function(n){const r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)}),n))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,n=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(t,a,n,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){const n=this._baseState,r=n.choice[t.type];return r||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,n){"use strict";const r=n(2);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){const r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){let e;const n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){"use strict";function r(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const r=t[n];e[r]=n})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},function(t){t.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(t,e,n){const{defaults:r}=n(43),{cleanUrl:i,escape:o}=n(33);t.exports=class{constructor(t){this.options=t||r}code(t,e,n){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,r);null!=e&&e!==t&&(n=!0,t=e)}return r?'<pre><code class="'+this.options.langPrefix+o(r,!0)+'">'+(n?t:o(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:o(t,!0))+"</code></pre>"}blockquote(t){return"<blockquote>\n"+t+"</blockquote>\n"}html(t){return t}heading(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,n){const r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"}listitem(t){return"<li>"+t+"</li>\n"}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+"</p>\n"}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return"<tr>\n"+t+"</tr>\n"}tablecell(t,e){const n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,n){if(null===(t=i(this.options.sanitize,this.options.baseUrl,t)))return n;let r='<a href="'+o(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>",r}image(t,e,n){if(null===(t=i(this.options.sanitize,this.options.baseUrl,t)))return n;let r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">",r}text(t){return t}}},function(t,e,n){t.exports=function(){return new Worker(n.p+"18a11ee63e94414e475c.worker.js")}},function(t,e,n){(function(t,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",s="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[i]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[s]=p["[object String]"]=p["[object WeakMap]"]=!1;var m="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,g=m||b||Function("return this")(),v=e&&!e.nodeType&&e,y=v&&"object"==typeof n&&n&&!n.nodeType&&n,w=y&&y.exports===v&&m.process,_=function(){try{return w&&w.binding("util")}catch(t){}}(),x=_&&_.isTypedArray;function O(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function E(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function S(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function j(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function M(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var T,A,k,I=Array.prototype,C=Function.prototype,R=Object.prototype,P=g["__core-js_shared__"],L=(T=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",N=C.toString,D=R.hasOwnProperty,B=R.toString,$=RegExp("^"+N.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=g.Symbol,U=g.Uint8Array,z=R.propertyIsEnumerable,H=I.splice,G=(A=Object.keys,k=Object,function(t){return A(k(t))}),V=jt(g,"DataView"),q=jt(g,"Map"),W=jt(g,"Promise"),K=jt(g,"Set"),Y=jt(g,"WeakMap"),X=jt(Object,"create"),Z=Pt(V),J=Pt(q),Q=Pt(W),tt=Pt(K),et=Pt(Y),nt=F?F.prototype:void 0,rt=nt?nt.valueOf:void 0,it=nt?nt.toString:void 0;function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function st(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ct(t){var e=-1,n=t?t.length:0;for(this.__data__=new at;++e<n;)this.add(t[e])}function ut(t){this.__data__=new st(t)}function lt(t,e){var n=Bt(t)||Dt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!D.call(t,o)||i&&("length"==o||Tt(o,r))||n.push(o);return n}function ht(t,e){for(var n=t.length;n--;)if(Nt(t[n][0],e))return n;return-1}ot.prototype.clear=function(){this.__data__=X?X(null):{}},ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ot.prototype.get=function(t){var e=this.__data__;if(X){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return D.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:D.call(e,t)},ot.prototype.set=function(t,e){return this.__data__[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},st.prototype.clear=function(){this.__data__=[]},st.prototype.delete=function(t){var e=this.__data__,n=ht(e,t);return!(n<0)&&(n==e.length-1?e.pop():H.call(e,n,1),!0)},st.prototype.get=function(t){var e=this.__data__,n=ht(e,t);return n<0?void 0:e[n][1]},st.prototype.has=function(t){return ht(this.__data__,t)>-1},st.prototype.set=function(t,e){var n=this.__data__,r=ht(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new ot,map:new(q||st),string:new ot}},at.prototype.delete=function(t){return St(this,t).delete(t)},at.prototype.get=function(t){return St(this,t).get(t)},at.prototype.has=function(t){return St(this,t).has(t)},at.prototype.set=function(t,e){return St(this,t).set(t,e),this},ct.prototype.add=ct.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ct.prototype.has=function(t){return this.__data__.has(t)},ut.prototype.clear=function(){this.__data__=new st},ut.prototype.delete=function(t){return this.__data__.delete(t)},ut.prototype.get=function(t){return this.__data__.get(t)},ut.prototype.has=function(t){return this.__data__.has(t)},ut.prototype.set=function(t,e){var n=this.__data__;if(n instanceof st){var r=n.__data__;if(!q||r.length<199)return r.push([t,e]),this;n=this.__data__=new at(r)}return n.set(t,e),this};var ft,dt,pt=(ft=function(t,e){return t&&mt(t,e,qt)},function(t,e){if(null==t)return t;if(!$t(t))return ft(t,e);for(var n=t.length,r=dt?n:-1,i=Object(t);(dt?r--:++r<n)&&!1!==e(i[r],r,i););return t}),mt=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}();function bt(t,e){for(var n=0,r=(e=At(e,t)?[e]:Ot(e)).length;null!=t&&n<r;)t=t[Rt(e[n++])];return n&&n==r?t:void 0}function gt(t,e){return null!=t&&e in Object(t)}function vt(t,e,n,a,c){return t===e||(null==t||null==e||!zt(t)&&!Ht(e)?t!=t&&e!=e:function(t,e,n,a,c,u){var l=Bt(t),h=Bt(e),f="[object Array]",d="[object Array]";l||(f=(f=Mt(t))==r?o:f);h||(d=(d=Mt(e))==r?o:d);var p=f==o&&!S(t),m=d==o&&!S(e),b=f==d;if(b&&!p)return u||(u=new ut),l||Vt(t)?Et(t,e,n,a,c,u):function(t,e,n,r,o,a,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new U(t),new U(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case i:var u=j;case s:var l=2&a;if(u||(u=M),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;a|=1,c.set(t,e);var f=Et(u(t),u(e),r,o,a,c);return c.delete(t),f;case"[object Symbol]":if(rt)return rt.call(t)==rt.call(e)}return!1}(t,e,f,n,a,c,u);if(!(2&c)){var g=p&&D.call(t,"__wrapped__"),v=m&&D.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,w=v?e.value():e;return u||(u=new ut),n(y,w,a,c,u)}}if(!b)return!1;return u||(u=new ut),function(t,e,n,r,i,o){var s=2&i,a=qt(t),c=a.length,u=qt(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:D.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);var p=s;for(;++l<c;){h=a[l];var m=t[h],b=e[h];if(r)var g=s?r(b,m,h,e,t,o):r(m,b,h,t,e,o);if(!(void 0===g?m===b||n(m,b,r,i,o):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,a,c,u)}(t,e,vt,n,a,c))}function yt(t){return!(!zt(t)||function(t){return!!L&&L in t}(t))&&(Ft(t)||S(t)?$:f).test(Pt(t))}function wt(t){return"function"==typeof t?t:null==t?Wt:"object"==typeof t?Bt(t)?function(t,e){if(At(t)&&kt(e))return It(Rt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:bt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){e=At(e,t)?[e]:Ot(e);var r,i=-1,o=e.length;for(;++i<o;){var s=Rt(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}if(r)return r;return!!(o=t?t.length:0)&&Ut(o)&&Tt(s,o)&&(Bt(t)||Dt(t))}(t,e,gt)}(n,t):vt(e,r,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=qt(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,kt(i)]}return e}(t);if(1==e.length&&e[0][2])return It(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=n[i])[0],u=t[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in t))return!1}else{var h=new ut;if(r)var f=r(u,l,c,t,e,h);if(!(void 0===f?vt(l,u,r,3,h):f))return!1}}return!0}(n,t,e)}}(t):At(e=t)?(n=Rt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return bt(e,t)}}(e);var e,n}function _t(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||R,e!==r)return G(t);var e,n,r,i=[];for(var o in Object(t))D.call(t,o)&&"constructor"!=o&&i.push(o);return i}function xt(t,e){var n=-1,r=$t(t)?Array(t.length):[];return pt(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Ot(t){return Bt(t)?t:Ct(t)}function Et(t,e,n,r,i,o){var s=2&i,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,f=1&i?new ct:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var d=t[l],p=e[l];if(r)var m=s?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!E(e,(function(t,e){if(!f.has(e)&&(d===t||n(d,t,r,i,o)))return f.add(e)}))){h=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function St(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function jt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return yt(n)?n:void 0}var Mt=function(t){return B.call(t)};function Tt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||d.test(t))&&t>-1&&t%1==0&&t<e}function At(t,e){if(Bt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Gt(t))||(c.test(t)||!a.test(t)||null!=e&&t in Object(e))}function kt(t){return t==t&&!zt(t)}function It(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(V&&"[object DataView]"!=Mt(new V(new ArrayBuffer(1)))||q&&Mt(new q)!=i||W&&"[object Promise]"!=Mt(W.resolve())||K&&Mt(new K)!=s||Y&&"[object WeakMap]"!=Mt(new Y))&&(Mt=function(t){var e=B.call(t),n=e==o?t.constructor:void 0,r=n?Pt(n):void 0;if(r)switch(r){case Z:return"[object DataView]";case J:return i;case Q:return"[object Promise]";case tt:return s;case et:return"[object WeakMap]"}return e});var Ct=Lt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Gt(t))return it?it.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return u.test(t)&&n.push(""),t.replace(l,(function(t,e,r,i){n.push(r?i.replace(h,"$1"):e||t)})),n}));function Rt(t){if("string"==typeof t||Gt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Pt(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Lt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Lt.Cache||at),n}function Nt(t,e){return t===e||t!=t&&e!=e}function Dt(t){return function(t){return Ht(t)&&$t(t)}(t)&&D.call(t,"callee")&&(!z.call(t,"callee")||B.call(t)==r)}Lt.Cache=at;var Bt=Array.isArray;function $t(t){return null!=t&&Ut(t.length)&&!Ft(t)}function Ft(t){var e=zt(t)?B.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Ut(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ht(t){return!!t&&"object"==typeof t}function Gt(t){return"symbol"==typeof t||Ht(t)&&"[object Symbol]"==B.call(t)}var Vt=x?function(t){return function(e){return t(e)}}(x):function(t){return Ht(t)&&Ut(t.length)&&!!p[B.call(t)]};function qt(t){return $t(t)?lt(t):_t(t)}function Wt(t){return t}n.exports=function(t,e){return(Bt(t)?O:xt)(t,wt(e))}}).call(this,n(8),n(47)(t))},function(t,e){},function(t,e,n){"use strict";n(210)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(46),i=n(58),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[0],c=s[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){n(i[r])}}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n(59),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:s.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},s)},function(t,e,n){(function(e,r){var i=n(91),o=n(92),s=n(252),a=n(36),c=n(26),u=n(257)("needle"),l=n(260).build,h=n(261),f=n(262),d=n(343),p=n(344),m=n(346),b=n(367).version,g="Needle/"+b;g+=" (Node.js "+e.version+"; "+e.platform+" "+e.arch+")";var v=!o.Agent||o.Agent.defaultMaxSockets!=1/0,y=Object.assign?Object.assign:n(53)._extend,w=[301,302,303,307,308],_={},x=!1;try{var O=n(368);x="function"==typeof O.BrotliDecompress,_["x-deflate"]=O.Inflate,_.deflate=O.Inflate,_["x-gzip"]=O.Gunzip,_.gzip=O.Gunzip,x&&(_.br=O.BrotliDecompress);var E={flush:O.Z_SYNC_FLUSH,finishFlush:O.Z_SYNC_FLUSH}}catch(t){}var S={boundary:"--------------------NODENEEDLEHTTPCLIENT",encoding:"utf8",parse_response:"all",proxy:null,headers:{},accept:"*/*",user_agent:g,open_timeout:1e4,response_timeout:0,read_timeout:0,follow_max:0,stream_length:-1,compressed:!1,decode_response:!0,parse_cookies:!0,follow_set_cookies:!1,follow_set_referer:!1,follow_keep_method:!1,follow_if_same_host:!1,follow_if_same_protocol:!1,follow_if_same_location:!1},j={options:{decode:"decode_response",parse:"parse_response",timeout:"open_timeout",follow:"follow_max"},inverted:{}};function M(t){return Object.keys(S).map((function(e){if(null!==S[e]&&S[e].constructor==t)return e})).filter((function(t){return t}))}function T(t){return"function"==typeof t.pipe}function A(t,e,n,r,i){if("string"!=typeof e)throw new TypeError("URL must be a string, not "+e);this.method=t,this.uri=e,this.data=n,"function"==typeof r?(this.callback=r,this.options={}):(this.callback=i,this.options=r)}Object.keys(j.options).map((function(t){var e=j.options[t];j.inverted[e]=t})),A.prototype.setup=function(t,e){function n(t,n){return void 0!==e[t]?e[t]:void 0!==e[j.inverted[t]]?e[j.inverted[t]]:n}function r(t,e){var r=n(e),i=typeof r;if("undefined"!=i&&i!=t)throw new TypeError(i+" received for "+e+", but expected a "+t);return i==t?r:S[e]}var i={http_opts:{localAddress:n("localAddress",void 0)},headers:{},output:e.output,proxy:n("proxy",S.proxy),parser:n("parse_response",S.parse_response),encoding:e.encoding||(e.multipart?"binary":S.encoding)};for(var o in M(Boolean).forEach((function(t){i[t]=r("boolean",t)})),M(Number).forEach((function(t){i[t]=r("number",t)})),"agent pfx key passphrase cert ca ciphers rejectUnauthorized secureProtocol checkServerIdentity family".split(" ").forEach((function(t){void 0!==e[t]&&(i.http_opts[t]=e[t],void 0===e.agent&&(i.http_opts.agent=!1))})),S.headers)i.headers[o]=S.headers[o];if(i.headers.accept=e.accept||S.accept,i.headers["user-agent"]=e.user_agent||S.user_agent,e.content_type&&(i.headers["content-type"]=e.content_type),(e.connection||v)&&(i.headers.connection=e.connection||"close"),(e.compressed||S.compressed)&&void 0!==O&&(i.headers["accept-encoding"]=x?"gzip, deflate, br":"gzip, deflate"),e.cookies&&(i.headers.cookie=d.write(e.cookies)),t.match(/[^\/]@/)){var s=(a.parse(t).auth||"").split(":");e.username=s[0],e.password=s[1]}if(e.username&&(!e.auth||"auto"!=e.auth&&"digest"!=e.auth?i.headers.authorization=f.basic(e.username,e.password):i.credentials=[e.username,e.password]),i.proxy){if(-1===i.proxy.indexOf("http")&&(i.proxy="http://"+i.proxy),-1!==i.proxy.indexOf("@")){var c=(a.parse(i.proxy).auth||"").split(":");e.proxy_user=c[0],e.proxy_pass=c[1]}e.proxy_user&&(i.headers["proxy-authorization"]=f.basic(e.proxy_user,e.proxy_pass))}for(var u in e.headers)i.headers[u.toLowerCase()]=e.headers[u];return i.uri_modifier=n("uri_modifier",null),i},A.prototype.start=function(){var t=new c.PassThrough({objectMode:!1}),e=this.uri,n=this.data,o=this.method,s="function"==typeof this.options?this.options:this.callback,a=this.options||{};-1===e.indexOf("http")&&(e=e.replace(/^(\/\/)?/,"http://"));var u,f=this,d=!1,p=this.setup(e,a),m=a.json||!1!==a.json&&"application/json"==p.headers["content-type"];if(n)if(a.multipart){var b=a.boundary||S.boundary;d=!0,h.build(n,b,(function(t,e){if(t)throw t;p.headers["content-type"]="multipart/form-data; boundary="+b,g(e)}))}else if(T(n)){if("GET"==o.toUpperCase())throw new Error("Refusing to pipe() a stream via GET. Did you mean .post?");p.stream_length>0||0===p.stream_length&&n.path?(d=!0,function(t,e,n){e>0?n(e):void 0!==t.end&&t.end!==1/0&&void 0!==t.start?n(t.end+1-(t.start||0)):i.stat(t.path,(function(e,r){n(r?r.size-(t.start||0):null)}))}(n,p.stream_length,(function(t){n.length=t,g(n)}))):u=n}else r.isBuffer(n)?u=n:"GET"!=o.toUpperCase()||m?(u="string"==typeof n?n:m?JSON.stringify(n):l(n),u=r.from(u,p.encoding)):e=e.replace(/\?.*|$/,"?"+l(n));function g(n){n&&(n.length&&(p.headers["content-length"]=n.length),p.headers["content-type"]||(p.headers["content-type"]=m?"application/json; charset=utf-8":"application/x-www-form-urlencoded")),!a.json||a.accept||(a.headers||{}).accept||(p.headers.accept="application/json"),f.send_request(1,o,e,p,n,t,s)}return d||g(u),t},A.prototype.get_request_opts=function(t,e,n){var r=n.http_opts,i=n.proxy,o=i?a.parse(i):a.parse(e);if(r.protocol=o.protocol,r.host=o.hostname,r.port=o.port||("https:"==o.protocol?443:80),r.path=i?e:o.pathname+(o.search||""),r.method=t,r.headers=n.headers,!r.headers.host){var s=i?a.parse(e):o;r.headers.host=s.hostname,s.port&&-1===[80,443].indexOf(s.port)&&(r.headers.host+=":"+s.port)}return r},A.prototype.should_follow=function(t,e,n){if(!t)return!1;function r(e){e=n[e];return-1!==t.indexOf(e)}return!(!e.follow_if_same_location&&t===n)&&(!(e.follow_if_same_host&&!r("host"))&&!(e.follow_if_same_protocol&&!r("protocol")))},A.prototype.send_request=function(t,n,l,h,b,g,v){if("function"==typeof h.uri_modifier){var x=h.uri_modifier(l);u("Modifying request URI",l+" => "+x),l=x}var O,S=0,j=this,M=this.get_request_opts(n,l,h),A="https:"==M.protocol?s:o;function k(t,e){return S++>0?u("Already finished, stopping here."):(O&&clearTimeout(O),P.removeListener("error",I),v?v(t,e,e?e.body:void 0):void g.emit("done",t))}function I(t){u("Request error",t),g.emit("err",t),k(t||new Error("Unknown error when making request."))}function C(t,e){O&&clearTimeout(O),e<=0||(O=setTimeout((function(){g.emit("timeout",t),P.abort(),"read"==t&&k(new Error(t+" timeout"))}),e))}function R(){S&&!this.writable&&!1===this.destroyed&&(this.destroy(),I(new Error("Remote end closed socket abruptly.")))}u("Making request #"+t,M);var P=A.request(M,(function(e){var o=e.headers;if(u("Got response",e.statusCode,o),g.emit("response",e),C("read",h.read_timeout),h.parse_cookies&&(o["set-cookie"]||h.previous_resp_cookies)&&(e.cookies=y(h.previous_resp_cookies||{},d.read(o["set-cookie"])),u("Got cookies",e.cookies)),-1!==w.indexOf(e.statusCode)&&j.should_follow(o.location,h,l)){if(clearTimeout(O),t<=h.follow_max){if(g.emit("redirect",o.location),h.follow_keep_method||(n="GET",b=null,delete h.headers["content-length"]),h.follow_set_cookies){var s=d.read(h.headers.cookie);h.previous_resp_cookies=e.cookies,(Object.keys(s).length||Object.keys(e.cookies||{}).length)&&(h.headers.cookie=d.write(y(s,e.cookies)))}else h.headers.cookie&&(u("Clearing original request cookie",h.headers.cookie),delete h.headers.cookie);return h.follow_set_referer&&(h.headers.referer=encodeURI(l)),h.headers.host=null,u("Redirecting to "+a.resolve(l,o.location)),j.send_request(++t,n,a.resolve(l,o.location),h,b,g,v)}if(h.follow_max>0)return k(new Error("Max redirects reached. Possible loop in: "+o.location))}if(401==e.statusCode&&o["www-authenticate"]&&h.credentials&&!h.headers.authorization){var x=f.header(o["www-authenticate"],h.credentials,M);if(x)return h.headers.authorization=x,j.send_request(t,n,l,h,b,g,v)}g.emit("header",e.statusCode,o),g.emit("headers",o);var S=[],T=function(t){if(!t||""===t)return{};var e,n="utf8",r=t.split(";");return r.length>1&&(e=r[1].match(/charset=(.+)/))&&(n=e[1]),{type:r[0],charset:n}}(o["content-type"]),A=T.type&&-1!=T.type.indexOf("text/");if(o["content-encoding"]&&_[o["content-encoding"]]){var R=_[o["content-encoding"]](E);R.on("error",I),S.push(R)}if(h.parser&&p[T.type]){var P=h.parser.toString().toLowerCase();-1!=["xml","json"].indexOf(P)&&p[T.type].name!=P||(g.parser=p[T.type].name,S.push(p[T.type].fn()),g._writableState.objectMode=!0,g._readableState.objectMode=!0)}else A&&h.decode_response&&T.charset&&S.push(m(T.charset));S.push(g);for(var L=e;S.length;)L=L.pipe(S.shift());if(h.output&&200==e.statusCode){var N=i.createWriteStream(h.output);N.on("error",I),g.on("end",(function(){N.writable&&N.end()})),N.on("close",(function(){delete g.file})),g.on("readable",(function(){for(var t;null!==(t=this.read());)N.writable&&N.write(t),e.body&&e.body.push(t)})),g.file=N}if(v){e.raw=[],e.body=[],e.bytes=0;var D=new c.PassThrough;e.pipe(D),D.on("readable",(function(){for(var t;null!=(t=this.read());)e.bytes+=t.length,e.raw.push(t)})),h.output&&200==e.statusCode||g.on("readable",(function(){for(var t;null!==(t=this.read());)"string"==typeof t&&(t=r.from(t)),e.body.push(t)}))}g.on("end",(function(){e.body&&(e.raw=r.concat(e.raw),void 0===e.body[0]||r.isBuffer(e.body[0])?(e.body=r.concat(e.body),(A||g.parser)&&(e.body=e.body.toString())):(e.body=e.body[0],g.parser&&(e.parser=g.parser))),g.file?g.file.on("close",(function(){k(null,e,e.body)})):k(null,e,e.body)}))}));return C("open",h.open_timeout),P.on("error",I),P.once("abort",(function(){O&&clearTimeout(O)})),P.once("socket",(function(t){t.connecting?t.once("connect",(function(){C("response",h.response_timeout)})):C("response",h.response_timeout),t.on_socket_end||(t.on_socket_end=R,t.once("end",(function(){e.nextTick(R.bind(t))})))})),b?T(b)?b.pipe(P):(P.write(b,h.encoding),P.end()):P.end(),g.request=P,g},"undefined"!=typeof Promise&&(t.exports=function(){var e,n=[].slice.call(arguments);return(e=n[0].match(/\.|\//)?n.length>2?"post":"get":n.shift()).match(/get|head/)&&2==n.length&&n.splice(1,0,null),new Promise((function(r,i){t.exports.request(e,n[0],n[1],n[2],(function(t,e){return t?i(t):r(e)}))}))}),t.exports.version=b,t.exports.defaults=function(t){for(var e in t){var n=j.options[e]||e;if(!S.hasOwnProperty(n)||void 0===t[e])throw new Error("Invalid property for defaults:"+n);if("parse_response"!=n&&"proxy"!=n){var r=S[n].constructor.name;if(t[e].constructor.name!=r)throw new TypeError("Invalid type for "+e+", should be "+r)}S[n]=t[e]}return S},"head get".split(" ").forEach((function(e){t.exports[e]=function(t,n,r){return new A(e,t,null,n,r).start()}})),"post put patch delete".split(" ").forEach((function(e){t.exports[e]=function(t,n,r,i){return new A(e,t,n,r,i).start()}})),t.exports.request=function(t,e,n,r,i){return new A(t,e,n,r,i).start()}}).call(this,n(6),n(7).Buffer)},function(t,e){},function(t,e,n){(function(t){var r=n(243),i=n(94),o=n(99),s=n(251),a=n(36),c=e;c.request=function(e,n){e="string"==typeof e?a.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,c=e.hostname||e.host,u=e.port,l=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new r(e);return n&&h.on("response",n),h},c.get=function(t,e){var n=c.request(t,e);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(8))},function(t,e,n){(function(t){e.fetch=a(t.fetch)&&a(t.ReadableStream),e.writableStream=a(t.WritableStream),e.abortController=a(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){n=null}}else n=null;return n}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,s=o&&a(t.ArrayBuffer.prototype.slice);function a(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&s&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&a(r().overrideMimeType),e.vbArray=a(t.VBArray),n=null}).call(this,n(8))},function(t,e,n){(function(t,r,i){var o=n(93),s=n(2),a=n(37),c=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=e.IncomingMessage=function(e,n,s,c){var u=this;if(a.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){t.nextTick((function(){u.emit("close")}))})),"fetch"===s){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)})),o.writableStream){var l=new WritableStream({write:function(t){return new Promise((function(e,n){u._destroyed?n():u.push(new r(t))?e():u._resumeFetch=e}))},close:function(){i.clearTimeout(c),u._destroyed||u.push(null)},abort:function(t){u._destroyed||u.emit("error",t)}});try{return void n.body.pipeTo(l).catch((function(t){i.clearTimeout(c),u._destroyed||u.emit("error",t)}))}catch(t){}}var h=n.body.getReader();!function t(){h.read().then((function(e){if(!u._destroyed){if(e.done)return i.clearTimeout(c),void u.push(null);u.push(new r(e.value)),t()}})).catch((function(t){i.clearTimeout(c),u._destroyed||u.emit("error",t)}))}()}else{if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(e[2])):void 0!==u.headers[n]?u.headers[n]+=", "+e[2]:u.headers[n]=e[2],u.rawHeaders.push(e[1],e[2])}})),u._charset="x-user-defined",!o.overrideMimeType){var f=u.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(u._charset=d[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(u,a.Readable),u.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==c.DONE)break;try{n=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new r(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==c.DONE||!e.response)break;n=e.response,t.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==c.LOADING||!n)break;t.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>t._pos&&(t.push(new r(new Uint8Array(u.result.slice(t._pos)))),t._pos=u.result.byteLength)},u.onload=function(){t.push(null)},u.readAsArrayBuffer(n)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n(6),n(7).Buffer,n(8))},function(t,e,n){"use strict";(function(e,r){var i=n(48);t.exports=y;var o,s=n(88);y.ReadableState=v;n(24).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(96),u=n(61).Buffer,l=e.Uint8Array||function(){};var h=Object.create(n(38));h.inherits=n(2);var f=n(244),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(245),b=n(97);h.inherits(y,c);var g=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(25));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(20).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function y(t){if(o=o||n(25),!(this instanceof y))return new y(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,O(t)}(t,s)):(i||(o=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?_(t,s,e,!1):S(t,s)):_(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function _(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),S(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=b.destroy,y.prototype._undestroy=b.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},y.prototype.unshift=function(t){return w(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return p||(p=n(20).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){d("emit readable"),t.emit("readable"),A(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(j,t,e))}function j(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){d("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function k(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(C,e,t))}function C(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):O(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&I(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(r=t>0?k(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:y;function u(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",v),t.removeListener("drain",h),t.removeListener("error",b),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function l(){d("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",h);var f=!1;var p=!1;function m(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function b(e){d("onerror",e),y(),t.removeListener("error",b),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",v),y()}function v(){d("onfinish"),t.removeListener("close",g),y()}function y(){d("unpipe"),n.unpipe(t)}return n.on("data",m),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",b),t.once("close",g),t.once("finish",v),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=R(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},y.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&O(this):i.nextTick(M,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(T,t,e))}(this,t)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=k}).call(this,n(8),n(6))},function(t,e,n){t.exports=n(24).EventEmitter},function(t,e,n){"use strict";var r=n(48);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=s;var r=n(25),i=Object.create(n(38));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(2),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(4).Buffer,i=n(264).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(2)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){"use strict";(function(e,r){var i;t.exports=S,S.ReadableState=E;n(24).EventEmitter;var o=function(t,e){return t.listeners(e).length},s=n(102),a=n(7).Buffer,c=e.Uint8Array||function(){};var u,l=n(265);u=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d,p=n(266),m=n(103),b=n(104).getHighWaterMark,g=n(28).codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(2)(S,s);var x=m.errorOrDestroy,O=["error","close","destroy","pause","resume"];function E(t,e,r){i=i||n(29),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=n(20).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function S(t){if(i=i||n(29),!(this instanceof S))return new S(t);var e=this instanceof i;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function j(t,e,n,r,i){u("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?A(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,k(t)))}(t,s);else if(i||(o=function(t,e){var n;r=e,a.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(s,e)),o)x(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),r)s.endEmitted?x(t,new _):M(t,s,e,!0);else if(s.ended)x(t,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?M(t,s,e,!1):I(t,s)):M(t,s,e,!1)}else r||(s.reading=!1,I(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function M(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&A(t)),I(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=a.from(t,e),e=""),n=!0),j(this,t,e,!1,n)},S.prototype.unshift=function(t){return j(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){h||(h=n(20).StringDecoder);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function A(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(k,t))}function k(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function I(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(C,t,e))}function C(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(u("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function P(t){u("readable nexttick read 0"),t.read(0)}function L(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick($,e,t))}function $(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function F(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):A(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(n,e))),null===(r=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){x(this,new w("_read()"))},S.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:b;function a(e,r){u("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",f),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}i.endEmitted?r.nextTick(s):n.once("end",s),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",l);var h=!1;function f(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==F(i.pipes,t))&&!h&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){u("onerror",e),b(),t.removeListener("error",d),0===o(t,"error")&&x(t,e)}function p(){t.removeListener("finish",m),b()}function m(){u("onfinish"),t.removeListener("close",p),b()}function b(){u("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",m),t.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?A(this):i.reading||r.nextTick(P,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(R,this),n},S.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(R,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(L,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<O.length;o++)t.on(O[o],this.emit.bind(this,O[o]));return this._read=function(e){u("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(268)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=n(269)),d(S,t,e)})}).call(this,n(8),n(6))},function(t,e,n){t.exports=n(24).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(r,s):(s._writableState.errorEmitted=!0,e.nextTick(n,s,t)):e.nextTick(n,s,t):o?(e.nextTick(r,s),o(t)):e.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(6))},function(t,e,n){"use strict";var r=n(28).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=S,S.WritableState=E;var s={deprecate:n(63)},a=n(102),c=n(7).Buffer,u=e.Uint8Array||function(){};var l,h=n(103),f=n(104).getHighWaterMark,d=n(28).codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,x=h.errorOrDestroy;function O(){}function E(t,e,s){o=o||n(29),t=t||{},"boolean"!=typeof s&&(s=e instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new b;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(I,t,e),t._writableState.errorEmitted=!0,x(t,i)):(o(i),t._writableState.errorEmitted=!0,x(t,i),I(t,e))}(t,n,i,e,o);else{var s=A(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),i?r.nextTick(M,t,n,s,o):M(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(t){var e=this instanceof(o=o||n(29));if(!e&&!l.call(S,this))return new S(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function j(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function M(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),I(t,e)}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,j(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(j(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final((function(n){e.pendingcb--,n&&x(t,n),e.prefinished=!0,t.emit("prefinish"),I(t,e)}))}function I(t,e){var n=A(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(k,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(2)(S,a),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===S&&(t&&t._writableState instanceof E)}})):l=function(t){return t instanceof this},S.prototype.pipe=function(){x(this,new g)},S.prototype.write=function(t,e,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=t,c.isBuffer(i)||i instanceof u);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=O),o.ending?function(t,e){var n=new w;x(t,n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o;return null===n?o=new y:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(x(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else j(t,e,!1,a,r,i,o);return u}(this,o,a,t,e,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new m("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,I(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(t,e){e(t)}}).call(this,n(8),n(6))},function(t,e,n){"use strict";t.exports=l;var r=n(28).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(29);function u(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(2)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,n){var r=n(2),i=n(30),o=n(4).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,b=0|this._h,g=0;g<16;++g)n[g]=t.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((e=n[g-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[g-7]+d(n[g-15])+n[g-16];for(var v=0;v<64;++v){var y=b+f(c)+u(c,p,m)+s[v]+n[v]|0,w=h(r)+l(r,i,o)|0;b=m,m=p,p=c,c=a+y|0,a=o,o=i,i=r,r=y+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=b+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(2),i=n(30),o=n(4).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function b(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function g(t,e){return t>>>0<e>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,v=0|this._gh,y=0|this._hh,w=0|this._al,_=0|this._bl,x=0|this._cl,O=0|this._dl,E=0|this._el,S=0|this._fl,j=0|this._gl,M=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var A=e[T-30],k=e[T-30+1],I=d(A,k),C=p(k,A),R=m(A=e[T-4],k=e[T-4+1]),P=b(k,A),L=e[T-14],N=e[T-14+1],D=e[T-32],B=e[T-32+1],$=C+N|0,F=I+L+g($,C)|0;F=(F=F+R+g($=$+P|0,P)|0)+D+g($=$+B|0,B)|0,e[T]=F,e[T+1]=$}for(var U=0;U<160;U+=2){F=e[U],$=e[U+1];var z=l(n,r,i),H=l(w,_,x),G=h(n,w),V=h(w,n),q=f(a,E),W=f(E,a),K=s[U],Y=s[U+1],X=u(a,c,v),Z=u(E,S,j),J=M+W|0,Q=y+q+g(J,M)|0;Q=(Q=(Q=Q+X+g(J=J+Z|0,Z)|0)+K+g(J=J+Y|0,Y)|0)+F+g(J=J+$|0,$)|0;var tt=V+H|0,et=G+z+g(tt,V)|0;y=v,M=j,v=c,j=S,c=a,S=E,a=o+Q+g(E=O+J|0,O)|0,o=i,O=x,i=r,x=_,r=n,_=w,n=Q+et+g(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+x|0,this._dl=this._dl+O|0,this._el=this._el+E|0,this._fl=this._fl+S|0,this._gl=this._gl+j|0,this._hl=this._hl+M|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,x)|0,this._dh=this._dh+o+g(this._dl,O)|0,this._eh=this._eh+a+g(this._el,E)|0,this._fh=this._fh+c+g(this._fl,S)|0,this._gh=this._gh+v+g(this._gl,j)|0,this._hh=this._hh+y+g(this._hl,M)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){"use strict";var r=n(2),i=n(276),o=n(22),s=n(4).Buffer,a=n(110),c=n(66),u=n(67),l=s.alloc(128);function h(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new c:u(t)).update(e).digest():e.length<n&&(e=s.concat([e,l],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),a=0;a<n;a++)r[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new c:u(t),this._hash.update(r)}r(h,o),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new i(a,e):new h(t,e)}},function(t,e,n){var r=n(64);t.exports=function(t){return(new r).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,n){e.pbkdf2=n(278),e.pbkdf2Sync=n(115)},function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!=e)throw new TypeError("Bad key length")}},function(t,e,n){(function(e){var n;if(e.browser)n="utf-8";else if(e.version){n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n}).call(this,n(6))},function(t,e,n){var r=n(110),i=n(66),o=n(67),s=n(4).Buffer,a=n(113),c=n(114),u=n(116),l=s.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,n){var a=function(t){function e(e){return o(t).update(e).digest()}return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?r:e}(t),c="sha512"===t||"sha384"===t?128:64;e.length>c?e=a(e):e.length<c&&(e=s.concat([e,l],c));for(var u=s.allocUnsafe(c+h[t]),f=s.allocUnsafe(c+h[t]),d=0;d<c;d++)u[d]=54^e[d],f[d]=92^e[d];var p=s.allocUnsafe(c+n+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=f,this.alg=t,this.blocksize=c,this.hash=a,this.size=h[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){a(n,r);var o=new f(i=i||"sha1",t=u(t,c,"Password"),(e=u(e,c,"Salt")).length),l=s.allocUnsafe(r),d=s.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=h[i],b=Math.ceil(r/m),g=1;g<=b;g++){d.writeUInt32BE(g,e.length);for(var v=o.run(d,o.ipad1),y=v,w=1;w<n;w++){y=o.run(y,o.ipad2);for(var _=0;_<m;_++)v[_]^=y[_]}v.copy(l,p),p+=m}return l}},function(t,e,n){var r=n(4).Buffer;t.exports=function(t,e,n){if(r.isBuffer(t))return t;if("string"==typeof t)return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=t>>>r[c]&1;for(c=a;c<r.length;c++)s<<=1,s|=e>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";var r=n(12),i=n(2),o=n(117),s=n(68);function a(){this.tmp=new Array(2),this.keys=null}function c(t){s.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(c,s),t.exports=c,c.create=function(t){return new c(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var a=u[s>>>1];n=o.r28shl(n,a),i=o.r28shl(i,a),o.pc2(n,i,t.keys,s)}},c.prototype._update=function(t,e,n,r){var i=this._desState,s=o.readUInt32BE(t,e),a=o.readUInt32BE(t,e+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(n,s,r),o.writeUInt32BE(n,a,r+4)},c.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},c.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},c.prototype._encrypt=function(t,e,n,r,i){for(var s=e,a=n,c=0;c<t.keys.length;c+=2){var u=t.keys[c],l=t.keys[c+1];o.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var h=o.substitute(u,l),f=a;a=(s^o.permute(h))>>>0,s=f}o.rip(a,s,r,i)},c.prototype._decrypt=function(t,e,n,r,i){for(var s=n,a=e,c=t.keys.length-2;c>=0;c-=2){var u=t.keys[c],l=t.keys[c+1];o.expand(s,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var h=o.substitute(u,l),f=s;s=(a^o.permute(h))>>>0,a=f}o.rip(s,a,r,i)}},function(t,e,n){var r=n(40),i=n(4).Buffer,o=n(120);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var a=0;a<n;a++){var c=s(t),u=o+16*a;t._cache.writeUInt32BE(c[0],u+0),t._cache.writeUInt32BE(c[1],u+4),t._cache.writeUInt32BE(c[2],u+8),t._cache.writeUInt32BE(c[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,l)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,n){var r=n(49),i=n(4).Buffer,o=n(22),s=n(2),a=n(291),c=n(40),u=n(120);function l(t,e,n,s){o.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(e);var l=this._cipher.encryptBlock(c);this._ghash=new a(l),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new a(n),o=e.length,s=o%16;r.update(e),s&&(s=16-s,r.update(i.alloc(s,0))),r.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),t._finID=r.state;var h=i.from(t._finID);return u(h),h}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},function(t,e,n){var r=n(49),i=n(4).Buffer,o=n(22);function s(t,e,n,s){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}n(2)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,n){var r=n(27);t.exports=v,v.simpleSieve=b,v.fermatTest=g;var i=n(10),o=new i(24),s=new(n(125)),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!=0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return p=t,t}function b(t){for(var e=m(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function g(t){var e=i.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(a),n.testn(1)||n.iadd(c),e.cmp(c)){if(!e.cmp(u))for(;n.mod(l).cmp(h);)n.iadd(d)}else for(;n.mod(o).cmp(f);)n.iadd(d);if(b(p=n.shrn(1))&&b(n)&&g(p)&&g(n)&&s.test(p)&&s.test(n))return n}}},function(t,e,n){var r=n(10),i=n(71);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),s=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),c=0;!a.testn(c);c++);for(var u=t.shrn(c),l=a.toRed(o);e>0;e--){var h=this._randrange(new r(2),a);n&&n(h);var f=h.toRed(o).redPow(u);if(0!==f.cmp(s)&&0!==f.cmp(l)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(s))return!1;if(0===f.cmp(l))break}if(d===c)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var c=t.shrn(a),u=s.toRed(i);e>0;e--){var l=this._randrange(new r(2),s),h=t.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(i).redPow(c);if(0!==f.cmp(o)&&0!==f.cmp(u)){for(var d=1;d<a;d++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(u))break}if(d===a)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){"use strict";(function(e,r){var i;t.exports=S,S.ReadableState=E;n(24).EventEmitter;var o=function(t,e){return t.listeners(e).length},s=n(127),a=n(7).Buffer,c=e.Uint8Array||function(){};var u,l=n(301);u=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d,p=n(302),m=n(128),b=n(129).getHighWaterMark,g=n(31).codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(2)(S,s);var x=m.errorOrDestroy,O=["error","close","destroy","pause","resume"];function E(t,e,r){i=i||n(32),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=n(20).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function S(t){if(i=i||n(32),!(this instanceof S))return new S(t);var e=this instanceof i;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function j(t,e,n,r,i){u("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?A(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,k(t)))}(t,s);else if(i||(o=function(t,e){var n;r=e,a.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(s,e)),o)x(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),r)s.endEmitted?x(t,new _):M(t,s,e,!0);else if(s.ended)x(t,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?M(t,s,e,!1):I(t,s)):M(t,s,e,!1)}else r||(s.reading=!1,I(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function M(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&A(t)),I(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=a.from(t,e),e=""),n=!0),j(this,t,e,!1,n)},S.prototype.unshift=function(t){return j(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){h||(h=n(20).StringDecoder);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function A(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(k,t))}function k(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function I(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(C,t,e))}function C(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(u("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function P(t){u("readable nexttick read 0"),t.read(0)}function L(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function B(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick($,e,t))}function $(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function F(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):A(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&B(this),null;var r,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(n,e))),null===(r=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&B(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){x(this,new w("_read()"))},S.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:b;function a(e,r){u("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",f),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}i.endEmitted?r.nextTick(s):n.once("end",s),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",l);var h=!1;function f(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==F(i.pipes,t))&&!h&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(e){u("onerror",e),b(),t.removeListener("error",d),0===o(t,"error")&&x(t,e)}function p(){t.removeListener("finish",m),b()}function m(){u("onfinish"),t.removeListener("close",p),b()}function b(){u("unpipe"),n.unpipe(t)}return n.on("data",f),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",p),t.once("finish",m),t.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?A(this):i.reading||r.nextTick(P,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(R,this),n},S.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(R,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(L,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<O.length;o++)t.on(O[o],this.emit.bind(this,O[o]));return this._read=function(e){u("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(304)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=n(305)),d(S,t,e)})}).call(this,n(8),n(6))},function(t,e,n){t.exports=n(24).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(r,s):(s._writableState.errorEmitted=!0,e.nextTick(n,s,t)):e.nextTick(n,s,t):o?(e.nextTick(r,s),o(t)):e.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(6))},function(t,e,n){"use strict";var r=n(31).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=S,S.WritableState=E;var s={deprecate:n(63)},a=n(127),c=n(7).Buffer,u=e.Uint8Array||function(){};var l,h=n(128),f=n(129).getHighWaterMark,d=n(31).codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,x=h.errorOrDestroy;function O(){}function E(t,e,s){o=o||n(32),t=t||{},"boolean"!=typeof s&&(s=e instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new b;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(I,t,e),t._writableState.errorEmitted=!0,x(t,i)):(o(i),t._writableState.errorEmitted=!0,x(t,i),I(t,e))}(t,n,i,e,o);else{var s=A(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),i?r.nextTick(M,t,n,s,o):M(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(t){var e=this instanceof(o=o||n(32));if(!e&&!l.call(S,this))return new S(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function j(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function M(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),I(t,e)}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,j(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(j(t,e,!1,e.objectMode?1:u.length,u,l,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final((function(n){e.pendingcb--,n&&x(t,n),e.prefinished=!0,t.emit("prefinish"),I(t,e)}))}function I(t,e){var n=A(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(k,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(2)(S,a),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===S&&(t&&t._writableState instanceof E)}})):l=function(t){return t instanceof this},S.prototype.pipe=function(){x(this,new g)},S.prototype.write=function(t,e,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=t,c.isBuffer(i)||i instanceof u);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=O),o.ending?function(t,e){var n=new w;x(t,n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o;return null===n?o=new y:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(x(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else j(t,e,!1,a,r,i,o);return u}(this,o,a,t,e,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new m("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,I(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(t,e){e(t)}}).call(this,n(8),n(6))},function(t,e,n){"use strict";t.exports=l;var r=n(31).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(32);function u(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(2)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,n){"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";var r=e;r.base=n(51),r.short=n(310),r.mont=n(311),r.edwards=n(312)},function(t,e,n){"use strict";var r=n(17).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function s(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?s(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(17),i=n(41),o=n(134),s=n(12),a=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,h=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,m=o.g1_256,b=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(v,b),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],b=this.h[2],g=this.h[3],v=this.h[4],y=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var x=u(_,d(v),l(v,y,w),this.k[r],n[r]),O=a(f(i),h(i,o,b));_=w,w=y,y=v,v=a(g,x),g=b,b=o,o=i,i=a(x,O)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],y),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},v.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(17),i=n(41),o=n(12),s=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,h=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,b=r.sum64_5_lo,g=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function _(t,e,n,r,i,o){var s=e&r^~e&o;return s<0&&(s+=4294967296),s}function x(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function O(t,e,n,r,i,o){var s=e&r^e&o^r&o;return s<0&&(s+=4294967296),s}function E(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function S(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function j(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function M(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function T(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function k(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(y,g),t.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=k(n[r-4],n[r-3]),o=I(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],c=T(n[r-30],n[r-29]),u=A(n[r-30],n[r-29]),l=n[r-32],h=n[r-31];n[r]=d(i,o,s,a,c,u,l,h),n[r+1]=p(i,o,s,a,c,u,l,h)}},y.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],g=this.h[8],v=this.h[9],y=this.h[10],T=this.h[11],A=this.h[12],k=this.h[13],I=this.h[14],C=this.h[15];o(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var P=I,L=C,N=j(g,v),D=M(g,v),B=w(g,v,y,T,A),$=_(g,v,y,T,A,k),F=this.k[R],U=this.k[R+1],z=n[R],H=n[R+1],G=m(P,L,N,D,B,$,F,U,z,H),V=b(P,L,N,D,B,$,F,U,z,H);P=E(r,i),L=S(r,i),N=x(r,i,s,a,c),D=O(r,i,s,a,c,u);var q=h(P,L,N,D),W=f(P,L,N,D);I=A,C=k,A=y,k=T,y=g,T=v,g=h(d,p,G,V),v=f(p,p,G,V),d=c,p=u,c=s,u=a,s=r,a=i,r=h(G,V,q,W),i=f(G,V,q,W)}l(this.h,0,r,i),l(this.h,2,s,a),l(this.h,4,c,u),l(this.h,6,d,p),l(this.h,8,g,v),l(this.h,10,y,T),l(this.h,12,A,k),l(this.h,14,I,C)},y.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=n(327).Buffer}catch(t){}function a(t,e,n){for(var i=0,o=Math.min(t.length,n),s=0,a=e;a<o;a++){var c,u=t.charCodeAt(a)-48;i<<=4,i|=c=u>=49&&u<=54?u-49+10:u>=17&&u<=22?u-17+10:u,s|=c}return r(!(240&s),"Invalid character in "+t),i}function c(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this._strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,l=n;l<a;l+=r)u=c(t,l,l+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){u(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(t){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,h=67108863&c,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}n.words[u]=0|h,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,b=0|s[2],g=8191&b,v=b>>>13,y=0|s[3],w=8191&y,_=y>>>13,x=0|s[4],O=8191&x,E=x>>>13,S=0|s[5],j=8191&S,M=S>>>13,T=0|s[6],A=8191&T,k=T>>>13,I=0|s[7],C=8191&I,R=I>>>13,P=0|s[8],L=8191&P,N=P>>>13,D=0|s[9],B=8191&D,$=D>>>13,F=0|a[0],U=8191&F,z=F>>>13,H=0|a[1],G=8191&H,V=H>>>13,q=0|a[2],W=8191&q,K=q>>>13,Y=0|a[3],X=8191&Y,Z=Y>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var bt=(u+(r=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,U)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(p,U),i=(i=Math.imul(p,z))+Math.imul(m,U)|0,o=Math.imul(m,z);var gt=(u+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(f,G)|0))<<13)|0;u=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,U),i=(i=Math.imul(g,z))+Math.imul(v,U)|0,o=Math.imul(v,z),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,V)|0;var vt=(u+(r=r+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;u=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(w,U),i=(i=Math.imul(w,z))+Math.imul(_,U)|0,o=Math.imul(_,z),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,K)|0;var yt=(u+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(E,U)|0,o=Math.imul(E,z),r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(g,W)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(j,U),i=(i=Math.imul(j,z))+Math.imul(M,U)|0,o=Math.imul(M,z),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(f,nt)|0))<<13)|0;u=((o=o+Math.imul(f,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(A,U),i=(i=Math.imul(A,z))+Math.imul(k,U)|0,o=Math.imul(k,z),r=r+Math.imul(j,G)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,r=r+Math.imul(O,W)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var xt=(u+(r=r+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(C,U),i=(i=Math.imul(C,z))+Math.imul(R,U)|0,o=Math.imul(R,z),r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,r=r+Math.imul(j,W)|0,i=(i=i+Math.imul(j,K)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Ot=(u+(r=r+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,ct)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(L,U),i=(i=Math.imul(L,z))+Math.imul(N,U)|0,o=Math.imul(N,z),r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,r=r+Math.imul(A,W)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(j,X)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Et=(u+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(B,U),i=(i=Math.imul(B,z))+Math.imul($,U)|0,o=Math.imul($,z),r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,K)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ut)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var St=(u+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,V))+Math.imul($,G)|0,o=Math.imul($,V),r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(j,nt)|0,i=(i=i+Math.imul(j,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(w,ct)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,ut)|0,r=r+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var jt=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul($,W)|0,o=Math.imul($,K),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var Mt=(u+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul($,X)|0,o=Math.imul($,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(j,ct)|0,i=(i=i+Math.imul(j,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,ft)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,ft)|0;var Tt=(u+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul($,Q)|0,o=Math.imul($,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,ft)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0;var At=(u+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(B,nt),i=(i=Math.imul(B,rt))+Math.imul($,nt)|0,o=Math.imul($,rt),r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(R,ct)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ft)|0;var kt=(u+(r=r+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(B,ot),i=(i=Math.imul(B,st))+Math.imul($,ot)|0,o=Math.imul($,st),r=r+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var It=(u+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(B,ct),i=(i=Math.imul(B,ut))+Math.imul($,ct)|0,o=Math.imul($,ut),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var Ct=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul($,ht)|0,o=Math.imul($,ft);var Rt=(u+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Pt=(u+(r=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul($,pt)|0))<<13)|0;return u=((o=Math.imul($,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,c[0]=bt,c[1]=gt,c[2]=vt,c[3]=yt,c[4]=wt,c[5]=_t,c[6]=xt,c[7]=Ot,c[8]=Et,c[9]=St,c[10]=jt,c[11]=Mt,c[12]=Tt,c[13]=At,c[14]=kt,c[15]=It,c[16]=Ct,c[17]=Rt,c[18]=Pt,0!==u&&(c[19]=u,n.length++),n};function b(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,h=(0|t.words[l])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function g(t,e,n){return b(t,e,n)}function v(t,e){this.x=t,this.y=e}Math.imul||(m=p),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?p(this,t,e):n<1024?b(this,t,e):g(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},v.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},v.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},v.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,f=u,d=0;d<s;d++){var p=n[l+d],m=r[l+d],b=n[l+d+s],g=r[l+d+s],v=h*b-f*g;g=h*g+f*b,b=v,n[l+d]=p+b,r[l+d]=m+g,n[l+d+s]=p-b,r[l+d+s]=m-g,d!==a&&(v=c*h-u*f,f=c*f+u*h,h=v)}},v.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},v.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},v.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,h,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-c[d]*h[d];c[d]=a[d]*h[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,r),this.transform(a,c,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-o|h>>>o,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function j(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(_,w),_.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,w),i(O,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new x;else if("p192"===t)e=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,b=0;0!==m.cmp(a);b++)m=m.redSqr();r(b<p);var g=this.pow(h,new o(1).iushln(p-b-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=b}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var h=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new j(t)},i(j,S),j.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},j.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},j.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},j.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},j.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(47)(t))},function(t,e,n){"use strict";const r=e;r.bignum=n(10),r.define=n(329).define,r.base=n(332),r.constants=n(333),r.decoders=n(141),r.encoders=n(139)},function(t,e,n){"use strict";const r=e;r.der=n(140),r.pem=n(330)},function(t,e,n){"use strict";const r=n(2),i=n(21).Buffer,o=n(77),s=n(79);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(c,o),c.prototype._encodeComposite=function(t,e,n,r){const o=function(t,e,n,r){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(s.tagByName.hasOwnProperty(t))i=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}if(i>=31)return r.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6,i}(t,e,n,this.reporter);if(r.length<128){const t=i.alloc(2);return t[0]=o,t[1]=r.length,this._createEncoderBuffer([t,r])}let a=1;for(let t=r.length;t>=256;t>>=8)a++;const c=i.alloc(2+a);c[0]=o,c[1]=128|a;for(let t=1+a,e=r.length;e>0;t--,e>>=8)c[t]=255&e;return this._createEncoderBuffer([c,r])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let n=0;n<t.length;n++)e.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let r=0;for(let e=0;e<t.length;e++){let n=t[e];for(r++;n>=128;n>>=7)r++}const o=i.alloc(r);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let n=t[e];for(o[s--]=127&n;(n>>=7)>0;)o[s--]=128|127&n}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let n;const r=new Date(t);return"gentime"===e?n=[u(r.getUTCFullYear()),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[u(r.getUTCFullYear()%100),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const n=i.alloc(e);return t.copy(n),0===t.length&&(n[0]=0),this._createEncoderBuffer(n)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let e=t;e>=256;e>>=8)n++;const r=new Array(n);for(let e=r.length-1;e>=0;e--)r[e]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(i.from(r))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,n){const r=this._baseState;let i;if(null===r.default)return!1;const o=t.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,e,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},function(t,e,n){"use strict";const r=e;r.der=n(142),r.pem=n(331)},function(t,e,n){"use strict";const r=n(2),i=n(10),o=n(42).DecoderBuffer,s=n(77),a=n(79);function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.call(this,"der",t)}function l(t,e){let n=t.readUInt8(e);if(t.isError(n))return n;const r=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){let r=n;for(n=0;128==(128&r);){if(r=t.readUInt8(e),t.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:a.tag[n]}}function h(t,e,n){let r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0==(128&r))return r;const i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(let e=0;e<i;e++){r<<=8;const e=t.readUInt8(n);if(t.isError(e))return e;r|=e}return r}t.exports=c,c.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},r(u,s),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;const r=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){const r=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;let i=h(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){const n=l(t,e);if(t.isError(n))return n;const r=h(t,n.primitive,e);if(t.isError(r))return r;let i;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,r){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const o=n.decode(t,"der",r);if(t.isError(o)&&e)break;i.push(o)}return i},u.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let n="";for(let t=0;t<e.length/2;t++)n+=String.fromCharCode(e.readUInt16BE(2*t));return n}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){let r;const i=[];let o=0,s=0;for(;!t.isEmpty();)s=t.readUInt8(),o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(r=n?i:[a,c].concat(i.slice(1)),e){let t=e[r.join(" ")];void 0===t&&(t=e[r.join(".")]),void 0!==t&&(r=t)}return r},u.prototype._decodeTime=function(t,e){const n=t.raw().toString();let r,i,o,s,a,c;if("gentime"===e)r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),c=0|n.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){const n=t.raw();let r=new i(n);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,n){var r=n(39),i=n(4).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,s=i.alloc(0),a=0;s.length<e;)n=o(a++),s=i.concat([s,r("sha1").update(t).update(n).digest()]);return s.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(10),i=n(4).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(t){t.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},function(t){t.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(t,e,n){"use strict";(function(e){var r=n(370);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=n(53),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(t){return Object.prototype.toString.call(t)}function h(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(u)return t.name;var e=t.toString().match(d);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function b(t){if(u||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function v(t,e){t||g(t,!0,e,"==",f.ok)}function y(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(h(t)&&h(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=w(t),o=w(e);if(i&&!o||!i&&o)return!1;if(i)return t=c.call(t),e=c.call(e),y(t,e,n);var a,u,l=O(t),h=O(e);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),u=l.length-1;u>=0;u--)if(l[u]!==h[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!y(t[a],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function x(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&i&&!n;if((!t&&s.isError(i)&&o&&_(i,n)||a)&&g(i,n,"Got unwanted exception"+r),t&&i&&n&&!_(i,n)||!t&&i)throw i}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return m(b(t.actual),128)+" "+t.operator+" "+m(b(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(f.AssertionError,Error),f.fail=g,f.ok=v,f.equal=function(t,e,n){t!=e&&g(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&g(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){y(t,e,!1)||g(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){y(t,e,!0)||g(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){y(t,e,!1)&&g(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){y(e,n,!0)&&g(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&g(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&g(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){x(!0,t,e,n)},f.doesNotThrow=function(t,e,n){x(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=r((function t(e,n){e||g(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var O=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(8))},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){const{noopTest:r,edit:i,merge:o}=n(33),s={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:r,table:r,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};s.def=i(s.def).replace("label",s._label).replace("title",s._title).getRegex(),s.bullet=/(?:[*+-]|\d{1,9}\.)/,s.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,s.item=i(s.item,"gm").replace(/bull/g,s.bullet).getRegex(),s.list=i(s.list).replace(/bull/g,s.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+s.def.source+")").getRegex(),s._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",s._comment=/<!--(?!-?>)[\s\S]*?-->/,s.html=i(s.html,"i").replace("comment",s._comment).replace("tag",s._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),s.paragraph=i(s._paragraph).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.blockquote=i(s.blockquote).replace("paragraph",s.paragraph).getRegex(),s.normal=o({},s),s.gfm=o({},s.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),s.gfm.nptable=i(s.gfm.nptable).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.gfm.table=i(s.gfm.table).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.pedantic=o({},s.normal,{html:i("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",s._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:r,paragraph:i(s.normal._paragraph).replace("hr",s.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",s.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const a={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};a.em=i(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=i(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=i(a.tag).replace("comment",s._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,a._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=i(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=i(a.reflink).replace("label",a._label).getRegex(),a.normal=o({},a),a.pedantic=o({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:i(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:i(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=o({},a.normal,{escape:i(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=i(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=o({},a.gfm,{br:i(a.br).replace("{2,}","*").getRegex(),text:i(a.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),t.exports={block:s,inline:a}},function(t,e){t.exports=class{constructor(){this.seen={}}slug(t){let e=t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){const t=e;do{this.seen[t]++,e=t+"-"+this.seen[t]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e}}},function(t,e,n){const r=n(81),{defaults:i}=n(43),{inline:o}=n(152),{findClosingBracket:s,escape:a}=n(33);t.exports=class t{constructor(t,e){if(this.options=e||i,this.links=t,this.rules=o.normal,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}static get rules(){return o}static output(e,n,r){return new t(n,r).output(e)}output(e){let n,r,i,o,c,u,l="";for(;e;)if(c=this.rules.escape.exec(e))e=e.substring(c[0].length),l+=a(c[1]);else if(c=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(c[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(c[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.inRawBlock=!1),e=e.substring(c[0].length),l+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]);else if(c=this.rules.link.exec(e)){const r=s(c[2],"()");if(r>-1){const t=(0===c[0].indexOf("!")?5:4)+c[1].length+r;c[2]=c[2].substring(0,r),c[0]=c[0].substring(0,t).trim(),c[3]=""}e=e.substring(c[0].length),this.inLink=!0,i=c[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i),n?(i=n[1],o=n[3]):o=""):o=c[3]?c[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(c,{href:t.escapes(i),title:t.escapes(o)}),this.inLink=!1}else if((c=this.rules.reflink.exec(e))||(c=this.rules.nolink.exec(e))){if(e=e.substring(c[0].length),n=(c[2]||c[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){l+=c[0].charAt(0),e=c[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(c,n),this.inLink=!1}else if(c=this.rules.strong.exec(e))e=e.substring(c[0].length),l+=this.renderer.strong(this.output(c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.em.exec(e))e=e.substring(c[0].length),l+=this.renderer.em(this.output(c[6]||c[5]||c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.code.exec(e))e=e.substring(c[0].length),l+=this.renderer.codespan(a(c[2].trim(),!0));else if(c=this.rules.br.exec(e))e=e.substring(c[0].length),l+=this.renderer.br();else if(c=this.rules.del.exec(e))e=e.substring(c[0].length),l+=this.renderer.del(this.output(c[1]));else if(c=this.rules.autolink.exec(e))e=e.substring(c[0].length),"@"===c[2]?(r=a(this.mangle(c[1])),i="mailto:"+r):(r=a(c[1]),i=r),l+=this.renderer.link(i,null,r);else if(this.inLink||!(c=this.rules.url.exec(e))){if(c=this.rules.text.exec(e))e=e.substring(c[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]):l+=this.renderer.text(a(this.smartypants(c[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===c[2])r=a(c[0]),i="mailto:"+r;else{do{u=c[0],c[0]=this.rules._backpedal.exec(c[0])[0]}while(u!==c[0]);r=a(c[0]),i="www."===c[1]?"http://"+r:r}e=e.substring(c[0].length),l+=this.renderer.link(i,null,r)}return l}static escapes(e){return e?e.replace(t.rules._escapes,"$1"):e}outputLink(t,e){const n=e.href,r=e.title?a(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,a(t[1]))}smartypants(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t}mangle(t){if(!this.options.mangle)return t;const e=t.length;let n,r="",i=0;for(;i<e;i++)n=t.charCodeAt(i),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}}},function(t,e){t.exports=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(14),i=n.n(r),o=n(34),s=n.n(o);function a(e,r){var o,a=(o={},function(t){var e=o[t]=(o[t]||0)+1;return t+"$"+e});r.alreadycompiled||(r.alreadycompiled=[]);for(var c={rules:[],body:[],config:{},customTokens:[],macros:{},start:""},u=0;u<e.length;u++){var l=e[u];if(b(l.name,l.pos,l.name&&l.name.length),l.body)r.nojs||c.body.push(l.body);else if(l.include){var h;if(h=l.builtin?l.include:n(55).resolve(r.file?n(55).dirname(r.file):t.cwd(),l.include),-1===r.alreadycompiled.indexOf(h)){if(r.alreadycompiled.push(h),"postprocessors.ne"===h)var f=n(163);else if("whitespace.ne"===h)f=n(164);else if("string.ne"===h)f=n(165);else if("number.ne"===h)f=n(166);else if("cow.ne"===h)f=n(167);var d=i.a.Grammar.fromCompiled(s.a),p=new i.a.Parser(d);p.feed(f);var m=Compile(p.results[0],{file:h,__proto__:r});c.rules=c.rules.concat(m.rules),c.body=c.body.concat(m.body),Object.keys(m.config).forEach((function(t){c.config[t]=m.config[t]})),Object.keys(m.macros).forEach((function(t){c.macros[t]=m.macros[t]}))}}else l.macro?c.macros[l.macro]={args:l.args,exprs:l.exprs}:l.config?c.config[l.config]=l.value:(g(l.name,l.rules,{}),c.start||(c.start=l.name))}return c;function b(t,e,n){r.rangeCallback&&r.rangeCallback(t,e,e+n)}function g(t,e,n){for(var i=0;i<e.length;i++){var o=v(t,e[i],n);r.nojs&&(o.postprocess=null),c.rules.push(o)}}function v(t,e,n){for(var r=[],o=0;o<e.tokens.length;o++){var s=y(t,e.tokens[o],n);null!==s&&r.push(s)}return new i.a.Rule(t,r,e.postprocess)}function y(t,e,n){if("string"==typeof e)return"null"===e?null:e;if(e instanceof RegExp)return e;if(e.literal)return e.literal.length?1===e.literal.length||c.config.lexer?e:function(t,e,n){var r=a(t+"$string");return b(r,e.pos,JSON.stringify(e.literal).length),g(r,[{tokens:e.literal.split("").map((function(t){return{literal:t}})),postprocess:{builtin:"joiner"}}],n),r}(t,e,n):null;if(e.token){if(c.config.lexer){var r=e.token;return-1===c.customTokens.indexOf(r)&&c.customTokens.push(r),{token:"("+(c.config.lexer+".has("+JSON.stringify(r)+") ? {type: "+JSON.stringify(r)+"} : "+r)+")"}}return e}if(e.subexpression)return function(t,e,n){var r=e.subexpression,i=a(t+"$subexpression");return g(i,r,n),i}(t,e,n);if(e.ebnf)return function(t,e,n){switch(e.modifier){case":+":return function(t,e,n){var r=a(t+"$ebnf");return g(r,[{tokens:[e.ebnf]},{tokens:[e.ebnf,r],postprocess:{builtin:"arrconcat"}}],n),r}(t,e,n);case":*":return function(t,e,n){var r=a(t+"$ebnf");return g(r,[{tokens:[]},{tokens:[e.ebnf,r],postprocess:{builtin:"arrconcat"}}],n),r}(t,e,n);case":?":return function(t,e,n){var r=a(t+"$ebnf");return g(r,[{tokens:[e.ebnf],postprocess:{builtin:"id"}},{tokens:[],postprocess:{builtin:"nuller"}}],n),r}(t,e,n)}}(t,e,n);if(e.macrocall)return function(t,e,n){var r=a(t+"$macrocall"),i=c.macros[e.macrocall];if(!i)throw new Error("Unkown macro: "+e.macrocall);if(i.args.length!==e.args.length)throw new Error("Argument count mismatch.");for(var o={__proto__:n},s=0;s<i.args.length;s++){var u=a(t+"$macrocall");o[i.args[s]]=u,g(u,[e.args[s]],n)}return g(r,i.exprs,o),r}(t,e,n);if(e.mixin){if(n[e.mixin])return y(t,n[e.mixin],n);throw new Error("Unbound variable: "+e.mixin)}throw new Error("unrecognized token: "+JSON.stringify(e))}}}).call(this,n(6))},function(t,e,n){var r,i;r=this,i=function(t){function e(t,e,o){return null==o&&(o=""),"[\n    "+t.map((function(t){return function(t,e){var o="{";return o+='"name": '+JSON.stringify(t.name),o+=', "symbols": ['+t.symbols.map(i).join(", ")+"]",t.postprocess&&(t.postprocess.builtin&&(t.postprocess=e[t.postprocess.builtin]),o+=', "postprocess": '+r(n(t.postprocess),"        ",{indentFirst:!1})),o+="}"}(t,e)})).join(",\n    ")+"\n"+o+"]"}function n(t){var e=t.toString().split(/\n/);if(1===e.length)return[e[0].replace(/^\s+|\s+$/g,"")];for(var n=null,r=e.slice(1),i=0;i<r.length;i++){var o=/^\s*/.exec(r[i]);o&&o[0].length!==r[i].length&&(null===n||o[0].length<n.length)&&(n=o[0])}return null===n?e:e.map((function(t){return t.slice(0,n.length)===n?t.slice(n.length):t}))}function r(t,e,n){var r;return r=Array.isArray(t)?t:t.toString().split("\n"),n=n||{},tabulated=r.map((function(t,r){var i=!0;return 0!=r||n.indentFirst||(i=!1),i?e+t:t})).join("\n"),tabulated}function i(t){return t instanceof RegExp?t.toString():t.token?t.token:JSON.stringify(t)}var o=function(t,e){if(t.config.preprocessor||(t.config.preprocessor="_default"),!o[t.config.preprocessor])throw new Error("No such preprocessor: "+t.config.preprocessor);return o[t.config.preprocessor](t,e)};return o.js=o._default=o.javascript=function(t,n){var r="// Generated automatically by nearley, version "+t.version+"\n";return r+="// http://github.com/Hardmath123/nearley\n",r+="(function () {\n",r+="function id(x) { return x[0]; }\n",r+=t.body.join("\n"),r+="var grammar = {\n",r+="    Lexer: "+t.config.lexer+",\n",r+="    ParserRules: "+e(t.rules,o.javascript.builtinPostprocessors)+"\n",r+="  , ParserStart: "+JSON.stringify(t.start)+"\n",r+="}\n",r+="if (typeof module !== 'undefined'&& typeof module.exports !== 'undefined') {\n",r+="   module.exports = grammar;\n",r+="} else {\n",r+="   window."+n+" = grammar;\n",r+="}\n",r+="})();\n"},o.javascript.builtinPostprocessors={joiner:"function joiner(d) {return d.join('');}",arrconcat:"function arrconcat(d) {return [d[0]].concat(d[1]);}",arrpush:"function arrpush(d) {return d[0].concat([d[1]]);}",nuller:"function(d) {return null;}",id:"id"},o.module=o.esmodule=function(t,n){var r="// Generated automatically by nearley, version "+t.version+"\n";return r+="// http://github.com/Hardmath123/nearley\n",r+="function id(x) { return x[0]; }\n",r+=t.body.join("\n"),r+="let Lexer = "+t.config.lexer+";\n",r+="let ParserRules = "+e(t.rules,o.javascript.builtinPostprocessors)+";\n",r+="let ParserStart = "+JSON.stringify(t.start)+";\n",r+="export default { Lexer, ParserRules, ParserStart };\n"},o.cs=o.coffee=o.coffeescript=function(t,i){var s="# Generated automatically by nearley, version "+t.version+"\n";return s+="# http://github.com/Hardmath123/nearley\n",s+="do ->\n",s+="  id = (d) -> d[0]\n",s+=r(n(t.body.join("\n")),"  ")+"\n",s+="  grammar = {\n",s+="    Lexer: "+t.config.lexer+",\n",s+="    ParserRules: "+r(e(t.rules,o.coffeescript.builtinPostprocessors),"      ",{indentFirst:!1})+",\n",s+="    ParserStart: "+JSON.stringify(t.start)+"\n",s+="  }\n",s+="  if typeof module != 'undefined' && typeof module.exports != 'undefined'\n",s+="    module.exports = grammar;\n",s+="  else\n",s+="    window."+i+" = grammar;\n"},o.coffeescript.builtinPostprocessors={joiner:"(d) -> d.join('')",arrconcat:"(d) -> [d[0]].concat(d[1])",arrpush:"(d) -> d[0].concat([d[1]])",nuller:"() -> null",id:"id"},o.ts=o.typescript=function(t,n){var r="// Generated automatically by nearley, version "+t.version+"\n";return r+="// http://github.com/Hardmath123/nearley\n",r+="// Bypasses TS6133. Allow declared but unused functions.\n",r+="// @ts-ignore\n",r+="function id(d: any[]): any { return d[0]; }\n",r+=t.customTokens.map((function(t){return"declare var "+t+": any;\n"})).join(""),r+=t.body.join("\n"),r+="\n",r+="interface NearleyToken {",r+="  value: any;\n",r+="  [key: string]: any;\n",r+="};\n",r+="\n",r+="interface NearleyLexer {\n",r+="  reset: (chunk: string, info: any) => void;\n",r+="  next: () => NearleyToken | undefined;\n",r+="  save: () => any;\n",r+="  formatError: (token: NearleyToken) => string;\n",r+="  has: (tokenType: string) => boolean;\n",r+="};\n",r+="\n",r+="interface NearleyRule {\n",r+="  name: string;\n",r+="  symbols: NearleySymbol[];\n",r+="  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n",r+="};\n",r+="\n",r+="type NearleySymbol = string | { literal: any } | { test: (token: any) => boolean };\n",r+="\n",r+="interface Grammar {\n",r+="  Lexer: NearleyLexer | undefined;\n",r+="  ParserRules: NearleyRule[];\n",r+="  ParserStart: string;\n",r+="};\n",r+="\n",r+="const grammar: Grammar = {\n",r+="  Lexer: "+t.config.lexer+",\n",r+="  ParserRules: "+e(t.rules,o.typescript.builtinPostprocessors,"  ")+",\n",r+="  ParserStart: "+JSON.stringify(t.start)+",\n",r+="};\n",r+="\n",r+="export default grammar;\n"},o.typescript.builtinPostprocessors={joiner:"(d) => d.join('')",arrconcat:"(d) => [d[0]].concat(d[1])",arrpush:"(d) => d[0].concat([d[1]])",nuller:"() => null",id:"id"},o},t.exports?t.exports=i(n(14)):r.generate=i(r.nearley)},function(t,e,n){(function(e){n(168);t.exports=function(t,n){n.out||(n.out=e.stderr),function(t,e){var n=[];t.rules.forEach((function(t){n.push(t.name)})),t.rules.forEach((function(t){t.symbols.forEach((function(t){t.literal||t.token||t.constructor===RegExp||-1===n.indexOf(t)&&function(t,e){t.out.write("WARN\t"+e+"\n")}(e,"Undefined symbol `"+t+"` used.")}))}))}(t,n)}}).call(this,n(6))},function(t,e,n){var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function s(t){t&&t.blur&&t!==document.body&&t.blur()}function a(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function c(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function u(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}s(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(t){}if(r)for(var i=0;i<r.length;++i){var o=r[i],s=null;try{s=document.querySelectorAll(o.selectorText)}catch(t){}if(s&&a(s,t)){var c=o.style.getPropertyValue("top"),u=o.style.getPropertyValue("bottom");if(c&&"auto"!==c||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),s(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return c(this)?"dialog":d.call(this)};var p=f.set;f.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&c(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return m.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(c(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n(213)?void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},function(t,e){t.exports={RingBuffer:class{static getStorageForCapacity(t,e){if(!e.BYTES_PER_ELEMENT)throw"Pass in a ArrayBuffer subclass";var n=8+(t+1)*e.BYTES_PER_ELEMENT;return new SharedArrayBuffer(n)}constructor(t,e){if(!ArrayBuffer.__proto__.isPrototypeOf(e)&&void 0!==e.BYTES_PER_ELEMENT)throw"Pass a concrete typed array class as second argument";this._type=e,this.capacity=(t.byteLength-8)/e.BYTES_PER_ELEMENT,this.buf=t,this.write_ptr=new Uint32Array(this.buf,0,1),this.read_ptr=new Uint32Array(this.buf,4,1),this.storage=new e(this.buf,8,this.capacity)}type(){return this._type.name}push(t){var e=Atomics.load(this.read_ptr,0),n=Atomics.load(this.write_ptr,0);if((n+1)%this._storage_capacity()==e)return 0;let r=Math.min(this._available_write(e,n),t.length),i=Math.min(this._storage_capacity()-n,r),o=r-i;return this._copy(t,0,this.storage,n,i),this._copy(t,i,this.storage,0,o),Atomics.store(this.write_ptr,0,(n+r)%this._storage_capacity()),r}pop(t){var e=Atomics.load(this.read_ptr,0),n=Atomics.load(this.write_ptr,0);if(n==e)return 0;let r=Math.min(this._available_read(e,n),t.length),i=Math.min(this._storage_capacity()-e,t.length),o=r-i;return this._copy(this.storage,e,t,0,i),this._copy(this.storage,0,t,i,o),Atomics.store(this.read_ptr,0,(e+r)%this._storage_capacity()),r}empty(){var t=Atomics.load(this.read_ptr,0);return Atomics.load(this.write_ptr,0)==t}full(){var t=Atomics.load(this.read_ptr,0);return(Atomics.load(this.write_ptr,0)+1)%this.capacity!=t}capacity(){return this.capacity-1}available_read(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_read(t,e)}available_write(){var t=Atomics.load(this.read_ptr,0),e=Atomics.load(this.write_ptr,0);return this._available_write(t,e)}_available_read(t,e){return e>t?e-t:e+this._storage_capacity()-t}_available_write(t,e){let n=t-e-1;return e>=t&&(n+=this._storage_capacity()),n}_storage_capacity(){return this.capacity}_copy(t,e,n,r,i){for(var o=0;o<i;o++)n[r+o]=t[e+o]}}}},function(t,e,n){t.exports=n(389)},function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n="boolean"==typeof(new RegExp).sticky;function r(t){return t&&"[object RegExp]"===e.call(t)}function i(t){return t&&"object"==typeof t&&!r(t)&&!Array.isArray(t)}function o(t){return"("+t+")"}function s(t){return t.length?"(?:"+t.map((function(t){return"(?:"+t+")"})).join("|")+")":"(?!)"}function a(t){if("string"==typeof t)return"(?:"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(r(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function c(e,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:e,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in n)t.call(n,s)&&(o[s]=n[s]);if("string"==typeof o.type&&e!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+e+"')");var a=o.match;return o.match=Array.isArray(a)?a:a?[a]:[],o.match.sort((function(t,e){return r(t)&&r(e)?0:r(e)?-1:r(t)?1:e.length-t.length})),o}function u(t){return Array.isArray(t)?function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r.include)for(var i=[].concat(r.include),o=0;o<i.length;o++)e.push({include:i[o]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));e.push(c(r.type,r))}}return e}(t):function(t){for(var e=Object.getOwnPropertyNames(t),n=[],r=0;r<e.length;r++){var o=e[r],s=t[o],a=[].concat(s);if("include"!==o){var u=[];a.forEach((function(t){i(t)?(u.length&&n.push(c(o,u)),n.push(c(o,t)),u=[]):u.push(t)})),u.length&&n.push(c(o,u))}else for(var l=0;l<a.length;l++)n.push({include:a[l]})}return n}(t)}var l=c("error",{lineBreaks:!0,shouldThrow:!0});function h(t,e){for(var i=null,c=Object.create(null),u=!0,h=null,f=[],d=[],p=0;p<t.length;p++)t[p].fallback&&(u=!1);for(p=0;p<t.length;p++){var m=t[p];if(m.include)throw new Error("Inheritance is not allowed in stateless lexers");if(m.error||m.fallback){if(i)throw!m.fallback==!i.fallback?new Error("Multiple "+(m.fallback?"fallback":"error")+" rules not allowed (for token '"+m.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+m.defaultType+"')");i=m}var b=m.match.slice();if(u)for(;b.length&&"string"==typeof b[0]&&1===b[0].length;)c[b.shift().charCodeAt(0)]=m;if(m.pop||m.push||m.next){if(!e)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+m.defaultType+"')");if(m.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+m.defaultType+"')")}if(0!==b.length){u=!1,f.push(m);for(var g=0;g<b.length;g++){var v=b[g];if(r(v))if(null===h)h=v.unicode;else if(h!==v.unicode&&!1===m.fallback)throw new Error("If one rule is /u then all must be")}var y=s(b.map(a)),w=new RegExp(y);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+y).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?:  ) instead");if(!m.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);d.push(o(y))}}var _=i&&i.fallback,x=n&&!_?"ym":"gm",O=n||_?"":"|";return!0===h&&(x+="u"),{regexp:new RegExp(s(d)+O,x),groups:f,fast:c,error:i||l}}function f(t,e,n){var r=t&&(t.push||t.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+t.defaultType+"' of state '"+e+"')");if(t&&t.pop&&1!=+t.pop)throw new Error("pop must be 1 (in token '"+t.defaultType+"' of state '"+e+"')")}var d=function(t,e){this.startState=e,this.states=t,this.buffer="",this.stack=[],this.reset()};d.prototype.reset=function(t,e){return this.buffer=t||"",this.index=0,this.line=e?e.line:1,this.col=e?e.col:1,this.queuedToken=e?e.queuedToken:null,this.queuedThrow=e?e.queuedThrow:null,this.setState(e?e.state:this.startState),this.stack=e&&e.stack?e.stack.slice():[],this},d.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},d.prototype.setState=function(t){if(t&&this.state!==t){this.state=t;var e=this.states[t];this.groups=e.groups,this.error=e.error,this.re=e.regexp,this.fast=e.fast}},d.prototype.popState=function(){this.setState(this.stack.pop())},d.prototype.pushState=function(t){this.stack.push(this.state),this.setState(t)};var p=n?function(t,e){return t.exec(e)}:function(t,e){var n=t.exec(e);return 0===n[0].length?null:n};function m(){return this.value}if(d.prototype._getGroup=function(t){for(var e=this.groups.length,n=0;n<e;n++)if(void 0!==t[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},d.prototype.next=function(){var t=this.index;if(this.queuedGroup){var e=this._token(this.queuedGroup,this.queuedText,t);return this.queuedGroup=null,this.queuedText="",e}var n=this.buffer;if(t!==n.length){if(s=this.fast[n.charCodeAt(t)])return this._token(s,n.charAt(t),t);var r=this.re;r.lastIndex=t;var i=p(r,n),o=this.error;if(null==i)return this._token(o,n.slice(t,n.length),t);var s=this._getGroup(i),a=i[0];return o.fallback&&i.index!==t?(this.queuedGroup=s,this.queuedText=a,this._token(o,n.slice(t,i.index),t)):this._token(s,a,t)}},d.prototype._token=function(t,e,n){var r=0;if(t.lineBreaks){var i=/\n/g,o=1;if("\n"===e)r=1;else for(;i.exec(e);)r++,o=i.lastIndex}var s={type:"function"==typeof t.type&&t.type(e)||t.defaultType,value:"function"==typeof t.value?t.value(e):e,text:e,toString:m,offset:n,lineBreaks:r,line:this.line,col:this.col},a=e.length;if(this.index+=a,this.line+=r,0!==r?this.col=a-o+1:this.col+=a,t.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return t.pop?this.popState():t.push?this.pushState(t.push):t.next&&this.setState(t.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var b=function(t){this.lexer=t};b.prototype.next=function(){var t=this.lexer.next();return{value:t,done:!t}},b.prototype[Symbol.iterator]=function(){return this},d.prototype[Symbol.iterator]=function(){return new b(this)}}return d.prototype.formatError=function(t,e){if(null==t){var n=this.buffer.slice(this.index);t={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,t.offset-t.col+1),i=t.lineBreaks?t.text.indexOf("\n"):t.text.length,o=this.buffer.substring(r,t.offset+i);return e+=" at line "+t.line+" col "+t.col+":\n\n",e+="  "+o+"\n",e+="  "+Array(t.col).join(" ")+"^"},d.prototype.clone=function(){return new d(this.states,this.state)},d.prototype.has=function(t){return!0},{compile:function(t){var e=h(u(t));return new d({start:e},"start")},states:function(t,e){var n=t.$all?u(t.$all):[];delete t.$all;var r=Object.getOwnPropertyNames(t);e||(e=r[0]);for(var i=Object.create(null),o=0;o<r.length;o++){var s=r[o];i[s]=u(t[s]).concat(n)}for(o=0;o<r.length;o++){s=r[o];for(var a=i[s],c=Object.create(null),l=0;l<a.length;l++){var p=a[l];if(p.include){var m=[l,1];if(p.include!==s&&!c[p.include]){c[p.include]=!0;var b=i[p.include];if(!b)throw new Error("Cannot include nonexistent state '"+p.include+"' (in state '"+s+"')");for(var g=0;g<b.length;g++){var v=b[g];-1===a.indexOf(v)&&m.push(v)}}a.splice.apply(a,m),l--}}}var y=Object.create(null);for(o=0;o<r.length;o++)s=r[o],y[s]=h(i[s],!0);for(o=0;o<r.length;o++){var w=r[o],_=y[w],x=_.groups;for(l=0;l<x.length;l++)f(x[l],w,y);var O=Object.getOwnPropertyNames(_.fast);for(l=0;l<O.length;l++)f(_.fast[O[l]],w,y)}return new d(y,e)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(t){for(var e=Object.create(null),n=Object.create(null),r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i],s=t[o];(Array.isArray(s)?s:[s]).forEach((function(t){if((n[t.length]=n[t.length]||[]).push(t),"string"!=typeof t)throw new Error("keyword must be string (in keyword '"+o+"')");e[t]=o}))}function a(t){return JSON.stringify(t)}var c="";for(var u in c+="switch (value.length) {\n",n){var l=n[u];c+="case "+u+":\n",c+="switch (value) {\n",l.forEach((function(t){var n=e[t];c+="case "+a(t)+": return "+a(n)+"\n"})),c+="}\n"}return c+="}\n",Function("value",c)}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),e.default="# Simple postprocessors\n\n# Postprocessor generator that lets you select the nth element of the list.\n# `id` is equivalent to nth(0).\n@{%\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\nfunction nth(n) {\n    return function(d) {\n        return d[n];\n    };\n}\n%}\n\n# Postprocessor generator that lets you generate an object dynamically.\n@{%\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\nfunction $(o) {\n    return function(d) {\n        var ret = {};\n        Object.keys(o).forEach(function(k) {\n            ret[k] = d[o[k]];\n        });\n        return ret;\n    };\n}\n%}\n\n# A separated list of elements.\n\ndelimited[el, delim] -> $el ($delim $el {% nth(1) %}):* {%\n    function(d) {\n        return [d[0]].concat(d[1]);\n    }\n%}\n"},function(t,e,n){"use strict";n.r(e),e.default="# Whitespace: `_` is optional, `__` is mandatory.\n_  -> wschar:* {% function(d) {return null;} %}\n__ -> wschar:+ {% function(d) {return null;} %}\n\nwschar -> [ \\t\\n\\v\\f] {% id %}\n"},function(t,e,n){"use strict";n.r(e),e.default='# Matches various kinds of string literals\n\n# Double-quoted string\ndqstring -> "\\"" dstrchar:* "\\"" {% function(d) {return d[1].join(""); } %}\nsqstring -> "\'"  sstrchar:* "\'"  {% function(d) {return d[1].join(""); } %}\nbtstring -> "`"  [^`]:*    "`"  {% function(d) {return d[1].join(""); } %}\n\ndstrchar -> [^\\\\"\\n] {% id %}\n    | "\\\\" strescape {%\n    function(d) {\n        return JSON.parse("\\""+d.join("")+"\\"");\n    }\n%}\n\nsstrchar -> [^\\\\\'\\n] {% id %}\n    | "\\\\" strescape\n        {% function(d) { return JSON.parse("\\""+d.join("")+"\\""); } %}\n    | "\\\\\'"\n        {% function(d) {return "\'"; } %}\n\nstrescape -> ["\\\\/bfnrt] {% id %}\n    | "u" [a-fA-F0-9] [a-fA-F0-9] [a-fA-F0-9] [a-fA-F0-9] {%\n    function(d) {\n        return d.join("");\n    }\n%}\n'},function(t,e,n){"use strict";n.r(e),e.default='unsigned_int -> [0-9]:+ {%\n    function(d) {\n        return parseInt(d[0].join(""));\n    }\n%}\n\nint -> ("-"|"+"):? [0-9]:+ {%\n    function(d) {\n        if (d[0]) {\n            return parseInt(d[0][0]+d[1].join(""));\n        } else {\n            return parseInt(d[1].join(""));\n        }\n    }\n%}\n\nunsigned_decimal -> [0-9]:+ ("." [0-9]:+):? {%\n    function(d) {\n        return parseFloat(\n            d[0].join("") +\n            (d[1] ? "."+d[1][1].join("") : "")\n        );\n    }\n%}\n\ndecimal -> "-":? [0-9]:+ ("." [0-9]:+):? {%\n    function(d) {\n        return parseFloat(\n            (d[0] || "") +\n            d[1].join("") +\n            (d[2] ? "."+d[2][1].join("") : "")\n        );\n    }\n%}\n\npercentage -> decimal "%" {%\n    function(d) {\n        return d[0]/100;\n    }\n%}\n\njsonfloat -> "-":? [0-9]:+ ("." [0-9]:+):? ([eE] [+-]:? [0-9]:+):? {%\n    function(d) {\n        return parseFloat(\n            (d[0] || "") +\n            d[1].join("") +\n            (d[2] ? "."+d[2][1].join("") : "") +\n            (d[3] ? "e" + (d[3][1] || "+") + d[3][2].join("") : "")\n        );\n    }\n%}\n'},function(t,e,n){"use strict";n.r(e),e.default='# Match a loud moo\ncow -> "MO" "O":+\n'},function(t,e,n){(function(n){var r;e=t.exports=W,r="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var u=a++;s[u]="[0-9]+";var l=a++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=a++;s[h]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=a++;s[f]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var d=a++;s[d]="(?:"+s[c]+"|"+s[l]+")";var p=a++;s[p]="(?:"+s[u]+"|"+s[l]+")";var m=a++;s[m]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var b=a++;s[b]="(?:-?("+s[p]+"(?:\\."+s[p]+")*))";var g=a++;s[g]="[0-9A-Za-z-]+";var v=a++;s[v]="(?:\\+("+s[g]+"(?:\\."+s[g]+")*))";var y=a++,w="v?"+s[h]+s[m]+"?"+s[v]+"?";s[y]="^"+w+"$";var _="[v=\\s]*"+s[f]+s[b]+"?"+s[v]+"?",x=a++;s[x]="^"+_+"$";var O=a++;s[O]="((?:<|>)?=?)";var E=a++;s[E]=s[u]+"|x|X|\\*";var S=a++;s[S]=s[c]+"|x|X|\\*";var j=a++;s[j]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[m]+")?"+s[v]+"?)?)?";var M=a++;s[M]="[v=\\s]*("+s[E]+")(?:\\.("+s[E]+")(?:\\.("+s[E]+")(?:"+s[b]+")?"+s[v]+"?)?)?";var T=a++;s[T]="^"+s[O]+"\\s*"+s[j]+"$";var A=a++;s[A]="^"+s[O]+"\\s*"+s[M]+"$";var k=a++;s[k]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=a++;s[I]="(?:~>?)";var C=a++;s[C]="(\\s*)"+s[I]+"\\s+",o[C]=new RegExp(s[C],"g");var R=a++;s[R]="^"+s[I]+s[j]+"$";var P=a++;s[P]="^"+s[I]+s[M]+"$";var L=a++;s[L]="(?:\\^)";var N=a++;s[N]="(\\s*)"+s[L]+"\\s+",o[N]=new RegExp(s[N],"g");var D=a++;s[D]="^"+s[L]+s[j]+"$";var B=a++;s[B]="^"+s[L]+s[M]+"$";var $=a++;s[$]="^"+s[O]+"\\s*("+_+")$|^$";var F=a++;s[F]="^"+s[O]+"\\s*("+w+")$|^$";var U=a++;s[U]="(\\s*)"+s[O]+"\\s*("+_+"|"+s[j]+")",o[U]=new RegExp(s[U],"g");var z=a++;s[z]="^\\s*("+s[j]+")\\s+-\\s+("+s[j]+")\\s*$";var H=a++;s[H]="^\\s*("+s[M]+")\\s+-\\s+("+s[M]+")\\s*$";var G=a++;s[G]="(<|>)?=?\\s*\\*";for(var V=0;V<35;V++)r(V,s[V]),o[V]||(o[V]=new RegExp(s[V]));function q(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?o[x]:o[y]).test(t))return null;try{return new W(t,e)}catch(t){return null}}function W(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(t,e);r("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?o[x]:o[y]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}e.parse=q,e.valid=function(t,e){var n=q(t,e);return n?n.version:null},e.clean=function(t,e){var n=q(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(t){return r("SemVer.compare",this.version,this.options,t),t instanceof W||(t=new W(t,this.options)),this.compareMain(t)||this.comparePre(t)},W.prototype.compareMain=function(t){return t instanceof W||(t=new W(t,this.options)),Y(this.major,t.major)||Y(this.minor,t.minor)||Y(this.patch,t.patch)},W.prototype.comparePre=function(t){if(t instanceof W||(t=new W(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return Y(n,i)}while(++e)},W.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(Q(t,e))return null;var n=q(t),r=q(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(t,e){var n=K.test(t),r=K.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function X(t,e,n){return new W(t,n).compare(new W(e,n))}function Z(t,e,n){return X(t,e,n)>0}function J(t,e,n){return X(t,e,n)<0}function Q(t,e,n){return 0===X(t,e,n)}function tt(t,e,n){return 0!==X(t,e,n)}function et(t,e,n){return X(t,e,n)>=0}function nt(t,e,n){return X(t,e,n)<=0}function rt(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return Q(t,n,r);case"!=":return tt(t,n,r);case">":return Z(t,n,r);case">=":return et(t,n,r);case"<":return J(t,n,r);case"<=":return nt(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function it(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof it){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof it))return new it(t,e);r("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===ot?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(t,e){return Y(e,t)},e.major=function(t,e){return new W(t,e).major},e.minor=function(t,e){return new W(t,e).minor},e.patch=function(t,e){return new W(t,e).patch},e.compare=X,e.compareLoose=function(t,e){return X(t,e,!0)},e.rcompare=function(t,e,n){return X(e,t,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=Z,e.lt=J,e.eq=Q,e.neq=tt,e.gte=et,e.lte=nt,e.cmp=rt,e.Comparator=it;var ot={};function st(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof st)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new st(t.raw,e);if(t instanceof it)return new st(t.value,e);if(!(this instanceof st))return new st(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function at(t){return!t||"x"===t.toLowerCase()||"*"===t}function ct(t,e,n,r,i,o,s,a,c,u,l,h,f){return((e=at(n)?"":at(r)?">="+n+".0.0":at(i)?">="+n+"."+r+".0":">="+e)+" "+(a=at(c)?"":at(u)?"<"+(+c+1)+".0.0":at(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ut(t,e,n){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(i=0;i<t.length;i++)if(r(t[i].semver),t[i].semver!==ot&&t[i].semver.prerelease.length>0){var o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}function lt(t,e,n){try{e=new st(e,n)}catch(t){return!1}return e.test(t)}function ht(t,e,n,r){var i,o,s,a,c;switch(t=new W(t,r),e=new st(e,r),n){case">":i=Z,o=nt,s=J,a=">",c=">=";break;case"<":i=J,o=et,s=Z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lt(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],h=null,f=null;if(l.forEach((function(t){t.semver===ot&&(t=new it(">=0.0.0")),h=h||t,f=f||t,i(t.semver,h.semver,r)?h=t:s(t.semver,f.semver,r)&&(f=t)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0}it.prototype.parse=function(t){var e=this.options.loose?o[$]:o[F],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=ot},it.prototype.toString=function(){return this.value},it.prototype.test=function(t){return r("Comparator.test",t,this.options.loose),this.semver===ot||("string"==typeof t&&(t=new W(t,this.options)),rt(t,this.operator,this.semver,this.options))},it.prototype.intersects=function(t,e){if(!(t instanceof it))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return n=new st(t.value,e),lt(this.value,n,e);if(""===t.operator)return n=new st(this.value,e),lt(t.semver,n,e);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=rt(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=rt(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&s||a||c},e.Range=st,st.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},st.prototype.toString=function(){return this.range},st.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?o[H]:o[z];t=t.replace(n,ct),r("hyphen replace",t),t=t.replace(o[U],"$1$2$3"),r("comparator trim",t,o[U]),t=(t=(t=t.replace(o[C],"$1~")).replace(o[N],"$1^")).split(/\s+/).join(" ");var i=e?o[$]:o[F],s=t.split(" ").map((function(t){return function(t,e){return r("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){r("caret",t,e);var n=e.loose?o[B]:o[D];return t.replace(n,(function(e,n,i,o,s){var a;return r("caret",t,e,n,i,o,s),at(n)?a="":at(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":at(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(t,e)})).join(" ")}(t,e),r("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var n=e.loose?o[P]:o[R];return t.replace(n,(function(e,n,i,o,s){var a;return r("tilde",t,e,n,i,o,s),at(n)?a="":at(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":at(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(t,e)})).join(" ")}(t,e),r("tildes",t),t=function(t,e){return r("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var n=e.loose?o[A]:o[T];return t.replace(n,(function(e,n,i,o,s,a){r("xRange",t,e,n,i,o,s,a);var c=at(i),u=c||at(o),l=u||at(s);return"="===n&&l&&(n=""),c?e=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),e=n+i+"."+o+"."+s):u?e=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(e=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",e),e}))}(t,e)})).join(" ")}(t,e),r("xrange",t),t=function(t,e){return r("replaceStars",t,e),t.trim().replace(o[G],"")}(t,e),r("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(t){return!!t.match(i)}))),s=s.map((function(t){return new it(t,this.options)}),this)},st.prototype.intersects=function(t,e){if(!(t instanceof st))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return t.set.some((function(t){return t.every((function(t){return n.intersects(t,e)}))}))}))}))},e.toComparators=function(t,e){return new st(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},st.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new W(t,this.options));for(var e=0;e<this.set.length;e++)if(ut(this.set[e],t,this.options))return!0;return!1},e.satisfies=lt,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var o=new st(e,n)}catch(t){return null}return t.forEach((function(t){o.test(t)&&(r&&-1!==i.compare(t)||(i=new W(r=t,n)))})),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var o=new st(e,n)}catch(t){return null}return t.forEach((function(t){o.test(t)&&(r&&1!==i.compare(t)||(i=new W(r=t,n)))})),r},e.minVersion=function(t,e){t=new st(t,e);var n=new W("0.0.0");if(t.test(n))return n;if(n=new W("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach((function(t){var e=new W(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!Z(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new st(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return ht(t,e,"<",n)},e.gtr=function(t,e,n){return ht(t,e,">",n)},e.outside=ht,e.prerelease=function(t,e){var n=q(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new st(t,n),e=new st(e,n),t.intersects(e)},e.coerce=function(t){if(t instanceof W)return t;if("string"!=typeof t)return null;var e=t.match(o[k]);if(null==e)return null;return q(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}}).call(this,n(6))},function(t,e,n){"use strict";n.p},function(t,e,n){"use strict";n.p},function(t,e,n){"use strict";n.p},function(t,e,n){"use strict";n.p},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";function r(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),s=t.a,a=Math.round(t.h),c=t.s.toFixed(1),u=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=t.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+s+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+s+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+s+"}":"HSV_OBJ"===n?"{h:"+a+",s:"+c+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+a+",s:"+c+",v:"+u+",a:"+s+"}":"unknown format"}n.r(e),n.d(e,"color",(function(){return ut})),n.d(e,"controllers",(function(){return lt})),n.d(e,"dom",(function(){return ht})),n.d(e,"gui",(function(){return ft})),n.d(e,"GUI",(function(){return dt}));var i=Array.prototype.forEach,o=Array.prototype.slice,s={BREAK:{},extend:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(i&&t.forEach&&t.forEach===i)t.forEach(e,n);else if(t.length===t.length+0){var r,o=void 0;for(o=0,r=t.length;o<r;o++)if(o in t&&e.call(n,t[o],o)===this.BREAK)return}else for(var s in t)if(e.call(n,t[s],s)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments;function s(){r=null,n||t.apply(i,o)}var a=n||!r;clearTimeout(r),r=setTimeout(s,e),a&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},a=[{litmus:s.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:r},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:r},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:r}}},{litmus:s.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:s.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:s.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(s.isNumber(t.r)&&s.isNumber(t.g)&&s.isNumber(t.b)&&s.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(s.isNumber(t.r)&&s.isNumber(t.g)&&s.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(s.isNumber(t.h)&&s.isNumber(t.s)&&s.isNumber(t.v)&&s.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(s.isNumber(t.h)&&s.isNumber(t.s)&&s.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],c=void 0,u=void 0,l=function(){u=!1;var t=arguments.length>1?s.toArray(arguments):arguments[0];return s.each(a,(function(e){if(e.litmus(t))return s.each(e.conversions,(function(e,n){if(c=e.read(t),!1===u&&!1!==c)return u=c,c.conversionName=n,c.conversion=e,s.BREAK})),s.BREAK})),u},h=void 0,f={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),c=[[n,a,o],[s,n,o],[o,n,a],[o,s,n],[a,o,n],[n,o,s]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,s=void 0;return 0===i?{h:NaN,s:0,v:0}:(s=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(s/=6)<0&&(s+=1),{h:360*s,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(h=8*e)|t&~(255<<h)}},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},g=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},v=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},y=function(){function t(){if(p(this,t),this.__state=l.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return m(t,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function w(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||y.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(y.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function _(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||y.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(y.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}y.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=f.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");s.extend(t.__state,f.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},y.recalculateHSV=function(t){var e=f.rgb_to_hsv(t.r,t.g,t.b);s.extend(t.__state,{s:e.s,v:e.v}),s.isNaN(e.h)?s.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},y.COMPONENTS=["r","g","b","h","s","v","hex","a"],w(y.prototype,"r",2),w(y.prototype,"g",1),w(y.prototype,"b",0),_(y.prototype,"h"),_(y.prototype,"s"),_(y.prototype,"v"),Object.defineProperty(y.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(y.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=f.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var x=function(){function t(e,n){p(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return m(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),O={};s.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){s.each(t,(function(t){O[t]=e}))}));var E=/(\d+(\.\d+)?)px/;function S(t){if("0"===t||s.isUndefined(t))return 0;var e=t.match(E);return s.isNull(e)?0:parseFloat(e[1])}var j={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;s.isUndefined(i)&&(i=!0),s.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=O[e];if(!o)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var c=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,c,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=a.initKeyboardEvent||a.initKeyEvent;s.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}s.defaults(a,r),t.dispatchEvent(a)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),j},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),j},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return j},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return j},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return S(e["border-left-width"])+S(e["border-right-width"])+S(e["padding-left"])+S(e["padding-right"])+S(e.width)},getHeight:function(t){var e=getComputedStyle(t);return S(e["border-top-width"])+S(e["border-bottom-width"])+S(e["padding-top"])+S(e["padding-bottom"])+S(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},M=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),j.bind(r.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x),T=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,a=i;if(i.__select=document.createElement("select"),s.isArray(o)){var c={};s.each(o,(function(t){c[t]=t})),o=c}return s.each(o,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)})),i.updateDisplay(),j.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;a.setValue(t)})),i.domElement.appendChild(i.__select),i}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return j.isActive(this.__select)?this:(this.__select.value=this.getValue(),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(x),A=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),j.bind(r.__input,"keyup",o),j.bind(r.__input,"change",o),j.bind(r.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),j.bind(r.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return g(e,t),m(e,[{key:"updateDisplay",value:function(){return j.isActive(this.__input)||(this.__input.value=this.getValue()),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x);function k(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var I=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,s.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=k(i.__impliedStep),i}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=k(t),this}}]),e}(x);var C=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,a=void 0;function c(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){j.unbind(window,"mousemove",u),j.unbind(window,"mouseup",l),c()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),j.bind(i.__input,"change",(function(){var t=parseFloat(o.__input.value);s.isNaN(t)||o.setValue(t)})),j.bind(i.__input,"blur",(function(){c()})),j.bind(i.__input,"mousedown",(function(t){j.bind(window,"mousemove",u),j.bind(window,"mouseup",l),a=t.clientY})),j.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,c())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(I);function R(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var P=function(t){function e(t,n,r,i,o){p(this,e);var s=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),a=s;function c(t){t.preventDefault();var e=a.__background.getBoundingClientRect();return a.setValue(R(t.clientX,e.left,e.right,a.__min,a.__max)),!1}function u(){j.unbind(window,"mousemove",c),j.unbind(window,"mouseup",u),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function l(t){var e=t.touches[0].clientX,n=a.__background.getBoundingClientRect();a.setValue(R(e,n.left,n.right,a.__min,a.__max))}function h(){j.unbind(window,"touchmove",l),j.unbind(window,"touchend",h),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),j.bind(s.__background,"mousedown",(function(t){document.activeElement.blur(),j.bind(window,"mousemove",c),j.bind(window,"mouseup",u),c(t)})),j.bind(s.__background,"touchstart",(function(t){if(1!==t.touches.length)return;j.bind(window,"touchmove",l),j.bind(window,"touchend",h),l(t)})),j.addClass(s.__background,"slider"),j.addClass(s.__foreground,"slider-fg"),s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(I),L=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,j.bind(i.__button,"click",(function(t){return t.preventDefault(),o.fire(),!1})),j.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return g(e,t),m(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(x),N=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new y(r.getValue()),r.__temp=new y(0);var i=r;r.domElement=document.createElement("div"),j.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",j.bind(r.__input,"keydown",(function(t){13===t.keyCode&&d.call(this)})),j.bind(r.__input,"blur",d),j.bind(r.__selector,"mousedown",(function(){j.addClass(this,"drag").bind(window,"mouseup",(function(){j.removeClass(i.__selector,"drag")}))})),j.bind(r.__selector,"touchstart",(function(){j.addClass(this,"drag").bind(window,"touchend",(function(){j.removeClass(i.__selector,"drag")}))}));var o,a=document.createElement("div");function c(t){b(t),j.bind(window,"mousemove",b),j.bind(window,"touchmove",b),j.bind(window,"mouseup",h),j.bind(window,"touchend",h)}function u(t){g(t),j.bind(window,"mousemove",g),j.bind(window,"touchmove",g),j.bind(window,"mouseup",f),j.bind(window,"touchend",f)}function h(){j.unbind(window,"mousemove",b),j.unbind(window,"touchmove",b),j.unbind(window,"mouseup",h),j.unbind(window,"touchend",h),m()}function f(){j.unbind(window,"mousemove",g),j.unbind(window,"touchmove",g),j.unbind(window,"mouseup",f),j.unbind(window,"touchend",f),m()}function d(){var t=l(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function m(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function b(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,s=(r-e.left)/(e.right-e.left),a=1-(o-e.top)/(e.bottom-e.top);return a>1?a=1:a<0&&(a=0),s>1?s=1:s<0&&(s=0),i.__color.v=a,i.__color.s=s,i.setValue(i.__color.toOriginal()),!1}function g(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return s.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.extend(a.style,{width:"100%",height:"100%",background:"none"}),B(a,"top","rgba(0,0,0,0)","#000"),s.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=r.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),j.bind(r.__saturation_field,"mousedown",c),j.bind(r.__saturation_field,"touchstart",c),j.bind(r.__field_knob,"mousedown",c),j.bind(r.__field_knob,"touchstart",c),j.bind(r.__hue_field,"mousedown",u),j.bind(r.__hue_field,"touchstart",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t=l(this.getValue());if(!1!==t){var e=!1;s.each(y.COMPONENTS,(function(n){if(!s.isUndefined(t[n])&&!s.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&s.extend(this.__color.__state,t)}s.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;s.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,B(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),s.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),e}(x),D=["-moz-","-o-","-webkit-","-ms-",""];function B(t,e,n,r){t.style.background="",s.each(D,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "}))}var $=function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}},F='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',U=function(t,e){var n=t[e];return s.isArray(arguments[2])||s.isObject(arguments[2])?new T(t,e,arguments[2]):s.isNumber(n)?s.isNumber(arguments[2])&&s.isNumber(arguments[3])?s.isNumber(arguments[4])?new P(t,e,arguments[2],arguments[3],arguments[4]):new P(t,e,arguments[2],arguments[3]):s.isNumber(arguments[4])?new C(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new C(t,e,{min:arguments[2],max:arguments[3]}):s.isString(n)?new A(t,e):s.isFunction(n)?new L(t,e,""):s.isBoolean(n)?new M(t,e):null};var z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},H=function(){function t(){p(this,t),this.backgroundElement=document.createElement("div"),s.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),j.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),s.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;j.bind(this.backgroundElement,"click",(function(){e.hide()}))}return m(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),s.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",j.unbind(t.domElement,"webkitTransitionEnd",e),j.unbind(t.domElement,"transitionend",e),j.unbind(t.domElement,"oTransitionEnd",e)};j.bind(this.domElement,"webkitTransitionEnd",e),j.bind(this.domElement,"transitionend",e),j.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-j.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-j.getHeight(this.domElement)/2+"px"}}]),t}();$(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var G=function(){try{return!!window.localStorage}catch(t){return!1}}(),V=void 0,q=!0,W=void 0,K=!1,Y=[],X=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),j.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=s.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=s.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),s.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),s.isUndefined(r.parent)&&r.hideable&&Y.push(this),r.resizable=s.isUndefined(r.parent)&&r.resizable,r.autoPlace&&s.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=G&&"true"===localStorage.getItem(nt(this,"isLocal")),a=void 0,c=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,at(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,c&&(c.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?j.addClass(n.__ul,t.CLASS_CLOSED):j.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){G&&(o=t,t?j.bind(window,"unload",a):j.unbind(window,"unload",a),localStorage.setItem(nt(n,"isLocal"),t))}}}),s.isUndefined(r.parent)){if(this.closed=r.closed||!1,j.addClass(this.domElement,t.CLASS_MAIN),j.makeSelectable(this.domElement,!1),G&&o){n.useLocalStorage=!0;var u=localStorage.getItem(nt(this,"gui"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,j.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(j.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(j.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),j.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);j.addClass(l,"controller-name"),c=Z(n,l);j.addClass(this.__ul,t.CLASS_CLOSED),j.addClass(c,"title"),j.bind(c,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(s.isUndefined(r.parent)&&(q&&(W=document.createElement("div"),j.addClass(W,"dg"),j.addClass(W,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(W),q=!1),W.appendChild(this.domElement),j.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||at(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},j.bind(window,"resize",this.__resizeHandler),j.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),j.bind(this.__ul,"transitionend",this.__resizeHandler),j.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&st(this),a=function(){G&&"true"===localStorage.getItem(nt(n,"isLocal"))&&localStorage.setItem(nt(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((i=n.getRoot()).width+=1,s.defer((function(){i.width-=1})))};function Z(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function J(t){j.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&j.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function Q(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function tt(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,s=void 0;if(o[t.preset])s=o[t.preset];else{if(!o.Default)return;s=o.Default}if(s[r]&&void 0!==s[r][e.property]){var a=s[r][e.property];e.initialValue=a,e.setValue(a)}}}}function et(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new N(e,n);else{var o=[e,n].concat(r.factoryArgs);i=U.apply(t,o)}r.before instanceof x&&(r.before=r.before.__li),tt(t,i),j.addClass(i.domElement,"c");var a=document.createElement("span");j.addClass(a,"property-name"),a.innerHTML=i.property;var c=document.createElement("div");c.appendChild(a),c.appendChild(i.domElement);var u=Z(t,c,r.before);return j.addClass(u,X.CLASS_CONTROLLER_ROW),i instanceof N?j.addClass(u,"color"):j.addClass(u,d(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,s.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:r,factoryArgs:[s.toArray(arguments)]})}if(s.isArray(e)||s.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof P){var r=new C(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});s.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}})),j.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof C){var i=function(e){if(s.isNumber(n.__min)&&s.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=et(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=s.compose(i,n.min),n.max=s.compose(i,n.max)}else n instanceof M?(j.bind(e,"click",(function(){j.fakeEvent(n.__checkbox,"click")})),j.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof L?(j.bind(e,"click",(function(){j.fakeEvent(n.__button,"click")})),j.bind(e,"mouseover",(function(){j.addClass(n.__button,"hover")})),j.bind(e,"mouseout",(function(){j.removeClass(n.__button,"hover")}))):n instanceof N&&(j.addClass(e,"color"),n.updateDisplay=s.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=s.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&Q(t.getRoot(),!0),e}),n.setValue)}(t,u,i),t.__controllers.push(i),i}function nt(t,e){return document.location.href+"."+e}function rt(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function it(t,e){e.style.display=t.useLocalStorage?"block":"none"}function ot(t){var e=t.__save_row=document.createElement("li");j.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),j.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",j.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",j.addClass(r,"button"),j.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",j.addClass(i,"button"),j.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",j.addClass(o,"button"),j.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?s.each(t.load.remembered,(function(e,n){rt(t,n,n===t.preset)})):rt(t,"Default",!1),j.bind(a,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(a),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),G){var c=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(nt(0,"isLocal"))&&u.setAttribute("checked","checked"),it(t,c),j.bind(u,"change",(function(){t.useLocalStorage=!t.useLocalStorage,it(t,c)}))}var l=document.getElementById("dg-new-constructor");j.bind(l,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||V.hide()})),j.bind(n,"click",(function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),V.show(),l.focus(),l.select()})),j.bind(r,"click",(function(){t.save()})),j.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),j.bind(o,"click",(function(){t.revert()}))}function st(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){j.removeClass(t.__closeButton,X.CLASS_DRAG),j.unbind(window,"mousemove",n),j.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),e=i.clientX,j.addClass(t.__closeButton,X.CLASS_DRAG),j.bind(window,"mousemove",n),j.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),s.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),j.bind(t.__resize_handle,"mousedown",i),j.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function at(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ct(t,e){var n={};return s.each(t.__rememberedObjects,(function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];s.each(a,(function(t,n){o[n]=e?t.initialValue:t.getValue()})),n[i]=o})),n}X.toggleHide=function(){K=!K,s.each(Y,(function(t){t.domElement.style.display=K?"none":""}))},X.CLASS_AUTO_PLACE="a",X.CLASS_AUTO_PLACE_CONTAINER="ac",X.CLASS_MAIN="main",X.CLASS_CONTROLLER_ROW="cr",X.CLASS_TOO_TALL="taller-than-window",X.CLASS_CLOSED="closed",X.CLASS_CLOSE_BUTTON="close-button",X.CLASS_CLOSE_TOP="close-top",X.CLASS_CLOSE_BOTTOM="close-bottom",X.CLASS_DRAG="drag",X.DEFAULT_WIDTH=245,X.TEXT_CLOSED="Close Controls",X.TEXT_OPEN="Open Controls",X._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||X.toggleHide()},j.bind(window,"keydown",X._keydownHandler,!1),s.extend(X.prototype,{add:function(t,e){return et(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return et(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;s.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&W.removeChild(this.domElement);var t=this;s.each(this.__folders,(function(e){t.removeFolder(e)})),j.unbind(window,"keydown",X._keydownHandler,!1),J(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new X(e);this.__folders[t]=n;var r=Z(this,n.domElement);return j.addClass(r,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],J(t);var e=this;s.each(t.__folders,(function(e){t.removeFolder(e)})),s.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=j.getOffset(t.__ul).top,n=0;s.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=j.getHeight(e))})),window.innerHeight-e-20<n?(j.addClass(t.domElement,X.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(j.removeClass(t.domElement,X.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&s.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:s.debounce((function(){this.onResize()}),50),remember:function(){if(s.isUndefined(V)&&((V=new H).domElement.innerHTML=F),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;s.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&ot(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&at(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ct(this)),t.folders={},s.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ct(this),Q(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ct(this,!0)),this.load.remembered[t]=ct(this),this.preset=t,rt(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){s.each(this.__controllers,(function(e){this.getRoot().load.remembered?tt(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),s.each(this.__folders,(function(t){t.revert(t)})),t||Q(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&z.call(window,(function(){t(e)}));s.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){s.each(this.__controllers,(function(t){t.updateDisplay()})),s.each(this.__folders,(function(t){t.updateDisplay()}))}});var ut={Color:y,math:f,interpret:l},lt={Controller:x,BooleanController:M,OptionController:T,StringController:A,NumberController:I,NumberControllerBox:C,NumberControllerSlider:P,FunctionController:L,ColorController:N},ht={dom:j},ft={GUI:X},dt=X,pt={color:ut,controllers:lt,dom:ht,gui:ft,GUI:dt};e.default=pt},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){(function(t){(function(){var e,r=n(57).default,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var o=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function s(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:s(t)}}!function(t,e){if(e){var n=o;t=t.split(".");for(var r=0;r<t.length-1;r++){var s=t[r];s in n||(n[s]={}),n=n[s]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var c=c||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function b(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function j(t,e,n){this.code=A+t,this.message=e||k[t]||"",this.a=n||null}function M(t){var e=t&&t.code;return e?new j(e.substring(A.length),t.message,t.serverResponse):null}S(j,Error),j.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},j.prototype.toJSON=function(){return this.v()};var T,A="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},I={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function C(t){for(var e in I)if(I[e].id===t)return{firebaseEndpoint:(t=I[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function N(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function $(){this.b=this.a=null}T=C("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(L,P),L.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new D((function(){return new z}),(function(t){t.reset()}));function U(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}$.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=H(t,e)}function Y(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Z(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ht=lt.userAgent;if(ht){Q=ht;break t}}Q=""}function ft(t){return ct(Q,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<bt.length;o++)n=bt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(b(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===xt&&e||"",this.b=_t}function wt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(N("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ra=!0,yt.prototype.qa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},xt={},Ot=new yt(xt,"");function Et(t,e){this.a=t===kt&&e||"",this.b=At}function St(t){return t instanceof Et&&t.constructor===Et&&t.b===At?t.a:(N("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function jt(t,e){var n=wt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Mt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?wt(t):encodeURIComponent(String(t))})),new Et(kt,t)}Et.prototype.ra=!0,Et.prototype.qa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Mt=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},kt={};function It(t,e){this.a=t===Nt&&e||"",this.b=Lt}function Ct(t){return t instanceof It&&t.constructor===It&&t.b===Lt?t.a:(N("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}It.prototype.ra=!0,It.prototype.qa=function(){return this.a.toString()},It.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof It?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new It(Nt,t))}var Lt={},Nt={};function Dt(){this.a="",this.b=$t}function Bt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===$t?t.a:(N("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $t={};function Ft(t){var e=new Dt;return e.a=t,e}Ft("<!DOCTYPE html>");var Ut=Ft("");function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Ft("<br>"),Gt[" "]=f;var Vt,qt,Wt=ft("Opera"),Kt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),Xt=Yt||Kt,Zt=ft("Gecko")&&!(ct(Q.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ct(Q.toLowerCase(),"webkit")&&!ft("Edge");function Qt(){var t=u.document;return t?t.documentMode:void 0}t:{var te="",ee=(qt=Q,Zt?/rv:([^\);]+)(\)|;)/.exec(qt):Yt?/Edge\/([\d\.]+)/.exec(qt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Jt?/WebKit\/(\S+)/.exec(qt):Wt?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(ee&&(te=ee?ee[1]:""),Kt){var ne=Qt();if(null!=ne&&ne>parseFloat(te)){Vt=String(ne);break t}}Vt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Vt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}re=u.document&&Kt?Qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(qt){}var se=!Kt||9<=Number(re);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!p(o)||b(o)&&0<o.nodeType?r(o):G(pe(o)?J(o):o,r)}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(b(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function me(t){u.setTimeout((function(){throw t}),0)}function be(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",function(t){var e=new Et(kt,wt(Ot));vt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Bt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ge(t,e){le||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);le=function(){t.then(we)}}else le=function(){var t=we;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!ft("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=be()),ue(t)):u.setImmediate(t)}}(),ve||(le(),ve=!0),ye.add(t,e)}var ve=!1,ye=new $;function we(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){me(t)}B(F,t)}ve=!1}function _e(t,e){if(this.a=xe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Pe(n,Oe,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Pe(n,Ee,t)}))}catch(t){Pe(this,Ee,t)}}var xe=0,Oe=2,Ee=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var je=new D((function(){return new Se}),(function(t){t.reset()}));function Me(t,e,n){var r=je.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof _e)return t;var e=new _e(f);return Pe(e,Oe,t),e}function Ae(t){return new _e((function(e,n){n(t)}))}function ke(t,e,n){Le(t,e,n,null)||ge(O(e,t))}function Ie(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],O(i,o,!0),O(i,o,!1));else e(r)}))}function Ce(t,e){t.b||t.a!=Oe&&t.a!=Ee||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Me(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Pe(t,e,n){t.a==xe&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=Ee||n instanceof Ue||function(t,e){t.g=!0,ge((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof _e)return Ce(t,Me(e||f,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(b(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ne(t){t.h||(t.h=!0,ge(t.ec,t))}function De(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,$e(e,n,r);else try{e.c?e.g.call(e.f):$e(e,n,r)}catch(t){Fe.call(null,t)}B(je,e)}function $e(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Re(this,m(t)?t:null,m(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(e=_e.prototype).ma=function(t,e){return(t=Me(t,t,e)).c=!0,Ce(this,t),this},e.o=function(t,e){return Re(this,null,t,e)},e.cancel=function(t){if(this.a==xe){var e=new Ue(t);ge((function(){!function t(e,n){if(e.a==xe)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==xe&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Be(r,o,Ee,n)))}e.c=null}else Pe(e,Ee,n)}(this,e)}),this)}},e.Yc=function(t){this.a=xe,Pe(this,Oe,t)},e.Zc=function(t){this.a=xe,Pe(this,Ee,t)},e.ec=function(){for(var t;t=De(this);)Be(this,t,this.a,this.i);this.h=!1};var Fe=me;function Ue(t){P.call(this,t)}function ze(){0!=He&&(Ge[g(this)]=this),this.wa=this.wa,this.na=this.na}S(Ue,P),Ue.prototype.name="cancel";var He=0,Ge={};function Ve(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=He)){var e=g(t);if(0!=He&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}ze.prototype.wa=!1,ze.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var qe=Object.freeze||function(t){return t},We=!Kt||9<=Number(re),Ke=Kt&&!oe("9"),Ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,Xe);var Je=qe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.f=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++tn,this.ua=this.Na=!1}function nn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new en(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?xn(t,e,n,b(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=b(i)?!!i.capture:!!i,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=gn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?On(t,e,n,b(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=wn(n),t&&t[Qe]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Qe])on(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in cn?cn[t]:cn[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&dn(t),n.call(r,e)}function gn(t,e){if(t.ua)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return bn(t,new Ze(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return m(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){ze.call(this),this.u=new rn(this),this.Yb=this,this.eb=null}function xn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,c=s.Ta||s.src;s.Na&&on(t.u,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(m(t))n&&(t=x(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function jn(t){var e=null;return new _e((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Mn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];In(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)In(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function In(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(_n,ze),_n.prototype[Qe]=!0,_n.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;gt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Ba=function(){if(_n.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.eb=null},(e=An.prototype).V=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return kn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return In(this.b,t)?this.b[t]:e},e.set=function(t,e){In(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Rn?(this.h=void 0!==e?e:t.h,Pn(this,t.f),this.i=t.i,this.b=t.b,Ln(this,t.l),this.c=t.c,Nn(this,er(t.a)),this.g=t.g):t&&(n=String(t).match(Cn))?(this.h=!!e,Pn(this,n[1]||"",!0),this.i=Un(n[2]||""),this.b=Un(n[3]||"",!0),Ln(this,n[4]),this.c=Un(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Un(n[7]||"")):(this.h=!!e,this.a=new Yn(null,this.h))}function Pn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof Yn?(t.a=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=zn(e,Wn)),t.a=new Yn(e,t.h))}function Dn(t,e,n){t.a.set(e,n)}function Bn(t,e){return t.a.get(e)}function $n(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Fn(t,e){var n=new Rn(null,void 0);return Pn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zn(e,Gn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(zn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?qn:Vn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zn(n,Kn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.f;n?Pn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Ln(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Nn(e,er(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Gn=/[#\/\?@]/g,Vn=/[#\?:]/g,qn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Mn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Xn(t),e=nr(t,e),In(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,In((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Qn(t,e){return Xn(t),e=nr(t,e),In(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),ar(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ir,t,e),e.join("")}function ir(){}(e=Yn.prototype).add=function(t,e){Xn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Xn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Xn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){Xn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=Z(e,this.a.get(nr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},e.set=function(t,e){return Xn(this),this.c=null,Qn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(sr,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function cr(){var t=Mr();return Kt&&!!re&&11==re||/Edge\/\d+/.test(t)}function ur(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||u.window;var n="about:blank";t&&(n=Ct(Pt(t))),e.location.href=n}function hr(t){return!!((t=(t||Mr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||u.window;try{t.close()}catch(t){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Mr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Er(Mr())==xr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof It?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e instanceof It||e instanceof It||(e="object"==typeof e&&e.ra?e.qa():String(e),Rt.test(e)||(e="about:invalid#zClosurez"),e=new It(Nt,e)),s.href=Ct(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Ct(e),s&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">'),r=s.document)&&(r.write(Bt(t)),r.close())):(s=r.open(Ct(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function br(){var t=null;return new _e((function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw fn(window,"load",t),e}))}function gr(t){return t=t||Mr(),!("file:"!==Cr()&&"ionic:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function wr(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var xr="Firefox",Or="Chrome";function Er(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?xr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Sr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function jr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Er(i=Mr()):"Worker"===r&&(r=Er(i=Mr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Mr(){return u.navigator&&u.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=u.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!u.indexedDB}catch(t){return yr()&&!!u.indexedDB}return!1}function kr(){return(Ir()||"chrome-extension:"===Cr()||gr())&&!_r()&&Ar()&&!yr()}function Ir(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return u.location&&u.location.protocol||null}function Rr(t){return!hr(t=t||Mr())&&Er(t)!=xr}function Pr(t){return void 0===t?null:rr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Br(t){return"Safari"!=Er(t=t||Mr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function $r(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Mr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function Ur(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Hr(){return!(!Tr("fireauth.oauthhelper",u)&&!Tr("fireauth.iframe",u))}Fr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==Cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Vr={};function qr(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Wr.abcd}catch(qt){Gr=!1}function Kr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Xr(t){var e={};return Yr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,Zr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new j("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ni]),Kr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Qr(t){try{var e=new ii(t)}catch(t){e=null}return e}Jr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),Kr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ui],r=t[hi],i=t[fi];if(t=Qr(t[li]),!i||i!=ai&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[pi]=n||null,e[bi]=n||null,e[di]=r):(e[pi]=r||null,e[bi]=r||null,e[di]=n||null),e[mi]=t||null,Kr(this,vi,i),Kr(this,gi,Zr(e))}S(ii,Jr),ii.prototype.v=function(){var t=ii.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",ui="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",mi="multiFactorInfo",bi="previousEmail",gi="data",vi="operation";function yi(t){var e=Bn(t=$n(t),wi)||null,n=Bn(t,_i)||null,r=Bn(t,Ei)||null;if(r=r&&ji[r]||null,!e||!n||!r)throw new j("argument-error",wi+", "+_i+"and "+Ei+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Bn(t,xi)||null,languageCode:Bn(t,Oi)||null,tenantId:Bn(t,Si)||null})}var wi="apiKey",_i="oobCode",xi="continueUrl",Oi="languageCode",Ei="mode",Si="tenantId",ji={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Mi(t){try{return new yi(t)}catch(t){return null}}function Ti(t){var e=t[Ri];if(void 0===e)throw new j("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new j("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Ni];var r=n[Pi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new j("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new j("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new j("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new j("missing-android-pkg-name")}}else if(void 0!==n)throw new j("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[Ci])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new j("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new j("argument-error",Ci+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new j("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new j("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",ki="dynamicLinkDomain",Ii="handleCodeInApp",Ci="iOS",Ri="url",Pi="installApp",Li="minimumVersion",Ni="packageName",Di="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var $i=null;function Fi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=$i[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!$i){$i={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===$i[o]&&($i[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ui(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,E(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function zi(t){try{return new Ui(t)}catch(t){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Fi(t))}catch(t){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],qi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Gi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Wi(t){for(var e in qi)if(qi[e].ea==t)return qi[e];return null}function Ki(t){var e={};e["facebook.com"]=Qi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Zi(t)}catch(t){}return null}var Yi="idToken",Xi="providerId";function Zi(t){var e=t[Xi];if(!e&&t[Yi]){var n=zi(t[Yi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Ji(t){Zi.call(this,t),Kr(this,"profile",Zr((t=Nr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function ro(t){var e=$n(t),n=Bn(e,"link"),r=Bn($n(n),"link");return e=Bn(e,"deep_link_id"),Bn($n(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new j("internal-error","Internal assert: no raw session string available");if(t&&e)throw new j("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}S(Ji,Zi),S(Qi,Ji),S(to,Ji),S(eo,Ji),S(no,Ji);var oo="enroll",so="signin";function ao(){}function co(t,e){return t.then((function(t){if(t[Xs]){var n=zi(t[Xs]);if(!n||e!=n.h)throw new j("user-mismatch");return t}throw new j("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new j("user-mismatch"):t}))}function uo(t,e){if(!e)throw new j("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new j("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Oc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Wi(t)||{}).Ha||null,this.kb=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new j("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function vo(t){bo.call(this,t,Vi),this.a=[]}function yo(){vo.call(this,"facebook.com")}function wo(t){if(!t)throw new j("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function _o(){vo.call(this,"github.com")}function xo(t){if(!t)throw new j("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Oo(){vo.call(this,"google.com"),this.Aa("profile")}function Eo(t,e){var n=t;return b(t)&&(n=t.idToken,e=t.accessToken),(new Oo).credential({idToken:n,accessToken:e})}function So(){bo.call(this,"twitter.com",Gi)}function jo(t,e){var n=t;if(b(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new j("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Mo(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Mo(t.email,t.password,t.signInMethod):null}function Ao(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=Io(e)))throw new j("argument-error","Invalid email link!");return new Mo(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Io(t){return(t=Mi(t=ro(t)))&&t.operation===ai?t:null}function Co(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new j("internal-error");this.a=t,Kr(this,"providerId","phone"),this.ea="phone",Kr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Co(e)}return null}function Po(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Lo(t){try{this.a=t||r.auth()}catch(t){throw new j("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new j("missing-verification-id");if(!e)throw new j("missing-verification-code");return new Co({bb:t,ab:e})}function Do(t){if(t.temporaryProof&&t.phoneNumber)return new Co({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return wo(n);case"github.com":return xo(n);case"twitter.com":return jo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Bo(t){if(!t.isOAuthProvider)throw new j("invalid-oauth-provider")}function $o(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new j("invalid-auth-event");if(this.g&&this.a)throw new j("invalid-auth-event");if(this.g&&!this.f)throw new j("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new $o(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&M(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}io.prototype.Fa=function(){return this.a?Te(this.a):Te(this.b)},io.prototype.v=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ia=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.v=function(){},uo.prototype.ia=function(t){return ba(t,lo(this))},uo.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ga(t,n)},uo.prototype.c=function(t,e){return co(va(t,lo(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ia=function(t){return ba(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ga(t,n)},fo.prototype.c=function(t,e){return co(va(t,po(this)),e)},fo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ia=function(t){return this.Fb=mt(t),this},S(go,bo),S(vo,bo),vo.prototype.Aa=function(t){return K(this.a,t)||this.a.push(t),this},vo.prototype.Nb=function(){return J(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=b(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new j("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},S(yo,vo),Kr(yo,"PROVIDER_ID","facebook.com"),Kr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(_o,vo),Kr(_o,"PROVIDER_ID","github.com"),Kr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),S(Oo,vo),Kr(Oo,"PROVIDER_ID","google.com"),Kr(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(So,bo),Kr(So,"PROVIDER_ID","twitter.com"),Kr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Mo.prototype.ia=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Qa(t,ja,{email:this.a,oobCode:this.f}):Qa(t,Ka,{email:this.a,password:this.f})},Mo.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Qa(t,Ma,{idToken:e,email:this.a,oobCode:this.f}):Qa(t,Fa,{idToken:e,email:this.a,password:this.f})},Mo.prototype.c=function(t,e){return co(this.ia(t),e)},Mo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ao,{PROVIDER_ID:"password"}),Yr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.ia=function(t){return t.cb(Po(this))},Co.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,Qa(t,Xa,n)},Co.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",co(t=Qa(t,Za,n),e)},Co.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Lo.prototype.cb=function(t,e){var n=this.a.b;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new j("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=b(t)?t.session:null,o=b(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Fa().then((function(t){return function(t,e){return Qa(t,za,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Fa().then((function(e){return function(t,e){return Qa(t,Ha,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qa(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new j("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),$o.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},$o.prototype.S=function(){return this.h},$o.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var zo,Ho=null;function Go(t){var e="unauthorized-domain",n=void 0,r=$n(t);t=r.b,"chrome-extension"==(r=r.f)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",j.call(this,e,n)}function Vo(t,e,n){j.call(this,t,n),(t=e||{}).Gb&&Kr(this,"email",t.Gb),t.da&&Kr(this,"phoneNumber",t.da),t.credential&&Kr(this,"credential",t.credential),t.Wb&&Kr(this,"tenantId",t.Wb)}function qo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Do(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new j(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Wo(){}function Ko(t){return t.c||(t.c=t.b())}function Yo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.oc,this),this.a.onerror=x(this.Pb,this),this.a.onprogress=x(this.pc,this),this.a.ontimeout=x(this.tc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Go,j),S(Vo,j),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&gt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Wo.prototype.c=null,S(Yo,Wo),Yo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},zo=new Yo,S(Zo,Wo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Qo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null;function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}ts.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);es.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(N("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},cs=null;function us(t){var e;if(cs||(cs=new es(""),as[""]=cs,cs.c=os),!(e=as[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(ss,e,void 0)}function hs(t){this.f=t}function fs(t){_n.call(this),this.s=t,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=us("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(hs,Wo),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),S(fs,_n);var ds=0;function ps(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ms(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function gs(t){_n.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=vs,this.w=this.R=!1}(e=fs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,bs(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this,!1)),this.readyState=ds},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,bs(this)),this.a&&(this.readyState=3,bs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ps(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this,!0):bs(this),3==this.readyState&&ps(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,ms(this,!0))},e.qc=function(t){this.a&&(this.response=t,ms(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(is,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ms(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(gs,_n);var vs="";gs.prototype.b=us("goog.net.XhrIo");var ys=/^https?$/i,ws=["POST","PUT"];function _s(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():zo.a(),t.B=t.D?Ko(t.D):Ko(zo),t.a.onreadystatechange=x(t.Sb,t);try{ls(t.b,ks(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ls(t.b,ks(t,"Error opening Xhr: "+e.message)),void Os(t,e)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=Tn(t),r=Mn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=xs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!K(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ms(t),0<t.g&&(t.w=function(t){return Kt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,ks(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=x(t.Ka,t)):t.s=Sn(t.Ka,t.g,t)),ls(t.b,ks(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ls(t.b,ks(t,"Send error: "+e.message)),Os(t,e)}}function xs(t){return"content-type"==t.toLowerCase()}function Os(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),js(t)}function Es(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==c)if(t.B[1]&&4==Ts(t)&&2==As(t))ls(t.b,ks(t,"Local request error detected and ignored"));else if(t.i&&4==Ts(t))Sn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ts(t)){ls(t.b,ks(t,"Request complete")),t.c=!1;try{var e,n=As(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Cn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!ys.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<Ts(t)?t.a.statusText:""}catch(e){ls(t.b,"Can not get status: "+e.message),a=""}t.h=a+" ["+As(t)+"]",Es(t)}}finally{js(t)}}}function js(t,e){if(t.a){Ms(t);var n=t.a,r=t.B[0]?f:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ms(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ts(t){return t.a?t.a.readyState:0}function As(t){try{return 2<Ts(t)?t.a.status:-1}catch(t){return-1}}function ks(t,e){return e+" ["+t.P+" "+t.l+" "+As(t)+"]"}function Is(t){var e=zs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Cs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function Rs(t){if(t.a){if(!t.u)throw new Ds(t);t.u=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function Ls(t){return W(t.g,(function(t){return m(t[1])}))}function Ns(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=Fs[e];n&&(u.clearTimeout(n.a),delete Fs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(R(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(a=x(t.m,t,!0),r=x(t.m,t,!1),e instanceof Is?(Ps(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new $s(e),Fs[e.a]=e,t.h=e.a)}function Ds(){P.call(this)}function Bs(){P.call(this)}function $s(t){this.a=u.setTimeout(x(this.c,this),0),this.b=t}(e=gs.prototype).Ka=function(){void 0!==c&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ls(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),js(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),js(this,!0)),gs.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?Ss(this):this.Hc())},e.Hc=function(){Ss(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case vs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ls(this.b,"Can not get response: "+t.message),null}},Is.prototype.cancel=function(t){if(this.a)this.c instanceof Is&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Bs(this),Rs(this),Cs(this,!1,t))}},Is.prototype.m=function(t,e){this.i=!1,Cs(this,t,e)},Is.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Ps(this,r,(function(t){t instanceof Bs?o.cancel():i(t)})),o.then(t,e,n)},Is.prototype.$goog_Thenable=!0,S(Ds,P),Ds.prototype.message="Deferred has already fired",Ds.prototype.name="AlreadyCalledError",S(Bs,P),Bs.prototype.message="Deferred was canceled",Bs.prototype.name="CanceledError",$s.prototype.c=function(){throw delete Fs[this.a],this.b};var Fs={};function Us(t){var e={},n=e.document||document,r=St(t).toString(),i=de(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new Is(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){Hs(i,!0);var t=new qs(Vs,"Timeout reached for loading script "+r);Rs(s),Cs(s,!1,t)}),c),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,e.ud||!1,a),Rs(s),Cs(s,!0,null))},i.onerror=function(){Hs(i,!0,a);var t=new qs(Gs,"Error while loading script "+r);Rs(s),Cs(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=St(e),null===h&&(h=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function zs(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ka)}}function Hs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Vs=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ws(t){this.f=t}function Ks(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=mt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Qs,this.a=mt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=u.XMLHttpRequest||n&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest)&&!yr())throw new j("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new hs(self):_r()?this.f=new Ws(n):this.f=new Zo,this.b=null}S(qs,P),S(Ws,Wo),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Ys,Xs="idToken",Zs=new Fr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Qs=new Fr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ra(t,e,n,r,i,o,s){(function(){var t=Mr();return!((t=Er(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Kt||!re||9<re)})()||yr()?t=x(t.w,t):(Ys||(Ys=new _e((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[oa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(Us(jt(ia,{onload:oa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=x(t.s,t)),t(e,n,r,i,o,s)}Ks.prototype.S=function(){return this.b},Ks.prototype.w=function(t,e,n,r,i,o){if(yr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new j("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new gs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}xn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),On(s,"ready",(function(){a&&clearTimeout(a),Ve(this)})),On(s,"timeout",(function(){a&&clearTimeout(a),Ve(this),e&&e(null)})),_s(s,t,n,r,i)};var ia=new yt(xt,"https://apis.google.com/js/client.js?onload=%{onload}"),oa="__fcb"+Math.floor(1e6*Math.random()).toString();function sa(t,e,n,r,i,o,s){var a=$n(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",E().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Dn(a,u,i[u]);return new _e((function(e,n){ra(t,a.toString(),(function(t){t?t.error?n(ec(t,o||{})):e(t):n(new j("network-request-failed"))}),r,c?void 0:rr(Lr(i)),t.a,t.i.get())}))}function aa(t){if("string"!=typeof(t=t.email)||!mr.test(t))throw new j("invalid-email")}function ca(t){"email"in t&&aa(t)}function ua(t){if(!t[Xs]){if(t.mfaPendingCredential)throw new j("multi-factor-auth-required",null,mt(t));throw new j("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new j("internal-error")}else{if(!t.sessionInfo)throw new j("missing-verification-id");if(!t.code)throw new j("missing-verification-code")}}Ks.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ks.prototype.vb=function(){return Qa(this,Ua,{})},Ks.prototype.xb=function(t,e){return Qa(this,$a,{idToken:t,email:e})},Ks.prototype.yb=function(t,e){return Qa(this,Fa,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new j("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new j("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new j("missing-verification-code")}function da(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new j("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=qo(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;ua(t)}function ba(t,e){return e.returnIdpCredential=!0,Qa(t,Ga,e)}function ga(t,e){return e.returnIdpCredential=!0,Qa(t,qa,e)}function va(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qa(t,Va,e)}function ya(t){if(!t.oobCode)throw new j("invalid-action-code")}(e=Ks.prototype).zb=function(t,e){var n={idToken:t},r=[];return dt(ha,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qa(this,$a,n)},e.rb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Qa(this,Pa,t)},e.sb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qa(this,Ia,t)},e.qb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qa(this,Ca,t)},e.Ab=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qa(this,Ra,t)},e.cb=function(t){return Qa(this,Ya,t)},e.jb=function(t,e){return Qa(this,Da,{oobCode:t,newPassword:e})},e.Pa=function(t){return Qa(this,_a,{oobCode:t})},e.fb=function(t){return Qa(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:ya,Y:"email",C:!0},_a={endpoint:"resetPassword",A:ya,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new j("internal-error")},C:!0},xa={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new j("weak-password")},G:ua,U:!0,C:!0},Oa={endpoint:"createAuthUri",C:!0},Ea={endpoint:"deleteAccount",M:["idToken"]},Sa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=d(t.deleteProvider))throw new j("internal-error")}},ja={endpoint:"emailLinkSignin",M:["email","oobCode"],A:aa,G:ua,U:!0,C:!0},Ma={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:aa,G:ua,U:!0},Ta={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:fa,G:ua,C:!0,La:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:ua,C:!0,La:!0},ka={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new j("internal-error");aa(t)},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new j("internal-error")},Y:"email",C:!0},Ra={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new j("internal-error")},Y:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new j("internal-error");aa(t)},Y:"email",C:!0},La={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Na={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new j("internal-error")}},Da={endpoint:"resetPassword",A:ya,Y:"email",C:!0},Ba={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},$a={endpoint:"setAccountInfo",M:["idToken"],A:ca,U:!0},Fa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ca(t),!t.password)throw new j("weak-password")},G:ua,U:!0},Ua={endpoint:"signupNewUser",G:ua,U:!0,C:!0},za={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new j("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new j("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new j("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new j("internal-error")},C:!0,La:!0},Ha={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new j("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new j("internal-error")},C:!0,La:!0},Ga={endpoint:"verifyAssertion",A:da,Wa:pa,G:ma,U:!0,C:!0},Va={endpoint:"verifyAssertion",A:da,Wa:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new j("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);ua(t)},U:!0,C:!0},qa={endpoint:"verifyAssertion",A:function(t){if(da(t),!t.idToken)throw new j("internal-error")},Wa:pa,G:ma,U:!0},Wa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new j("invalid-custom-token")},G:ua,U:!0,C:!0},Ka={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new j("wrong-password")},G:ua,U:!0,C:!0},Ya={endpoint:"verifyPhoneNumber",A:la,G:ua,C:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new j("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",qo(t);ua(t)}},Za={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ua,C:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xs]^!!t.refreshToken)throw new j("internal-error")},C:!0,La:!0};function Qa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ae(new j("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Te(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),sa(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new j("internal-error");return r[e.Y]}))}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new j(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new j(r[i],e);return!e&&t&&(e=Pr(t)),new j("internal-error",e)}function nc(t){this.b=t,this.a=null,this.nb=function(t){return(sc||(sc=new _e((function(t,e){function n(){$r(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){$r(),e(Error("Network Error"))},timeout:ic.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Te(Us(r=jt(rc,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw sc=null,t})))).then((function(){return new _e((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),oc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var rc=new yt(xt,"https://apis.google.com/js/api.js?onload=%{onload}"),ic=new Fr(3e4,6e4),oc=new Fr(5e3,15e3),sc=null;function ac(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Fn(this.i,"/__/auth/iframe"),Dn(this.a,"apiKey",this.g),Dn(this.a,"appName",this.h),this.b=null,this.c=[]}function cc(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uc(t){try{return r.app(t).auth().Ea()}catch(t){return[]}}function lc(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function hc(t){var e=ur();return function(t){return Qa(t,La,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=$n(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=$n(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Go(ur())}))}function fc(t){return t.l||(t.l=br().then((function(){if(!t.s){var e=t.c,n=t.h,r=uc(t.b),i=new ac(t.u,t.f,t.b);i.f=e,i.b=n,i.c=J(r||[]),t.s=i.toString()}t.i=new nc(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.l}function dc(t){return t.m||(t.w=t.c?jr(t.c,uc(t.b)):null,t.m=new Ks(t.f,C(t.h),t.w)),t.m}function pc(t,e,n,r,i,o,s,a,c,u,l){return(t=new cc(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=mt(c||null),t.f=u,t.ub(l).toString()}function mc(t){if(this.a=t||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.a)throw new j("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bc(t){this.b=t,this.a={},this.f=x(this.c,this)}ac.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Jn(this.a.a,"v"),this.b?Dn(this.a,"eid",this.b):Jn(this.a.a,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Jn(this.a.a,"fw"),this.a.toString()},cc.prototype.ub=function(t){return this.h=t,this},cc.prototype.toString=function(){var t=Fn(this.s,"/__/auth/handler");if(Dn(t,"apiKey",this.m),Dn(t,"appName",this.c),Dn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.app(this.c).auth().ja()}catch(t){n=null}for(var i in e.kb=n,Dn(t,"providerId",this.a.providerId),n=Lr((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=mt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),pt(n)||Dn(t,"customParameters",Pr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&Dn(t,"scopes",e.join(","))),this.l?Dn(t,"redirectUrl",this.l):Jn(t.a,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Jn(t.a,"eventId"),this.i?Dn(t,"v",this.i):Jn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):Jn(t.a,"tid"),this.f?Dn(t,"eid",this.f):Jn(t.a,"eid"),(a=uc(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(e=lc.prototype).Lb=function(t,e,n){var r=new j("popup-closed-by-user"),i=new j("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return fc(t).then((function(){return function(t,e){return t.nb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){jn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return jn(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Mr();return!Rr(t)&&!Br(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new j("popup-blocked"));if(s&&!Rr())return this.ka().o((function(e){fr(t),i(e)})),r(),Te();this.a||(this.a=hc(dc(this)));var c=this;return this.a.then((function(){var e=c.ka().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Bo(n),s)||lr(pc(c.u,c.f,c.b,e,n,null,o,c.c,void 0,c.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=hc(dc(this)));var i=this;return this.a.then((function(){Bo(e),lr(pc(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return fc(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new j("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){X(this.g,(function(e){return e==t}))},(e=mc.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},e.set=function(t,e){return Te(this.a.setItem(t,Pr(e)))},e.T=function(t){return Te(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var gc,vc=[];function yc(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wc(t){this.a=t}function _c(t){this.c=t,this.b=!1,this.a=[]}function xc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(u),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Oc(t,u),e})).o((function(e){throw Oc(t,u),e}))}function Oc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Ec(){if(!Mc())throw new j("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.l=function(){var t=yr()?self:null;if(G(vc,(function(n){n.b==t&&(e=n)})),!e){var e=new bc(t);vc.push(e)}return e}(),yc(this.l,"keyChanged",(function(e,n){return Cc(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),yc(this.l,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new _c(new wc(e)),xc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Sc(t){return new _e((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Sc(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function jc(t){return t.m||(t.m=Sc(t)),t.m}function Mc(){try{return!!u.indexedDB}catch(t){return!1}}function Tc(t){return t.objectStore("firebaseLocalStorage")}function Ac(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function kc(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ic(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function Cc(t){return jc(t).then((function(t){var e=Tc(Ac(t,!1));return e.getAll?kc(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Rc(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(Mc()){var t=Dr(),r="__sak"+t;return gc||(gc=new Ec),(n=gc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Lc(){this.a={},this.type="inMemory"}function Nc(){if(!function(){var t="Node"==wr();if(!(t=Dc()||t&&r.INTERNAL.node&&r.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new j("internal-error","The LocalStorage compatibility library was not found.");throw new j("web-storage-unsupported")}this.a=Dc()||r.INTERNAL.node.localStorage,this.type="localStorage"}function Dc(){try{var t=u.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bc(){this.type="nullStorage"}function $c(){if(!function(){var t="Node"==wr();if(!(t=Fc()||t&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new j("internal-error","The SessionStorage compatibility library was not found.");throw new j("web-storage-unsupported")}this.a=Fc()||r.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fc(){try{var t=u.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Uc(){var t={};t.Browser=Gc,t.Node=Vc,t.ReactNative=qc,t.Worker=Wc,this.a=t[wr()]}bc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),Ie(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},wc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_c.prototype.close=function(){for(;0<this.a.length;)Oc(this,this.a[0]);this.b=!0},(e=Ec.prototype).set=function(t,e){var n,r=!1,i=this;return jc(this).then((function(e){return kc((e=Tc(Ac(n=e,!0))).get(t))})).then((function(o){var s=Tc(Ac(n,!0));return o?(o.value=e,kc(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,kc(s.add(o)))})).then((function(){return i.c[t]=e,Ic(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return jc(this).then((function(e){return kc(Tc(Ac(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return jc(this).then((function(r){return e=!0,n.b++,kc(Tc(Ac(r,!0)).delete(t))})).then((function(){return delete n.c[t],Ic(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Rc(t),function e(){t.f=setTimeout((function(){t.i=Cc(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Rc(this)},(e=Pc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t}))},(e=Lc.prototype).get=function(t){return Te(this.a[t])},e.set=function(t,e){return this.a[t]=e,Te()},e.T=function(t){return delete this.a[t],Te()},e.ba=function(){},e.ha=function(){},(e=Nc.prototype).get=function(t){var e=this;return Te().then((function(){return Nr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&un(u.window,"storage",t)},e.ha=function(t){u.window&&fn(u.window,"storage",t)},(e=Bc.prototype).get=function(){return Te(null)},e.set=function(){return Te()},e.T=function(){return Te()},e.ba=function(){},e.ha=function(){},(e=$c.prototype).get=function(t){var e=this;return Te().then((function(){return Nr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var zc,Hc,Gc={F:Nc,$a:$c},Vc={F:Nc,$a:$c},qc={F:mc,$a:Bc},Wc={F:Nc,$a:Bc},Kc={od:"local",NONE:"none",qd:"session"};function Yc(){var t=!(Br(Mr())||!vr()),e=Rr(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},zc||(zc=new Uc),t=zc;try{this.g=!cr()&&Hr()||!u.indexedDB?new t.a.F:new Pc(yr()?new Lc:new t.a.F)}catch(t){this.g=new Lc,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Lc}this.u=new Lc,this.f=x(this.Vb,this),this.b={}}function Xc(){return Hc||(Hc=new Yc),Hc}function Zc(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Jc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qc(t,e,n){return n=Jc(e,n),"local"==e.F&&(t.b[n]=null),Zc(t,e.F).T(n)}function tu(t){t.c&&(clearInterval(t.c),t.c=null)}function eu(t){this.a=t,this.b=Xc()}(e=Yc.prototype).get=function(t,e){return Zc(this,t.F).get(Jc(t,e))},e.set=function(t,e,n){var r=Jc(t,n),i=this,o=Zc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Jc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(Zc(this,"local").ba(this.f),this.h||(cr()||!Hr())&&u.indexedDB||!this.l||function(t){tu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Jc(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zc(this,"local").ha(this.f),tu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zc(this,"local").ha(this.f):tu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},Kt&&re&&10==re&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,x(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var nu,ru={name:"authEvent",F:"local"};function iu(){this.a=Xc()}function ou(t,e){this.b=su,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===nu&&(nu=u.Int32Array?new Int32Array(du):du),this.reset()}S(ou,(function(){this.b=-1}));for(var su=64,au=su-1,cu=[],uu=0;uu<au;uu++)cu[uu]=0;var lu=Z(128,cu);function hu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|nu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hu(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hu(t),i=0)}}t.c=i,t.g+=n}ou.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var du=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pu(){ou.call(this,8,mu)}S(pu,ou);var mu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new iu,this.g=new eu(this.h),this.f=null,this.b=[],this.a=this.c=null}function gu(t){return new j("invalid-cordova-configuration",t)}function vu(t){var e=new pu;fu(e,t),t=[];var n=8*e.g;56>e.c?fu(e,lu,56-e.c):fu(e,lu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function yu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function wu(t){return t.f||(t.f=t.ka().then((function(){return new _e((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_u(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Bn(o=$n(i),"firebaseError")||null))?M(o):null)?new $o(r.c,r.b,null,null,o,null,r.S()):new $o(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}yu(t,i)}))}var n=new $o("unknown",null,null,null,new j("no-auth-event")),r=!1,i=jn(500).then((function(){return _u(t).then((function(){r||yu(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ho||(Ho=new Uo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _u(t){var e=null;return function(t){return t.b.get(ru,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,Qc((n=t.g).b,ru,n.a)})).then((function(){return e}))}function xu(t){this.a=t,this.b=Xc()}(e=bu.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(gr(void 0)?br().then((function(){return new _e((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",u))throw gu("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",u))throw gu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",u))throw gu("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",u))throw gu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new j("cordova-not-ready")}))},e.Lb=function(t,e){return e(new j("operation-not-supported-in-this-environment")),Te()},e.Jb=function(){return Ae(new j("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return Ae(new j("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=Te().then((function(){return Bo(e),wu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new $o(e,r,null,o,new j("no-auth-event"),null,i),a=Tr("BuildInfo.packageName",u);if("string"!=typeof a)throw new j("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",u),l={};if(Mr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Mr().toLowerCase().match(/android/))return Ae(new j("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=vu(o),l.sessionId=o;var h=pc(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(ru,s.v(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new j("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",u)))throw new j("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",u)))throw new j("invalid-cordova-configuration");e=Mr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){a=function(){var e=Tr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),c=function(){s||(s=jn(2e3).then((function(){e(new j("redirect-cancelled-by-user"))})))},l=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return _u(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},e.Ca=function(t){this.b.push(t),wu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new $o("unknown",null,null,null,new j("no-auth-event")),t(e))}))},e.Qa=function(t){X(this.b,(function(e){return e==t}))};var Ou={name:"pendingRedirect",F:"session"};function Eu(t){return Qc(t.b,Ou,t.a)}function Su(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new $u,this.B=new Gu,this.g=new xu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=ju(this.D,this.u,this.m,T)}function ju(t,e,n,i){var o=r.SDK_VERSION||null;return gr()?new bu(t,e,n,o,i):new lc(t,e,n,o,i)}function Mu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Tu(t){t.a.Ub()&&Mu(t).o((function(e){var n=new $o("unknown",null,null,null,new j("operation-not-supported-in-this-environment"));Pu(e)&&t.s(n)})),t.a.Qb()||Fu(t.b)}function Au(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ou,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Eu(t.g).then((function(){Mu(t).o((function(e){var n=new $o("unknown",null,null,null,new j("operation-not-supported-in-this-environment"));Pu(e)&&t.s(n)}))})):Tu(t)})).o((function(){Tu(t)}))}function ku(t,e){X(t.h,(function(t){return t==e}))}Su.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=ju(this.D,this.u,this.m),this.i={}},Su.prototype.s=function(t){if(!t)throw new j("invalid-auth-event");if(6e5<=E()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=E())),e=!0;break}}return Fu(this.b),e};var Iu=new Fr(2e3,1e4),Cu=new Fr(3e4,6e4);function Ru(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Pu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lu(t,e,n,r,i){var o;return function(t){return t.b.set(Ou,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Pu(e))throw new j("operation-not-supported-in-this-environment");return o=e,Eu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new _e((function(){})):Eu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Nu(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Iu.get())}Su.prototype.pa=function(){return this.b.pa()};var Du={};function Bu(t,e,n){var r=e+":"+n;return Du[r]||(Du[r]=new Su(t,e,n)),Du[r]}function $u(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fu(t){t.g||(t.g=!0,Hu(t,!1,null,null))}function Uu(t){t.g&&!t.i&&Hu(t,!1,null,null)}function zu(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zu(t,n):zu(t,{user:null}),t.f=[],t.c=[]}function Gu(){}function Vu(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function qu(t,e){this.a=e,Kr(this,"verificationId",t)}function Wu(t,e,n,r){return new Lo(t).cb(e,n).then((function(t){return new qu(t,r)}))}function Ku(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new j("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yu(t,e,n){var r=e&&e[Zu];if(!r)throw new j("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;G(e[Xu]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}$u.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$u.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hu(this,!0,null,t.a),Te()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Hu(t,a,e,null)})).o((function(e){Hu(t,a,null,e)}))}(this,t,e):Ae(new j("invalid-auth-event")):(Hu(this,!1,null,null),Te())}else Ae(new j("invalid-auth-event"))},$u.prototype.pa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new j("timeout");t.a&&t.a.cancel(),t.a=jn(Cu.get()).then((function(){t.b||(t.g=!0,Hu(t,!0,null,e))}))}(t))}))},Gu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Te()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Ae(new j("invalid-auth-event"))}else Ae(new j("invalid-auth-event"))},qu.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Xu="mfaInfo",Zu="mfaPendingCredential";function Ju(t,e,n,r){j.call(this,"multi-factor-auth-required",r,e),this.b=new Yu(t,e,n),Kr(this,"resolver",this.b)}function Qu(t,e,n){if(t&&b(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ju(e,t.serverResponse,n,t.message)}catch(t){}return null}function tl(){}function el(t){Kr(this,"factorId",t.ea),this.a=t}function nl(t){if(el.call(this,t),this.a.ea!=Lo.PROVIDER_ID)throw new j("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function il(t,e){this.a=t,this.b=[],this.c=x(this.wc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ol(this,n)}function ol(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(t){this.c=t,this.b=this.a=null}function cl(t){return t.b&&1e3*t.b.c||0}function ul(t,e){var n=e.refreshToken;t.b=zi(e[Xs]||""),t.a=n}function ll(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ec(t)):t.access_token&&t.refresh_token?n(t):r(new j("internal-error")):r(new j("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new j("internal-error"))}))}(t.c,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function hl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function fl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function dl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.SDK_VERSION?jr(r.SDK_VERSION):null,this.a=new Ks(this.l,C(T),t),this.b=new al(this.a),wl(this,e[Xs]),ul(this.b,e),Kr(this,"refreshToken",this.b.a),Ol(this,n||{}),_n.call(this),this.P=!1,this.s&&kr()&&(this.i=Bu(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new sl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=cl(t.b)-E()-3e5;return 0<e?e:0}))}(this),this.Z=x(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ml(i,t.c)},this.$=null,this.O=new il(this,n),Kr(this,"multiFactor",this.O)}function pl(t,e){t.aa&&fn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&un(e,"languageCodeChanged",t.za)}function ml(t,e){t.W=e,na(t.a,r.SDK_VERSION?jr(r.SDK_VERSION,t.W):null)}function bl(t,e){t.$&&fn(t.$,"frameworkChanged",t.ya),(t.$=e)&&un(e,"frameworkChanged",t.ya)}function gl(t){try{return r.app(t.m).auth()}catch(e){throw new j("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function vl(t){t.D||t.B.b||(t.B.start(),fn(t,"tokenChanged",t.Z),un(t,"tokenChanged",t.Z))}function yl(t){fn(t,"tokenChanged",t.Z),t.B.stop()}function wl(t,e){t.xa=e,Kr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then((function(){return t}))}function xl(t){t.i&&!t.P&&(t.P=!0,Au(t.i,t))}function Ol(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function El(){}function Sl(t){return Te().then((function(){if(t.D)throw new j("app-deleted")}))}function jl(t){return q(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Tl(t,e.providerId),t.providerData.push(e))}function Tl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Al(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function kl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new hl(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new hl),G(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kr(t,"refreshToken",t.b.a),ol(t.O,e.O.b))}function Il(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qa(t.a,ka,{idToken:e}).then(x(t.Ic,t))}(t,e).then((function(){return n||Al(t,"isAnonymous",!1),e}))}))}function Cl(t,e){e[Xs]&&t.xa!=e[Xs]&&(ul(t.b,e),t.dispatchEvent(new rl("tokenChanged")),wl(t,e[Xs]),Al(t,"refreshToken",t.b.a))}function Rl(t,e){return Il(t).then((function(){if(K(jl(t),e))return _l(t).then((function(){throw new j("provider-already-linked")}))}))}function Pl(t,e,n){return Xr({user:t,credential:Do(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ll(t,e){return Cl(t,e),t.reload().then((function(){return t}))}function Nl(t,e,n,i,o){if(!kr())return Ae(new j("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var s=Wi(n.providerId),a=Dr(t.uid+":::"),c=null;(!Rr()||vr())&&t.s&&n.isOAuthProvider&&(c=pc(t.s,t.l,t.m,e,n,null,a,r.SDK_VERSION||null,null,null,t.tenantId));var u=dr(c,s&&s.ta,s&&s.sa);return i=i().then((function(){if(Bl(t),!o)return t.I().then((function(){}))})).then((function(){return Ru(t.i,u,e,n,a,!!c,t.tenantId)})).then((function(){return new _e((function(n,r){t.la(e,null,new j("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Nu(t.i,t,e,u,a)}))})).then((function(t){return u&&fr(u),t?Xr(t):null})).o((function(t){throw u&&fr(u),t})),$l(t,i,o)}function Dl(t,e,n,r,i){if(!kr())return Ae(new j("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=Dr(t.uid+":::");return r=r().then((function(){if(Bl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,_l(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(zl,t.v(),e.a)),e})).then((function(){return Lu(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Hl(t.ga);throw o})).then((function(){if(o)throw o})),$l(t,r,i)}function Bl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new j("internal-error");throw new j("auth-domain-config-required")}}function $l(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new rl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){Y(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),gl(t),x(t.hc,t))),n||e}))}function Fl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new dl(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Ml(r,Xr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ul(t){this.a=t,this.b=Xc()}Yu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=mt(e.f);return delete n[Xu],delete n[Zu],gt(n,t),e.g(n)}))},S(Ju,j),tl.prototype.ob=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Po(t.a)}),Qa(e,Ta,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),Qa(e,Aa,n)}))}(this,t,e)},S(el,tl),S(nl,el),S(rl,Xe),(e=il.prototype).wc=function(t){ol(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new io(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Cl(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qa(r,Ja,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return ol(e,r),Cl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.v()}))}}},sl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=jn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Ur()||!t?Te():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},al.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:cl(this)}},al.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new j("user-token-expired")):t||!this.b||E()>cl(this)-3e4?this.a?ll(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(dl,_n),dl.prototype.va=function(t){this.oa=t,ea(this.a,t)},dl.prototype.ja=function(){return this.oa},dl.prototype.Ea=function(){return J(this.W)},dl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Kr(dl.prototype,"providerId","firebase"),(e=dl.prototype).reload=function(){var t=this;return $l(this,Sl(this).then((function(){return Il(t).then((function(){return _l(t)})).then(El)})))},e.mc=function(t){return this.I(t).then((function(t){return new Ku(t)}))},e.I=function(t){var e=this;return $l(this,Sl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new j("internal-error");return t.accessToken!=e.xa&&(wl(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),Al(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new j("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?q(t,(function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Al(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{ed:t}))},e.Jc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return $l(this,t.c(this.a,this.uid).then((function(t){return Cl(e,t),n=Pl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return $l(this,Rl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Pl(e,t,"link"),Ll(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return $l(this,Rl(this,"phone").then((function(){return Wu(gl(n),t,e,x(n.mb,n))})))},e.Kc=function(t,e){var n=this;return $l(this,Te().then((function(){return Wu(gl(n),t,e,x(n.pb,n))})),!0)},e.xb=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Cl(e,t),e.reload()})))},e.cd=function(t){var e=this;return $l(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Cl(e,t),e.reload()})))},e.yb=function(t){var e=this;return $l(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Cl(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return $l(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Cl(e,t),Al(e,"displayName",t.displayName||null),Al(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),_l(e)})).then(El))},e.ad=function(t){var e=this;return $l(this,Il(this).then((function(n){return K(jl(e),t)?function(t,e,n){return Qa(t,Sa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(jl(e),(function(t){n[t]||Tl(e,t)})),n[Lo.PROVIDER_ID]||Kr(e,"phoneNumber",null),_l(e)})):_l(e).then((function(){throw new j("no-such-provider")}))})))},e.delete=function(){var t=this;return $l(this,this.I().then((function(e){return Qa(t.a,Ea,{idToken:e})})).then((function(){t.dispatchEvent(new rl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");pl(t,null),bl(t,null),t.N=[],t.D=!0,yl(t),Kr(t,"refreshToken",null),t.i&&ku(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?x(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?x(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?x(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?x(this.Ib,this):null},e.Cc=function(t){var e=this;return Nl(this,"linkViaPopup",t,(function(){return Rl(e,t.providerId).then((function(){return _l(e)}))}),!1)},e.Lc=function(t){return Nl(this,"reauthViaPopup",t,(function(){return Te()}),!0)},e.Dc=function(t){var e=this;return Dl(this,"linkViaRedirect",t,(function(){return Rl(e,t.providerId)}),!1)},e.Mc=function(t){return Dl(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,this.I().then((function(n){return ga(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Pl(i,t,"link"),Ll(i,t)})).then((function(){return o})))},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $l(this,Te().then((function(){return co(va(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Pl(i,t,"reauthenticate"),Cl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return $l(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Bi(new Ti(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return $l(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Bi(new Ti(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return $l(this,t=co(Te(t),n.uid).then((function(t){return e=Pl(n,t,"reauthenticate"),Cl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&gt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.O.v()),t};var zl={name:"redirectUser",F:"session"};function Hl(t){return Qc(t.b,zl,t.a)}function Gl(t){this.a=t,this.b=Xc(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=Jc(e,n),i=Zc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Nr(u.localStorage.getItem(r))}catch(t){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ql,t.a).then((function(t){return t?Wl(t):e}))}))}))})).then((function(e){return t.c=e,Vl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Wl("local"),this.a,x(this.g,this))}function Vl(t,e){var n,r=[];for(n in Kc)Kc[n]!==e&&r.push(Qc(t.b,Wl(Kc[n]),t.a));return r.push(Qc(t.b,ql,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],O(o,a),s);else e(i)}))}(r)}Gl.prototype.g=function(){var t=this,e=Wl("local");Zl(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Vl(t,"local").then((function(){t.c=e}))}))}))};var ql={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function Kl(t,e){return Zl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Yl(t){return Zl(t,(function(){return Qc(t.b,t.c,t.a)}))}function Xl(t,e){return Zl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Fl(t||{})}))}))}function Zl(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Kr(this,"settings",new Vu),Kr(this,"app",t),!sh(this).options||!sh(this).options.apiKey)throw new j("invalid-api-key");t=r.SDK_VERSION?jr(r.SDK_VERSION):null,this.b=new Ks(sh(this).options&&sh(this).options.apiKey,C(T),t),this.P=[],this.m=[],this.O=[],this.$b=r.INTERNAL.createSubscribe(x(this.xc,this)),this.W=void 0,this.ac=r.INTERNAL.createSubscribe(x(this.yc,this)),ih(this,null),this.i=new Gl(sh(this).options.apiKey+":"+sh(this).name),this.B=new Ul(sh(this).options.apiKey+":"+sh(this).name),this.Z=lh(this,function(t){var e=sh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(zl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Fl(t||{})}))}(t.B,sh(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Hl(t.B)}));return lh(t,e)}(t).then((function(){return Xl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Kl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Yl(t.i)}))):null})).then((function(e){ih(t,e||null)}));return lh(t,n)}(this)),this.h=lh(this,function(t){return t.Z.then((function(){return nh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=x(this.Xc,this),this.Ma=x(this.ca,this),this.xa=x(this.jc,this),this.ya=x(this.uc,this),this.za=x(this.vc,this),this.a=null,function(t){var e=sh(t).options.authDomain,n=sh(t).options.apiKey;e&&kr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Bu(e,n,sh(t).name),Au(t.a,t),ah(t)&&xl(ah(t)),t.D){xl(t.D);var r=t.D;r.va(t.ja()),pl(r,t),ml(r=t.D,t.N),bl(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Ec,this),this.s=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Ql(t){Xe.call(this,"languageCodeChanged"),this.g=t}function th(t){Xe.call(this,"frameworkChanged"),this.c=t}function eh(t){return t.Zb||Ae(new j("auth-domain-config-required"))}function nh(t){if(!kr())return Ae(new j("operation-not-supported-in-this-environment"));var e=eh(t).then((function(){return t.a.pa()})).then((function(t){return t?Xr(t):null}));return lh(t,e)}function rh(t,e){var n={};return n.apiKey=sh(t).options.apiKey,n.authDomain=sh(t).options.authDomain,n.appName=sh(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new dl(t,e);return n&&(i.ga=n),r&&ml(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return ah(t)&&e.uid==ah(t).uid?(kl(ah(t),e),t.ca(e)):(ih(t,e),xl(e),t.ca(e))})).then((function(){uh(t)}))}function ih(t,e){ah(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(ah(t),t.Ma),fn(ah(t),"tokenChanged",t.xa),fn(ah(t),"userDeleted",t.ya),fn(ah(t),"userInvalidated",t.za),yl(ah(t))),e&&(e.R.push(t.Ma),un(e,"tokenChanged",t.xa),un(e,"userDeleted",t.ya),un(e,"userInvalidated",t.za),0<t.s&&vl(e)),Kr(t,"currentUser",e),e&&(e.va(t.ja()),pl(e,t),ml(e,t.N),bl(e,t))}function oh(t,e){var n=null,r=null;return lh(t,e.then((function(e){return n=Do(e),r=Ki(e),rh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),t,x(t.ic,t))),n||e})).then((function(){return Xr({user:ah(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sh(t){return t.app}function ah(t){return t.currentUser}function ch(t){return ah(t)&&ah(t)._lat||null}function uh(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](ch(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ch(t))}}function lh(t,e){return t.P.push(e),e.ma((function(){Y(t.P,e)})),e}function hh(){}function fh(){this.a={},this.b=1e12}Gl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new j("invalid-persistence-type"),n=new j("unsupported-persistence-type");t:{for(r in Kc)if(Kc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Mc()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),Zl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Vl(n,t)})).then((function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},S(Jl,_n),S(Ql,Xe),S(th,Xe),(e=Jl.prototype).tb=function(t){return lh(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,ea(this.b,this.$),this.dispatchEvent(new Ql(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),na(this.b,r.SDK_VERSION?jr(r.SDK_VERSION,this.N):null),this.dispatchEvent(new th(this.N))},e.Ea=function(){return J(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:sh(this).options.apiKey,authDomain:sh(this).options.authDomain,appName:sh(this).name,currentUser:ah(this)&&ah(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?x(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return oh(i,ba(i.b,o))}))},e.Vc=function(t){if(!kr())return Ae(new j("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),i=Dr(),o=null;(!Rr()||vr())&&sh(this).options.authDomain&&t.isOAuthProvider&&(o=pc(sh(this).options.authDomain,sh(this).options.apiKey,sh(this).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null,null,null,this.S()));var s=dr(o,n&&n.ta,n&&n.sa);return lh(this,n=eh(this).then((function(n){return Ru(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new _e((function(t,n){e.la("signInViaPopup",null,new j("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Nu(e.a,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&fr(s),t?Xr(t):null})).o((function(t){throw s&&fr(s),t})))},e.Wc=function(t){if(!kr())return Ae(new j("operation-not-supported-in-this-environment"));var e=this;return lh(this,eh(this).then((function(){return function(t){return Zl(t,(function(){return t.b.set(ql,t.c.F,t.a)}))}(e.i)})).then((function(){return Lu(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return nh(this).then((function(e){return t.a&&Uu(t.a.b),e})).o((function(e){throw t.a&&Uu(t.a.b),e}))},e.bd=function(t){if(!t)return Ae(new j("null-user"));if(this.R!=t.tenantId)return Ae(new j("tenant-id-mismatch"));var e=this,n={};n.apiKey=sh(this).options.apiKey,n.authDomain=sh(this).options.authDomain,n.appName=sh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Xs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new dl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ml(e,r),kl(e,t),e}(t,n,e.B,e.Ea());return lh(this,this.h.then((function(){if(sh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ah(e)&&t.uid==ah(e).uid?(kl(ah(e),t),e.ca(t)):(ih(e,r),xl(r),e.ca(r))})).then((function(){uh(e)})))},e.wb=function(){var t=this;return lh(this,this.h.then((function(){return t.a&&Uu(t.a.b),ah(t)?(ih(t,null),Yl(t.i).then((function(){uh(t)}))):Te()})))},e.Xc=function(){var t=this;return Xl(this.i,sh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ah(t)&&e){n=ah(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return kl(ah(t),e),ah(t).I();(ah(t)||e)&&(ih(t,e),e&&(xl(e),e.ga=t.B),t.a&&Au(t.a,t),uh(t))}}))},e.ca=function(t){return Kl(this.i,t)},e.jc=function(){uh(this),this.ca(ah(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return oh(e,Te(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ah(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),lh(t,t.h.then((function(){!t.l&&K(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ch(t)))})))}(this,(function(){t.next(ah(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(ah(r)):"function"==typeof t.next&&t.next(ah(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ah(r)):"function"==typeof t.next&&t.next(ah(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return lh(this,this.h.then((function(){return ah(e)?ah(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return oh(e,Qa(e.b,Wa,{token:t}))})).then((function(t){var n=t.user;return Al(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return oh(n,Qa(n.b,Ka,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return oh(n,Qa(n.b,xa,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return oh(e,t.ia(e.b))}))},e.Qc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=ah(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return oh(t,t.b.vb()).then((function(e){var n=e.user;return Al(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return ah(this)&&ah(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&ah(this)&&vl(ah(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&ah(this)&&yl(ah(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),lh(this,this.h.then((function(){e.l||K(e.m,t)&&t(ch(e))})))},e.removeAuthTokenListener=function(t){X(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.oa),this.a&&(ku(this.a,this),Uu(this.a.b)),Promise.resolve()},e.fc=function(t){return lh(this,function(t,e){return Qa(t,Oa,{identifier:e,continueUri:Ir()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Io(t)},e.sb=function(t,e){var n=this;return lh(this,Te().then((function(){var t=new Ti(e);if(!t.c)throw new j("argument-error",Ii+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return lh(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return lh(this,this.b.Pa(t).then((function(t){return new oi(t)})))},e.fb=function(t){return lh(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return lh(this,Te().then((function(){return void 0===e||pt(e)?{}:Bi(new Ti(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return lh(this,Wu(this,t,e,x(this.Ya,this)))},e.Tc=function(t,e){var n=this;return lh(this,Te().then((function(){var r=e||ur(),i=ko(t,r);if(!(r=Io(r)))throw new j("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new j("tenant-id-mismatch");return n.Ya(i)})))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var dh=null;function ph(t,e){return(e=mh(e))&&t.a[e]||null}function mh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function gh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function vh(){}function yh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},fh.prototype.reset=function(t){var e=ph(this,t);t=mh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=ph(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=ph(this,t))&&t.execute()},bh.prototype.getResponse=function(){return gh(this),this.b},bh.prototype.execute=function(){gh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},bh.prototype.delete=function(){gh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Kr(vh,"FACTOR_ID","phone"),yh.prototype.g=function(){return dh||(dh=new fh),Te(dh)},yh.prototype.c=function(){};var wh=null;function _h(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new yt(xt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new Fr(3e4,6e4);_h.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new j("network-request-failed"))}),Oh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new j("internal-error"));delete u[e.a]},Te(Us(jt(xh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new j("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},_h.prototype.c=function(){this.b--};var Eh=null;function Sh(t,e,n,r,i,o,s){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(wh||(wh=new yh),s=wh):(Eh||(Eh=new _h),s=Eh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Th])throw new j("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ah],!u.document)throw new j("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new j("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var c=this.a[jh];this.a[jh]=function(t){if(kh(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,u);"function"==typeof e&&e(t)}};var l=this.a[Mh];this.a[Mh]=function(){if(kh(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,u);"function"==typeof t&&t()}}}var jh="callback",Mh="expired-callback",Th="sitekey",Ah="size";function kh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ih(t,e){return t.h.push(e),e.ma((function(){Y(t.h,e)})),e}function Ch(t){if(t.D)throw new j("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var i=!1;try{this.b=n||r.app()}catch(t){throw new j("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new j("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=r.SDK_VERSION?jr(r.SDK_VERSION,s):null,Sh.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,C(T),i)}function Ph(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new j("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Lh.length)throw new j("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new j("argument-error",t+" failed: "+r)}(e=Sh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Ih(this,Te().then((function(){if(Ir()&&!yr())return br();throw new j("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Qa(t.s,Na,{})})).then((function(e){t.a[Th]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Ch(this);var t=this;return Ih(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Ch(this);var t=this;return Ih(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Ch(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Ch(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Rh,Sh);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Dh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Bh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:b}}function $h(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Fh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function zh(t,e){return b(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Hh(t){return b(t)&&"string"==typeof t.uid}function Gh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Vh(t,e){for(var n in e){var r=e[n].name;t[r]=Kh(r,t[n],e[n].j)}}function qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:O((function(t){return this[t]}),n),set:O((function(t,e,n,r){Ph(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=Kh(e,n,r)}function Kh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ph(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vh(Jl.prototype,{fb:{name:"applyActionCode",j:[Nh("code")]},Pa:{name:"checkActionCode",j:[Nh("code")]},jb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Gh(Bh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Gh(Bh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Nh("email"),Gh(Bh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Bh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Nh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Uh()]},Rc:{name:"signInWithCustomToken",j:[Nh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Tc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Gh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof dl)}},Fh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),qh(Jl.prototype,{lc:{name:"languageCode",gb:Gh(Nh(),Fh(),"languageCode")},ti:{name:"tenantId",gb:Gh(Nh(),Fh(),"tenantId")}}),Jl.Persistence=Kc,Jl.Persistence.LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Vh(dl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Dh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},mb:{name:"linkWithCredential",j:[Uh()]},Bc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},pb:{name:"reauthenticateWithCredential",j:[Uh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Gh(Bh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},ad:{name:"unlink",j:[Nh("provider")]},xb:{name:"updateEmail",j:[Nh("email")]},yb:{name:"updatePassword",j:[Nh("password")]},cd:{name:"updatePhoneNumber",j:[Uh("phone")]},zb:{name:"updateProfile",j:[Bh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),Gh(Bh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(_e.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qh(Vu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Dh("appVerificationDisabledForTesting")}}),Vh(qu.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Wh(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,To,Ro,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Gh(Nh(),Bh(),"json")]),Wh(Ao,"credential",(function(t,e){return new Mo(t,e)}),[Nh("email"),Nh("password")]),Vh(Mo.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(yo.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Wh(yo,"credential",wo,[Gh(Nh(),Bh(),"token")]),Wh(Ao,"credentialWithLink",ko,[Nh("email"),Nh("emailLink")]),Vh(_o.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Wh(_o,"credential",xo,[Gh(Nh(),Bh(),"token")]),Vh(Oo.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Wh(Oo,"credential",Eo,[Gh(Nh(),Gh(Bh(),Fh()),"idToken"),Gh(Nh(),Fh(),"accessToken",!0)]),Vh(So.prototype,{Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Wh(So,"credential",jo,[Gh(Nh(),Bh(),"token"),Nh("secret",!0)]),Vh(vo.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[Gh(Nh(),Gh(Bh(),Fh()),"optionsOrIdToken"),Gh(Nh(),Fh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Vh(fo.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(uo.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),Wh(Lo,"credential",No,[Nh("verificationId"),Nh("verificationCode")]),Vh(Lo.prototype,{cb:{name:"verifyPhoneNumber",j:[Gh(Nh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?zh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?zh(t.session,so)&&Hh(t.multiFactorHint):t.session&&t.multiFactorUid?zh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Vh(Co.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(j.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(Vo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(Go.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(Ju.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),Vh(Yu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Vh(il.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Nh("displayName",!0)]},$c:{name:"unenroll",j:[Gh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Hh},Nh(),"multiFactorInfoIdentifier")]}}),Vh(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(yi,"parseLink",Mi,[Nh("link")]),Wh(vh,"assertion",(function(t){return new nl(t)}),[Uh("phone")]),function(){if(void 0===r||!r.INTERNAL||!r.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:ao,Error:j};Wh(t,"EmailAuthProvider",Ao,[]),Wh(t,"FacebookAuthProvider",yo,[]),Wh(t,"GithubAuthProvider",_o,[]),Wh(t,"GoogleAuthProvider",Oo,[]),Wh(t,"TwitterAuthProvider",So,[]),Wh(t,"OAuthProvider",vo,[Nh("providerId")]),Wh(t,"SAMLAuthProvider",go,[Nh("providerId")]),Wh(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Jl)}}]),Wh(t,"RecaptchaVerifier",Rh,[Gh(Nh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.app.App)}}]),Wh(t,"ActionCodeURL",yi,[]),Wh(t,"PhoneMultiFactorGenerator",vh,[]),r.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:x((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:x(t.kc,t),addAuthTokenListener:x(t.bc,t),removeAuthTokenListener:x(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.registerVersion("@firebase/auth","0.14.9"),r.INTERNAL.extendNamespace({User:dl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(8))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(46),o=(r=n(57))&&"object"==typeof r&&"default"in r?r.default:r,s=n(87),a=n(58),c=n(212),u=n(86),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var r=e.map(m);l.debug.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var r=e.map(m);l.warn.apply(l,i.__spreadArrays(["Firestore (7.19.0): "+t],r))}}function m(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.19.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function g(t,e){t||b()}function v(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _(t,e){return t<e?-1:t>e?1:0}function x(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function O(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return _(this.projectId,t.projectId)||_(this.database,t.database)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function M(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.u(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){M(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype._=function(){return T(this.l)},t}(),k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},I=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),C=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new I(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new I(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new I(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new I(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),R=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new C(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.I=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),P=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&b(),void 0===n?n=t.length-e:n>t.length-e&&b(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return t=void 0===t?1:t,this.g(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new I(k.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(P),N=/^[_a-zA-Z][_a-zA-Z0-9]*$/,D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.O=function(t){return N.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.O(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.M=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new I(k.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new I(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new I(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new I(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(P),B=function(){function t(t){this.path=t}return t.B=function(e){return new t(L.k(e))},t.U=function(e){return new t(L.k(e).V(5))},t.prototype.W=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===L.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return L.P(t.path,e.path)},t.j=function(t){return t.length%2==0},t.K=function(e){return new t(new L(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t){return null==t}function F(t){return-0===t&&1/t==-1/0}function U(t){return"number"==typeof t&&Number.isInteger(t)&&!F(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.G=null};function H(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new z(t,e,n,r,i,o,s)}function G(t){var e=v(t);if(null===e.G){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Lt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),$(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Cn(e.startAt)),e.endAt&&(n+="|ub:",n+=Cn(e.endAt)),e.G=n}return e.G}function V(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Dn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!It(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pn(t.startAt,e.startAt)&&Pn(t.endAt,e.endAt)}function q(t){return B.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function t(t){this.H=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.H,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.H)},t.prototype.Y=function(){return 2*this.H.length},t.prototype.o=function(t){return _(this.H,t.H)},t.prototype.isEqual=function(t){return this.H===t.H},t}();W.J=new W("");var K,Y,X=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=R.min()),void 0===o&&(o=R.min()),void 0===s&&(s=W.J),this.target=t,this.targetId=e,this.X=n,this.sequenceNumber=r,this.Z=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.tt=function(e){return new t(this.target,this.targetId,this.X,e,this.Z,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.et=function(e,n){return new t(this.target,this.targetId,this.X,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.nt=function(e){return new t(this.target,this.targetId,this.X,this.sequenceNumber,this.Z,e,this.resumeToken)},t}(),Z=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t){switch(t){case k.OK:return b();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return b()}}function Q(t){if(void 0===t)return d("GRPC error has no .code"),k.UNKNOWN;switch(t){case K.OK:return k.OK;case K.CANCELLED:return k.CANCELLED;case K.UNKNOWN:return k.UNKNOWN;case K.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case K.INTERNAL:return k.INTERNAL;case K.UNAVAILABLE:return k.UNAVAILABLE;case K.UNAUTHENTICATED:return k.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case K.NOT_FOUND:return k.NOT_FOUND;case K.ALREADY_EXISTS:return k.ALREADY_EXISTS;case K.PERMISSION_DENIED:return k.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case K.ABORTED:return k.ABORTED;case K.OUT_OF_RANGE:return k.OUT_OF_RANGE;case K.UNIMPLEMENTED:return k.UNIMPLEMENTED;case K.DATA_LOSS:return k.DATA_LOSS;default:return b()}}(Y=K||(K={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.st=function(e,n){return new t(this.P,this.root.st(e,n,this.P).copy(null,null,nt.it,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.it,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ct=function(){return new et(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new et(this.root,t,this.P,!1)},t.prototype.lt=function(){return new et(this.root,null,this.P,!0)},t.prototype._t=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this.ft=r,this.dt=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ft?t.left:t.right;else{if(0===i){this.dt.push(t);break}this.dt.push(t),t=this.ft?t.right:t.left}}return t.prototype.wt=function(){var t=this.dt.pop(),e={key:t.key,value:t.value};if(this.ft)for(t=t.left;!t._();)this.dt.push(t),t=t.right;else for(t=t.right;!t._();)this.dt.push(t),t=t.left;return e},t.prototype.Tt=function(){return this.dt.length>0},t.prototype.Et=function(){if(0===this.dt.length)return null;var t=this.dt[this.dt.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.rt=function(){return this.min().key},t.prototype.ot=function(){return this.right._()?this.key:this.right.ot()},t.prototype.st=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.st(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.st(t,e,n))).It()},t.prototype.At=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.Rt()||e.left.left.Rt()||(e=e.Pt()),(e=e.copy(null,null,null,e.left.At(),null)).It()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.Rt()||i.left.left.Rt()||(i=i.Pt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Rt()&&(i=i.gt()),i.right._()||i.right.Rt()||i.right.left.Rt()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.It()},t.prototype.Rt=function(){return this.color},t.prototype.It=function(){var t=this;return t.right.Rt()&&!t.left.Rt()&&(t=t.yt()),t.left.Rt()&&t.left.left.Rt()&&(t=t.gt()),t.left.Rt()&&t.right.Rt()&&(t=t.pt()),t},t.prototype.Pt=function(){var t=this.pt();return t.right.left.Rt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.gt())).yt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.Rt()&&(t=(t=t.gt()).pt()),t},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.bt=function(){var t=this.vt();return Math.pow(2,t)<=this.size+1},t.prototype.vt=function(){if(this.Rt()&&this.left.Rt())throw b();if(this.right.Rt())throw b();var t=this.left.vt();if(t!==this.right.vt())throw b();return t+(this.Rt()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.it=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.st=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.rt=function(){return null},t.prototype.ot=function(){return null},t.prototype.Rt=function(){return!1},t.prototype.bt=function(){return!0},t.prototype.vt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rt=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.rt()},t.prototype.last=function(){return this.data.ot()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.St=function(t,e){for(var n=this.data.ut(t[0]);n.Tt();){var r=n.wt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Dt=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.ct();n.Tt();)if(!t(n.wt().key))return},t.prototype.Ct=function(t){var e=this.data.ut(t);return e.Tt()?e.wt().key:null},t.prototype.ct=function(){return new it(this.data.ct())},t.prototype.ut=function(t){return new it(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).st(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Nt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ct(),r=e.data.ct();n.Tt();){var i=n.wt().key,o=r.wt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),it=function(){function t(t){this.Ft=t}return t.prototype.wt=function(){return this.Ft.wt().key},t.prototype.Tt=function(){return this.Ft.Tt()},t}(),ot=new tt(B.P);function st(){return ot}function at(){return st()}var ct=new tt(B.P);function ut(){return ct}var lt=new tt(B.P),ht=new rt(B.P);function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var dt=new rt(_);function pt(){return dt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||B.P(e.key,n.key)}:function(t,e){return B.P(t.key,e.key)},this.kt=ut(),this.$t=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.rt()},t.prototype.last=function(){return this.$t.ot()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.st(t.key,t),e.$t.st(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.ct(),r=e.$t.ct();n.Tt();){var i=n.wt().key,o=r.wt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.kt=e,r.$t=n,r},t}(),bt=function(){function t(){this.Ot=new tt(B.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ot.get(e);n?0!==t.type&&3===n.type?this.Ot=this.Ot.st(e,t):3===t.type&&1!==n.type?this.Ot=this.Ot.st(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ot=this.Ot.st(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ot=this.Ot.remove(e):1===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):b():this.Ot=this.Ot.st(e,t)},t.prototype.Mt=function(){var t=[];return this.Ot.ht((function(e,n){t.push(n)})),t},t}(),gt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.qt=i,this.fromCache=o,this.Bt=s,this.Ut=a}return t.Qt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,mt.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.qt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.qt.isEqual(t.qt)&&gn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vt=function(){function t(t,e,n,r,i){this.Z=t,this.Wt=e,this.jt=n,this.Kt=r,this.Gt=i}return t.zt=function(e,n){var r=new Map;return r.set(e,yt.Ht(e,n)),new t(R.min(),r,pt(),st(),ft())},t}(),yt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Yt=e,this.Jt=n,this.Xt=r,this.Zt=i}return t.Ht=function(e,n){return new t(W.J,n,ft(),ft(),ft())},t}(),wt=function(t,e,n,r){this.te=t,this.removedTargetIds=e,this.key=n,this.ee=r},_t=function(t,e){this.targetId=t,this.ne=e},xt=function(t,e,n,r){void 0===n&&(n=W.J),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ot=function(){function t(){this.se=0,this.ie=jt(),this.re=W.J,this.oe=!1,this.he=!0}return Object.defineProperty(t.prototype,"Yt",{get:function(){return this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return 0!==this.se},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ce",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.Y()>0&&(this.he=!0,this.re=t)},t.prototype.le=function(){var t=ft(),e=ft(),n=ft();return this.ie.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:b()}})),new yt(this.re,this.oe,t,e,n)},t.prototype._e=function(){this.he=!1,this.ie=jt()},t.prototype.fe=function(t,e){this.he=!0,this.ie=this.ie.st(t,e)},t.prototype.de=function(t){this.he=!0,this.ie=this.ie.remove(t)},t.prototype.we=function(){this.se+=1},t.prototype.Te=function(){this.se-=1},t.prototype.Ee=function(){this.he=!0,this.oe=!0},t}(),Et=function(){function t(t){this.me=t,this.Ie=new Map,this.Ae=st(),this.Re=St(),this.Pe=new rt(_)}return t.prototype.ge=function(t){for(var e=0,n=t.te;e<n.length;e++){var r=n[e];t.ee instanceof rn?this.Ve(r,t.ee):t.ee instanceof on&&this.ye(r,t.key,t.ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ye(s,t.key,t.ee)}},t.prototype.pe=function(t){var e=this;this.be(t,(function(n){var r=e.ve(n);switch(t.state){case 0:e.Se(n)&&r.ue(t.resumeToken);break;case 1:r.Te(),r.ae||r._e(),r.ue(t.resumeToken);break;case 2:r.Te(),r.ae||e.removeTarget(n);break;case 3:e.Se(n)&&(r.Ee(),r.ue(t.resumeToken));break;case 4:e.Se(n)&&(e.De(n),r.ue(t.resumeToken));break;default:b()}}))},t.prototype.be=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.Se(r)&&e(r)}))},t.prototype.Ce=function(t){var e=t.targetId,n=t.ne.count,r=this.Ne(e);if(r){var i=r.target;if(q(i))if(0===n){var o=new B(i.path);this.ye(e,o,new on(o,R.min()))}else g(1===n);else this.Fe(e)!==n&&(this.De(e),this.Pe=this.Pe.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ne(i);if(o){if(r.Yt&&q(o.target)){var s=new B(o.target.path);null!==e.Ae.get(s)||e.$e(i,s)||e.ye(i,s,new on(s,t))}r.ce&&(n.set(i,r.le()),r._e())}}));var r=ft();this.Re.forEach((function(t,n){var i=!0;n.Dt((function(t){var n=e.Ne(t);return!n||2===n.X||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vt(t,n,this.Pe,this.Ae,r);return this.Ae=st(),this.Re=St(),this.Pe=new rt(_),i},t.prototype.Ve=function(t,e){if(this.Se(t)){var n=this.$e(t,e.key)?2:0;this.ve(t).fe(e.key,n),this.Ae=this.Ae.st(e.key,e),this.Re=this.Re.st(e.key,this.xe(e.key).add(t))}},t.prototype.ye=function(t,e,n){if(this.Se(t)){var r=this.ve(t);this.$e(t,e)?r.fe(e,1):r.de(e),this.Re=this.Re.st(e,this.xe(e).delete(t)),n&&(this.Ae=this.Ae.st(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.ve(t).le();return this.me.Oe(t).size+e.Jt.size-e.Zt.size},t.prototype.we=function(t){this.ve(t).we()},t.prototype.ve=function(t){var e=this.Ie.get(t);return e||(e=new Ot,this.Ie.set(t,e)),e},t.prototype.xe=function(t){var e=this.Re.get(t);return e||(e=new rt(_),this.Re=this.Re.st(t,e)),e},t.prototype.Se=function(t){var e=null!==this.Ne(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ne=function(t){var e=this.Ie.get(t);return e&&e.ae?null:this.me.Me(t)},t.prototype.De=function(t){var e=this;this.Ie.set(t,new Ot),this.me.Oe(t).forEach((function(n){e.ye(t,n,null)}))},t.prototype.$e=function(t,e){return this.me.Oe(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return new tt(B.P)}function jt(){return new tt(B.P)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tt(t){var e=Nt(t.mapValue.fields.__local_write_time__.timestampValue);return new C(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mt(t)?4:10:b()}function It(t,e){var n=kt(t);if(n!==kt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tt(t).isEqual(Tt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Nt(t.timestampValue),r=Nt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bt(t.bytesValue).isEqual(Bt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Dt(t.geoPointValue.latitude)===Dt(e.geoPointValue.latitude)&&Dt(t.geoPointValue.longitude)===Dt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Dt(t.integerValue)===Dt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Dt(t.doubleValue),r=Dt(e.doubleValue);return n===r?F(n)===F(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return x(t.arrayValue.values||[],e.arrayValue.values||[],It);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(j(n)!==j(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!It(n[i],r[i])))return!1;return!0}(t,e);default:return b()}}function Ct(t,e){return void 0!==(t.values||[]).find((function(t){return It(t,e)}))}function Rt(t,e){var n=kt(t),r=kt(e);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Dt(t.integerValue||t.doubleValue),r=Dt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Pt(t.timestampValue,e.timestampValue);case 4:return Pt(Tt(t),Tt(e));case 5:return _(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bt(t),r=Bt(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_(n[i],r[i]);if(0!==o)return o}return _(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_(Dt(t.latitude),Dt(e.latitude));return 0!==n?n:_(Dt(t.longitude),Dt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Rt(n[i],r[i]);if(o)return o}return _(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=_(r[s],o[s]);if(0!==a)return a;var c=Rt(n[r[s]],i[o[s]]);if(0!==c)return c}return _(r.length,o.length)}(t.mapValue,e.mapValue);default:throw b()}}function Pt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _(t,e);var n=Nt(t),r=Nt(e),i=_(n.seconds,r.seconds);return 0!==i?i:_(n.nanos,r.nanos)}function Lt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Nt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bt(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,B.U(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):b();var n,r}(t)}function Nt(t){if(g(!!t),"string"==typeof t){var e=0,n=At.exec(t);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bt(t){return"string"==typeof t?W.fromBase64String(t):W.fromUint8Array(t)}function $t(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function Ft(t){return!!t&&"integerValue"in t}function Ut(t){return!!t&&"arrayValue"in t}function zt(t){return!!t&&"nullValue"in t}function Ht(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gt(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt={asc:"ASCENDING",desc:"DESCENDING"},qt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wt=function(t,e){this.s=t,this.Le=e};function Kt(t){return{integerValue:""+t}}function Yt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(e)?"-0":e}}function Xt(t,e){return U(e)?Kt(e):Yt(t,e)}function Zt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Qt(t,e){return Zt(t,e.A())}function te(t){return g(!!t),R.m(function(t){var e=Nt(t);return new C(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new L(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=L.k(t);return g(_e(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return g(n.get(1)===t.s.projectId),g(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new B(ce(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?L.$():ce(e)}function ae(t){return new L(["projects",t.s.projectId,"databases",t.s.database]).F()}function ce(t){return g(t.length>4&&"documents"===t.get(4)),t.V(5)}function ue(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof Ve)n={update:ue(t,e.key,e.value)};else if(e instanceof Ze)n={delete:re(t,e.key)};else if(e instanceof qe)n={update:ue(t,e.key,e.data),updateMask:we(e.qe)};else if(e instanceof Ke)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof je)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof Me)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof Ae)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Ie)return{fieldPath:e.field.F(),increment:n.Be};throw b()}(0,t)}))}};else{if(!(e instanceof Je))return b();n={verify:re(t,e.key)}}return e.Qe.Ue||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:b()}(t,e.Qe)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?De.updateTime(te(t.updateTime)):void 0!==t.exists?De.exists(t.exists):De.We()}(e.currentDocument):De.We();if(e.update){e.update.name;var r=ie(t,e.update.name),i=new Qe({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Pe(e.map((function(t){return D.q(t)})))}(e.updateMask);return new qe(r,i,o,n)}return new Ve(r,i,n)}if(e.delete){var s=ie(t,e.delete);return new Ze(s,n)}if(e.transform){var a=ie(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)g("REQUEST_TIME"===e.setToServerValue),n=new je;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Me(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ae(i)}else"increment"in e?n=new Ie(t,e.increment):b();var o=D.q(e.fieldPath);return new Le(o,n)}(t,e)}));return g(!0===n.exists),new Ke(a,c)}if(e.verify){var u=ie(t,e.verify);return new Je(u,n)}return b()}function fe(t,e){return{documents:[oe(t,e.path)]}}function de(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ht(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NAN"}};if(zt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ht(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NOT_NAN"}};if(zt(t.value))return{unaryFilter:{field:be(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:be(t.field),op:(e=t.op,qt[e]),value:t.value}};var e}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:be((e=t).field),direction:(n=e.dir,Vt[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Le||$(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function me(t){var e=!!t.before,n=t.values||[];return new In(n,e)}function be(t){return{fieldPath:t.F()}}function ge(t){return D.q(t.fieldPath)}function ve(t){return xn.create(ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function ye(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ge(t.unaryFilter.field);return xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ge(t.unaryFilter.field);return xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ge(t.unaryFilter.field);return xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ge(t.unaryFilter.field);return xn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function we(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function _e(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe=function(){this.je=void 0};function Oe(t,e,n){return t instanceof je?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Me?Te(t,e):t instanceof Ae?ke(t,e):function(t,e){var n=Se(t,e),r=Ce(n)+Ce(t.Be);return Ft(n)&&Ft(t.Be)?Kt(r):Yt(t.serializer,r)}(t,e)}function Ee(t,e,n){return t instanceof Me?Te(t,e):t instanceof Ae?ke(t,e):n}function Se(t,e){return t instanceof Ie?Ft(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(xe),Me=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(xe);function Te(t,e){for(var n=Re(e),r=function(t){n.some((function(e){return It(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ae=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i.__extends(e,t),e}(xe);function ke(t,e){for(var n=Re(e),r=function(t){n=n.filter((function(e){return!It(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ie=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return i.__extends(e,t),e}(xe);function Ce(t){return Dt(t.integerValue||t.doubleValue)}function Re(t){return Ut(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe=function(){function t(t){this.fields=t,t.sort(D.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return x(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Le=function(t,e){this.field=t,this.transform=e},Ne=function(t,e){this.version=t,this.transformResults=e},De=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Be(t,e){return void 0!==t.updateTime?e instanceof rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rn}var $e=function(){};function Fe(t,e,n){return t instanceof Ve?function(t,e,n){return new rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof qe?function(t,e,n){if(!Be(t.Qe,e))return new sn(t.key,n.version);var r=We(t,e);return new rn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ke?function(t,e,n){if(g(null!=n.transformResults),!Be(t.Qe,e))return new sn(t.key,n.version);var r=Ye(t,e),i=function(t,e,n){var r=[];g(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof rn&&(a=e.field(o.field)),r.push(Ee(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Xe(t,r.data(),i);return new rn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new on(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ue(t,e,n,r){return t instanceof Ve?function(t,e){if(!Be(t.Qe,e))return e;var n=Ge(e);return new rn(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof qe?function(t,e){if(!Be(t.Qe,e))return e;var n=Ge(e),r=We(t,e);return new rn(t.key,n,r,{Ge:!0})}(t,e):t instanceof Ke?function(t,e,n,r){if(!Be(t.Qe,e))return e;var i=Ye(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],c=a.transform,u=null;n instanceof rn&&(u=n.field(a.field)),null===u&&r instanceof rn&&(u=r.field(a.field)),i.push(Oe(c,u,e))}return i}(t.fieldTransforms,n,e,r),s=Xe(t,i.data(),o);return new rn(t.key,i.version,s,{Ge:!0})}(t,e,r,n):function(t,e){return Be(t.Qe,e)?new on(t.key,R.min()):e}(t,e)}function ze(t,e){return t instanceof Ke?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rn?e.field(o.field):void 0,a=Se(o.transform,s||null);null!=a&&(n=null==n?(new tn).set(o.field,a):n.set(o.field,a))}return n?n.ze():null}(t,e):null}function He(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Qe.isEqual(e.Qe)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.qe.isEqual(e.qe):2!==t.type||x(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Me&&e instanceof Me||t instanceof Ae&&e instanceof Ae?x(t.elements,e.elements,It):t instanceof Ie&&e instanceof Ie?It(t.Be,e.Be):t instanceof je&&e instanceof je}(t.transform,e.transform)}(t,e)})))}function Ge(t){return t instanceof rn?t.version:R.min()}var Ve=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Qe=r,i.type=0,i}return i.__extends(e,t),e}($e),qe=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.qe=r,o.Qe=i,o.type=1,o}return i.__extends(e,t),e}($e);function We(t,e){return function(t,e){var n=new tn(e);return t.qe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof rn?e.data():Qe.empty())}var Ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Qe=De.exists(!0),r}return i.__extends(e,t),e}($e);function Ye(t,e){return e}function Xe(t,e,n){for(var r=new tn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.ze()}var Ze=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=3,r}return i.__extends(e,t),e}($e),Je=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=4,r}return i.__extends(e,t),e}($e),Qe=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Gt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return It(this.proto,t.proto)},t}(),tn=function(){function t(t){void 0===t&&(t=Qe.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===kt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(D.$(),this.Ye);return null!=t?new Qe(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),o=Gt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Xe(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function en(t){var e=[];return M(t.fields||{},(function(t,n){var r=new D([t]);if(Gt(n)){var i=en(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Pe(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var nn=function(t,e){this.key=t,this.version=e},rn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Ze=r,o.Ge=!!i.Ge,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nn),on=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){if(!(t instanceof e))throw e.name===t.constructor.name?new I(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?"):new I(k.INVALID_ARGUMENT,"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=o,this.startAt=s,this.endAt=a,this.sn=null,this.rn=null,this.startAt,this.endAt}return t.prototype.on=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.hn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.M())},t.prototype.an=function(){return!$(this.limit)&&"F"===this.nn},t.prototype.cn=function(){return!$(this.limit)&&"L"===this.nn},t.prototype.un=function(){return this.en.length>0?this.en[0].field:null},t.prototype.ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n._n())return n.field}return null},t.prototype.fn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function un(t,e,n,r,i,o,s,a){return new cn(t,e,n,r,i,o,s,a)}function ln(t){return new cn(t)}function hn(t){return null!==t.collectionGroup}function fn(t){var e=an(t,cn);if(null===e.sn){e.sn=[];var n=e.ln(),r=e.un();if(null!==n&&null===r)n.M()||e.sn.push(new Ln(n)),e.sn.push(new Ln(D.L(),"asc"));else{for(var i=!1,o=0,s=e.en;o<s.length;o++){var a=s[o];e.sn.push(a),a.field.M()&&(i=!0)}if(!i){var c=e.en.length>0?e.en[e.en.length-1].dir:"asc";e.sn.push(new Ln(D.L(),c))}}}return e.sn}function dn(t){var e=an(t,cn);if(!e.rn)if("F"===e.nn)e.rn=H(e.path,e.collectionGroup,fn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fn(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Ln(o.field,s))}var a=e.endAt?new In(e.endAt.position,!e.endAt.before):null,c=e.startAt?new In(e.startAt.position,!e.startAt.before):null;e.rn=H(e.path,e.collectionGroup,n,e.filters,e.limit,a,c)}return e.rn}function pn(t,e,n){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mn(t,e){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,e,t.endAt)}function bn(t,e){return new cn(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,t.startAt,e)}function gn(t,e){return V(dn(t),dn(e))&&t.nn===e.nn}function vn(t){return G(dn(t))+"|lt:"+t.nn}function yn(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Lt(e.value);var e})).join(", ")+"]"),$(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Cn(t.startAt)),t.endAt&&(e+=", endAt: "+Cn(t.endAt)),"Target("+e+")"}(dn(t))+"; limitType="+t.nn+")"}function wn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.W(t.collectionGroup)&&t.path.D(n):B.j(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.M()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Rn(t.startAt,fn(t),e)||t.endAt&&Rn(t.endAt,fn(t),e))}(t,e)}function _n(t){return function(e,n){for(var r=!1,i=0,o=fn(t);i<o.length;i++){var s=o[i],a=Nn(s,e,n);if(0!==a)return a;r=r||s.field.M()}return 0}}var xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.M())return"in"===n||"not-in"===n?this.dn(t,n,r):new On(t,n,r);if(zt(r)){if("=="!==n&&"!="!==n)throw new I(k.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Ht(r)){if("=="!==n&&"!="!==n)throw new I(k.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Mn(t,r):"in"===n?new Tn(t,r):"not-in"===n?new An(t,r):"array-contains-any"===n?new kn(t,r):new e(t,n,r)},e.dn=function(t,e,n){return"in"===e?new En(t,n):new Sn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.wn(Rt(e,this.value)):null!==e&&kt(this.value)===kt(e)&&this.wn(Rt(e,this.value))},e.prototype.wn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return b()}},e.prototype._n=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=B.U(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=B.P(t.key,this.key);return this.wn(e)},e}(xn),En=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=jn("in",n),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xn),Sn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=jn("not-in",n),r}return i.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xn);function jn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return B.U(t.referenceValue)}))}var Mn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ut(e)&&Ct(e.arrayValue,this.value)},e}(xn),Tn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ct(this.value.arrayValue,e)},e}(xn),An=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Ct(this.value.arrayValue,e)},e}(xn),kn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ut(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ct(e.value.arrayValue,t)}))},e}(xn),In=function(t,e){this.position=t,this.before=e};function Cn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Lt(t)})).join(",")}function Rn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.M()?B.P(B.U(s.referenceValue),n.key):Rt(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!It(t.position[n],e.position[n]))return!1;return!0}var Ln=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Nn(t,e,n){var r=t.field.M()?B.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Rt(r,i):b()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function Dn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.En=function(t,e,n){for(var r=n.mn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fe(o,e,r[i]))}return e},t.prototype.In=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ue(i,e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var c=a[s];c.key.isEqual(t)&&(e=Ue(c,e,o,this.Tn))}return e},t.prototype.An=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.In(r.key,t.get(r.key));i&&(n=n.st(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x(this.mutations,t.mutations,(function(t,e){return He(t,e)}))&&x(this.baseMutations,t.baseMutations,(function(t,e){return He(t,e)}))},t}(),$n=function(){function t(t,e,n,r){this.batch=t,this.Rn=e,this.mn=n,this.Pn=r}return t.from=function(e,n,r){g(e.mutations.length===r.length);for(var i=lt,o=e.mutations,s=0;s<o.length;s++)i=i.st(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Fn=function(){function t(t){var e=this;this.gn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.yn=!1,this.pn=!1,t((function(t){e.yn=!0,e.result=t,e.gn&&e.gn(t)}),(function(t){e.yn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.pn&&b(),this.pn=!0,this.yn?this.error?this.bn(n,this.error):this.vn(e,this.result):new t((function(t,i){r.gn=function(n){r.vn(e,n).next(t,i)},r.Vn=function(e){r.bn(n,e).next(t,i)}}))},t.prototype.Sn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Dn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vn=function(e,n){return e?this.Dn((function(){return e(n)})):t.resolve(n)},t.prototype.bn=function(e,n){return e?this.Dn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Cn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Nn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Cn(r)},t}(),Un=function(){function t(){this.Fn=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.kn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.On(),this.readTime=e,this.Fn.set(t.key,t)},t.prototype.Mn=function(t,e){this.On(),e&&(this.readTime=e),this.Fn.set(t,null)},t.prototype.Ln=function(t,e){this.On();var n=this.Fn.get(e);return void 0!==n?Fn.resolve(n):this.qn(t,e)},t.prototype.getEntries=function(t,e){return this.Bn(t,e)},t.prototype.apply=function(t){return this.On(),this.kn=!0,this.Un(t)},t.prototype.On=function(){},t}(),zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hn=function(){function t(){this.Qn=[]}return t.prototype.Wn=function(t){this.Qn.push(t)},t.prototype.jn=function(){this.Qn.forEach((function(t){return t()}))},t}(),Gn=function(){function t(t,e,n){this.Kn=t,this.Gn=e,this.zn=n}return t.prototype.Hn=function(t,e){var n=this;return this.Gn.Yn(t,e).next((function(r){return n.Jn(t,e,r)}))},t.prototype.Jn=function(t,e,n){return this.Kn.Ln(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].In(e,t);return t}))},t.prototype.Xn=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].In(t,e);r=r.st(t,e)})),r},t.prototype.Zn=function(t,e){var n=this;return this.Kn.getEntries(t,e).next((function(e){return n.ts(t,e)}))},t.prototype.ts=function(t,e){var n=this;return this.Gn.es(t,e).next((function(r){var i=n.Xn(t,e,r),o=st();return i.forEach((function(t,e){e||(e=new on(t,R.min())),o=o.st(t,e)})),o}))},t.prototype.ns=function(t,e,n){return function(t){return B.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ss(t,e.path):hn(e)?this.rs(t,e,n):this.os(t,e,n)},t.prototype.ss=function(t,e){return this.Hn(t,new B(e)).next((function(t){var e=ut();return t instanceof rn&&(e=e.st(t.key,t)),e}))},t.prototype.rs=function(t,e,n){var r=this,i=e.collectionGroup,o=ut();return this.zn.hs(t,i).next((function(s){return Fn.forEach(s,(function(s){var a=e.on(s.child(i));return r.os(t,a,n).next((function(t){t.forEach((function(t,e){o=o.st(t,e)}))}))})).next((function(){return o}))}))},t.prototype.os=function(t,e,n){var r,i,o=this;return this.Kn.ns(t,e,n).next((function(n){return r=n,o.Gn.as(t,e)})).next((function(e){return i=e,o.cs(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u),h=Ue(c,l,l,o.Tn);r=h instanceof rn?r.st(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){wn(e,n)||(r=r.remove(t))})),r}))},t.prototype.cs=function(t,e,n){for(var r=ft(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof qe&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Kn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rn&&(u=u.st(t,e))})),u}))},t}(),Vn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.us=n,this.ls=r}return t._s=function(e,n){for(var r=ft(),i=ft(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.fs=function(t){return n.ds(t)},this.ws=function(t){return e.Ts(t)})}return t.prototype.ds=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ws&&this.ws(t),t},t}();qn.Es=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Kn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ms=t,this.Is=e,this.As=n,this.Rs=r,this.Ps=i,this.gs=0,this.Vs=null,this.ys=Date.now(),this.reset()}return t.prototype.reset=function(){this.gs=0},t.prototype.ps=function(){this.gs=this.Ps},t.prototype.bs=function(t){var e=this;this.cancel();var n=Math.floor(this.gs+this.vs()),r=Math.max(0,Date.now()-this.ys),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.gs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.ms.Ss(this.Is,i,(function(){return e.ys=Date.now(),t()})),this.gs*=this.Rs,this.gs<this.As&&(this.gs=this.As),this.gs>this.Ps&&(this.gs=this.Ps)},t.prototype.Ds=function(){null!==this.Vs&&(this.Vs.Cs(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.vs=function(){return(Math.random()-.5)*this.gs},t}(),Yn=function(){function e(t,n,r){this.name=t,this.version=n,this.Ns=r,12.2===e.Fs(a.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return f("SimpleDb","Removing database:",t),er(window.indexedDB.deleteDatabase(t)).Sn()},e.ks=function(){if("undefined"==typeof indexedDB)return!1;if(e.$s())return!0;var t=a.getUA(),n=e.Fs(t),r=0<n&&n<10,i=e.xs(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.$s=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.Os)},e.Ms=function(t,e){return t.store(e)},e.Fs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Ls=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new Zn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new I(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new Zn(e))},r.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.Ns.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){f("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.qs&&(this.db.onversionchange=function(t){return e.qs(t)}),this.db)]}}))}))},e.prototype.Bs=function(t){this.qs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,c;return i.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,c,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,a.Ls()];case 2:return a.db=i.sent(),t=Qn.open(a.db,r?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),Fn.reject(e)})).Sn(),c={},s.catch((function(){})),[4,t.Us];case 3:return[2,(c.value=(i.sent(),s),c)];case 4:return u=i.sent(),l="FirebaseError"!==u.name&&o<3,f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",u.message,l),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Xn=function(){function t(t){this.Qs=t,this.Ws=!1,this.js=null}return Object.defineProperty(t.prototype,"yn",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ks",{get:function(){return this.js},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Ws=!0},t.prototype.Gs=function(t){this.js=t},t.prototype.delete=function(){return er(this.Qs.delete())},t}(),Zn=function(t){function e(e){var n=this;return(n=t.call(this,k.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(I);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return"IndexedDbTransactionError"===t.name}var Qn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.zs=new Wn,this.transaction.oncomplete=function(){e.zs.resolve()},this.transaction.onabort=function(){t.error?e.zs.reject(new Zn(t.error)):e.zs.resolve()},this.transaction.onerror=function(t){var n=rr(t.target.error);e.zs.reject(new Zn(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new Zn(e)}},Object.defineProperty(t.prototype,"Us",{get:function(){return this.zs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.zs.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new tr(e)},t}(),tr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),er(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),er(this.store.add(t))},t.prototype.get=function(t){var e=this;return er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),er(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),er(this.store.count())},t.prototype.Hs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ys(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Js=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Xs=!1;var r=this.cursor(n);return this.Ys(r,(function(t,e,n){return n.delete()}))},t.prototype.Zs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ys(r,e)},t.prototype.ti=function(t){var e=this.cursor({});return new Fn((function(n,r){e.onerror=function(t){var e=rr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ys=function(t,e){var n=[];return new Fn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Xn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Fn){var a=s.catch((function(t){return o.done(),Fn.reject(t)}));n.push(a)}o.yn?r():null===o.Ks?i.continue():i.continue(o.Ks)}else r()}})).next((function(){return Fn.Cn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Xs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function er(t){return new Fn((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=rr(t.target.error);n(e)}}))}var nr=!1;function rr(t){var e=Yn.Fs(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new I("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nr||(nr=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return"undefined"!=typeof window?window:null}function or(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function t(t,e,n,r,i){this.ei=t,this.Is=e,this.ni=n,this.op=r,this.si=i,this.ii=new Wn,this.then=this.ii.promise.then.bind(this.ii.promise),this.ii.promise.catch((function(t){}))}return t.ri=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.oi=setTimeout((function(){return e.hi()}),t)},t.prototype.Cs=function(){return this.hi()},t.prototype.cancel=function(t){null!==this.oi&&(this.clearTimeout(),this.ii.reject(new I(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.hi=function(){var t=this;this.ei.ai((function(){return null!==t.oi?(t.clearTimeout(),t.op().then((function(e){return t.ii.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.oi&&(this.si(this),clearTimeout(this.oi),this.oi=null)},t}(),ar=function(){function t(){var t=this;this.ci=Promise.resolve(),this.ui=[],this.li=!1,this._i=[],this.fi=null,this.di=!1,this.wi=[],this.Ti=new Kn(this,"async_queue_retry"),this.Ei=function(){var e=or();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Ti.Ds()};var e=or();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ei)}return Object.defineProperty(t.prototype,"mi",{get:function(){return this.li},enumerable:!1,configurable:!0}),t.prototype.ai=function(t){this.enqueue(t)},t.prototype.Ii=function(t){this.Ai(),this.Ri(t)},t.prototype.Pi=function(){if(!this.li){this.li=!0;var t=or();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ei)}},t.prototype.enqueue=function(t){return this.Ai(),this.li?new Promise((function(t){})):this.Ri(t)},t.prototype.gi=function(t){var e=this;this.ui.push(t),this.ai((function(){return e.Vi()}))},t.prototype.Vi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ui.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ui[0]()];case 2:return n.sent(),this.ui.shift(),this.Ti.reset(),[3,4];case 3:if(!Jn(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ui.length>0&&this.Ti.bs((function(){return e.Vi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ri=function(t){var e=this,n=this.ci.then((function(){return e.di=!0,t().catch((function(t){throw e.fi=t,e.di=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.di=!1,t}))}));return this.ci=n,n},t.prototype.Ss=function(t,e,n){var r=this;this.Ai(),this.wi.indexOf(t)>-1&&(e=0);var i=sr.ri(this,t,e,n,(function(t){return r.yi(t)}));return this._i.push(i),i},t.prototype.Ai=function(){this.fi&&b()},t.prototype.pi=function(){},t.prototype.bi=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ci];case 1:e.sent(),e.label=2;case 2:if(t!==this.ci)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this._i;e<n.length;e++)if(n[e].Is===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e._i.sort((function(t,e){return t.ni-e.ni}));for(var n=0,r=e._i;n<r.length;n++){var i=r[n];if(i.Cs(),"all"!==t&&i.Is===t)break}return e.bi()}))},t.prototype.Di=function(t){this.wi.push(t)},t.prototype.yi=function(t){var e=this._i.indexOf(t);this._i.splice(e,1)},t}();function cr(t,e){if(d("AsyncQueue",e+": "+t),Jn(t))return new I(k.UNAVAILABLE,e+": "+t);throw t}function ur(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=_(n,i);return 0===s?_(r,o):s}var lr=function(){function t(t){this.Ci=t,this.buffer=new rt(ur),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ur(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),hr={$i:!1,xi:0,Oi:0,Mi:0},fr=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();fr.ji=-1,fr.Ki=1048576,fr.Gi=41943040,fr.Qi=10,fr.Wi=1e3,fr.zi=new fr(fr.Gi,fr.Qi,fr.Wi),fr.Hi=new fr(fr.ji,0,0);var dr=function(){function t(t,e){this.Yi=t,this.ei=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==fr.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ei.Ss("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return Jn(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ai(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),pr=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return Fn.resolve(qn.Es);var r=new lr(e);return this.nr.be(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.cr=function(t,e){var n=this;return this.params.Li===fr.ji?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Fn.resolve(hr)):this.ur(t).next((function(r){return r<n.params.Li?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),hr):n.lr(t,e)}))},t.prototype.ur=function(t){return this.nr.ur(t)},t.prototype.lr=function(t,e){var n,r,i,o,a,c,u,l=this,d=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>l.params.Bi?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Bi+" from "+e),r=l.params.Bi):r=e,o=Date.now(),l.rr(t,r)})).next((function(r){return n=r,a=Date.now(),l.hr(t,n,e)})).next((function(e){return i=e,c=Date.now(),l.ar(t,n)})).next((function(t){return u=Date.now(),h()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-d)+"ms"),Fn.resolve({$i:!0,xi:r,Oi:i,Mi:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gr(e)),e=br(t.get(n),e);return gr(e)}function br(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function gr(t){return t+""}function vr(t){var e=t.length;if(g(e>=2),2===e)return g(""===t.charAt(0)&&""===t.charAt(1)),L.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&b(),t.charAt(s+1)){case"":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:b()}o=s+2}return new L(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(t){this._r=t};function wr(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new Qe({mapValue:{fields:e.fields}});return new rn(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=B.K(e.noDocument.path),r=Sr(e.noDocument.readTime);return new on(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=B.K(e.unknownDocument.path),o=Sr(e.unknownDocument.version);return new sn(i,o)}return b()}function _r(t,e,n){var r=xr(n),i=e.key.path.p().N();if(e instanceof rn){var o=function(t,e){return{name:re(t,e.key),fields:e.tn().mapValue.fields,updateTime:Zt(t,e.version.A())}}(t._r,e),s=e.hasCommittedMutations;return new Xr(null,null,o,s,r,i)}if(e instanceof on){var a=e.key.path.N(),c=Er(e.version),u=e.hasCommittedMutations;return new Xr(null,new Kr(a,c),null,u,r,i)}if(e instanceof sn){var l=e.key.path.N(),h=Er(e.version);return new Xr(new Yr(l,h),null,null,!0,r,i)}return b()}function xr(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Or(t){var e=new C(t[0],t[1]);return R.m(e)}function Er(t){var e=t.A();return new Hr(e.seconds,e.nanoseconds)}function Sr(t){var e=new C(t.seconds,t.nanoseconds);return R.m(e)}function jr(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),r=e.mutations.map((function(e){return he(t._r,e)})),i=C.fromMillis(e.localWriteTimeMs);return new Bn(e.batchId,i,n,r)}function Mr(t){var e,n,r=Sr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sr(t.lastLimboFreeSnapshotVersion):R.min();return void 0!==t.query.documents?(g(1===(n=t.query).documents.length),e=dn(ln(se(n.documents[0])))):e=function(t){var e=se(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[ye(e)]:void 0!==e.fieldFilter?[ve(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):b():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Ln(ge((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var c=null;n.limit&&(c=function(t){var e;return $(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=me(n.startAt));var l=null;return n.endAt&&(l=me(n.endAt)),dn(un(e,i,a,s,c,"F",u,l))}(t.query),new X(e,t.targetId,0,t.lastListenSequenceNumber,r,i,W.fromBase64String(t.resumeToken))}function Tr(t,e){var n,r=Er(e.Z),i=Er(e.lastLimboFreeSnapshotVersion);n=q(e.target)?fe(t._r,e.target):de(t._r,e.target);var o=e.resumeToken.toBase64();return new Jr(e.targetId,G(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.zn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return g(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.mr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cr(t).Zs({index:qr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ir=function(t,e,n,r){var i=this,o=Rr(t),s=Cr(t);return s.add({}).next((function(a){g("number"==typeof a);for(var c=new Bn(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t._r,e)})),i=n.mutations.map((function(e){return le(t._r,e)}));return new qr(e,n.batchId,n.Tn.toMillis(),r,i)}(i.serializer,i.userId,c),l=[],h=new rt((function(t,e){return _(t.F(),e.F())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Wr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(u)),l.push(o.put(m,Wr.PLACEHOLDER))}return h.forEach((function(e){l.push(i.zn.Ar(t,e))})),t.Wn((function(){i.wr[a]=c.keys()})),Fn.Cn(l).next((function(){return c}))}))},t.prototype.Rr=function(t,e){var n=this;return Cr(t).get(e).next((function(t){return t?(g(t.userId===n.userId),jr(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?Fn.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Cr(t).Zs({index:qr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r),o=jr(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Vr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cr(t).Zs({index:qr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cr(t).Hs(qr.userMutationsIndex,n).next((function(t){return t.map((function(t){return jr(e.serializer,t)}))}))},t.prototype.Yn=function(t,e){var n=this,r=Wr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Rr(t).Zs({range:i},(function(r,i,s){var a=r[0],c=r[1],u=r[2],l=vr(c);if(a===n.userId&&e.path.isEqual(l))return Cr(t).get(u).next((function(t){if(!t)throw b();g(t.userId===n.userId),o.push(jr(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.es=function(t,e){var n=this,r=new rt(_),i=[];return e.forEach((function(e){var o=Wr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Rr(t).Zs({range:s},(function(t,i,o){var s=t[0],a=t[1],c=t[2],u=vr(a);s===n.userId&&e.path.isEqual(u)?r=r.add(c):o.done()}));i.push(a)})),Fn.Cn(i).next((function(){return n.pr(t,r)}))},t.prototype.as=function(t,e){var n=this,r=e.path,i=r.length+1,o=Wr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rt(_);return Rr(t).Zs({range:s},(function(t,e,o){var s=t[0],c=t[1],u=t[2],l=vr(c);s===n.userId&&r.D(l)?l.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Cr(t).get(e).next((function(t){if(null===t)throw b();g(t.userId===n.userId),r.push(jr(n.serializer,t))})))})),Fn.Cn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return Ir(t.vr,this.userId,e).next((function(r){return t.Wn((function(){n.Sr(e.batchId)})),Fn.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.mr(t).next((function(n){if(!n)return Fn.resolve();var r=IDBKeyRange.lowerBound(Wr.prefixForUser(e.userId)),i=[];return Rr(t).Zs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=vr(t[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},t.prototype.Nr=function(t,e){return kr(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Pr(t).get(this.userId).next((function(t){return t||new Vr(e.userId,-1,"")}))},t}();function kr(t,e,n){var r=Wr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Rr(t).Zs({range:o,Xs:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Ir(t,e,n){var r=t.store(qr.store),i=t.store(Wr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Zs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){g(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Wr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),u.push(f.key)}return Fn.Cn(o).next((function(){return u}))}function Cr(t){return pi.Ms(t,qr.store)}function Rr(t){return pi.Ms(t,Wr.store)}function Pr(t){return pi.Ms(t,Vr.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function t(t,e){this.serializer=t,this.zn=e}return t.prototype.xn=function(t,e,n){return Dr(t).put(Br(e),n)},t.prototype.Mn=function(t,e){var n=Dr(t),r=Br(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.Ln=function(t,e){var n=this;return Dr(t).get(Br(e)).next((function(t){return n.$r(t)}))},t.prototype.xr=function(t,e){var n=this;return Dr(t).get(Br(e)).next((function(t){var e=n.$r(t);return e?{Or:e,size:$r(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Mr(t,e,(function(t,e){var i=n.$r(e);r=r.st(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=at(),i=new tt(B.P);return this.Mr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.st(t,o),i=i.st(t,$r(e))):(r=r.st(t,null),i=i.st(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Mr=function(t,e,n){if(e._())return Fn.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.ct(),o=i.wt();return Dr(t).Zs({range:r},(function(t,e,r){for(var s=B.K(t);o&&B.P(o,s)<0;)n(o,null),o=i.wt();o&&o.isEqual(s)&&(n(o,e),o=i.Tt()?i.wt():null),o?r.Gs(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Tt()?i.wt():null}))},t.prototype.ns=function(t,e,n){var r=this,i=ut(),o=e.path.length+1,s={};if(n.isEqual(R.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.N(),u=xr(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Xr.collectionReadTimeIndex}return Dr(t).Zs(s,(function(t,n,s){if(t.length===o){var a=wr(r.serializer,n);e.path.D(a.key.path)?a instanceof rn&&wn(e,a)&&(i=i.st(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=st(),i=xr(e),o=Dr(t),s=IDBKeyRange.lowerBound(i,!0);return o.Zs({index:Xr.readTimeIndex,range:s},(function(t,e){var o=wr(n.serializer,e);r=r.st(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:Or(i)}}))},t.prototype.Wr=function(t){var e=Dr(t),n=R.min();return e.Zs({index:Xr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Or(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Nr(t).get(Zr.key).next((function(t){return g(!!t),t}))},t.prototype.kr=function(t,e){return Nr(t).put(Zr.key,e)},t.prototype.$r=function(t){if(t){var e=wr(this.serializer,t);return e instanceof on&&e.version.isEqual(R.min())?null:e}return null},t}();function Nr(t){return pi.Ms(t,Zr.store)}function Dr(t){return pi.Ms(t,Xr.store)}function Br(t){return t.path.N()}function $r(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new A((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[],r=0,i=new rt((function(t,e){return _(t.F(),e.F())}));return this.Fn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var c=_r(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var u=$r(c);r+=u-a,n.push(e.Hr.xn(t,o,c))}else if(r-=a,e.Gr){var l=_r(e.Hr.serializer,new on(o,R.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.zn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),Fn.Cn(n)},e.prototype.qn=function(t,e){var n=this;return this.Hr.xr(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Or)}))},e.prototype.Bn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(Un);var Fr=function(){function t(){this.Jr=new Ur}return t.prototype.Ar=function(t,e){return this.Jr.add(e),Fn.resolve()},t.prototype.hs=function(t,e){return Fn.resolve(this.Jr.getEntries(e))},t}(),Ur=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new rt(L.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rt(L.P)).N()},t}(),zr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=10);var o=new Qn(e);n<1&&r>=1&&(function(t){t.createObjectStore(Gr.store)}(t),function(t){t.createObjectStore(Vr.store,{keyPath:Vr.keyPath}),t.createObjectStore(qr.store,{keyPath:qr.keyPath,autoIncrement:!0}).createIndex(qr.userMutationsIndex,qr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Wr.store)}(t),ni(t),function(t){t.createObjectStore(Xr.store)}(t));var s=Fn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qr.store),t.deleteObjectStore(Jr.store),t.deleteObjectStore(ti.store)}(t),ni(t)),s=s.next((function(){return function(t){var e=t.store(ti.store),n=new ti(0,0,R.min().A(),0);return e.put(ti.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(qr.store).Hs().next((function(n){t.deleteObjectStore(qr.store),t.createObjectStore(qr.store,{keyPath:qr.keyPath,autoIncrement:!0}).createIndex(qr.userMutationsIndex,qr.userMutationsKeyPath,{unique:!0});var r=e.store(qr.store),i=n.map((function(t){return r.put(t)}));return Fn.Cn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ri.store,{keyPath:ri.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Zr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xr.store);e.createIndex(Xr.readTimeIndex,Xr.readTimeIndexPath,{unique:!1}),e.createIndex(Xr.collectionReadTimeIndex,Xr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Xr.store).Zs((function(t,n){e+=$r(n)})).next((function(){var n=new Zr(e);return t.store(Zr.store).put(Zr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vr.store),r=t.store(qr.store);return n.Hs().next((function(n){return Fn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Hs(qr.userMutationsIndex,i).next((function(r){return Fn.forEach(r,(function(r){g(r.userId===n.userId);var i=jr(e.serializer,r);return Ir(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Qr.store),n=t.store(Xr.store);return t.store(ti.store).get(ti.key).next((function(t){var r=[];return n.Zs((function(n,i){var o=new L(n),s=function(t){return[0,mr(t)]}(o);r.push(e.get(s).next((function(n){return n?Fn.resolve():function(n){return e.put(new Qr(0,mr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Fn.Cn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ei.store,{keyPath:ei.keyPath});var n=e.store(ei.store),r=new Ur,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:mr(i)})}};return e.store(Xr.store).Zs({Xs:!0},(function(t,e){var n=new L(t);return i(n.p())})).next((function(){return e.store(Wr.store).Zs({Xs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],vr(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Jr.store);return n.Zs((function(t,r){var i=Mr(r),o=Tr(e.serializer,i);return n.put(o)}))},t}(),Hr=function(t,e){this.seconds=t,this.nanoseconds=e},Gr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gr.store="owner",Gr.key="owner";var Vr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vr.store="mutationQueues",Vr.keyPath="userId";var qr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qr.store="mutations",qr.keyPath="batchId",qr.userMutationsIndex="userMutationsIndex",qr.userMutationsKeyPath=["userId","batchId"];var Wr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mr(e)]},t.key=function(t,e,n){return[t,mr(e),n]},t}();Wr.store="documentMutations",Wr.PLACEHOLDER=new Wr;var Kr=function(t,e){this.path=t,this.readTime=e},Yr=function(t,e){this.path=t,this.version=e},Xr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xr.store="remoteDocuments",Xr.readTimeIndex="readTimeIndex",Xr.readTimeIndexPath="readTime",Xr.collectionReadTimeIndex="collectionReadTimeIndex",Xr.collectionReadTimeIndexPath=["parentPath","readTime"];var Zr=function(t){this.byteSize=t};Zr.store="remoteDocumentGlobal",Zr.key="remoteDocumentGlobalKey";var Jr=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Jr.store="targets",Jr.keyPath="targetId",Jr.queryTargetsIndexName="queryTargetsIndex",Jr.queryTargetsKeyPath=["canonicalId","targetId"];var Qr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];var ti=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ti.key="targetGlobalKey",ti.store="targetGlobal";var ei=function(t,e){this.collectionId=t,this.parent=e};function ni(t){t.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.queryTargetsIndexName,Jr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store)}ei.store="collectionParents",ei.keyPath=["collectionId","parent"];var ri=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ri.store="clientMetadata",ri.keyPath="clientId";var ii=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Vr.store,qr.store,Wr.store,Xr.store,Jr.store,Gr.store,ti.store,Qr.store],[ri.store]),[Zr.store]),[ei.store]),oi=function(){function t(){this.Xr=new Ur}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Wn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:mr(i)};return si(t).put(o)}return Fn.resolve()},t.prototype.hs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[O(e),""],!1,!0);return si(t).Hs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vr(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return pi.Ms(t,ei.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),ci=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new ai(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return R.m(new C(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.co(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.uo(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.co(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return ui(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return g(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return ui(t).Zs((function(s,a){var c=Mr(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r._o(t,c)))})).next((function(){return Fn.Cn(o)})).next((function(){return i}))},t.prototype.be=function(t,e){return ui(t).Zs((function(t,n){var r=Mr(n);e(r)}))},t.prototype.so=function(t){return li(t).get(ti.key).next((function(t){return g(null!==t),t}))},t.prototype.io=function(t,e){return li(t).put(ti.key,e)},t.prototype.co=function(t,e){return ui(t).put(Tr(this.serializer,e))},t.prototype.uo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=G(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ui(t).Zs({range:r,index:Jr.queryTargetsIndexName},(function(t,n,r){var o=Mr(n);V(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=hi(t);return e.forEach((function(e){var s=mr(e.path);i.push(o.put(new Qr(n,s))),i.push(r.dr.Eo(t,n,e))})),Fn.Cn(i)},t.prototype.mo=function(t,e,n){var r=this,i=hi(t);return Fn.forEach(e,(function(e){var o=mr(e.path);return Fn.Cn([i.delete([n,o]),r.dr.Io(t,n,e)])}))},t.prototype.fo=function(t,e){var n=hi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hi(t),i=ft();return r.Zs({range:n,Xs:!0},(function(t,e,n){var r=vr(t[1]),o=new B(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=mr(e.path),r=IDBKeyRange.bound([n],[O(n)],!1,!0),i=0;return hi(t).Zs({index:Qr.documentTargetsIndex,Xs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return ui(t).get(e).next((function(t){return t?Mr(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){return pi.Ms(t,Jr.store)}function li(t){return pi.Ms(t,ti.store)}function hi(t){return pi.Ms(t,Qr.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return i.__extends(e,t),e}(Hn),pi=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ms=o,this.window=s,this.document=a,this.Po=u,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.ks())throw new I(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new gi(this,i),this.No=n+"main",this.serializer=new yr(c),this.Fo=new Yn(this.No,10,new zr(this.serializer)),this.ko=new ci(this.dr,this.serializer),this.zn=new oi,this.Kn=new Lr(this.serializer,this.zn),this.window&&this.window.localStorage?this.$o=this.window.localStorage:(this.$o=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof di)return Yn.Ms(t.vr,e);throw b()},t.prototype.start=function(){var t=this;return this.xo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new I(k.FAILED_PRECONDITION,fi);return t.Oo(),t.Mo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new qn(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.Bs((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ms.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.xo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return bi(e).put(new ri(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.ms.gi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(Jn(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ms.gi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return mi(t).get(Gr.key).next((function(t){return Fn.resolve(e.Go(t))}))},t.prototype.zo=function(t){return bi(t).delete(this.clientId)},t.prototype.Ho=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,ri.store);return n.Hs().next((function(t){var e=s.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Fn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.$o)for(n=0,r=e;n<r.length;n++)o=r[n],this.$o.removeItem(this.Xo(o.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.ms.Ss("client_metadata_refresh",4e3,(function(){return t.xo().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?Fn.resolve(!0):mi(t).get(Gr.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new I(k.FAILED_PRECONDITION,fi);return!1}}return!(!e.networkEnabled||!e.inForeground)||bi(t).Hs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.Fo.runTransaction("readwrite",[Gr.store,ri.store],(function(e){var n=new di(e,qn.Es);return t.jo(n).next((function(){return t.zo(n)}))}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return bi(e).Hs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return Ar.Tr(t,this.serializer,this.zn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.uh=function(){return this.zn},t.prototype.runTransaction=function(t,e,n){var r=this;f("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Fo.runTransaction(o,ii,(function(o){return i=new di(o,r.yo?r.yo.next():qn.Es),"readwrite-primary"===e?r.Qo(i).next((function(t){return!!t||r.Wo(i)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.ms.gi((function(){return r.Co(!1)})),new I(k.FAILED_PRECONDITION,zn);return n(i)})).next((function(t){return r.Ko(i).next((function(){return t}))})):r.lh(i).next((function(){return n(i)}))})).then((function(t){return i.jn(),t}))},t.prototype.lh=function(t){var e=this;return mi(t).get(Gr.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new I(k.FAILED_PRECONDITION,fi)}))},t.prototype.Ko=function(t){var e=new Gr(this.clientId,this.allowTabSynchronization,Date.now());return mi(t).put(Gr.key,e)},t.ks=function(){return Yn.ks()},t.prototype.jo=function(t){var e=this,n=mi(t);return n.get(Gr.key).next((function(t){return e.Go(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Gr.key)):Fn.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Oo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.ms.ai((function(){return t.inForeground="visible"===t.document.visibilityState,t.xo()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.ms.ai((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.$o)||void 0===e?void 0:e.getItem(this.Xo(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.$o)try{this.$o.setItem(this.Xo(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ih=function(){if(this.$o)try{this.$o.removeItem(this.Xo(this.clientId))}catch(t){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function mi(t){return pi.Ms(t,Gr.store)}function bi(t){return pi.Ms(t,ri.store)}var gi=function(){function t(t,e){this.db=t,this.Yi=new pr(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.be=function(t,e){return this.db.hh().be(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return vi(t,n)},t.prototype.Io=function(t,e,n){return vi(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return vi(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Pr(t).ti((function(r){return kr(t,r,e).next((function(t){return t&&(n=!0),Fn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var c=n.dh(t,s).next((function(e){if(!e)return o++,r.Ln(t,s).next((function(){return r.Mn(s),hi(t).delete([0,mr(s.path)])}))}));i.push(c)}})).next((function(){return Fn.Cn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.tt(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return vi(t,e)},t.prototype.fh=function(t,e){var n,r=hi(t),i=qn.Es;return r.Zs({index:Qr.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==qn.Es&&e(new B(vr(n)),i),i=a,n=s):i=qn.Es})).next((function(){i!==qn.Es&&e(new B(vr(n)),i)}))},t.prototype.ur=function(t){return this.db.ah().zr(t)},t}();function vi(t,e){return hi(t).put(function(t,e){return new Qr(0,mr(t.path),e)}(e,t.Ro))}function yi(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wi=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(_),this.mh=new A((function(t){return G(t)}),V),this.Ih=R.min(),this.Gn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new Gn(this.Ah,this.Gn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.cr(n,e.Eh)}))},t}();function _i(t,e){var n=v(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ah.jr({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Fn.resolve();return o.forEach((function(t){s=s.next((function(){return r.Ln(e,t)})).next((function(e){var o=e,s=n.Pn.get(t);g(null!==s),(!o||o.version.o(s)<0)&&(o=i.En(t,o,n))&&r.xn(o,n.Rn)}))})),s.next((function(){return t.Gn.br(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}function xi(t){var e=v(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ko.ro(t)}))}function Oi(t,e){var n=v(t),r=e.Z,i=n.Eh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ah.jr({Gr:!0});i=n.Eh;var s=[];e.Wt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.ko.mo(t,e.Zt,o).next((function(){return n.ko.To(t,e.Jt,o)})));var c=e.resumeToken;if(c.Y()>0){var u=a.et(c,r).tt(t.Ro);i=i.st(o,u),function(t,e,n){return g(e.resumeToken.Y()>0),0===t.resumeToken.Y()||e.Z.I()-t.Z.I()>=3e8||n.Jt.size+n.Xt.size+n.Zt.size>0}(a,u,e)&&s.push(n.ko.lo(t,u))}}}));var a=st(),c=ft();if(e.Kt.forEach((function(t,e){c=c.add(t)})),s.push(o.getEntries(t,c).next((function(i){e.Kt.forEach((function(c,u){var l=i.get(c);u instanceof on&&u.version.isEqual(R.min())?(o.Mn(c,r),a=a.st(c,u)):null==l||u.version.o(l.version)>0||0===u.version.o(l.version)&&l.hasPendingWrites?(o.xn(u,r),a=a.st(c,u)):f("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),e.Gt.has(c)&&s.push(n.persistence.dr.wh(t,c))}))}))),!r.isEqual(R.min())){var u=n.ko.ro(t).next((function(e){return n.ko.ho(t,t.Ro,r)}));s.push(u)}return Fn.Cn(s).next((function(){return o.apply(t)})).next((function(){return n.Rh.ts(t,a)}))})).then((function(t){return n.Eh=i,t}))}function Ei(t,e){var n=v(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Gn.gr(t,e)}))}function Si(t,e){var n=v(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ko.wo(t,e).next((function(i){return i?(r=i,Fn.resolve(r)):n.ko.no(t).next((function(i){return r=new X(e,i,0,t.Ro),n.ko.ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Eh.get(t.targetId);return(null===r||t.Z.o(r.Z)>0)&&(n.Eh=n.Eh.st(t.targetId,t),n.mh.set(e,t.targetId)),t}))}function ji(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:r=v(t),o=r.Eh.get(e),s=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.dr.removeTarget(t,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Jn(a=i.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Eh=r.Eh.remove(e),r.mh.delete(o.target),[2]}}))}))}function Mi(t,e,n){var r=v(t),i=R.min(),o=ft();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=v(t),i=r.mh.get(n);return void 0!==i?Fn.resolve(r.Eh.get(i)):r.ko.wo(e,n)}(r,t,dn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ko.Ao(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Th.ns(t,e,n?i:R.min(),n?o:ft())})).next((function(t){return{documents:t,gh:o}}))}))}function Ti(t,e){var n=v(t),r=v(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function Ai(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==k.FAILED_PRECONDITION||t.message!==zn)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki=function(){function t(){this.Vh=new rt(Ii.yh),this.ph=new rt(Ii.bh)}return t.prototype._=function(){return this.Vh._()},t.prototype.Eo=function(t,e){var n=new Ii(t,e);this.Vh=this.Vh.add(n),this.ph=this.ph.add(n)},t.prototype.vh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.Io=function(t,e){this.Sh(new Ii(t,e))},t.prototype.Dh=function(t,e){var n=this;t.forEach((function(t){return n.Io(t,e)}))},t.prototype.Ch=function(t){var e=this,n=new B(new L([])),r=new Ii(n,t),i=new Ii(n,t+1),o=[];return this.ph.St([r,i],(function(t){e.Sh(t),o.push(t.key)})),o},t.prototype.Nh=function(){var t=this;this.Vh.forEach((function(e){return t.Sh(e)}))},t.prototype.Sh=function(t){this.Vh=this.Vh.delete(t),this.ph=this.ph.delete(t)},t.prototype.Fh=function(t){var e=new B(new L([])),n=new Ii(e,t),r=new Ii(e,t+1),i=ft();return this.ph.St([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new Ii(t,0),n=this.Vh.Ct(e);return null!==n&&t.isEqual(n.key)},t}(),Ii=function(){function t(t,e){this.key=t,this.kh=e}return t.yh=function(t,e){return B.P(t.key,e.key)||_(t.kh,e.kh)},t.bh=function(t,e){return _(t.kh,e.kh)||B.P(t.key,e.key)},t}(),Ci=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.$h=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ci.UNAUTHENTICATED=new Ci(null),Ci.xh=new Ci("google-credentials-uid"),Ci.Oh=new Ci("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ri=function(t,e){this.user=e,this.type="OAuth",this.Mh={},this.Mh.Authorization="Bearer "+t},Pi=function(){function t(){this.Lh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.qh=function(){},t.prototype.Bh=function(t){this.Lh=t,t(Ci.UNAUTHENTICATED)},t.prototype.Uh=function(){this.Lh=null},t}(),Li=function(){function t(t){var e=this;this.Qh=null,this.currentUser=Ci.UNAUTHENTICATED,this.Wh=!1,this.jh=0,this.Lh=null,this.forceRefresh=!1,this.Qh=function(){e.jh++,e.currentUser=e.Kh(),e.Wh=!0,e.Lh&&e.Lh(e.currentUser)},this.jh=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qh):(this.Qh(null),t.get().then((function(t){e.auth=t,e.Qh&&e.auth.addAuthTokenListener(e.Qh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.jh,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.jh!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(g("string"==typeof n.accessToken),new Ri(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.qh=function(){this.forceRefresh=!0},t.prototype.Bh=function(t){this.Lh=t,this.Wh&&t(this.currentUser)},t.prototype.Uh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qh),this.Qh=null,this.Lh=null},t.prototype.Kh=function(){var t=this.auth&&this.auth.getUid();return g(null===t||"string"==typeof t),new Ci(t)},t}(),Ni=function(){function t(t,e){this.Gh=t,this.zh=e,this.type="FirstParty",this.user=Ci.Oh}return Object.defineProperty(t.prototype,"Mh",{get:function(){var t={"X-Goog-AuthUser":this.zh},e=this.Gh.auth.Hh([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Di=function(){function t(t,e){this.Gh=t,this.zh=e}return t.prototype.getToken=function(){return Promise.resolve(new Ni(this.Gh,this.zh))},t.prototype.Bh=function(t){t(Ci.Oh)},t.prototype.Uh=function(){},t.prototype.qh=function(){},t}(),Bi=function(){function t(t,e,n,r,i,o){this.ms=t,this.Yh=n,this.Jh=r,this.Xh=i,this.listener=o,this.state=0,this.Zh=0,this.ta=null,this.stream=null,this.Ti=new Kn(t,e)}return t.prototype.ea=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.na=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sa()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ea()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){this.state=0,this.Ti.reset()},t.prototype.ra=function(){var t=this;this.na()&&null===this.ta&&(this.ta=this.ms.Ss(this.Yh,6e4,(function(){return t.oa()})))},t.prototype.ha=function(t){this.aa(),this.stream.send(t)},t.prototype.oa=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.na()?[2,this.close(0)]:[2]}))}))},t.prototype.aa=function(){this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.aa(),this.Ti.cancel(),this.Zh++,3!==t?this.Ti.reset():e&&e.code===k.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Ti.ps()):e&&e.code===k.UNAUTHENTICATED&&this.Xh.qh(),null!==this.stream&&(this.ca(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ua(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ca=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.la(this.Zh),n=this.Zh;this.Xh.getToken().then((function(e){t.Zh===n&&t._a(e)}),(function(n){e((function(){var e=new I(k.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fa(e)}))}))},t.prototype._a=function(t){var e=this,n=this.la(this.Zh);this.stream=this.da(t),this.stream.wa((function(){n((function(){return e.state=2,e.listener.wa()}))})),this.stream.ua((function(t){n((function(){return e.fa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sa=function(){var t=this;this.state=4,this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fa=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.la=function(t){var e=this;return function(n){e.ms.ai((function(){return e.Zh===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),$i=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.da=function(t){return this.Jh.Ta("Listen",t)},e.prototype.onMessage=function(t){this.Ti.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:b()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Le?(g(void 0===e||"string"==typeof e),W.fromBase64String(e||"")):(g(void 0===e||e instanceof Uint8Array),W.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?k.UNKNOWN:Q(t.code);return new I(e,t.message||"")}(s);n=new xt(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;var c=e.documentChange;c.document,c.document.name,c.document.updateTime;var u=ie(t,c.document.name),l=te(c.document.updateTime),h=new Qe({mapValue:{fields:c.document.fields}}),f=new rn(u,l,h,{}),d=c.targetIds||[],p=c.removedTargetIds||[];n=new wt(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;var m=e.documentDelete;m.document;var v=ie(t,m.document),y=m.readTime?te(m.readTime):R.min(),w=new on(v,y),_=m.removedTargetIds||[];n=new wt([],_,w.key,w)}else if("documentRemove"in e){e.documentRemove;var x=e.documentRemove;x.document;var O=ie(t,x.document),E=x.removedTargetIds||[];n=new wt([],E,O,null)}else{if(!("filter"in e))return b();e.filter;var S=e.filter;S.targetId;var j=S.count||0,M=new Z(j),T=S.targetId;n=new _t(T,M)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return R.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?R.min():e.readTime?te(e.readTime):R.min()}(t);return this.listener.Ea(e,n)},e.prototype.ma=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=q(r)?{documents:fe(t,r)}:{query:de(t,r)}).targetId=e.targetId,e.resumeToken.Y()>0&&(n.resumeToken=Jt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.X);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.ha(e)},e.prototype.Ia=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ha(e)},e}(Bi),Fi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Aa=!1,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Ra",{get:function(){return this.Aa},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Aa=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ca=function(){this.Aa&&this.Pa([])},e.prototype.da=function(t){return this.Jh.Ta("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Aa){this.Ti.reset();var e=function(t,e){return t&&t.length>0?(g(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?te(t.updateTime):te(e);n.isEqual(R.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ne(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.ga(n,e)}return g(!t.writeResults||0===t.writeResults.length),this.Aa=!0,this.listener.Va()},e.prototype.ya=function(){var t={};t.database=ae(this.serializer),this.ha(t)},e.prototype.Pa=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.ha(n)},e}(Bi),Ui=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Jh=n,i.serializer=r,i.pa=!1,i}return i.__extends(e,t),e.prototype.ba=function(){if(this.pa)throw new I(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.va=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.va(t,e,n,i)})).catch((function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.Sa=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.Sa(t,e,n,i)})).catch((function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.terminate=function(){this.pa=!1},e}((function(){})),zi=function(){function t(t,e){this.ei=t,this.Da=e,this.state="Unknown",this.Ca=0,this.Na=null,this.Fa=!0}return t.prototype.ka=function(){var t=this;0===this.Ca&&(this.$a("Unknown"),this.Na=this.ei.Ss("online_state_timeout",1e4,(function(){return t.Na=null,t.xa("Backend didn't respond within 10 seconds."),t.$a("Offline"),Promise.resolve()})))},t.prototype.Oa=function(t){"Online"===this.state?this.$a("Unknown"):(this.Ca++,this.Ca>=1&&(this.Ma(),this.xa("Connection failed 1 times. Most recent error: "+t.toString()),this.$a("Offline")))},t.prototype.set=function(t){this.Ma(),this.Ca=0,"Online"===t&&(this.Fa=!1),this.$a(t)},t.prototype.$a=function(t){t!==this.state&&(this.state=t,this.Da(t))},t.prototype.xa=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fa?(d(e),this.Fa=!1):f("OnlineStateTracker",e)},t.prototype.Ma=function(){null!==this.Na&&(this.Na.cancel(),this.Na=null)},t}(),Hi=function(){function t(t,e,n,r,o){var s=this;this.La=t,this.qa=e,this.ei=n,this.Ba=[],this.Ua=new Map,this.Qa=null,this.Wa=new Set,this.ja=o,this.ja.Ka((function(t){n.ai((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.za()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ha=new zi(n,r),this.Ya=function(t,e,n){var r=v(t);return r.ba(),new $i(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.Ja.bind(this),ua:this.Xa.bind(this),Ea:this.Za.bind(this)}),this.tc=function(t,e,n){var r=v(t);return r.ba(),new Fi(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.ec.bind(this),ua:this.nc.bind(this),Va:this.sc.bind(this),ga:this.ga.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Wa.delete(0),this.ic()},t.prototype.ic=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(this.rc()?this.oc():this.Ha.set("Unknown"),[4,this.hc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(0),[4,this.ac()];case 1:return t.sent(),this.Ha.set("Offline"),[2]}}))}))},t.prototype.ac=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.tc.stop()];case 1:return t.sent(),[4,this.Ya.stop()];case 2:return t.sent(),this.Ba.length>0&&(f("RemoteStore","Stopping write stream with "+this.Ba.length+" pending writes"),this.Ba=[]),this.cc(),[2]}}))}))},t.prototype.th=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.Wa.add(5),[4,this.ac()];case 1:return t.sent(),this.ja.th(),this.Ha.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ua.has(t.targetId)||(this.Ua.set(t.targetId,t),this.rc()?this.oc():this.Ya.na()&&this.uc(t))},t.prototype.lc=function(t){this.Ua.delete(t),this.Ya.na()&&this._c(t),0===this.Ua.size&&(this.Ya.na()?this.Ya.ra():this.Ga()&&this.Ha.set("Unknown"))},t.prototype.Me=function(t){return this.Ua.get(t)||null},t.prototype.Oe=function(t){return this.fc.Oe(t)},t.prototype.uc=function(t){this.Qa.we(t.targetId),this.Ya.ma(t)},t.prototype._c=function(t){this.Qa.we(t),this.Ya.Ia(t)},t.prototype.oc=function(){this.Qa=new Et(this),this.Ya.start(),this.Ha.ka()},t.prototype.rc=function(){return this.Ga()&&!this.Ya.ea()&&this.Ua.size>0},t.prototype.Ga=function(){return 0===this.Wa.size},t.prototype.cc=function(){this.Qa=null},t.prototype.Ja=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ua.forEach((function(e,n){t.uc(e)})),[2]}))}))},t.prototype.Xa=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.cc(),this.rc()?(this.Ha.Oa(t),this.oc()):this.Ha.set("Unknown"),[2]}))}))},t.prototype.Za=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.Ha.set("Online"),!(t instanceof xt&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.dc(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.wc(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof wt?this.Qa.ge(t):t instanceof _t?this.Qa.Ce(t):this.Qa.pe(t),e.isEqual(R.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,xi(this.La)];case 8:return r=i.sent(),e.o(r)>=0?[4,this.Tc(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.wc(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.wc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!Jn(t))throw t;return this.Wa.add(1),[4,this.ac()];case 1:return r.sent(),this.Ha.set("Offline"),e||(e=function(){return xi(n.La)}),this.ei.gi((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Wa.delete(1),[4,this.ic()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Ec=function(t){var e=this;return t().catch((function(n){return e.wc(n,t)}))},t.prototype.Tc=function(t){var e=this,n=this.Qa.ke(t);return n.Wt.forEach((function(n,r){if(n.resumeToken.Y()>0){var i=e.Ua.get(r);i&&e.Ua.set(r,i.et(n.resumeToken,t))}})),n.jt.forEach((function(t){var n=e.Ua.get(t);if(n){e.Ua.set(t,n.et(W.J,n.Z)),e._c(t);var r=new X(n.target,t,1,n.sequenceNumber);e.uc(r)}})),this.fc.mc(n)},t.prototype.dc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?(o=r[n],this.Ua.has(o)?[4,this.fc.Ic(o,e)]:[3,3]):[3,5];case 2:i.sent(),this.Ua.delete(o),this.Qa.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.hc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:t=this.Ba.length>0?this.Ba[this.Ba.length-1].batchId:-1,r.label=1;case 1:if(!this.Ac())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ei(this.La,t)];case 3:return null===(e=r.sent())?(0===this.Ba.length&&this.tc.ra(),[3,7]):(t=e.batchId,this.Rc(e),[3,6]);case 4:return n=r.sent(),[4,this.wc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Pc()&&this.gc(),[2]}}))}))},t.prototype.Ac=function(){return this.Ga()&&this.Ba.length<10},t.prototype.Vc=function(){return this.Ba.length},t.prototype.Rc=function(t){this.Ba.push(t),this.tc.na()&&this.tc.Ra&&this.tc.Pa(t.mutations)},t.prototype.Pc=function(){return this.Ga()&&!this.tc.ea()&&this.Ba.length>0},t.prototype.gc=function(){this.tc.start()},t.prototype.ec=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.tc.ya(),[2]}))}))},t.prototype.sc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){for(t=0,e=this.Ba;t<e.length;t++)n=e[t],this.tc.Pa(n.mutations);return[2]}))}))},t.prototype.ga=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ba.shift(),r=$n.from(n,t,e),[4,this.Ec((function(){return o.fc.yc(r)}))];case 1:return i.sent(),[4,this.hc()];case 2:return i.sent(),[2]}}))}))},t.prototype.nc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.tc.Ra?[4,this.pc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Pc()&&this.gc(),[2]}}))}))},t.prototype.pc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return J(n=t.code)&&n!==k.ABORTED?(e=this.Ba.shift(),this.tc.ia(),[4,this.Ec((function(){return r.fc.bc(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.hc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.za=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(4),[4,this.ac()];case 1:return t.sent(),this.Ha.set("Unknown"),this.tc.ia(),this.Ya.ia(),this.Wa.delete(4),[4,this.ic()];case 2:return t.sent(),[2]}}))}))},t.prototype.vc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ei.pi(),f("RemoteStore","RemoteStore received new credentials"),this.Wa.add(3),[4,this.ac()];case 1:return e.sent(),this.Ha.set("Unknown"),[4,this.fc.vc(t)];case 2:return e.sent(),this.Wa.delete(3),[4,this.ic()];case 3:return e.sent(),[2]}}))}))},t.prototype.Sc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Wa.delete(2),[4,this.ic()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Wa.add(2),[4,this.ac()]);case 3:e.sent(),this.Ha.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){return"firestore_clients_"+t+"_"+e}function Vi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function qi(t,e){return"firestore_targets_"+t+"_"+e}var Wi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Dc=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new I(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Cc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ki=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Dc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new I(r.error.code,r.error.message)),i?new t(e,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Cc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Dc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pt(),s=0;i&&s<r.activeTargetIds.length;++s)i=U(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Dc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zi=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Nc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Fc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Cc=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ji=function(){function t(t,e,n,r,i){this.window=t,this.ms=e,this.persistenceKey=n,this.kc=r,this.fc=null,this.Da=null,this.fs=null,this.$c=this.xc.bind(this),this.Oc=new tt(_),this.tr=!1,this.Mc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Lc=Gi(this.persistenceKey,this.kc),this.qc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Oc=this.Oc.st(this.kc,new Zi),this.Bc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Uc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Qc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Wc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.$c)}return t.ks=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,c,u,l,h,f=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.fc.rh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.kc&&(o=this.getItem(Gi(this.persistenceKey,r)))&&(s=Yi.Dc(r,o))&&(this.Oc=this.Oc.st(s.clientId,s));for(this.jc(),(a=this.storage.getItem(this.Wc))&&(c=this.Kc(a))&&this.Gc(c),u=0,l=this.Mc;u<l.length;u++)h=l[u],this.xc(h);return this.Mc=[],this.window.addEventListener("unload",(function(){return f.th()})),this.tr=!0,[2]}}))}))},t.prototype.Ts=function(t){this.setItem(this.qc,JSON.stringify(t))},t.prototype.zc=function(){return this.Hc(this.Oc)},t.prototype.Yc=function(t){var e=!1;return this.Oc.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Jc=function(t){this.Xc(t,"pending")},t.prototype.Zc=function(t,e,n){this.Xc(t,e,n),this.tu(t)},t.prototype.eu=function(t){var e="not-current";if(this.Yc(t)){var n=this.storage.getItem(qi(this.persistenceKey,t));if(n){var r=Ki.Dc(t,n);r&&(e=r.state)}}return this.nu.Nc(t),this.jc(),e},t.prototype.su=function(t){this.nu.Fc(t),this.jc()},t.prototype.iu=function(t){return this.nu.activeTargetIds.has(t)},t.prototype.ru=function(t){this.removeItem(qi(this.persistenceKey,t))},t.prototype.ou=function(t,e,n){this.hu(t,e,n)},t.prototype.au=function(t,e,n){var r=this;e.forEach((function(t){r.tu(t)})),this.currentUser=t,n.forEach((function(t){r.Jc(t)}))},t.prototype.cu=function(t){this.uu(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.$c),this.removeItem(this.Lc),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Lc)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ms.gi((function(){return i.__awaiter(e,void 0,void 0,(function(){var t,e,r,o,s,a;return i.__generator(this,(function(i){if(this.tr){if(null!==n.key)if(this.Bc.test(n.key)){if(null==n.newValue)return t=this.lu(n.key),[2,this._u(t,null)];if(e=this.fu(n.key,n.newValue))return[2,this._u(e.clientId,e)]}else if(this.Uc.test(n.key)){if(null!==n.newValue&&(r=this.du(n.key,n.newValue)))return[2,this.wu(r)]}else if(this.Qc.test(n.key)){if(null!==n.newValue&&(o=this.Tu(n.key,n.newValue)))return[2,this.Eu(o)]}else if(n.key===this.Wc){if(null!==n.newValue&&(s=this.Kc(n.newValue)))return[2,this.Gc(s)]}else n.key===this.qc&&(a=function(t){var e=qn.Es;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qn.Es&&this.fs(a)}else this.Mc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"nu",{get:function(){return this.Oc.get(this.kc)},enumerable:!1,configurable:!0}),t.prototype.jc=function(){this.setItem(this.Lc,this.nu.Cc())},t.prototype.Xc=function(t,e,n){var r=new Wi(this.currentUser,t,e,n),i=Vi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Cc())},t.prototype.tu=function(t){var e=Vi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.uu=function(t){var e={clientId:this.kc,onlineState:t};this.storage.setItem(this.Wc,JSON.stringify(e))},t.prototype.hu=function(t,e,n){var r=qi(this.persistenceKey,t),i=new Ki(t,e,n);this.setItem(r,i.Cc())},t.prototype.lu=function(t){var e=this.Bc.exec(t);return e?e[1]:null},t.prototype.fu=function(t,e){var n=this.lu(t);return Yi.Dc(n,e)},t.prototype.du=function(t,e){var n=this.Uc.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wi.Dc(new Ci(i),r,e)},t.prototype.Tu=function(t,e){var n=this.Qc.exec(t),r=Number(n[1]);return Ki.Dc(r,e)},t.prototype.Kc=function(t){return Xi.Dc(t)},t.prototype.wu=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fc.mu(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Eu=function(t){return this.fc.Iu(t.targetId,t.state,t.error)},t.prototype._u=function(t,e){var n=this,r=e?this.Oc.st(t,e):this.Oc.remove(t),i=this.Hc(this.Oc),o=this.Hc(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fc.Au(s,a).then((function(){n.Oc=r}))},t.prototype.Gc=function(t){this.Oc.get(t.clientId)&&this.Da(t.onlineState)},t.prototype.Hc=function(t){var e=pt();return t.forEach((function(t,n){e=e.Nt(n.activeTargetIds)})),e},t}(),Qi=function(){function t(){this.Ru=new Zi,this.Pu={},this.Da=null,this.fs=null}return t.prototype.Jc=function(t){},t.prototype.Zc=function(t,e,n){},t.prototype.eu=function(t){return this.Ru.Nc(t),this.Pu[t]||"not-current"},t.prototype.ou=function(t,e,n){this.Pu[t]=e},t.prototype.su=function(t){this.Ru.Fc(t)},t.prototype.iu=function(t){return this.Ru.activeTargetIds.has(t)},t.prototype.ru=function(t){delete this.Pu[t]},t.prototype.zc=function(){return this.Ru.activeTargetIds},t.prototype.Yc=function(t){return this.Ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.Ru=new Zi,Promise.resolve()},t.prototype.au=function(t,e,n){},t.prototype.cu=function(t){},t.prototype.th=function(){},t.prototype.Ts=function(t){},t}(),to=function(t){this.key=t},eo=function(t){this.key=t},no=function(){function t(t,e){this.query=t,this.gu=e,this.Vu=null,this.Yt=!1,this.yu=ft(),this.qt=ft(),this.pu=_n(t),this.bu=new mt(this.pu)}return Object.defineProperty(t.prototype,"vu",{get:function(){return this.gu},enumerable:!1,configurable:!0}),t.prototype.Su=function(t,e){var n=this,r=e?e.Du:new bt,i=e?e.bu:this.bu,o=e?e.qt:this.qt,s=i,a=!1,c=this.query.an()&&i.size===this.query.limit?i.last():null,u=this.query.cn()&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof rn?e:null;h&&(h=wn(n.query,h)?h:null);var f=!!l&&n.qt.has(l.key),d=!!h&&(h.Ge||n.qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Cu(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.pu(h,c)>0||u&&n.pu(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.an()||this.query.cn())for(;s.size>this.query.limit;){var l=this.query.an()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{bu:s,Du:r,Nu:a,qt:o}},t.prototype.Cu=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Un=function(t,e,n){var r=this,i=this.bu;this.bu=t.bu,this.qt=t.qt;var o=t.Du.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(t)-n(e)}(t.type,e.type)||r.pu(t.doc,e.doc)})),this.Fu(n);var s=e?this.ku():[],a=0===this.yu.size&&this.Yt?1:0,c=a!==this.Vu;return this.Vu=a,0!==o.length||c?{snapshot:new gt(this.query,t.bu,i,o,t.qt,0===a,c,!1),$u:s}:{$u:s}},t.prototype.xu=function(t){return this.Yt&&"Offline"===t?(this.Yt=!1,this.Un({bu:this.bu,Du:new bt,qt:this.qt,Nu:!1},!1)):{$u:[]}},t.prototype.Ou=function(t){return!this.gu.has(t)&&!!this.bu.has(t)&&!this.bu.get(t).Ge},t.prototype.Fu=function(t){var e=this;t&&(t.Jt.forEach((function(t){return e.gu=e.gu.add(t)})),t.Xt.forEach((function(t){})),t.Zt.forEach((function(t){return e.gu=e.gu.delete(t)})),this.Yt=t.Yt)},t.prototype.ku=function(){var t=this;if(!this.Yt)return[];var e=this.yu;this.yu=ft(),this.bu.forEach((function(e){t.Ou(e.key)&&(t.yu=t.yu.add(e.key))}));var n=[];return e.forEach((function(e){t.yu.has(e)||n.push(new eo(e))})),this.yu.forEach((function(t){e.has(t)||n.push(new to(t))})),n},t.prototype.Mu=function(t){this.gu=t.gh,this.yu=ft();var e=this.Su(t.documents);return this.Un(e,!0)},t.prototype.Lu=function(){return gt.Qt(this.query,this.bu,this.qt,0===this.Vu)},t}(),ro=function(t,e,n){this.query=t,this.targetId=e,this.view=n},io=function(t){this.key=t,this.qu=!1},oo=function(){function t(t,e,n,r,i,o){this.La=t,this.Bu=e,this.qa=n,this.Uu=r,this.currentUser=i,this.Qu=o,this.Wu=null,this.ju=new A((function(t){return vn(t)}),gn),this.Ku=new Map,this.Gu=[],this.zu=new tt(B.P),this.Hu=new Map,this.Yu=new ki,this.Ju={},this.Xu=new Map,this.Zu=ai.eo(),this.onlineState="Unknown",this.tl=void 0}return Object.defineProperty(t.prototype,"el",{get:function(){return!0===this.tl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Wu=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("listen()"),(r=this.ju.get(t))?(e=r.targetId,this.Uu.eu(e),n=r.view.Lu(),[3,4]):[3,1];case 1:return[4,Si(this.La,dn(t))];case 2:return o=i.sent(),s=this.Uu.eu(o.targetId),e=o.targetId,[4,this.sl(t,e,"current"===s)];case 3:n=i.sent(),this.el&&this.Bu.listen(o),i.label=4;case 4:return[2,n]}}))}))},t.prototype.sl=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,c,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Mi(this.La,t,!0)];case 1:return r=i.sent(),o=new no(t,r.gh),s=o.Su(r.documents),a=yt.Ht(e,n&&"Offline"!==this.onlineState),c=o.Un(s,this.el,a),this.il(e,c.$u),u=new ro(t,e,o),[2,(this.ju.set(t,u),this.Ku.has(e)?this.Ku.get(e).push(t):this.Ku.set(e,[t]),c.snapshot)]}}))}))},t.prototype.lc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("unlisten()"),e=this.ju.get(t),(n=this.Ku.get(e.targetId)).length>1?[2,(this.Ku.set(e.targetId,n.filter((function(e){return!gn(e,t)}))),void this.ju.delete(t))]:this.el?(this.Uu.su(e.targetId),this.Uu.Yc(e.targetId)?[3,2]:[4,ji(this.La,e.targetId,!1).then((function(){r.Uu.ru(e.targetId),r.Bu.lc(e.targetId),r.rl(e.targetId)})).catch(Ai)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rl(e.targetId),[4,ji(this.La,e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.nl("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=v(t),i=C.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ft());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Rh.Zn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=ze(u,n.get(u.key));null!=l&&s.push(new qe(u.key,l,en(l.proto.mapValue),De.exists(!0)))}return r.Gn.Ir(t,i,s,e)}))})).then((function(t){var e=t.An(n);return{batchId:t.batchId,Fn:e}}))}(this.La,t)];case 2:return n=i.sent(),this.Uu.Jc(n.batchId),this.ol(n.batchId,e),[4,this.hl(n.Fn)];case 3:return i.sent(),[4,this.Bu.hc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=cr(r,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.mc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Oi(this.La,t)];case 2:return e=r.sent(),t.Wt.forEach((function(t,e){var r=n.Hu.get(e);r&&(g(t.Jt.size+t.Xt.size+t.Zt.size<=1),t.Jt.size>0?r.qu=!0:t.Xt.size>0?g(r.qu):t.Zt.size>0&&(g(r.qu),r.qu=!1))})),[4,this.hl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Ai(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xu=function(t,e){if(this.el&&0===e||!this.el&&1===e){this.nl("applyOnlineStateChange()");var n=[];this.ju.forEach((function(e,r){var i=r.view.xu(t);i.snapshot&&n.push(i.snapshot)})),this.Wu.al(t),this.Wu.Ea(n),this.onlineState=t,this.el&&this.Uu.cu(t)}},t.prototype.Ic=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nl("rejectListens()"),this.Uu.ou(t,"rejected",e),n=this.Hu.get(t),(r=n&&n.key)?(o=(o=new tt(B.P)).st(r,new on(r,R.min())),s=ft().add(r),a=new vt(R.min(),new Map,new rt(_),o,s),[4,this.mc(a)]):[3,2];case 1:return i.sent(),this.zu=this.zu.remove(r),this.Hu.delete(t),this.cl(),[3,4];case 2:return[4,ji(this.La,t,!1).then((function(){return c.rl(t,e)})).catch(Ai)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.yc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_i(this.La,t)];case 2:return n=r.sent(),this.ul(e,null),this.ll(e),this.Uu.Zc(e,"acknowledged"),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ai(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Gn.Rr(t,e).next((function(e){return g(null!==e),r=e.keys(),n.Gn.br(t,e)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}(this.La,t)];case 2:return n=r.sent(),this.ul(t,e),this.ll(t),this.Uu.Zc(t,"rejected",e),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ai(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._l=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Bu.Ga()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=v(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Gn.Vr(t)}))}(this.La)];case 2:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.Xu.get(e)||[]).push(t),this.Xu.set(e,n),[3,4]);case 3:return r=i.sent(),o=cr(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.ll=function(t){(this.Xu.get(t)||[]).forEach((function(t){t.resolve()})),this.Xu.delete(t)},t.prototype.fl=function(t){this.Xu.forEach((function(e){e.forEach((function(e){e.reject(new I(k.CANCELLED,t))}))})),this.Xu.clear()},t.prototype.ol=function(t,e){var n=this.Ju[this.currentUser.$h()];n||(n=new tt(_)),n=n.st(t,e),this.Ju[this.currentUser.$h()]=n},t.prototype.ul=function(t,e){var n=this.Ju[this.currentUser.$h()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Ju[this.currentUser.$h()]=n}},t.prototype.rl=function(t,e){var n=this;void 0===e&&(e=null),this.Uu.su(t);for(var r=0,i=this.Ku.get(t);r<i.length;r++){var o=i[r];this.ju.delete(o),e&&this.Wu.dl(o,e)}this.Ku.delete(t),this.el&&this.Yu.Ch(t).forEach((function(t){n.Yu.Nr(t)||n.wl(t)}))},t.prototype.wl=function(t){var e=this.zu.get(t);null!==e&&(this.Bu.lc(e),this.zu=this.zu.remove(t),this.Hu.delete(e),this.cl())},t.prototype.il=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof to?(this.Yu.Eo(i.key,t),this.Tl(i)):i instanceof eo?(f("SyncEngine","Document no longer in limbo: "+i.key),this.Yu.Io(i.key,t),this.Yu.Nr(i.key)||this.wl(i.key)):b()}},t.prototype.Tl=function(t){var e=t.key;this.zu.get(e)||(f("SyncEngine","New document in limbo: "+e),this.Gu.push(e),this.cl())},t.prototype.cl=function(){for(;this.Gu.length>0&&this.zu.size<this.Qu;){var t=this.Gu.shift(),e=this.Zu.next();this.Hu.set(e,new io(t)),this.zu=this.zu.st(t,e),this.Bu.listen(new X(dn(ln(t.path)),e,2,qn.Es))}},t.prototype.El=function(){return this.zu},t.prototype.ml=function(){return this.Gu},t.prototype.hl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],o=[],this.ju.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.Su(t);return e.Nu?Mi(s.La,a.query,!1).then((function(t){var n=t.documents;return a.view.Su(n,e)})):e})).then((function(t){var i=e&&e.Wt.get(a.targetId),o=a.view.Un(t,s.el,i);if(s.il(a.targetId,o.$u),o.snapshot){s.el&&s.Uu.ou(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var c=Vn._s(a.targetId,o.snapshot);r.push(c)}})))})),[4,Promise.all(o)];case 1:return a.sent(),this.Wu.Ea(n),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,c,u,l,h;return i.__generator(this,(function(i){switch(i.label){case 0:n=v(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Fn.forEach(e,(function(e){return Fn.forEach(e.us,(function(r){return n.persistence.dr.Eo(t,e.targetId,r)})).next((function(){return Fn.forEach(e.ls,(function(r){return n.persistence.dr.Io(t,e.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Jn(r=i.sent()))throw r;return f("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=s[o],c=a.targetId,a.fromCache||(u=n.Eh.get(c),l=u.Z,h=u.nt(l),n.Eh=n.Eh.st(c,h));return[2]}}))}))}(this.La,r)];case 2:return a.sent(),[2]}}))}))},t.prototype.nl=function(t){},t.prototype.vc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.$h()),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=v(t),r=n.Gn,o=n.Rh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n.Gn.yr(t).next((function(s){return i=s,r=n.persistence.oh(e),o=new Gn(n.Ah,r,n.persistence.uh()),r.yr(t)})).next((function(e){for(var n=[],r=[],s=ft(),a=0,c=i;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var b=0,g=m.mutations;b<g.length;b++){var v=g[b];s=s.add(v.key)}}return o.Zn(t,s).next((function(t){return{Il:t,Al:n,Rl:r}}))}))}))];case 1:return s=i.sent(),[2,(n.Gn=r,n.Rh=o,n.Th.Ph(n.Rh),s)]}}))}))}(this.La,t)]);case 1:return e=n.sent(),this.currentUser=t,this.fl("'waitForPendingWrites' promise is rejected due to a user change."),this.Uu.au(t,e.Al,e.Rl),[4,this.hl(e.Il)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.Oe=function(t){var e=this.Hu.get(t);if(e&&e.qu)return ft().add(e.key);var n=ft(),r=this.Ku.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.ju.get(s);n=n.Nt(a.view.vu)}return n},t}();function so(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Mi((n=v(t)).La,e.query,!0)];case 1:return r=i.sent(),o=e.view.Mu(r),[2,(n.el&&n.il(e.targetId,o.$u),o)]}}))}))}function ao(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=v(t)).nl("applyBatchState()"),[4,function(t,e){var n=v(t),r=v(n.Gn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Zn(t,e):Fn.resolve(null)}))}))}(o.La,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.Bu.hc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.ul(e,r||null),function(t,e){v(v(t).Gn).Sr(e)}(o.La,e)):b(),i.label=4;case 4:return[4,o.hl(s)];case 5:return i.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function co(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,c,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:return n=v(t),!0!==e||!0===n.tl?[3,3]:(r=n.Uu.zc(),[4,uo(n,r.N())]);case 1:return o=i.sent(),n.tl=!0,[4,n.Bu.Sc(!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)c=a[s],n.Bu.listen(c);return[3,7];case 3:return!1!==e||!1===n.tl?[3,7]:(u=[],l=Promise.resolve(),n.Ku.forEach((function(t,e){n.Uu.iu(e)?u.push(e):l=l.then((function(){return n.rl(e),ji(n.La,e,!0)})),n.Bu.lc(e)})),[4,l]);case 4:return i.sent(),[4,uo(n,u)];case 5:return i.sent(),function(t){var e=v(t);e.Hu.forEach((function(t,n){e.Bu.lc(n)})),e.Yu.Nh(),e.Hu=new Map,e.zu=new tt(B.P)}(n),n.tl=!1,[4,n.Bu.Sc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function uo(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,c,u,l,h,f,d,p,m,b;return i.__generator(this,(function(i){switch(i.label){case 0:n=v(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(c=a[s],u=void 0,(l=n.Ku.get(c))&&0!==l.length?[4,Si(n.La,dn(l[0]))]:[3,7]):[3,13];case 2:u=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=f[h],p=n.ju.get(d),[4,so(n,p)]):[3,6];case 4:(m=i.sent()).snapshot&&o.push(m.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ti(n.La,c)];case 8:return b=i.sent(),[4,Si(n.La,b)];case 9:return u=i.sent(),[4,n.sl(lo(b),c,!1)];case 10:i.sent(),i.label=11;case 11:r.push(u),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Wu.Ea(o),r)]}}))}))}function lo(t){return un(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ho(t){var e=v(t);return v(v(e.La).persistence).rh()}function fo(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=v(t)).tl?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Ku.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=v(t),n=v(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.Ih)})).then((function(t){var n=t.Qr,r=t.readTime;return e.Ih=r,n}))}(o.La)];case 3:return s=i.sent(),a=vt.zt(e,"current"===n),[4,o.hl(s,a)];case 4:return i.sent(),[3,8];case 5:return[4,ji(o.La,e,!0)];case 6:return i.sent(),o.rl(e,r),[3,8];case 7:b(),i.label=8;case 8:return[2]}}))}))}function po(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,c,u,l,h,d,p;return i.__generator(this,(function(m){switch(m.label){case 0:if(!(r=v(t)).tl)return[3,10];o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],r.Ku.has(a)?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ti(r.La,a)]):[3,6];case 2:return c=m.sent(),[4,Si(r.La,c)];case 3:return u=m.sent(),[4,r.sl(lo(c),u.targetId,!1)];case 4:m.sent(),r.Bu.listen(u),m.label=5;case 5:return o++,[3,1];case 6:l=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return r.Ku.has(t)?[4,ji(r.La,t,!1).then((function(){r.Bu.lc(t),r.rl(t)})).catch(Ai)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,m.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(){this.Pl=void 0,this.listeners=[]},bo=function(){function t(t){this.fc=t,this.gl=new A((function(t){return vn(t)}),gn),this.onlineState="Unknown",this.Vl=new Set,this.fc.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(e=t.query,n=!1,(r=this.gl.get(e))||(n=!0,r=new mo),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.fc.listen(e)];case 2:return o.Pl=i.sent(),[3,4];case 3:return s=i.sent(),a=cr(s,"Initialization of query '"+yn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.gl.set(e,r),r.listeners.push(t),t.xu(this.onlineState),r.Pl&&t.yl(r.Pl)&&this.pl(),[2]}}))}))},t.prototype.lc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return e=t.query,n=!1,(r=this.gl.get(e))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?[2,(this.gl.delete(e),this.fc.lc(e))]:[2]}))}))},t.prototype.Ea=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.gl.get(o);if(s){for(var a=0,c=s.listeners;a<c.length;a++)c[a].yl(i)&&(e=!0);s.Pl=i}}e&&this.pl()},t.prototype.dl=function(t,e){var n=this.gl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.gl.delete(t)},t.prototype.al=function(t){this.onlineState=t;var e=!1;this.gl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].xu(t)&&(e=!0)})),e&&this.pl()},t.prototype.bl=function(t){this.Vl.add(t),t.next()},t.prototype.vl=function(t){this.Vl.delete(t)},t.prototype.pl=function(){this.Vl.forEach((function(t){t.next()}))},t}(),go=function(){function t(t,e,n){this.query=t,this.Sl=e,this.Dl=!1,this.Cl=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yl=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new gt(t.query,t.docs,t.Lt,e,t.qt,t.fromCache,t.Bt,!0)}var o=!1;return this.Dl?this.Nl(t)&&(this.Sl.next(t),o=!0):this.Fl(t,this.onlineState)&&(this.kl(t),o=!0),this.Cl=t,o},t.prototype.onError=function(t){this.Sl.error(t)},t.prototype.xu=function(t){this.onlineState=t;var e=!1;return this.Cl&&!this.Dl&&this.Fl(this.Cl,t)&&(this.kl(this.Cl),e=!0),e},t.prototype.Fl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.$l&&n||t.docs._()&&"Offline"!==e)},t.prototype.Nl=function(t){if(t.docChanges.length>0)return!0;var e=this.Cl&&this.Cl.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.kl=function(t){t=gt.Qt(t.query,t.docs,t.qt,t.fromCache),this.Dl=!0,this.Sl.next(t)},t}(),vo=function(){function t(){}return t.prototype.Ph=function(t){this.xl=t},t.prototype.ns=function(t,e,n,r){var i=this;return e.hn()||n.isEqual(R.min())?this.Ol(t,e):this.xl.Zn(t,r).next((function(o){var a=i.Ml(e,o);return(e.an()||e.cn())&&i.Nu(e.nn,a,r,n)?i.Ol(t,e):(h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),yn(e)),i.xl.ns(t,e,n).next((function(t){return a.forEach((function(e){t=t.st(e.key,e)})),t})))}))},t.prototype.Ml=function(t,e){var n=new rt(_n(t));return e.forEach((function(e,r){r instanceof rn&&wn(t,r)&&(n=n.add(r))})),n},t.prototype.Nu=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Ol=function(t,e){return h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",yn(e)),this.xl.ns(t,e,R.min())},t}(),yo=function(){function t(t,e){this.zn=t,this.dr=e,this.Gn=[],this.Ll=1,this.ql=new rt(Ii.yh)}return t.prototype.mr=function(t){return Fn.resolve(0===this.Gn.length)},t.prototype.Ir=function(t,e,n,r){var i=this.Ll;this.Ll++,this.Gn.length>0&&this.Gn[this.Gn.length-1];var o=new Bn(i,e,n,r);this.Gn.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.ql=this.ql.add(new Ii(c.key,i)),this.zn.Ar(t,c.key.path.p())}return Fn.resolve(o)},t.prototype.Rr=function(t,e){return Fn.resolve(this.Bl(e))},t.prototype.gr=function(t,e){var n=e+1,r=this.Ul(n),i=r<0?0:r;return Fn.resolve(this.Gn.length>i?this.Gn[i]:null)},t.prototype.Vr=function(){return Fn.resolve(0===this.Gn.length?-1:this.Ll-1)},t.prototype.yr=function(t){return Fn.resolve(this.Gn.slice())},t.prototype.Yn=function(t,e){var n=this,r=new Ii(e,0),i=new Ii(e,Number.POSITIVE_INFINITY),o=[];return this.ql.St([r,i],(function(t){var e=n.Bl(t.kh);o.push(e)})),Fn.resolve(o)},t.prototype.es=function(t,e){var n=this,r=new rt(_);return e.forEach((function(t){var e=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY);n.ql.St([e,i],(function(t){r=r.add(t.kh)}))})),Fn.resolve(this.Ql(r))},t.prototype.as=function(t,e){var n=e.path,r=n.length+1,i=n;B.j(i)||(i=i.child(""));var o=new Ii(new B(i),0),s=new rt(_);return this.ql.Dt((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.kh)),!0)}),o),Fn.resolve(this.Ql(s))},t.prototype.Ql=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Bl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;g(0===this.Wl(e.batchId,"removed")),this.Gn.shift();var r=this.ql;return Fn.forEach(e.mutations,(function(i){var o=new Ii(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.ql=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Ii(e,0),r=this.ql.Ct(n);return Fn.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return this.Gn.length,Fn.resolve()},t.prototype.Wl=function(t,e){return this.Ul(t)},t.prototype.Ul=function(t){return 0===this.Gn.length?0:t-this.Gn[0].batchId},t.prototype.Bl=function(t){var e=this.Ul(t);return e<0||e>=this.Gn.length?null:this.Gn[e]},t}(),wo=function(){function t(t,e){this.zn=t,this.jl=e,this.docs=new tt(B.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jl(e);return this.docs=this.docs.st(r,{Or:e,size:s,readTime:n}),this.size+=s-o,this.zn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return Fn.resolve(n?n.Or:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.st(t,e?e.Or:null)})),Fn.resolve(r)},t.prototype.ns=function(t,e,n){for(var r=ut(),i=new B(e.path.child("")),o=this.docs.ut(i);o.Tt();){var s=o.wt(),a=s.key,c=s.value,u=c.Or,l=c.readTime;if(!e.path.D(a.path))break;l.o(n)<=0||u instanceof rn&&wn(e,u)&&(r=r.st(u.key,u))}return Fn.resolve(r)},t.prototype.Kl=function(t,e){return Fn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return Fn.resolve(this.size)},t}();wo.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return i.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[];return this.Fn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),Fn.Cn(n)},e.prototype.qn=function(t,e){return this.Hr.Ln(t,e)},e.prototype.Bn=function(t,e){return this.Hr.getEntries(t,e)},e}(Un);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _o=function(){function t(t){this.persistence=t,this.Gl=new A((function(t){return G(t)}),V),this.lastRemoteSnapshotVersion=R.min(),this.highestTargetId=0,this.zl=0,this.Hl=new ki,this.targetCount=0,this.Yl=ai.to()}return t.prototype.be=function(t,e){return this.Gl.forEach((function(t,n){return e(n)})),Fn.resolve()},t.prototype.ro=function(t){return Fn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return Fn.resolve(this.zl)},t.prototype.no=function(t){return this.highestTargetId=this.Yl.next(),Fn.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zl&&(this.zl=e),Fn.resolve()},t.prototype.co=function(t){this.Gl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yl=new ai(e),this.highestTargetId=e),t.sequenceNumber>this.zl&&(this.zl=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.co(e),this.targetCount+=1,Fn.resolve()},t.prototype.lo=function(t,e){return this.co(e),Fn.resolve()},t.prototype._o=function(t,e){return this.Gl.delete(e.target),this.Hl.Ch(e.targetId),this.targetCount-=1,Fn.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.Gl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gl.delete(s),o.push(r.fo(t,a.targetId)),i++)})),Fn.Cn(o).next((function(){return i}))},t.prototype.do=function(t){return Fn.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.Gl.get(e)||null;return Fn.resolve(n)},t.prototype.To=function(t,e,n){return this.Hl.vh(e,n),Fn.resolve()},t.prototype.mo=function(t,e,n){this.Hl.Dh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),Fn.Cn(i)},t.prototype.fo=function(t,e){return this.Hl.Ch(e),Fn.resolve()},t.prototype.Ao=function(t,e){var n=this.Hl.Fh(e);return Fn.resolve(n)},t.prototype.Nr=function(t,e){return Fn.resolve(this.Hl.Nr(e))},t}(),xo=function(){function t(t){var e=this;this.Jl={},this.yo=new qn(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new _o(this),this.zn=new Fr,this.Kn=new wo(this.zn,(function(t){return e.dr.Xl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.zn},t.prototype.oh=function(t){var e=this.Jl[t.$h()];return e||(e=new yo(this.zn,this.dr),this.Jl[t.$h()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Oo(this.yo.next());return this.dr.Zl(),n(i).next((function(t){return r.dr.t_(i).next((function(){return t}))})).Sn().then((function(t){return i.jn(),t}))},t.prototype.e_=function(t,e){return Fn.Nn(Object.values(this.Jl).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),Oo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return i.__extends(e,t),e}(Hn),Eo=function(){function t(t){this.persistence=t,this.n_=new ki,this.s_=null}return t.i_=function(e){return new t(e)},Object.defineProperty(t.prototype,"r_",{get:function(){if(this.s_)return this.s_;throw b()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.n_.Eo(n,e),this.r_.delete(n.toString()),Fn.resolve()},t.prototype.Io=function(t,e,n){return this.n_.Io(n,e),this.r_.add(n.toString()),Fn.resolve()},t.prototype.Dr=function(t,e){return this.r_.add(e.toString()),Fn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.n_.Ch(e.targetId).forEach((function(t){return n.r_.add(t.toString())}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.r_.add(t.toString())}))})).next((function(){return r._o(t,e)}))},t.prototype.Zl=function(){this.s_=new Set},t.prototype.t_=function(t){var e=this,n=this.persistence.ah().jr();return Fn.forEach(this.r_,(function(r){var i=B.B(r);return e.o_(t,i).next((function(t){t||n.Mn(i)}))})).next((function(){return e.s_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.o_(t,e).next((function(t){t?n.r_.delete(e.toString()):n.r_.add(e.toString())}))},t.prototype.Xl=function(t){return 0},t.prototype.o_=function(t,e){var n=this;return Fn.Nn([function(){return Fn.resolve(n.n_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.e_(t,e)}])},t}(),So=function(){function t(t){this.h_=t.h_,this.a_=t.a_}return t.prototype.wa=function(t){this.c_=t},t.prototype.ua=function(t){this.u_=t},t.prototype.onMessage=function(t){this.l_=t},t.prototype.close=function(){this.a_()},t.prototype.send=function(t){this.h_(t)},t.prototype.__=function(){this.c_()},t.prototype.f_=function(t){this.u_(t)},t.prototype.d_=function(t){this.l_(t)},t}(),jo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return i.__extends(e,t),e.prototype.A_=function(t,e,n,r){return new Promise((function(i,o){var s=new c.XhrIo;s.listenOnce(c.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case c.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new I(k.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(k).indexOf(e)>=0?e:k.UNKNOWN}(r.status);o(new I(a,r.message))}else o(new I(k.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new I(k.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Ta=function(t,e){var n=[this.T_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.I_(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),u=!1,l=!1,h=new So({h_:function(t){l?f("Connection","Not sending because WebChannel is closed:",t):(u||(f("Connection","Opening WebChannel transport."),s.open(),u=!0),f("Connection","WebChannel sending:",t),s.send(t))},a_:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){l||f("Connection","WebChannel transport opened.")})),d(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,f("Connection","WebChannel transport closed"),h.f_())})),d(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p("Connection","WebChannel transport errored:",t),h.f_(new I(k.UNAVAILABLE,"The operation could not be completed")))})),d(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];g(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=K[t];if(void 0!==e)return Q(e)}(o),c=i.message;void 0===a&&(a=k.INTERNAL,c="Unknown error status: "+o+" with message "+i.message),l=!0,h.f_(new I(a,c)),s.close()}else f("Connection","WebChannel received:",n),h.d_(n)}})),setTimeout((function(){h.__()}),0),h},e}(function(){function t(t){this.w_=t,this.s=t.s;var e=t.ssl?"https":"http";this.T_=e+"://"+t.host,this.E_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.va=function(t,e,n,r){var i=this.m_(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.I_(o,r),this.A_(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Sa=function(t,e,n,r){return this.va(t,e,n,r)},t.prototype.I_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.19.0",t["Content-Type"]="text/plain",e)for(var n in e.Mh)e.Mh.hasOwnProperty(n)&&(t[n]=e.Mh[n])},t.prototype.m_=function(t,e){var n=jo[t];return this.T_+"/v1/"+e+":"+n},t}()),To=function(){function t(){var t=this;this.R_=function(){return t.P_()},this.g_=function(){return t.V_()},this.y_=[],this.p_()}return t.prototype.Ka=function(t){this.y_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.R_),window.removeEventListener("offline",this.g_)},t.prototype.p_=function(){window.addEventListener("online",this.R_),window.addEventListener("offline",this.g_)},t.prototype.P_=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(0)},t.prototype.V_=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(1)},t.ks=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ao=function(){function t(){}return t.prototype.Ka=function(t){},t.prototype.th=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return new Wt(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Co=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uu=this.b_(t),this.persistence=this.v_(t),[4,this.persistence.start()];case 1:return e.sent(),this.S_=this.D_(t),this.La=this.C_(t),[2]}}))}))},t.prototype.D_=function(t){return null},t.prototype.C_=function(t){return e=this.persistence,n=new vo,r=t.N_,new wi(e,n,r);var e,n,r},t.prototype.v_=function(t){if(t.k_.F_)throw new I(k.FAILED_PRECONDITION,Io);return new xo(Eo.i_)},t.prototype.b_=function(t){return new Qi},t.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.S_&&this.S_.stop(),[4,this.Uu.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new I(k.FAILED_PRECONDITION,Io)},t}(),Ro=function(t){function e(e){var n=this;return(n=t.call(this)||this).x_=e,n}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,this.x_.initialize(this,e)];case 2:return o.sent(),n=this.x_.fc,this.Uu instanceof Ji?(this.Uu.fc={mu:ao.bind(null,n),Iu:fo.bind(null,n),Au:po.bind(null,n),rh:ho.bind(null,n)},[4,this.Uu.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.qo((function(t){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,co(this.x_.fc,t)];case 1:return e.sent(),this.S_&&(t&&!this.S_.tr?this.S_.start(this.La):t||this.S_.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},e.prototype.b_=function(t){if(t.k_.F_&&t.k_.synchronizeTabs){var e=ir();if(!Ji.ks(e))throw new I(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yi(t.w_.s,t.w_.persistenceKey);return new Ji(e,t.ei,n,t.clientId,t.N_)}return new Qi},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){return e=v(t),n=v(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.Ih=t}))]}))}))}(this.La)];case 2:return n.sent(),[2]}}))}))},e.prototype.D_=function(t){var e=this.persistence.dr.Yi;return new dr(e,t.ei)},e.prototype.v_=function(t){var e=yi(t.w_.s,t.w_.persistenceKey),n=ko(t.w_.s);return new pi(t.k_.synchronizeTabs,e,t.clientId,fr.Ui(t.k_.cacheSizeBytes),t.ei,ir(),or(),n,this.Uu,t.k_.Vo)},e.prototype.b_=function(t){return new Qi},e.prototype.clearPersistence=function(t,e){return function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return Yn.ks()?(e=t+"main",[4,Yn.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yi(t,e))},e}(Co)),Po=function(){function t(){}return t.prototype.initialize=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.La?[3,3]:(this.La=t.La,this.Uu=t.Uu,this.qa=this.O_(e),this.Bu=this.M_(e),this.fc=this.L_(e),this.q_=this.B_(e),this.Uu.Da=function(t){return n.fc.xu(t,1)},this.Bu.fc=this.fc,[4,this.Bu.start()]);case 1:return r.sent(),[4,this.Bu.Sc(this.fc.el)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.B_=function(t){return new bo(this.fc)},t.prototype.O_=function(t){var e,n=ko(t.w_.s),r=(e=t.w_,new Mo(e));return function(t,e,n){return new Ui(t,e,n)}(t.credentials,r,n)},t.prototype.M_=function(t){var e=this;return new Hi(this.La,this.qa,t.ei,(function(t){return e.fc.xu(t,0)}),To.ks()?new To:new Ao)},t.prototype.L_=function(t){return function(t,e,n,r,i,o,s){var a=new oo(t,e,n,r,i,o);return s&&(a.tl=!0),a}(this.La,this.Bu,this.qa,this.Uu,t.N_,t.Qu,!t.k_.F_||!t.k_.synchronizeTabs)},t.prototype.terminate=function(){return this.Bu.th()},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var No=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.U_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.U_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Q_=function(){this.muted=!0},t.prototype.U_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){if(0!==e.length)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+es(e.length,"argument")+".")}function Bo(t,e,n){if(e.length!==n)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires "+es(n,"argument")+", but was called with "+es(e.length,"argument")+".")}function $o(t,e,n){if(e.length<n)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires at least "+es(n,"argument")+", but was called with "+es(e.length,"argument")+".")}function Fo(t,e,n,r){if(e.length<n||e.length>r)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+es(e.length,"argument")+".")}function Uo(t,e,n,r){Wo(t,e,ts(n)+" argument",r)}function zo(t,e,n,r){void 0!==r&&Uo(t,e,n,r)}function Ho(t,e,n,r){Wo(t,e,n+" option",r)}function Go(t,e,n,r){void 0!==r&&Ho(t,e,n,r)}function Vo(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var c=a[s];if(c===r)return;o.push(Yo(c))}var u=Yo(r);throw new I(k.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function qo(t,e,n,r){if(!e.some((function(t){return t===r})))throw new I(k.INVALID_ARGUMENT,"Invalid value "+Yo(r)+" provided to function "+t+"() for its "+ts(n)+" argument. Acceptable values: "+e.join(", "));return r}function Wo(t,e,n,r){if(!("object"===e?Ko(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Yo(r);throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ko(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Yo(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function Xo(t,e,n){if(void 0===n)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ts(e)+" argument, but it was undefined.")}function Zo(t,e,n){M(e,(function(e,r){if(n.indexOf(e)<0)throw new I(k.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Jo(t,e,n,r){var i=Yo(r);return new I(k.INVALID_ARGUMENT,"Function "+t+"() requires its "+ts(n)+" argument to be a "+e+", but it was: "+i)}function Qo(t,e,n){if(n<=0)throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires its "+ts(e)+" argument to be a positive number, but it was: "+n+".")}function ts(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function es(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){if("undefined"==typeof Uint8Array)throw new I(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rs(){if("undefined"==typeof atob)throw new I(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var is=function(){function t(t){rs(),this.W_=t}return t.fromBase64String=function(e){Bo("Blob.fromBase64String",arguments,1),Uo("Blob.fromBase64String","string",1,e),rs();try{return new t(W.fromBase64String(e))}catch(e){throw new I(k.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Bo("Blob.fromUint8Array",arguments,1),ns(),!(e instanceof Uint8Array))throw Jo("Blob.fromUint8Array","Uint8Array",1,e);return new t(W.fromUint8Array(e))},t.prototype.toBase64=function(){return Bo("Blob.toBase64",arguments,0),rs(),this.W_.toBase64()},t.prototype.toUint8Array=function(){return Bo("Blob.toUint8Array",arguments,0),ns(),this.W_.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.W_.isEqual(t.W_)},t}(),os=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new I(k.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+es(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Uo("FieldPath","string",e,t[e]),0===t[e].length)throw new I(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new D(t)},ss=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return i.__extends(e,t),e.documentId=function(){return new e(D.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Jo("isEqual","FieldPath",1,t);return this.j_.isEqual(t.j_)},e}(os),as=new RegExp("[~\\*/\\[\\]]"),cs=function(){this.K_=this},us=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){if(2!==t.H_)throw 1===t.H_?t.Y_(this.G_+"() can only appear at the top level of your update data"):t.Y_(this.G_+"() cannot be used with set() unless you pass {merge:true}");return t.qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(cs);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e,n){return new Os({H_:3,J_:e.settings.J_,methodName:t.G_,X_:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var hs=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return i.__extends(e,t),e.prototype.z_=function(t){return new Le(t.path,new je)},e.prototype.isEqual=function(t){return t instanceof e},e}(cs),fs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=ls(this,t,!0),n=this.Z_.map((function(t){return As(t,e)})),r=new Me(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cs),ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=ls(this,t,!0),n=this.Z_.map((function(t){return As(t,e)})),r=new Ae(n);return new Le(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cs),ps=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.tf=n,r}return i.__extends(e,t),e.prototype.z_=function(t){var e=new Ie(t.serializer,Xt(t.serializer,this.tf));return new Le(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(cs),ms=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.delete=function(){return Do("FieldValue.delete",arguments),new bs(new us("FieldValue.delete"))},e.serverTimestamp=function(){return Do("FieldValue.serverTimestamp",arguments),new bs(new hs("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $o("FieldValue.arrayUnion",arguments,1),new bs(new fs("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $o("FieldValue.arrayRemove",arguments,1),new bs(new ds("FieldValue.arrayRemove",t))},e.increment=function(t){return Uo("FieldValue.increment","number",1,t),Bo("FieldValue.increment",arguments,1),new bs(new ps("FieldValue.increment",t))},e}(cs),bs=function(t){function e(e){var n=this;return(n=t.call(this)||this).K_=e,n.G_=e.G_,n}return i.__extends(e,t),e.prototype.z_=function(t){return this.K_.z_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.K_.isEqual(t.K_)},e}(ms),gs=function(){function t(t,e){if(Bo("GeoPoint",arguments,2),Uo("GeoPoint","number",1,t),Uo("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new I(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new I(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.ef=t,this.nf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.ef===t.ef&&this.nf===t.nf},t.prototype.toJSON=function(){return{latitude:this.ef,longitude:this.nf}},t.prototype.T=function(t){return _(this.ef,t.ef)||_(this.nf,t.nf)},t}(),vs=/^__.*__$/,ys=function(t,e,n){this.sf=t,this.if=e,this.rf=n},ws=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return null!==this.qe?n.push(new qe(t,this.data,this.qe,e)):n.push(new Ve(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}(),_s=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new qe(t,this.data,this.qe,e)];return this.fieldTransforms.length>0&&n.push(new Ke(t,this.fieldTransforms)),n},t}();function xs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var Os=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.af(),this.fieldTransforms=i||[],this.qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"H_",{get:function(){return this.settings.H_},enumerable:!1,configurable:!0}),t.prototype.cf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.qe)},t.prototype.uf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.cf({path:n,X_:!1});return r.lf(t),r},t.prototype._f=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.cf({path:n,X_:!1});return r.af(),r},t.prototype.ff=function(t){return this.cf({path:void 0,X_:!0})},t.prototype.Y_=function(t){return Ls(t,this.settings.methodName,this.settings.df||!1,this.path,this.settings.J_)},t.prototype.contains=function(t){return void 0!==this.qe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.lf(this.path.get(t))},t.prototype.lf=function(t){if(0===t.length)throw this.Y_("Document fields must not be empty");if(xs(this.H_)&&vs.test(t))throw this.Y_('Document fields cannot begin and end with "__"')},t}(),Es=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||ko(t)}return t.prototype.wf=function(t,e,n,r){return void 0===r&&(r=!1),new Os({H_:t,methodName:e,J_:n,path:D.$(),X_:!1,df:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function Ss(t,e,n,r,i,o){void 0===o&&(o={});var s=t.wf(o.merge||o.mergeFields?2:0,e,n,i);Cs("Data must be an object, but it was:",s,r);var a,c,u=ks(r,s);if(o.merge)a=new Pe(s.qe),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof os)p=d.j_;else{if("string"!=typeof d)throw b();p=Ps(e,d,n)}if(!s.contains(p))throw new I(k.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Ns(l,p)||l.push(p)}a=new Pe(l),c=s.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,c=s.fieldTransforms;return new ws(new Qe(u),a,c)}function js(t,e,n,r){var i=t.wf(1,e,n);Cs("Data must be an object, but it was:",i,r);var o=[],s=new tn;M(r,(function(t,r){var a=Ps(e,t,n),c=i._f(a);if(r instanceof cs&&r.K_ instanceof us)o.push(a);else{var u=As(r,c);null!=u&&(o.push(a),s.set(a,u))}}));var a=new Pe(o);return new _s(s.ze(),a,i.fieldTransforms)}function Ms(t,e,n,r,i,o){var s=t.wf(1,e,n),a=[Rs(e,r,n)],c=[i];if(o.length%2!=0)throw new I(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(Rs(e,o[u])),c.push(o[u+1]);for(var l=[],h=new tn,f=a.length-1;f>=0;--f)if(!Ns(l,a[f])){var d=a[f],p=c[f],m=s._f(d);if(p instanceof cs&&p.K_ instanceof us)l.push(d);else{var b=As(p,m);null!=b&&(l.push(d),h.set(d,b))}}var g=new Pe(l);return new _s(h.ze(),g,s.fieldTransforms)}function Ts(t,e,n,r){return void 0===r&&(r=!1),As(n,t.wf(r?4:3,e))}function As(t,e){if(Is(t))return Cs("Unsupported field value:",e,t),ks(t,e);if(t instanceof cs)return function(t,e){if(!xs(e.H_))throw e.Y_(t.G_+"() can only be used with update() and set()");if(!e.path)throw e.Y_(t.G_+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.qe.push(e.path),t instanceof Array){if(e.settings.X_&&4!==e.H_)throw e.Y_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=As(o[i],e.ff(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=C.fromDate(t);return{timestampValue:Zt(e.serializer,n)}}if(t instanceof C){var r=new C(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zt(e.serializer,r)}}if(t instanceof gs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof is)return{bytesValue:Jt(e.serializer,t)};if(t instanceof ys){var i=e.s,o=t.sf;if(!o.isEqual(i))throw e.Y_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.sf||e.s,t.if.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Y_("Unsupported field value: "+Yo(t))}(t,e)}function ks(t,e){var n={};return T(t)?e.path&&e.path.length>0&&e.qe.push(e.path):M(t,(function(t,r){var i=As(r,e.uf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Is(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof C||t instanceof gs||t instanceof is||t instanceof ys||t instanceof cs)}function Cs(t,e,n){if(!Is(n)||!Ko(n)){var r=Yo(n);throw"an object"===r?e.Y_(t+" a custom object"):e.Y_(t+" "+r)}}function Rs(t,e,n){if(e instanceof os)return e.j_;if("string"==typeof e)return Ps(t,e);throw Ls("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ps(t,e,n){try{return function(t){if(t.search(as)>=0)throw new I(k.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ss.bind.apply(ss,i.__spreadArrays([void 0],t.split("."))))}catch(e){throw new I(k.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).j_}catch(e){throw Ls((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Ls(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new I(k.INVALID_ARGUMENT,(a+=". ")+t+c)}function Ns(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds=function(){function t(t){this.qa=t,this.Tf=new Map,this.mutations=[],this.Ef=!1,this.mf=null,this.If=new Set}return t.prototype.Af=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Rf(),this.mutations.length>0)throw new I(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,c;return i.__generator(this,(function(i){switch(i.label){case 0:return n=v(t),r=ae(n.serializer)+"/documents",o={documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Sa("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){g(!!e.found),e.found.name,e.found.updateTime;var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new Qe({mapValue:{fields:e.found.fields}});return new rn(n,r,i,{})}(t,e):"missing"in e?function(t,e){g(!!e.missing),g(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new on(n,r)}(t,e):b()}(n.serializer,t);a.set(e.key.toString(),e)})),c=[],[2,(e.forEach((function(t){var e=a.get(t.toString());g(!!e),c.push(e)})),c)]}}))}))}(this.qa,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof on||t instanceof rn?n.Pf(t):b()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.Qe(t))),this.If.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.gf(t)))}catch(t){this.mf=t}this.If.add(t.toString())},t.prototype.delete=function(t){this.write([new Ze(t,this.Qe(t))]),this.If.add(t.toString())},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Rf(),this.mf)throw this.mf;return t=this.Tf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=B.B(n);e.mutations.push(new Je(r,e.Qe(r)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=v(t),r=ae(n.serializer)+"/documents",o={writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.va("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.qa,this.mutations)];case 1:return n.sent(),this.Ef=!0,[2]}}))}))},t.prototype.Pf=function(t){var e;if(t instanceof rn)e=t.version;else{if(!(t instanceof on))throw b();e=R.min()}var n=this.Tf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new I(k.ABORTED,"Document version changed between two reads.")}else this.Tf.set(t.key.toString(),e)},t.prototype.Qe=function(t){var e=this.Tf.get(t.toString());return!this.If.has(t.toString())&&e?De.updateTime(e):De.We()},t.prototype.gf=function(t){var e=this.Tf.get(t.toString());if(!this.If.has(t.toString())&&e){if(e.isEqual(R.min()))throw new I(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return De.updateTime(e)}return De.exists(!0)},t.prototype.write=function(t){this.Rf(),this.mutations=this.mutations.concat(t)},t.prototype.Rf=function(){},t}(),Bs=function(){function t(t,e,n,r){this.ei=t,this.qa=e,this.updateFunction=n,this.ii=r,this.Vf=5,this.Ti=new Kn(this.ei,"transaction_retry")}return t.prototype.run=function(){this.yf()},t.prototype.yf=function(){var t=this;this.Ti.bs((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=new Ds(this.qa),(e=this.pf(t))&&e.then((function(e){n.ei.ai((function(){return t.commit().then((function(){n.ii.resolve(e)})).catch((function(t){n.bf(t)}))}))})).catch((function(t){n.bf(t)})),[2]}))}))}))},t.prototype.pf=function(t){try{var e=this.updateFunction(t);return!$(e)&&e.catch&&e.then?e:(this.ii.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ii.reject(t),null}},t.prototype.bf=function(t){var e=this;this.Vf>0&&this.vf(t)?(this.Vf-=1,this.ei.ai((function(){return e.yf(),Promise.resolve()}))):this.ii.reject(t)},t.prototype.vf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!J(e)}return!1},t}(),$s=function(){function t(t,e){this.credentials=t,this.ei=e,this.clientId=w.t(),this.Sf=new Wn}return t.prototype.start=function(t,e,n,r){var i=this;this.Df(),this.w_=t;var o=new Wn,s=!1;return this.credentials.Bh((function(t){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",t.uid),i.Cf(e,n,r,t,o).then(i.Sf.resolve,i.Sf.reject);i.ei.gi((function(){return i.Bu.vc(t)}))})),this.ei.ai((function(){return i.Sf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!0),t.Bu.enableNetwork()}))},t.prototype.Cf=function(t,e,n,r,o){return i.__awaiter(this,void 0,void 0,(function(){var s,a,c=this;return i.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),s={ei:this.ei,w_:this.w_,clientId:this.clientId,credentials:this.credentials,N_:r,Qu:100,k_:n},[4,t.initialize(s)];case 1:return u.sent(),[4,e.initialize(t,s)];case 2:return u.sent(),this.persistence=t.persistence,this.Uu=t.Uu,this.La=t.La,this.S_=t.S_,this.qa=e.qa,this.Bu=e.Bu,this.fc=e.fc,this.Nf=e.q_,this.persistence.Bo((function(){return i.__awaiter(c,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=u.sent(),o.reject(a),!this.Ff(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Cf(new Co,new Po,{F_:!1},r,o))];case 4:return[2]}}))}))},t.prototype.Ff=function(t){return"FirebaseError"===t.name?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Df=function(){if(this.ei.mi)throw new I(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!1),t.Bu.disableNetwork()}))},t.prototype.terminate=function(){var t=this;this.ei.Pi();var e=new Wn;return this.ei.Ii((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.S_&&this.S_.stop(),[4,this.Bu.th()];case 1:return r.sent(),[4,this.Uu.th()];case 2:return r.sent(),[4,this.persistence.th()];case 3:return r.sent(),this.credentials.Uh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=cr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.Df();var e=new Wn;return this.ei.ai((function(){return t.fc._l(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Df();var i=new No(n),o=new go(t,i,e);return this.ei.ai((function(){return r.Nf.listen(o)})),function(){i.Q_(),r.ei.ai((function(){return r.Nf.lc(o)}))}},t.prototype.kf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new Wn,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Rh.Hn(t,e)}))}(e,n)];case 1:return(t=i.sent())instanceof rn?r.resolve(t):t instanceof on?r.resolve(null):r.reject(new I(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=i.sent(),s=cr(o,"Failed to get document '"+n+" from cache"),r.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.$f=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Wn,o=Fs(t,e,ln(n.path),{includeMetadataChanges:!0,$l:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new I(k.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new I(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.xf=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(s){switch(s.label){case 0:return r=new Wn,[4,t.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var t,o,s,a,c,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Mi(e,n,!0)];case 1:return t=i.sent(),o=new no(n,t.gh),s=o.Su(t.documents),a=o.Un(s,!1),r.resolve(a.snapshot),[3,3];case 2:return c=i.sent(),u=cr(c,"Failed to execute query '"+n+" against cache"),r.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),r.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.Of=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Wn,o=Fs(t,e,n,{includeMetadataChanges:!0,$l:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new I(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Df();var n=new Wn;return this.ei.ai((function(){return e.fc.write(t,n)})),n.promise},t.prototype.s=function(){return this.w_.s},t.prototype.bl=function(t){var e=this;this.Df();var n=new No(t);return this.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.bl(n)]}))}))})),function(){n.Q_(),e.ei.ai((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,this.Nf.vl(n)]}))}))}))}},Object.defineProperty(t.prototype,"Mf",{get:function(){return this.ei.mi},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Df();var n=new Wn;return this.ei.ai((function(){return new Bs(e.ei,e.qa,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e,n,r,i){var o=new No(i),s=new go(n,o,r);return t.ai((function(){return e.listen(s)})),function(){o.Q_(),t.ai((function(){return e.lc(s)}))}}var Us=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Lf=n,this.qf=r}return t.prototype.Bf=function(t){switch(kt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dt(t.integerValue||t.doubleValue);case 3:return this.Uf(t.timestampValue);case 4:return this.Qf(t);case 5:return t.stringValue;case 6:return new is(Bt(t.bytesValue));case 7:return this.Wf(t.referenceValue);case 8:return this.jf(t.geoPointValue);case 9:return this.Kf(t.arrayValue);case 10:return this.Gf(t.mapValue);default:throw b()}},t.prototype.Gf=function(t){var e=this,n={};return M(t.fields||{},(function(t,r){n[t]=e.Bf(r)})),n},t.prototype.jf=function(t){return new gs(Dt(t.latitude),Dt(t.longitude))},t.prototype.Kf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Bf(t)}))},t.prototype.Qf=function(t){switch(this.Lf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Mt(n)?t(n):n}(t);return null==e?null:this.Bf(e);case"estimate":return this.Uf(Tt(t));default:return null}},t.prototype.Uf=function(t){var e=Nt(t),n=new C(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Wf=function(t){var e=L.k(t);g(_e(e));var n=new S(e.get(1),e.get(3)),r=new B(e.V(5));return n.isEqual(this.s)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.qf(r)},t}(),zs=fr.ji,Hs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new I(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Ho("settings","non-empty string","host",t.host),this.host=t.host,Go("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Zo("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Go("settings","object","credentials",t.credentials),this.credentials=t.credentials,Go("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Go("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Go("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=fr.Gi;else{if(t.cacheSizeBytes!==zs&&t.cacheSizeBytes<fr.Ki)throw new I(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fr.Ki);this.cacheSizeBytes=t.cacheSizeBytes}Go("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gs=function(){function t(e,n,r,o){var s=this;if(void 0===r&&(r=new Co),void 0===o&&(o=new Po),this.zf=r,this.Hf=o,this.Yf=null,this.Jf=new ar,this.INTERNAL={delete:function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Xf(),[4,this.Zf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Yf=a,this.sf=t.td(a),this.ed=a.name,this.nd=new Li(n)}else{var c=e;if(!c.projectId)throw new I(k.INVALID_ARGUMENT,"Must provide projectId");this.sf=new S(c.projectId,c.database),this.ed="[DEFAULT]",this.nd=new Pi}this.sd=new Hs({})}return Object.defineProperty(t.prototype,"rd",{get:function(){return this.od||(this.od=new Es(this.sf,this.sd.ignoreUndefinedProperties)),this.od},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Bo("Firestore.settings",arguments,1),Uo("Firestore.settings","object",1,t);var e=new Hs(t);if(this.Zf&&!this.sd.isEqual(e))throw new I(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.sd=e,void 0!==e.credentials&&(this.nd=function(t){if(!t)return new Pi;switch(t.type){case"gapi":var e=t.hd;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Di(e,t.zh||"0");case"provider":return t.hd;default:throw new I(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Xf(),this.Zf.enableNetwork()},t.prototype.disableNetwork=function(){return this.Xf(),this.Zf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Zf)throw new I(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new I(k.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.ad(this.zf,this.Hf,{F_:!0,cacheSizeBytes:this.sd.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.Zf&&!this.Zf.Mf)throw new I(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Wn,[2,(this.Jf.Ii((function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zf.clearPersistence(this.sf,this.ed)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ud",{get:function(){return this.Xf(),this.Zf.Mf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Xf(),this.Zf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.Xf(),Lo(t))return this.Zf.bl(t);Uo("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.Zf.bl(e)},t.prototype.Xf=function(){return this.Zf||this.ad(new Co,new Po,{F_:!1}),this.Zf},t.prototype.ld=function(){return new E(this.sf,this.ed,this.sd.host,this.sd.ssl,this.sd.forceLongPolling)},t.prototype.ad=function(t,e,n){var r=this.ld();return this.Zf=new $s(this.nd,this.Jf),this.Zf.start(r,t,e,n)},t.td=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new I(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new I(k.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yf)throw new I(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Bo("Firestore.collection",arguments,1),Uo("Firestore.collection","non-empty string",1,t),this.Xf(),new oa(L.k(t),this,null)},t.prototype.doc=function(t){return Bo("Firestore.doc",arguments,1),Uo("Firestore.doc","non-empty string",1,t),this.Xf(),Ws._d(L.k(t),this,null)},t.prototype.collectionGroup=function(t){if(Bo("Firestore.collectionGroup",arguments,1),Uo("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new I(k.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Xf(),new ra(function(t){return new cn(L.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Bo("Firestore.runTransaction",arguments,1),Uo("Firestore.runTransaction","function",1,t),this.Xf().transaction((function(n){return t(new Vs(e,n))}))},t.prototype.batch=function(){return this.Xf(),new qs(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;Bo("Firestore.setLogLevel",arguments,1),qo("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,l.setLogLevel(e)},t.prototype.fd=function(){return this.sd.timestampsInSnapshots},t}(),Vs=function(){function t(t,e){this.dd=t,this.wd=e}return t.prototype.get=function(t){var e=this;Bo("Transaction.get",arguments,1);var n=ua("Transaction.get",t,this.dd);return this.wd.Af([n.if]).then((function(t){if(!t||1!==t.length)return b();var r=t[0];if(r instanceof on)return new Ys(e.dd,n.if,null,!1,!1,n.rf);if(r instanceof rn)return new Ys(e.dd,n.if,r,!1,!1,n.rf);throw b()}))},t.prototype.set=function(t,e,n){Fo("Transaction.set",arguments,2,3);var r=ua("Transaction.set",t,this.dd);n=sa("Transaction.set",n);var i=ha(r.rf,e,n),o=Ss(this.dd.rd,"Transaction.set",r.if,i,null!==r.rf,n);return this.wd.set(r.if,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ss?($o("Transaction.update",arguments,3),r=ua("Transaction.update",t,this.dd),i=Ms(this.dd.rd,"Transaction.update",r.if,e,n,o)):(Bo("Transaction.update",arguments,2),r=ua("Transaction.update",t,this.dd),i=js(this.dd.rd,"Transaction.update",r.if,e)),this.wd.update(r.if,i),this},t.prototype.delete=function(t){Bo("Transaction.delete",arguments,1);var e=ua("Transaction.delete",t,this.dd);return this.wd.delete(e.if),this},t}(),qs=function(){function t(t){this.dd=t,this.Td=[],this.Ed=!1}return t.prototype.set=function(t,e,n){Fo("WriteBatch.set",arguments,2,3),this.md();var r=ua("WriteBatch.set",t,this.dd);n=sa("WriteBatch.set",n);var i=ha(r.rf,e,n),o=Ss(this.dd.rd,"WriteBatch.set",r.if,i,null!==r.rf,n);return this.Td=this.Td.concat(o.hf(r.if,De.We())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.md(),"string"==typeof e||e instanceof ss?($o("WriteBatch.update",arguments,3),r=ua("WriteBatch.update",t,this.dd),i=Ms(this.dd.rd,"WriteBatch.update",r.if,e,n,o)):(Bo("WriteBatch.update",arguments,2),r=ua("WriteBatch.update",t,this.dd),i=js(this.dd.rd,"WriteBatch.update",r.if,e)),this.Td=this.Td.concat(i.hf(r.if,De.exists(!0))),this},t.prototype.delete=function(t){Bo("WriteBatch.delete",arguments,1),this.md();var e=ua("WriteBatch.delete",t,this.dd);return this.Td=this.Td.concat(new Ze(e.if,De.We())),this},t.prototype.commit=function(){return this.md(),this.Ed=!0,this.Td.length>0?this.dd.Xf().write(this.Td):Promise.resolve()},t.prototype.md=function(){if(this.Ed)throw new I(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ws=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.sf,e,r)||this).if=e,i.firestore=n,i.rf=r,i.Zf=i.firestore.Xf(),i}return i.__extends(e,t),e._d=function(t,n,r){if(t.length%2!=0)throw new I(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new B(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new oa(this.if.path.p(),this.firestore,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.if.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Bo("DocumentReference.collection",arguments,1),Uo("DocumentReference.collection","non-empty string",1,t),!t)throw new I(k.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=L.k(t);return new oa(this.if.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Jo("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.if.isEqual(t.if)&&this.rf===t.rf},e.prototype.set=function(t,e){Fo("DocumentReference.set",arguments,1,2),e=sa("DocumentReference.set",e);var n=ha(this.rf,t,e),r=Ss(this.firestore.rd,"DocumentReference.set",this.if,n,null!==this.rf,e);return this.Zf.write(r.hf(this.if,De.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ss?($o("DocumentReference.update",arguments,2),n=Ms(this.firestore.rd,"DocumentReference.update",this.if,t,e,r)):(Bo("DocumentReference.update",arguments,1),n=js(this.firestore.rd,"DocumentReference.update",this.if,t)),this.Zf.write(n.hf(this.if,De.exists(!0)))},e.prototype.delete=function(){return Bo("DocumentReference.delete",arguments,0),this.Zf.write([new Ze(this.if,De.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Fo("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Lo(i[a])||(Zo("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),Go("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var c={includeMetadataChanges:s.includeMetadataChanges};if(Lo(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Uo("DocumentReference.onSnapshot","function",a,i[a]),zo("DocumentReference.onSnapshot","function",a+1,i[a+1]),zo("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Id(t))},error:i[a+1],complete:i[a+2]};return this.Zf.listen(ln(this.if.path),c,l)},e.prototype.get=function(t){var e=this;Fo("DocumentReference.get",arguments,0,1),ca("DocumentReference.get",t);var n=this.firestore.Xf();return t&&"cache"===t.source?n.kf(this.if).then((function(t){return new Ys(e.firestore,e.if,t,!0,t instanceof rn&&t.Ge,e.rf)})):n.$f(this.if,t).then((function(t){return e.Id(t)}))},e.prototype.withConverter=function(t){return new e(this.if,this.firestore,t)},e.prototype.Id=function(t){var e=t.docs.get(this.if);return new Ys(this.firestore,this.if,e,t.fromCache,t.hasPendingWrites,this.rf)},e}(ys),Ks=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ys=function(){function t(t,e,n,r,i,o){this.dd=t,this.if=e,this.Ad=n,this.Rd=r,this.Pd=i,this.rf=o}return t.prototype.data=function(t){var e=this;if(Fo("DocumentSnapshot.data",arguments,0,1),t=aa("DocumentSnapshot.data",t),this.Ad){if(this.rf){var n=new Xs(this.dd,this.if,this.Ad,this.Rd,this.Pd,null);return this.rf.fromFirestore(n,t)}return new Us(this.dd.sf,this.dd.fd(),t.serverTimestamps||"none",(function(t){return new Ws(t,e.dd,null)})).Bf(this.Ad.tn())}},t.prototype.get=function(t,e){var n=this;if(Fo("DocumentSnapshot.get",arguments,1,2),e=aa("DocumentSnapshot.get",e),this.Ad){var r=this.Ad.data().field(Rs("DocumentSnapshot.get",t,this.if));if(null!==r)return new Us(this.dd.sf,this.dd.fd(),e.serverTimestamps||"none",(function(t){return new Ws(t,n.dd,n.rf)})).Bf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ws(this.if,this.dd,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ad},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ks(this.Pd,this.Rd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","DocumentSnapshot",1,e);return this.dd===e.dd&&this.Rd===e.Rd&&this.if.isEqual(e.if)&&(null===this.Ad?null===e.Ad:this.Ad.isEqual(e.Ad))&&this.rf===e.rf},t}(),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Ys);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e,n,r,i,o,s){var a;if(i.M()){if("array-contains"===o||"array-contains-any"===o)throw new I(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ta(s,o);for(var c=[],u=0,l=s;u<l.length;u++){var h=l[u];c.push(Qs(r,t,h))}a={arrayValue:{values:c}}}else a=Qs(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ta(s,o),a=Ts(n,e,s,"in"===o||"not-in"===o);var f=xn.create(i,o,a);return function(t,e){if(e._n()){var n=t.ln();if(null!==n&&!n.isEqual(e.field))throw new I(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.un();null!==r&&ea(t,e.field,r)}var i=t.fn(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new I(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new I(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function Js(t,e,n){if(null!==t.startAt)throw new I(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new I(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ln(e,n);return function(t,e){if(null===t.un()){var n=t.ln();null!==n&&ea(t,n,e.field)}}(t,r),r}function Qs(t,e,n){if("string"==typeof n){if(""===n)throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hn(e)&&-1!==n.indexOf("/"))throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(L.k(n));if(!B.j(r))throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $t(t,new B(r))}if(n instanceof ys)return $t(t,n.if);throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yo(n)+".")}function ta(t,e){if(!Array.isArray(t)||0===t.length)throw new I(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new I(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new I(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new I(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ea(t,e,n){if(!n.isEqual(e))throw new I(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function na(t){if(t.cn()&&0===t.en.length)throw new I(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ra=function(){function t(t,e,n){this.gd=t,this.firestore=e,this.rf=n}return t.prototype.where=function(e,n,r){var i;Bo("Query.where",arguments,3),Xo("Query.where",3,r),i="not-in"===n||"!="===n?n:qo("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Rs("Query.where",e),s=Zs(this.gd,"Query.where",this.firestore.rd,this.firestore.sf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new cn(t.path,t.collectionGroup,t.en.slice(),n,t.limit,t.nn,t.startAt,t.endAt)}(this.gd,s),this.firestore,this.rf)},t.prototype.orderBy=function(e,n){var r;if(Fo("Query.orderBy",arguments,1,2),zo("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new I(k.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Rs("Query.orderBy",e),o=Js(this.gd,i,r);return new t(function(t,e){var n=t.en.concat([e]);return new cn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.nn,t.startAt,t.endAt)}(this.gd,o),this.firestore,this.rf)},t.prototype.limit=function(e){return Bo("Query.limit",arguments,1),Uo("Query.limit","number",1,e),Qo("Query.limit",1,e),new t(pn(this.gd,e,"F"),this.firestore,this.rf)},t.prototype.limitToLast=function(e){return Bo("Query.limitToLast",arguments,1),Uo("Query.limitToLast","number",1,e),Qo("Query.limitToLast",1,e),new t(pn(this.gd,e,"L"),this.firestore,this.rf)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];$o("Query.startAt",arguments,1);var i=this.Vd("Query.startAt",e,n,!0);return new t(mn(this.gd,i),this.firestore,this.rf)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];$o("Query.startAfter",arguments,1);var i=this.Vd("Query.startAfter",e,n,!1);return new t(mn(this.gd,i),this.firestore,this.rf)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];$o("Query.endBefore",arguments,1);var i=this.Vd("Query.endBefore",e,n,!0);return new t(bn(this.gd,i),this.firestore,this.rf)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];$o("Query.endAt",arguments,1);var i=this.Vd("Query.endAt",e,n,!1);return new t(bn(this.gd,i),this.firestore,this.rf)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","Query",1,e);return this.firestore===e.firestore&&gn(this.gd,e.gd)&&this.rf===e.rf},t.prototype.withConverter=function(e){return new t(this.gd,this.firestore,e)},t.prototype.Vd=function(t,e,n,r){if(Xo(t,1,e),e instanceof Ys)return Bo(t,i.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new I(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=fn(t);s<a.length;s++){var c=a[s];if(c.field.M())o.push($t(e,r.key));else{var u=r.field(c.field);if(Mt(u))throw new I(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.F();throw new I(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new In(o,i)}(this.gd,this.firestore.sf,t,e.Ad,r);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.en;if(i.length>s.length)throw new I(k.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.M()){if("string"!=typeof u)throw new I(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!hn(t)&&-1!==u.indexOf("/"))throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(L.k(u));if(!B.j(l))throw new I(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new B(l);a.push($t(e,h))}else{var f=Ts(n,r,u);a.push(f)}}return new In(a,o)}(this.gd,this.firestore.sf,this.firestore.rd,t,o,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Fo("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Lo(i[a])||(Zo("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),Go("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Lo(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Uo("Query.onSnapshot","function",a,i[a]),zo("Query.onSnapshot","function",a+1,i[a+1]),zo("Query.onSnapshot","function",a+2,i[a+2]);var u={next:function(t){i[a]&&i[a](new ia(r.firestore,r.gd,t,r.rf))},error:i[a+1],complete:i[a+2]};return na(this.gd),this.firestore.Xf().listen(this.gd,s,u)},t.prototype.get=function(t){var e=this;Fo("Query.get",arguments,0,1),ca("Query.get",t),na(this.gd);var n=this.firestore.Xf();return(t&&"cache"===t.source?n.xf(this.gd):n.Of(this.gd,t)).then((function(t){return new ia(e.firestore,e.gd,t,e.rf)}))},t}(),ia=function(){function t(t,e,n,r){this.dd=t,this.yd=e,this.pd=n,this.rf=r,this.bd=null,this.vd=null,this.metadata=new Ks(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.pd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.pd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Fo("QuerySnapshot.forEach",arguments,1,2),Uo("QuerySnapshot.forEach","function",1,t),this.pd.docs.forEach((function(r){t.call(e,n.Sd(r,n.metadata.fromCache,n.pd.qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ra(this.yd,this.dd,this.rf)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Zo("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Go("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.pd.Ut)throw new I(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.bd&&this.vd===e||(this.bd=function(t,e,n){if(t.Lt._()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Lt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:la(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.pd,e,this.Sd.bind(this)),this.vd=e),this.bd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Jo("isEqual","QuerySnapshot",1,e);return this.dd===e.dd&&gn(this.yd,e.yd)&&this.pd.isEqual(e.pd)&&this.rf===e.rf},t.prototype.Sd=function(t,e,n){return new Xs(this.dd,t.key,t,e,n,this.rf)},t}(),oa=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ln(e),n,r)||this).Dd=e,e.length%2!=1)throw new I(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.gd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.gd.path.p();return t._()?null:new Ws(new B(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.gd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Fo("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=w.t()),Uo("CollectionReference.doc","non-empty string",1,t);var e=L.k(t);return Ws._d(this.gd.path.child(e),this.firestore,this.rf)},e.prototype.add=function(t){Bo("CollectionReference.add",arguments,1),Uo("CollectionReference.add","object",1,this.rf?this.rf.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Dd,this.firestore,t)},e}(ra);function sa(t,e){if(void 0===e)return{merge:!1};if(Zo(t,e,["merge","mergeFields"]),Go(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Yo(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new I(k.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Yo(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ss}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new I(k.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function aa(t,e){return void 0===e?{}:(Zo(t,e,["serverTimestamps"]),Vo(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ca(t,e){zo(t,"object",1,e),e&&(Zo(t,e,["source"]),Vo(t,0,"source",e.source,["default","server","cache"]))}function ua(t,e,n){if(e instanceof ys){if(e.firestore!==n)throw new I(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Jo(t,"DocumentReference",1,e)}function la(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function ha(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fa={Firestore:Gs,GeoPoint:gs,Timestamp:C,Blob:is,Transaction:Vs,WriteBatch:qs,DocumentReference:Ws,DocumentSnapshot:Ys,Query:ra,QueryDocumentSnapshot:Xs,QuerySnapshot:ia,CollectionReference:oa,FieldPath:ss,FieldValue:ms,setLogLevel:Gs.setLogLevel,CACHE_SIZE_UNLIMITED:zs};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new Po,r=new Ro(n);return new Gs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fa)))}(t),t.registerVersion("@firebase/firestore","1.16.5")}da(o),e.__PRIVATE_registerFirestore=da}).call(this,n(6))},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return nr})),n.d(e,"EventType",(function(){return rr})),n.d(e,"WebChannel",(function(){return ir})),n.d(e,"XhrIo",(function(){return or})),n.d(e,"createWebChannelTransport",(function(){return er}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=a||{},c=s||self;function u(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:b).apply(null,arguments)}function v(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function E(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function j(t){return/^[\s\xa0]*$/.test(t)}var M,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function A(t,e){return-1!=t.indexOf(e)}function k(t,e){return t<e?-1:t>e?1:0}t:{var I=c.navigator;if(I){var C=I.userAgent;if(C){M=C;break t}}M=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function P(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function D(t){return D[" "](t),t}D[" "]=u;var B,$,F=A(M,"Opera"),U=A(M,"Trident")||A(M,"MSIE"),z=A(M,"Edge"),H=z||U,G=A(M,"Gecko")&&!(A(M.toLowerCase(),"webkit")&&!A(M,"Edge"))&&!(A(M,"Trident")||A(M,"MSIE"))&&!A(M,"Edge"),V=A(M.toLowerCase(),"webkit")&&!A(M,"Edge");function q(){var t=c.document;return t?t.documentMode:void 0}t:{var W="",K=($=M,G?/rv:([^\);]+)(\)|;)/.exec($):z?/Edge\/([\d\.]+)/.exec($):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($):V?/WebKit\/(\S+)/.exec($):F?/(?:Version)[ \/]?(\S+)/.exec($):void 0);if(K&&(W=K?K[1]:""),U){var Y=q();if(null!=Y&&Y>parseFloat(W)){B=String(Y);break t}}B=W}var X,Z={};function J(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=T(String(B)).split("."),r=T(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=k(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||k(0==s[2].length,0==a[2].length)||k(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(c.document&&U){var Q=q();X=Q||(parseInt(B,10)||void 0)}else X=void 0;var tt=X,et=!U||9<=Number(tt),nt=U&&!J("9"),rt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",u,e),c.removeEventListener("test",u,e)}catch(t){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ot(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{D(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}it.prototype.b=function(){this.defaultPrevented=!0},w(ot,it);var st={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var at="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ct,this.Y=this.Z=!1}function lt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ht(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=dt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function bt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[at]?e.wa(n,r,f(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[at]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!et)return null;var a=xt(t);if(a||(t[pt]=a=new ht(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xt(e))?(ft(n,t),0==n.b&&(n.src=null,e[pt]=null)):lt(t)}}}function yt(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&vt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!et){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wt(t,e=new ot(e,this))}return wt(t,new ot(e,this))}function xt(t){return(t=t[pt])instanceof ht?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function St(){_.call(this),this.c=new ht(this),this.J=this,this.C=null}function jt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&ft(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}w(St,_),St.prototype[at]=!0,(o=St.prototype).addEventListener=function(t,e,n,r){bt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[at]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=dt(s=e.a[n],r,i,o))&&(lt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=xt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,i,o)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;N(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=jt(s,r,!0,t)&&i}if(i=jt(s=t.a=n,r,!0,t)&&i,i=jt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=jt(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(St.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)lt(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Mt=c.JSON.stringify;function Tt(){this.b=this.a=null}var At,kt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ct}),(function(t){t.reset()}),100);function It(){var t=Nt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ct(){this.next=this.b=this.a=null}function Rt(t){c.setTimeout((function(){throw t}),0)}function Pt(t,e){At||function(){var t=c.Promise.resolve(void 0);At=function(){t.then(Dt)}}(),Lt||(At(),Lt=!0),Nt.add(t,e)}Tt.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ct.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ct.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Nt=new Tt;function Dt(){for(var t;t=It();){try{t.a.call(t.b)}catch(t){Rt(t)}var e=kt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Bt(t,e){St.call(this),this.b=t||1,this.a=e||c,this.f=g(this.Ya,this),this.g=y()}function $t(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Ut(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Bt,St),(o=Bt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=y()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&($t(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},o.G=function(){Bt.S.G.call(this),$t(this),delete this.a};var zt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Ht(t){_.call(this),this.b=t,this.a={}}w(Ht,_);var Gt=[];function Vt(t,e,n,r){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=bt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function Wt(){this.a=!0}function Kt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Mt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ht.prototype.G=function(){Ht.S.G.call(this),qt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.info=function(){};var Yt=null;function Xt(){return Yt=Yt||new St}function Zt(t){it.call(this,"serverreachability",t)}function Jt(t){var e=Xt();e.dispatchEvent(new Zt(e,t))}function Qt(t){it.call(this,"statevent",t)}function te(t){var e=Xt();e.dispatchEvent(new Qt(e,t))}function ee(t){it.call(this,"timingevent",t)}function ne(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){t()}),e)}w(Zt,it),w(Qt,it),w(ee,it);var re={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ie={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function oe(){}function se(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}oe.prototype.a=null;var ce,ue={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function le(){it.call(this,"d")}function he(){it.call(this,"c")}function fe(){}function de(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Ht(this),this.P=pe,t=H?125:void 0,this.R=new Bt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(le,it),w(he,it),w(fe,oe),ce=new fe;var pe=45e3,me={},be={};function ge(t,e,n){t.H=1,t.i=$e(Re(e)),t.j=n,t.I=!0,ve(t,null)}function ve(t,e){t.u=y(),_e(t),t.l=Re(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Wn(t.g,t.g.C?e:null),0<t.O&&(t.F=new zt(g(t.Ca,t,t.a),t.O)),Vt(t.J,t.a,"readystatechange",t.Wa),e=t.B?P(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=we(t,n);if(i==be){4==e&&(t.h=4,te(14),r=!1),Kt(t.c,t.f,null,"[Incomplete Response]");break}if(i==me){t.h=4,te(15),Kt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Kt(t.c,t.f,i,null),je(t,i)}4==e&&0==n.length&&(t.h=1,te(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$n(e),e.F=!0)):(Kt(t.c,t.f,n,"[Invalid Chunked Response]"),Se(t),Ee(t))}function we(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?be:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?be:(e=e.substr(r,n),t.D=r+n,e))}function _e(t){t.U=y()+t.P,xe(t,t.P)}function xe(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ne(g(t.Ua,t),e)}function Oe(t){t.o&&(c.clearTimeout(t.o),t.o=null)}function Ee(t){0==t.g.v||t.A||zn(t.g,t)}function Se(t){Oe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$t(t.R),qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function je(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sn(n.b,t)))if(n.I=t.N,!t.C&&sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),kn(n)}Bn(n),te(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ne(g(n.Ra,n),6e3));if(1>=on(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&Un(n),!j(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(A(l,"spdy")||A(l,"quic")||A(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(an(h,h.b),h.b=null))}if(c.A){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(c.na=f,Be(c.B,c.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=y()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((c=n).la=qn(c,c.C?c.ga:null,c.fa),d.C){cn(c.b,d);var p=d,m=c.D;m&&p.setTimeout(m),p.o&&(Oe(p),_e(p)),c.a=d}else Dn(c);0<n.g.length&&Rn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):An(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jt(4)}catch(t){}}function Me(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)O(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Te)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=de.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==Sn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Sn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||Jt(8==n||0>=r?3:2),Oe(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,te(12),Se(this),Ee(this);break t}Kt(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,je(this,c)}this.I?(ye(this,e,o),H&&this.b&&3==e&&(Vt(this.J,this.R,"tick",this.Va),this.R.start())):(Kt(this.c,this.f,o,null),je(this,o)),4==e&&Se(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,te(12)):(this.h=0,te(13)),Se(this),Ee(this)}}}catch(t){}},o.Va=function(){if(this.a){var t=Sn(this.a),e=this.a.$();this.D<e.length&&(Oe(this),ye(this,t,e),this.b&&4!=t&&_e(this))}},o.cancel=function(){this.A=!0,Se(this)},o.Ua=function(){this.o=null;var t=y();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Jt(3),te(17)),Se(this),this.h=2,Ee(this)):xe(this,this.U-t)},(o=Te.prototype).K=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ae(this),this.a.concat()},o.get=function(t,e){return ke(this.b,t)?this.b[t]:e},o.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ce(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ce){this.a=void 0!==e?e:t.a,Pe(this,t.f),this.j=t.j,Le(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b;var n=new Ke;n.c=e.c,e.a&&(n.a=new Te(e.a),n.b=e.b),De(this,n),this.i=t.i}else t&&(n=String(t).match(Ie))?(this.a=!!e,Pe(this,n[1]||"",!0),this.j=Fe(n[2]||""),Le(this,n[3]||"",!0),Ne(this,n[4]),this.g=Fe(n[5]||"",!0),De(this,n[6]||"",!0),this.i=Fe(n[7]||"")):(this.a=!!e,this.b=new Ke(null,this.a))}function Re(t){return new Ce(t)}function Pe(t,e,n){t.f=n?Fe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.c=n?Fe(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function De(t,e,n){e instanceof Ke?(t.b=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,qe)),t.b=new Ke(e,t.a))}function Be(t,e,n){t.b.set(e,n)}function $e(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ce.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,He,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?Ve:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,We)),t.join("")};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,Ve=/[#\?]/g,qe=/[#\?@]/g,We=/#/g;function Ke(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=Qe(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t)))}function Ze(t,e){return Ye(t),e=Qe(t,e),ke(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(Qe(t,e),S(n)),t.b+=n.length)}function Qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tn(t,e){this.b=t,this.a=e}function en(t){this.g=t||nn,c.PerformanceNavigationTiming?t=0<(t=c.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ke.prototype).add=function(t,e){Ye(this),this.c=null,t=Qe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){O(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Ye(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ye(this);var e=[];if("string"==typeof t)Ze(this,t)&&(e=E(e,this.a.get(Qe(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=E(e,t[n])}return e},o.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=Qe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nn=10;function rn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function on(t){return t.b?1:t.a?t.a.size:0}function sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function un(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function ln(){}function hn(){this.a=new ln}function fn(t,e,n){var r=n||"";try{Me(t,(function(t,n){var i=t;f(t)&&(i=Mt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}en.prototype.cancel=function(){var t,e;if(this.c=un(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ln.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},ln.prototype.parse=function(t){return c.JSON.parse(t,void 0)};var pn=c.JSON.parse;function mn(t){St.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=bn,this.D=this.F=!1}w(mn,St);var bn="",gn=/^https?$/i,vn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function wn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_n(t),On(t)}function _n(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=Sn(t)||2!=t.X()))if(t.l&&4==Sn(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Sn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ie)[1]||null;if(!o&&c.self&&c.self.location){var s=c.self.location.protocol;o=s.substr(0,s.length-1)}i=!gn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Sn(t)?t.a.statusText:""}catch(t){u=""}t.f=u+" ["+t.X()+"]",_n(t)}}finally{On(t)}}}function On(t,e){if(t.a){En(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function En(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(c.clearTimeout(t.m),t.m=null)}function Sn(t){return t.a?t.a.readyState:0}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function Mn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tn(t){this.pa=0,this.g=[],this.c=new Wt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Mn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Mn("baseRetryDelayMs",5e3,t),this.Ma=Mn("retryDelaySeedMs",1e4,t),this.Ja=Mn("forwardChannelMaxRetries",2,t),this.ma=Mn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new en(t&&t.concurrentRequestLimit),this.ka=new hn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function An(t){if(In(t),3==t.v){var e=t.R++,n=Re(t.B);Be(n,"SID",t.J),Be(n,"RID",e),Be(n,"TYPE","terminate"),Ln(t,n),(e=new de(t,t.c,e,void 0)).H=2,e.i=$e(Re(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.i.toString(),"")),!n&&c.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wn(e.g,null),e.a.ba(e.i)),e.u=y(),_e(e)}Vn(t)}function kn(t){t.a&&($n(t),t.a.cancel(),t.a=null)}function In(t){kn(t),t.j&&(c.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&c.clearTimeout(t.h),t.h=null)}function Cn(t,e){t.g.push(new tn(t.La++,e)),3==t.v&&Rn(t)}function Rn(t){rn(t.b)||t.h||(t.h=!0,Pt(t.Ba,t),t.u=0)}function Pn(t,e){var n;n=e?e.f:t.R++;var r=Re(t.B);Be(r,"SID",t.J),Be(r,"RID",n),Be(r,"AID",t.P),Ln(t,r),t.i&&t.l&&jn(r,t.i,t.l),n=new de(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Nn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),ge(n,r,e)}function Ln(t,e){t.f&&Me({},(function(t,n){Be(e,n,t)}))}function Nn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{fn(l,s,"req"+u+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Dn(t){t.a||t.j||(t.U=1,Pt(t.Aa,t),t.o=0)}function Bn(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=ne(g(t.Aa,t),Hn(t,t.o)),t.o++,!0)}function $n(t){null!=t.s&&(c.clearTimeout(t.s),t.s=null)}function Fn(t){t.a=new de(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Re(t.la);Be(e,"RID","rpc"),Be(e,"SID",t.J),Be(e,"CI",t.H?"0":"1"),Be(e,"AID",t.P),Ln(t,e),Be(e,"TYPE","xmlhttp"),t.i&&t.l&&jn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=$e(Re(e)),n.j=null,n.I=!0,ve(n,t)}function Un(t){null!=t.m&&(c.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Un(t),$n(t),t.a=null;var r=2}else{if(!sn(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=y()-e.u;var i=t.u;(r=Xt()).dispatchEvent(new ee(r,n,e,i)),Rn(t)}else Dn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(on(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=ne(g(t.Ba,t,e),Hn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Bn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Hn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new Ce("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Pe(n,"https"),$e(n)),function(t,e){var n=new Wt;if(c.Image){var r=new Image;r.onload=v(dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=v(dn,n,r,"TestLoadImage: error",!1,e),r.onabort=v(dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=v(dn,n,r,"TestLoadImage: timeout",!1,e),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else te(2);t.v=0,t.f&&t.f.ra(e),Vn(t),In(t)}function Vn(t){t.v=0,t.I=-1,t.f&&(0==un(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function qn(t,e,n){var r=function(t){return t instanceof Ce?Re(t):new Ce(t,void 0)}(n);if(""!=r.c)e&&Le(r,e+"."+r.c),Ne(r,r.h);else{var i=c.location;r=function(t,e,n,r){var i=new Ce(null,void 0);return t&&Pe(i,t),e&&Le(i,e),n&&Ne(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&R(t.W,(function(t,e){Be(r,e,t)})),e=t.A,n=t.na,e&&n&&Be(r,e,n),Be(r,"VER",t.ha),Ln(t,r),r}function Wn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t.Ka)).F=t.C,e}function Kn(){}function Yn(){if(U&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function Xn(t,e){St.call(this),this.a=new Tn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!j(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!j(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Qn(this)}function Zn(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){he.call(this),this.status=1}function Qn(t){this.a=t}(o=mn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?se(this.H):se(ce),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void wn(this,t)}t=n||"";var i=new Te(this.headers);r&&Me(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=c.FormData&&t instanceof c.FormData,!(0<=x(vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{En(this),0<this.o&&((this.D=function(t){return U&&J(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){wn(this,t)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),On(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),mn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?xn(this):this.Ta())},o.Ta=function(){xn(this)},o.X=function(){try{return 2<Sn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Tn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new de(this,this.c,t,void 0),r=this.l;if(this.O&&(r?N(r=P(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Nn(this,n,e),Be(i=Re(this.B),"RID",t),Be(i,"CVER",22),this.A&&Be(i,"X-HTTP-Session-Id",this.A),Ln(this,i),this.i&&r&&jn(i,this.i,r),an(this.b,n),this.Ga&&Be(i,"TYPE","init"),this.da?(Be(i,"$req",e),Be(i,"SID","null"),n.V=!0,ge(n,i,null)):ge(n,i,e),this.v=2}}else 3==this.v&&(t?Pn(this,t):0==this.g.length||rn(this.b)||Pn(this))},o.Aa=function(){if(this.j=null,Fn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ne(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kn(this),Fn(this))},o.Ra=function(){null!=this.m&&(this.m=null,kn(this),Bn(this),te(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),te(2)):(this.c.info("Failed to ping google.com"),te(1))},(o=Kn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Yn.prototype.a=function(t,e){return new Xn(t,e)},w(Xn,St),(o=Xn.prototype).addEventListener=function(t,e,n,r){Xn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Xn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;te(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=qn(t,null,t.fa),Rn(t)},o.close=function(){An(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Cn(this.a,e)}else this.g?((e={}).__data__=Mt(t),Cn(this.a,e)):Cn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,An(this.a),delete this.a,Xn.S.G.call(this)},w(Zn,le),w(Jn,he),w(Qn,Kn),Qn.prototype.ta=function(){this.a.dispatchEvent("a")},Qn.prototype.sa=function(t){this.a.dispatchEvent(new Zn(t))},Qn.prototype.ra=function(t){this.a.dispatchEvent(new Jn(t))},Qn.prototype.qa=function(){this.a.dispatchEvent("b")},Yn.prototype.createWebChannel=Yn.prototype.a,Xn.prototype.send=Xn.prototype.Pa,Xn.prototype.open=Xn.prototype.Oa,Xn.prototype.close=Xn.prototype.close,re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,ie.COMPLETE="complete",ae.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",St.prototype.listen=St.prototype.va,mn.prototype.listenOnce=mn.prototype.wa,mn.prototype.getLastError=mn.prototype.Qa,mn.prototype.getLastErrorCode=mn.prototype.ua,mn.prototype.getStatus=mn.prototype.X,mn.prototype.getResponseJson=mn.prototype.Na,mn.prototype.getResponseText=mn.prototype.$,mn.prototype.send=mn.prototype.ba;var tr={createWebChannelTransport:function(){return new Yn},ErrorCode:re,EventType:ie,WebChannel:ae,XhrIo:mn},er=tr.createWebChannelTransport,nr=tr.ErrorCode,rr=tr.EventType,ir=tr.WebChannel,or=tr.XhrIo;e.default=tr}.call(this,n(8))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(n=function(){"use strict";var t=[],e=[];function n(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function i(t,e){return-1!==r(t).indexOf(e)}function o(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function s(e,r){if(void 0===e&&void 0===r)for(var i=0;i<t.length;i++)s(t[i].className,t[i].cssClass);else{var o=e;if(void 0===r){var c=n(o);c&&(r=c.cssClass)}for(var u=document.querySelectorAll("."+r),l=0;l<u.length;l++)a(u[l],o)}}function a(s,a){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=o("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var u=r(s),l=[];if(a)i(s,a)||l.push(n(a));else{var h=s.classList;t.forEach((function(t){h.contains(t.cssClass)&&-1===l.indexOf(t)&&!i(s,t.className)&&l.push(t)}))}for(var f,d=0,p=l.length;d<p;d++){if(!(f=l[d]))throw new Error("Unable to find a registered component for the given class.");u.push(f.className),s.setAttribute("data-upgraded",u.join(","));var m=new f.classConstructor(s);m.mdlComponentConfigInternal_=f,e.push(m);for(var b=0,g=f.callbacks.length;b<g;b++)f.callbacks[b](s);f.widget&&(s[f.className]=m);var v=o("mdl-componentupgraded",!0,!1);s.dispatchEvent(v)}}}function c(t){if(t){var n=e.indexOf(t);e.splice(n,1);var r=t.element_.getAttribute("data-upgraded").split(","),i=r.indexOf(t.mdlComponentConfigInternal_.classAsString);r.splice(i,1),t.element_.setAttribute("data-upgraded",r.join(","));var s=o("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:a,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(a(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var r=n(t);r&&r.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var i={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===i.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty("mdlComponentConfigInternal_"))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");n(e.classAsString,i)||t.push(i)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}))},function(t,e){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},function(t,e){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},function(t,e){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],s=0;s<o.length;s++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[s].appendChild(a)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},function(t,e){
/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";const r=n(230),i=n(231);t.exports=class{constructor(t={}){this.options=t,r(this)}request(t,e,n){return i.request(t,e,{...this.options,...n})}get(t,e){return this.request("GET",t,e)}delete(t,e){return this.request("DELETE",t,e)}patch(t,e){return this.request("PATCH",t,e)}post(t,e){return this.request("POST",t,e)}put(t,e){return this.request("PUT",t,e)}paged(t,e,n){return"function"==typeof e&&(n=e,e=null),i.paged("GET",t,{...this.options,...e,next:n})}}},function(t,e,n){"use strict";
/*!
 * use <https://github.com/jonschlinkert/use>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}function i(t,e,n){Object.defineProperty(t,e,{configurable:!0,writable:!0,value:n})}t.exports=function t(e,n){if(!r(e)&&"function"!=typeof e)throw new TypeError("expected an object or function");var o=r(n)?n:{},s="string"==typeof o.prop?o.prop:"fns";function a(t,n,r){var i=1;if("string"==typeof t||Array.isArray(t)?(n=c(t,n),i++):(r=n,n=t),"function"!=typeof n)throw new TypeError("expected a function");var a=this||e,u=a[s],l=[].slice.call(arguments,i);l.unshift(a),"function"==typeof o.hook&&o.hook.apply(a,l);var h=n.apply(a,l);return"function"==typeof h&&-1===u.indexOf(h)&&u.push(h),a}function c(t,e){return function n(){return this.type===t?e.apply(this,arguments):n}}return Array.isArray(e[s])||i(e,s,[]),i(e,"use",a),i(e,"run",(function(n){if(r(n)){n.use&&n.run||(i(n,s,n[s]||[]),i(n,"use",a)),n[s]&&-1!==n[s].indexOf(t)||n.use(t);for(var o=(this||e)[s],c=o.length,u=-1;++u<c;)n.use(o[u]);return n}})),e}},function(t,e,n){"use strict";(function(t){const r=n(234),i=n(36),o=n(241),s=n(90),a=n(379),c=n(380),u={accept:"application/json","user-agent":"https://github.com/jonschlinkert/github-base"};function l(t,e,n,r){if(t.statusCode>=400){const e=new Error(t.body.message);return Reflect.defineProperty(e,"res",{value:t,enumerable:!1}),Promise.reject(e)}if(t.url||(t.url=n.url),t.op&&(t.id=r.id),/\/markdown\/raw/.test(t.url)&&"text/plain"===n.headers["content-type"])try{const e=JSON.parse(t.body.trim().replace(/^<p>|<\/p>$/g,""));t.body=`<p>${e.body}</p>\n`}catch(t){}return Object.assign({},e,t)}function h(t,e){return p(Object.assign({},t),m([],["apiurl","token","username","password","placeholders","bearer"],e))}function f(t){const e={};for(const n of Object.keys(t))e[d(n)]=t[n];return e}function d(t){return"string"==typeof t?t.toLowerCase():""}function p(t,e){e=[].concat(e||[]);let n={};for(const r of Object.keys(t))e.includes(r)||(n[r]=t[r]);return n}function m(...t){const e=new Set;for(const n of t)for(const t of[].concat(n))t&&e.add(t);return[...e]}e.request=function(t,n,r){const i=e.defaults({}),o=Object.assign({},i(t,n,r));let a=/^(put|patch|post)$/i.test(o.method)?r:null;return a&&(a=JSON.stringify(h(a,o.params))),s(o.method,o.url,a,o).then(t=>l(t,a,o,r))},e.paged=function(t,n,r){const i=e.defaults({}),o=Object.assign({},i(t,n,r));return a(o.url,o,(function(t,e,n){let r;if("function"==typeof o.next&&o.next(t,h(e),h(n)),e.headers.link&&(r=c(e.headers.link)))return r.next?r.next.url:null})).then(t=>l(t,r,o,r)).then(t=>h(t))},e.defaults=function(e){const n={apiurl:"https://api.github.com",method:"get",params:[]};return function(s,a,c){const l=Object.assign({},n,e,c,{uri:a,method:s}),b={orig:Object.assign({},l),options:f(l)};b.options.url=function(t,e){const n={...e.options};let s=n.apiurl+t.replace(/:([\w_]+)/g,(t,e)=>{n.params=m(n.params,e);let r=o(n,e);return void 0!==r?r:e});if("get"===n.method.toLowerCase()&&!1!==n.paged){const t=i.parse(s),e=t.query?r.parse(t.query):{},o=p(t,["query","search"]);o.query=o.search=r.stringify(Object.assign({per_page:100},n.query,e)),s=i.format(o)}return s+=/\?/.test(s)?"&":"?",s+=(new Date).getTime(),s}(a,b),b.options.headers=function(e){const n=Object.assign({},e),r=Object.assign({},u,n.headers);if(!(n.bearer||n.token||n.username||n.password))return r;if(n.token)return r.authorization="token "+n.token,r;if(n.bearer)return r.authorization="Bearer "+n.bearer,r;const i=n.username+":"+n.password;return r.authorization="Basic "+function(e){return t.from(e).toString("base64")}(i),r}(b.options);let g=b.options;const v=p(b.orig,Object.keys(g)),y=g.json,w=g.body;!g.mode&&/\/markdown(?!\/raw)/.test(g.url)&&(g.mode="gfm");const _=Object.keys(v);return _.length>0?(g=p(g,_),g.headers["content-length"]=JSON.stringify(v).length,"string"!=typeof g.headers["content-type"]&&(g.headers["content-type"]="application/json")):"put"===d(g.method)&&(g.headers["content-length"]=0),"boolean"==typeof y&&(g.json=y),w&&(g.body=!0!==g.json?JSON.stringify(w):w),g=h(g,g.params),g}}}).call(this,n(7).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*m}},function(t,e,n){"use strict";var r=n(235),i=n(236),o=n(89);t.exports={formats:o,parse:i,stringify:r}},function(t,e,n){"use strict";var r=n(59),i=n(89),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,h=i.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:h,formatter:i.formatters[h],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},d=function t(e,n,i,o,s,c,l,h,d,p,m,b,g){var v,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=p(y):"comma"===i&&a(y)&&(y=r.maybeMap(y,(function(t){return t instanceof Date?p(t):t})).join(",")),null===y){if(o)return c&&!b?c(n,f.encoder,g,"key"):n;y=""}if("string"==typeof(v=y)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||r.isBuffer(y))return c?[m(b?n:c(n,f.encoder,g,"key"))+"="+m(c(y,f.encoder,g,"value"))]:[m(n)+"="+m(String(y))];var w,_=[];if(void 0===y)return _;if(a(l))w=l;else{var x=Object.keys(y);w=h?x.sort(h):x}for(var O=0;O<w.length;++O){var E=w[O],S=y[E];if(!s||null!==S){var j=a(y)?"function"==typeof i?i(n,E):n:n+(d?"."+E:"["+E+"]");u(_,t(S,j,i,o,s,c,l,h,d,p,m,b,g))}}return _};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],s=f.filter;return("function"==typeof t.filter||a(t.filter))&&(s=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:s,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):a(c.filter)&&(n=c.filter);var l,h=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=s[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var m=0;m<n.length;++m){var b=n[m];c.skipNulls&&null===r[b]||u(h,d(r[b],b,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=h.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},function(t,e,n){"use strict";var r=n(59),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,n,r){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=a?o.slice(0,a.index):o,l=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var h=0;n.depth>0&&null!==(a=s.exec(o))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(t,e,n,r){for(var i=r?e:c(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[])[l]=i:s[u]=i:s={0:i}}i=s}return i}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,f=l.split(e.delimiter,h),d=-1,p=e.charset;if(e.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?p="utf-8":"utf8=%26%2310003%3B"===f[n]&&(p="iso-8859-1"),d=n,n=f.length);for(n=0;n<f.length;++n)if(n!==d){var m,b,g=f[n],v=g.indexOf("]="),y=-1===v?g.indexOf("="):v+1;-1===y?(m=e.decoder(g,s.decoder,p,"key"),b=e.strictNullHandling?null:""):(m=e.decoder(g.slice(0,y),s.decoder,p,"key"),b=r.maybeMap(c(g.slice(y+1),e),(function(t){return e.decoder(t,s.decoder,p,"value")}))),b&&e.interpretNumericEntities&&"iso-8859-1"===p&&(b=a(b)),g.indexOf("[]=")>-1&&(b=o(b)?[b]:b),i.call(u,m)?u[m]=r.combine(u[m],b):u[m]=b}return u}(t,n):t,h=n.plainObjects?Object.create(null):{},f=Object.keys(l),d=0;d<f.length;++d){var p=f[d],m=u(p,l[p],n,"string"==typeof t);h=r.merge(h,m,n)}return r.compact(h)}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function m(t){throw new RangeError(f[t])}function b(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+b((t=t.replace(h,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function y(t){return b(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=36)t=d(t/35);return d(r+36*t/(t+38))}function x(t){var e,n,r,i,o,s,a,u,l,h,f,p=[],b=t.length,g=0,v=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),p.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=g,s=1,a=36;i>=b&&m("invalid-input"),((u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>d((c-g)/s))&&m("overflow"),g+=u*s,!(u<(l=a<=w?1:a>=w+26?26:a-w));a+=36)s>d(c/(h=36-l))&&m("overflow"),s*=h;w=_(g-o,e=p.length+1,0==o),d(g/e)>c-v&&m("overflow"),v+=d(g/e),g%=e,p.splice(g++,0,v)}return y(p)}function O(t){var e,n,r,i,o,s,a,u,l,h,f,b,g,y,x,O=[];for(b=(t=v(t)).length,e=128,n=0,o=72,s=0;s<b;++s)(f=t[s])<128&&O.push(p(f));for(r=i=O.length,i&&O.push("-");r<b;){for(a=c,s=0;s<b;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>d((c-n)/(g=r+1))&&m("overflow"),n+=(a-e)*g,e=a,s=0;s<b;++s)if((f=t[s])<e&&++n>c&&m("overflow"),f==e){for(u=n,l=36;!(u<(h=l<=o?1:l>=o+26?26:l-o));l+=36)x=u-h,y=36-h,O.push(p(w(h+x%y,0))),u=d(x/y);O.push(p(w(u,0))),o=_(n,g,r==i),n=0,++r}++n,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:y},decode:x,encode:O,toASCII:function(t){return g(t,(function(t){return l.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return g(t,(function(t){return u.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(47)(t),n(8))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,f,d,p,m=t[l].replace(a,"%20"),b=m.indexOf(n);b>=0?(h=m.substr(0,b),f=m.substr(b+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){
/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
const r=n(242);function i(t,e,n){return"function"==typeof n.join?n.join(t):t[0]+e+t[1]}function o(t,e,n){return"function"!=typeof n.isValid||n.isValid(t,e)}function s(t){return r(t)||Array.isArray(t)||"function"==typeof t}t.exports=function(t,e,n){if(r(n)||(n={default:n}),!s(t))return void 0!==n.default?n.default:t;"number"==typeof e&&(e=String(e));const a=Array.isArray(e),c="string"==typeof e,u=n.separator||".",l=n.joinChar||("string"==typeof u?u:".");if(!c&&!a)return t;if(c&&e in t)return o(e,t,n)?t[e]:n.default;let h=a?e:function(t,e,n){if("function"==typeof n.split)return n.split(t);return t.split(e)}(e,u,n),f=h.length,d=0;do{let e=h[d];for("number"==typeof e&&(e=String(e));e&&"\\"===e.slice(-1);)e=i([e.slice(0,-1),h[++d]||""],l,n);if(e in t){if(!o(e,t,n))return n.default;t=t[e]}else{let r=!1,s=d+1;for(;s<f;)if(e=i([e,h[s++]],l,n),r=e in t){if(!o(e,t,n))return n.default;t=t[e],d=s-1;break}if(!r)return n.default}}while(++d<f&&s(t));return d===f?t:n.default}},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){(function(e,r,i){var o=n(93),s=n(2),a=n(94),c=n(37),u=n(250),l=a.IncomingMessage,h=a.readyStates;var f=t.exports=function(t){var n,r=this;c.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};s(f,c.Writable),f.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:t,value:e})},f.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},f.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},f.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,s=t._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?u(e.concat(t._body)):o.blobConstructor?new r.Blob(t._body.map((function(t){return u(t)})),{type:(s["content-type"]||{}).value||""}):e.concat(t._body).toString());var c=[];if(Object.keys(s).forEach((function(t){var e=s[t].name,n=s[t].value;Array.isArray(n)?n.forEach((function(t){c.push([e,t])})):c.push([e,n])})),"fetch"===t._mode){var l=null;if(o.abortController){var f=new AbortController;l=f.signal,t._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:c,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var d=t._xhr=new r.XMLHttpRequest;try{d.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick((function(){t.emit("error",e)}))}"responseType"in d&&(d.responseType=t._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){t.emit("requestTimeout")}),c.forEach((function(t){d.setRequestHeader(t[0],t[1])})),t._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(d.onprogress=function(){t._onXHRProgress()}),d.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{d.send(a)}catch(e){return void i.nextTick((function(){t.emit("error",e)}))}}}},f.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var t=this;t._destroyed||(t._response=new l(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},f.prototype._write=function(t,e,n){this._body.push(t),n()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),c.Writable.prototype.end.call(this,t,e,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(7).Buffer,n(8),n(6))},function(t,e){},function(t,e,n){"use strict";var r=n(61).Buffer,i=n(246);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(248),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},f.clearImmediate=d}function d(t){delete u[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(8),n(6))},function(t,e,n){"use strict";t.exports=o;var r=n(98),i=Object.create(n(38));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(2),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){var r=n(7).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e,n){var r=n(92),i=n(36),o=t.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),r.request.call(this,t,e)},o.get=function(t,e){return t=a(t),r.get.call(this,t,e)}},function(t,e,n){t.exports=n(62)},function(t,e,n){t.exports=n(25)},function(t,e,n){t.exports=n(37).Transform},function(t,e,n){t.exports=n(37).PassThrough},function(t,e,n){"use strict";(function(r){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(258)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(6))},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=s,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var u=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;u++;var i=r.formatters[n];if("function"==typeof i){var s=e[u];t=i.call(o,s),e.splice(u,1),u--}return t})),r.formatArgs.call(o,e);var l=o.log||r.log;l.apply(o,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(259),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){var n=Object.prototype.toString;function r(t,e){if(e&&null==t)return e+"=";if("[object Array]"==n.call(t))return function(t,e){for(var n=[],i=0,o=t.length;i<o;i++)e?n.push(r(t[i],e+"[]")):n.push(r(t[i]));return n.join("&")}(t,e);if("[object Object]"==n.call(t))return function(t,e){var n=[];return Object.keys(t).forEach((function(i){n.push(r(t[i],e?e+"["+encodeURIComponent(i)+"]":encodeURIComponent(i)))})),n.join("&")}(t,e);if("[object Date]"==n.call(t))return t.toISOString();if(e)return e+"="+encodeURIComponent(String(t));if(-1!==String(t).indexOf("="))return String(t);throw new TypeError("Cannot build a querystring out of: "+t)}e.build=r},function(t,e,n){(function(t){var r=n(91).readFile,i=n(55).basename;function o(e,n,o,s){var a="--"+o+"\r\n";function c(t,e){if(t){var r=-1==n.content_type.indexOf("text");a+='; filename="'+encodeURIComponent(e)+'"\r\n',r&&(a+="Content-Transfer-Encoding: binary\r\n"),a+="Content-Type: "+n.content_type+"\r\n\r\n",a+=r?t.toString("binary"):t.toString("utf8")}s(null,a+"\r\n")}if(a+='Content-Disposition: form-data; name="'+e+'"',(n.file||n.buffer)&&n.content_type){var u=n.filename?n.filename:n.file?i(n.file):e;if(n.buffer)return c(n.buffer,u);r(n.file,(function(t,e){if(t)return s(t);c(e,u)}))}else{if("object"==typeof n.value)return s(new Error("Object received for "+e+", expected string."));n.content_type&&(a+="\r\n",a+="Content-Type: "+n.content_type),a+="\r\n\r\n",a+=t.from(String(n.value),"utf8").toString("binary"),c()}}e.build=function(e,n,r){if("object"!=typeof e||"function"==typeof e.pipe)return r(new Error("Multipart builder expects data as key/val object."));var i="",s=function t(e,n,r){for(var i in n=n||{},e){var o=r?r+"["+i+"]":i,s=e[i];s&&"object"==typeof s&&!(s.buffer||s.file||s.content_type)?t(s,n,o):n[o]=s}return n}(e),a=Object.keys(s).length;if(0===a)return r(new Error("Empty multipart body. Invalid data."));function c(t,e){if(t)return r(t);e&&(i+=e),--a||r(null,i+"--"+n+"--")}for(var u in s){var l=s[u];if(null==l)c();else if(t.isBuffer(l)){o(u,{buffer:l,content_type:"application/octet-stream"},n,c)}else{o(u,l.buffer||l.file||l.content_type?l:{value:l},n,c)}}}}).call(this,n(7).Buffer)},function(t,e,n){(function(e){var r=n(263).createHash;function i(t){return r("md5").update(t).digest("hex")}function o(t,n){var r=void 0===n?t:[t,n].join(":");return"Basic "+e.from(r).toString("base64")}var s={parse_header:function(t){for(var e={},n=t.match(/([a-z0-9_-]+)="?([a-z0-9=\/\.@\s-]+)"?/gi),r=0,i=n.length;r<i;r++){var o=n[r].split("="),s=o.shift(),a=o.join("=").replace(/^"/,"").replace(/"$/,"");e[s]=a}return e},update_nc:function(t){return++t>99999999&&(t=1),t+="",(new Array(8).join("0")+"").substr(0,8-t.length)+t},generate:function(t,e,n,r,o){var a=1,c=null,u=s.parse_header(t),l=i(e+":"+u.realm+":"+n),h=i(r.toUpperCase()+":"+o),f=[l,u.nonce];"string"==typeof u.qop?(c=i(Math.random().toString(36)).substr(0,8),a=s.update_nc(a),f=(f=f.concat(a,c)).concat(u.qop,h)):f=f.concat(h);var d={uri:o,realm:u.realm,nonce:u.nonce,username:e,response:i(f.join(":"))};for(var p in u.qop&&(d.qop=u.qop),u.opaque&&(d.opaque=u.opaque),c&&(d.nc=a,d.cnonce=c),t=[],d)t.push(p+'="'+d[p]+'"');return"Digest "+t.join(", ")}};t.exports={header:function(t,e,n){var r=t.split(" ")[0],i=e[0],a=e[1];return"Digest"==r?s.generate(t,i,a,n.method,n.path):"Basic"==r?o(i,a):void 0},basic:o,digest:s.generate}}).call(this,n(7).Buffer)},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(27),e.createHash=e.Hash=n(39),e.createHmac=e.Hmac=n(109);var r=n(277),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var s=n(112);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=n(279);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var c=n(294);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var u=n(299);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=n(338);var l=n(339);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var h=n(342);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){(e=t.exports=n(101)).Stream=e,e.Readable=e,e.Writable=n(105),e.Duplex=n(29),e.Transform=n(106),e.PassThrough=n(270),e.finished=n(65),e.pipeline=n(271)},function(t,e){},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(7).Buffer,a=n(267).inspect,c=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,u;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:c,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,n),u&&o(e,u),t}()},function(t,e){},function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(65),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[s];if(null!==e){var n=t[f].read();null!==n&&(t[l]=null,t[s]=null,t[a]=null,e(d(n,!1)))}}function m(t){e.nextTick(p,t)}var b=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){e.nextTick((function(){t[c]?r(t[c]):n(d(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[u]?n(d(void 0,!0)):e[h](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[f].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),b);t.exports=function(t){var e,n=Object.create(g,(i(e={},f,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var r=n[f].read();r?(n[l]=null,n[s]=null,n[a]=null,t(d(r,!1))):(n[s]=t,n[a]=e)},writable:!0}),e));return n[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[a];return null!==e&&(n[l]=null,n[s]=null,n[a]=null,e(t)),void(n[c]=t)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[u]=!0})),t.on("readable",m.bind(null,n)),n}}).call(this,n(6))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(106);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(2)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(28).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(65)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return c(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return e.reduce(l)}},function(t,e,n){var r=n(2),i=n(30),o=n(4).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=r)<<5|e>>>27)+l(d,i,o,a)+c+n[f]+s[d];c=a,a=o,o=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(2),i=n(30),o=n(4).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function h(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=(e=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=u(r)+h(p,i,o,a)+c+n[d]+s[p]|0;c=a,a=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(2),i=n(107),o=n(30),s=n(4).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(2),i=n(108),o=n(30),s=n(4).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){"use strict";var r=n(2),i=n(4).Buffer,o=n(22),s=i.alloc(128);function a(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=i.concat([e,s],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),a=0;a<64;a++)n[a]=54^e[a],r[a]=92^e[a];this._hash=[n]}r(a,o),a.prototype._update=function(t){this._hash.push(t)},a.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=a},function(t,e,n){t.exports=n(111)},function(t,e,n){(function(e,r){var i,o=n(4).Buffer,s=n(113),a=n(114),c=n(115),u=n(116),l=e.crypto&&e.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(t,e,n,r,i){return l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return l.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,n,p,m,b,g){"function"==typeof b&&(g=b,b=void 0);var v=h[(b=b||"sha1").toLowerCase()];if(!v||"function"!=typeof e.Promise)return r.nextTick((function(){var e;try{e=c(t,n,p,m,b)}catch(t){return g(t)}g(null,e)}));if(s(p,m),t=u(t,a,"Password"),n=u(n,a,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){r.nextTick((function(){e(null,t)}))}),(function(t){r.nextTick((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var n=d(i=i||o.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=n,n}(v).then((function(e){return e?d(t,n,p,m,v):c(t,n,p,m,b)})),g)}}).call(this,n(8),n(6))},function(t,e,n){var r=n(280),i=n(69),o=n(70),s=n(293),a=n(50);function c(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return c(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return u(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},function(t,e,n){var r=n(22),i=n(281),o=n(2),s=n(4).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(t){r.call(this);var e,n=t.mode.toLowerCase(),i=a[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var c=t.iv;s.isBuffer(c)||(c=s.from(c)),this._des=i.create({key:o,iv:c,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=c,o(c,r),c.prototype._update=function(t){return s.from(this._des.update(t))},c.prototype._final=function(){return s.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(117),e.Cipher=n(68),e.DES=n(118),e.CBC=n(282),e.EDE=n(283)},function(t,e,n){"use strict";var r=n(12),i=n(2),o={};function s(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var s=n[r];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,n,r);for(a=0;a<this.blockSize;a++)s[a]=n[r+a]}else{o._update.call(this,t,e,n,r);for(a=0;a<this.blockSize;a++)n[r+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,n){"use strict";var r=n(12),i=n(2),o=n(68),s=n(118);function a(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:n})]}function c(t){o.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(c,o),t.exports=c,c.create=function(t){return new c(t)},c.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(t,e,n){var r=n(70),i=n(122),o=n(4).Buffer,s=n(123),a=n(22),c=n(49),u=n(50);function l(t,e,n){a.call(this),this._cache=new f,this._cipher=new c.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(2)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var h=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(t,e,n){var a=r[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===a.type?new s(a.module,e,n):"auth"===a.type?new i(a.module,e,n):new l(a.module,e,n)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return d(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(40);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){var r=n(4).Buffer,i=n(40);function o(t,e,n){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:s]),s}e.encrypt=function(t,e,n){for(var i,s=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){s=r.concat([s,o(t,e,n)]);break}i=t._cache.length,s=r.concat([s,o(t,e.slice(0,i),n)]),e=e.slice(i)}return s}},function(t,e,n){var r=n(4).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},function(t,e,n){var r=n(4).Buffer;function i(t,e,n){for(var r,i,s=-1,a=0;++s<8;)r=e&1<<7-s?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>s%8,t._prev=o(t._prev,n?r:i);return a}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},function(t,e,n){(function(t){var r=n(40);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,o)}}).call(this,n(7).Buffer)},function(t,e,n){var r=n(4).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},s.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,n){var r=n(122),i=n(4).Buffer,o=n(70),s=n(123),a=n(22),c=n(49),u=n(50);function l(t,e,n){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(t,e,n){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,n,!0):"auth"===a.type?new r(a.module,e,n,!0):new l(a.module,e,n)}n(2)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=i.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return f(t,r.key,r.iv)},e.createDecipheriv=f},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var r=n(124),i=n(297),o=n(298);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(i[e].prime,"hex"),r=new t(i[e].gen,"hex");return new o(n,r)},e.createDiffieHellman=e.DiffieHellman=function e(n,i,a,c){return t.isBuffer(i)||void 0===s[i]?e(n,"binary",i,a):(i=i||"binary",c=c||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,c)),"number"==typeof n?new o(r(n,a),a,!0):(t.isBuffer(n)||(n=new t(n,i)),new o(n,a,!0)))}}).call(this,n(7).Buffer)},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(t,e,n){(function(e){var r=n(10),i=new(n(125)),o=new r(24),s=new r(11),a=new r(10),c=new r(3),u=new r(7),l=n(124),h=n(27);function f(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new r(t),this}function d(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new r(t),this}t.exports=m;var p={};function m(t,e,n){this.setGenerator(e),this.__prime=new r(t),this._prime=r.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function b(t,n){var r=new e(t.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in p)return p[r];var h,f=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!i.test(t))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(i.test(t.shrn(1))||(f+=2),n){case"02":t.mod(o).cmp(s)&&(f+=8);break;case"05":(h=t.mod(a)).cmp(c)&&h.cmp(u)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var n=(t=(t=new r(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(n.toArray()),o=this.getPrime();if(i.length<o.length){var s=new e(o.length-i.length);s.fill(0),i=e.concat([s,i])}return i},m.prototype.getPublicKey=function(t){return b(this._pub,t)},m.prototype.getPrivateKey=function(t){return b(this._priv,t)},m.prototype.getPrime=function(t){return b(this.__prime,t)},m.prototype.getGenerator=function(t){return b(this._gen,t)},m.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new r(t),this}}).call(this,n(7).Buffer)},function(t,e,n){var r=n(4).Buffer,i=n(39),o=n(300),s=n(2),a=n(308),c=n(337),u=n(111);function l(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new l(t)}function d(t){return new h(t)}Object.keys(u).forEach((function(t){u[t].id=r.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),s(l,o.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=r.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=a(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},s(h,o.Writable),h.prototype._write=function(t,e,n){this._hash.update(t),n()},h.prototype.update=function(t,e){return"string"==typeof t&&(t=r.from(t,e)),this._hash.update(t),this},h.prototype.verify=function(t,e,n){"string"==typeof e&&(e=r.from(e,n)),this.end();var i=this._hash.digest();return c(e,i,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},function(t,e,n){(e=t.exports=n(126)).Stream=e,e.Readable=e,e.Writable=n(130),e.Duplex=n(32),e.Transform=n(131),e.PassThrough=n(306),e.finished=n(72),e.pipeline=n(307)},function(t,e){},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(7).Buffer,a=n(303).inspect,c=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,u;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:c,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&o(e.prototype,n),u&&o(e,u),t}()},function(t,e){},function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(72),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[s];if(null!==e){var n=t[f].read();null!==n&&(t[l]=null,t[s]=null,t[a]=null,e(d(n,!1)))}}function m(t){e.nextTick(p,t)}var b=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(n,r){e.nextTick((function(){t[c]?r(t[c]):n(d(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[u]?n(d(void 0,!0)):e[h](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[f].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),b);t.exports=function(t){var e,n=Object.create(g,(i(e={},f,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var r=n[f].read();r?(n[l]=null,n[s]=null,n[a]=null,t(d(r,!1))):(n[s]=t,n[a]=e)},writable:!0}),e));return n[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[a];return null!==e&&(n[l]=null,n[s]=null,n[a]=null,e(t)),void(n[c]=t)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[u]=!0})),t.on("readable",m.bind(null,n)),n}}).call(this,n(6))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(131);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(2)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(31).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(72)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return c(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return e.reduce(l)}},function(t,e,n){var r=n(4).Buffer,i=n(109),o=n(73),s=n(74).ec,a=n(137),c=n(52),u=n(143);function l(t,e,n,o){if((t=r.from(t.toArray())).length<e.byteLength()){var s=r.alloc(e.byteLength()-t.length);t=r.concat([s,t])}var a=n.length,c=function(t,e){t=(t=h(t,e)).mod(e);var n=r.from(t.toArray());if(n.length<e.byteLength()){var i=r.alloc(e.byteLength()-n.length);n=r.concat([i,n])}return n}(n,e),u=r.alloc(a);u.fill(1);var l=r.alloc(a);return l=i(o,l).update(u).update(r.from([0])).update(t).update(c).digest(),u=i(o,l).update(u).digest(),{k:l=i(o,l).update(u).update(r.from([1])).update(t).update(c).digest(),v:u=i(o,l).update(u).digest()}}function h(t,e){var n=new a(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function f(t,e,n){var o,s;do{for(o=r.alloc(0);8*o.length<t.bitLength();)e.v=i(n,e.k).update(e.v).digest(),o=r.concat([o,e.v]);s=h(o,t),e.k=i(n,e.k).update(e.v).update(r.from([0])).digest(),e.v=i(n,e.k).update(e.v).digest()}while(-1!==s.cmp(t));return s}function d(t,e,n,r){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,e,n,i,p){var m=c(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var n=u[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var i=new s(n).keyFromPrivate(e.privateKey).sign(t);return r.from(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,n){var i,o=e.params.priv_key,s=e.params.p,c=e.params.q,u=e.params.g,p=new a(0),m=h(t,c).mod(c),b=!1,g=l(o,c,t,n);for(;!1===b;)i=f(c,g,n),p=d(u,i,s,c),0===(b=i.invm(c).imul(m.add(o.mul(p))).mod(c)).cmpn(0)&&(b=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),r.from(n)}(p,b)}(t,m,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=r.concat([p,t]);for(var b=m.modulus.byteLength(),g=[0,1];t.length+g.length+1<b;)g.push(255);g.push(0);for(var v=-1;++v<t.length;)g.push(t[v]);return o(g,m)},t.exports.getKey=l,t.exports.makeKey=f},function(t){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.3","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(t,e,n){"use strict";var r=n(13),i=n(10),o=n(2),s=n(51),a=r.assert;function c(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,r){s.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){s.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,n,r,o,s,a,c,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new i(1),m=new i(0),b=new i(0),g=new i(1),v=0;0!==f.cmpn(0);){var y=d.div(f);u=d.sub(y.mul(f)),l=b.sub(y.mul(p));var w=g.sub(y.mul(m));if(!r&&u.cmp(h)<0)e=c.neg(),n=p,r=u.neg(),o=l;else if(r&&2==++v)break;c=u,d=f,f=u,b=p,p=l,g=m,m=w}s=u.neg(),a=l;var _=r.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=e,a=n),r.negative&&(r=r.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:r,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:t.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*o]=a,r[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,s.BasePoint),c.prototype.point=function(t,e,n){return new u(this,t,e,n)},c.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),c.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=r.redMul(u),f=c.redSqr().redIAdd(l).redISub(h).redISub(h),d=c.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=n.redMul(c),h=a.redSqr().redIAdd(u).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(n=0;n<t;n++){var l=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),b=p.redISub(m),g=d.redMul(b);g=g.redIAdd(g).redISub(f);var v=u.redMul(a);n+1<t&&(c=c.redMul(f)),o=m,a=v,u=g}return this.curve.jpoint(o,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),b=f.redIAdd(f);b=(b=b.redIAdd(b)).redIAdd(b),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(b),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);t=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),e=d.redMul(p.redISub(t)).redISub(b)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var r=n(10),i=n(2),o=n(51),s=n(13);function a(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new c(this,t,e)},a.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),s=i.redMul(r),a=e.z.redMul(o.redAdd(s).redSqr()),c=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var r=n(13),i=n(10),o=n(2),s=n(51),a=r.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,r,o){s.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=r.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(e&&!c||!e&&c)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=r.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},c.prototype.point=function(t,e,n,r){return new u(this,t,e,n,r)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),s=o.redSub(n),a=r.redSub(e),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),h=s.redMul(o);return this.curve.point(c,u,h,l)},u.prototype._projDbl=function(){var t,e,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=r.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(u.redSub(o)),n=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),c=s.redSub(a).redISub(a);t=r.redSub(i).redISub(o).redMul(c),e=s.redMul(u.redSub(o)),n=s.redMul(c)}}else{var u=i.redAdd(o);a=this.curve._mulC(this.z).redSqr(),c=u.redSub(a).redSub(a);t=this.curve._mulC(r.redISub(u)).redMul(c),e=this.curve._mulC(u).redMul(i.redISub(o)),n=u.redMul(c)}return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),s=i.redSub(r),a=i.redAdd(r),c=n.redAdd(e),u=o.redMul(s),l=a.redMul(c),h=o.redMul(c),f=s.redMul(a);return this.curve.point(u,l,f,h)},u.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=r.redMul(c).redMul(l);return this.curve.twisted?(e=r.redMul(u).redMul(s.redSub(this.curve._mulA(o))),n=c.redMul(u)):(e=r.redMul(u).redMul(s.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(h,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(t,e,n){"use strict";e.sha1=n(314),e.sha224=n(315),e.sha256=n(135),e.sha384=n(316),e.sha512=n(136)},function(t,e,n){"use strict";var r=n(17),i=n(41),o=n(134),s=r.rotl32,a=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=c(s(i,5),u(p,o,l,f),d,n[r],h[p]);d=f,f=l,l=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(17),i=n(135);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(17),i=n(136);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(17),i=n(41),o=r.rotl32,s=r.sum32,a=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(l,u),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=n,y=r,w=i,_=u,x=l,O=0;O<80;O++){var E=s(o(c(n,h(O,r,i,u),t[p[O]+e],f(O)),b[O]),l);n=l,l=u,u=o(i,10),i=r,r=E,E=s(o(c(v,h(79-O,y,w,_),t[m[O]+e],d(O)),g[O]),x),v=x,x=_,_=o(w,10),w=y,y=E}E=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,x),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],n,y),this.h[4]=a(this.h[0],r,w),this.h[0]=E},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(17),i=n(12);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var r=n(10),i=n(321),o=n(13),s=n(75),a=n(71),c=o.assert,u=n(322),l=n(323);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(c(s.hasOwnProperty(t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new u(this,t)},h.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var s=new r(e.generate(n));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},h.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),c=t.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new r(1)),f=0;;f++){var d=o.k?o.k(f):new r(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),b=m.umod(this.n);if(0!==b.cmpn(0)){var g=d.invm(this.n).mul(b.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(b)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new l({r:b,s:g,recoveryParam:v})}}}}}},h.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new l(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(t).umod(this.n),h=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,n.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,n.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(t,e,n,i){c((3&n)===n,"The recovery param is more than two bits"),e=new l(e,i);var o=this.n,s=new r(t),a=e.r,u=e.s,h=1&n,f=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var d=e.r.invm(o),p=o.sub(s).mul(d).umod(o),m=u.mul(d).umod(o);return this.g.mulAdd(p,a,m)},h.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var r=n(76),i=n(132),o=n(12);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=s,s.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},s.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(n),this._reseed++,i.encode(s,e)}},function(t,e,n){"use strict";var r=n(10),i=n(13).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(10),i=n(13),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function c(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,s=e.place;o<r;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new a;if(48!==t[n.place++])return!1;var o=c(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var s=c(t,n);if(!1===s)return!1;var u=t.slice(n.place,s+n.place);if(n.place+=s,2!==t[n.place++])return!1;var l=c(t,n);if(!1===l)return!1;if(t.length!==l+n.place)return!1;var h=t.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new r(u),this.s=new r(h),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var o=r.concat(n),s=[48];return l(s,o.length),s=s.concat(o),i.encode(s,t)}},function(t,e,n){"use strict";var r=n(76),i=n(75),o=n(13),s=o.assert,a=o.parseBytes,c=n(325),u=n(326);function l(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),s=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),c=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(t,e,n){t=a(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return o.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var r=n(13),i=r.assert,o=r.parseBytes,s=r.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},a.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=a},function(t,e,n){"use strict";var r=n(10),i=n(13),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},function(t,e){},function(t,e,n){"use strict";var r=n(138);e.certificate=n(334);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=s;var a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=l,e.DSAparam=r.define("DSAparam",(function(){this.int()}));var h=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=h;var f=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(t,e,n){"use strict";const r=n(139),i=n(141),o=n(2);function s(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new s(t,e)},s.prototype._createNamed=function(t){const e=this.name;function n(t){this._initNamed(t,e)}return o(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},s.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},s.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},s.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r[t])),this.encoders[t]},s.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(t,e,n){"use strict";const r=n(2),i=n(140);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){const n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"];for(let t=0;t<n.length;t+=64)r.push(n.slice(t,t+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";const r=n(2),i=n(21).Buffer,o=n(142);function s(t){o.call(this,t),this.enc="pem"}r(s,o),t.exports=s,s.prototype.decode=function(t,e){const n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let t=0;t<n.length;t++){const e=n[t].match(s);if(null!==e&&e[2]===r){if(-1!==a){if("END"!==e[1])break;c=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+r);const u=n.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(u,"base64");return o.prototype.decode.call(this,l,e)}},function(t,e,n){"use strict";const r=e;r.Reporter=n(78).Reporter,r.DecoderBuffer=n(42).DecoderBuffer,r.EncoderBuffer=n(42).EncoderBuffer,r.Node=n(77)},function(t,e,n){"use strict";const r=e;r._reverse=function(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const r=t[n];e[r]=n})),e},r.der=n(79)},function(t,e,n){"use strict";var r=n(138),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(c)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),h=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));t.exports=p},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=n(50),a=n(69),c=n(4).Buffer;t.exports=function(t,e){var n,u=t.toString(),l=u.match(r);if(l){var h="aes"+l[1],f=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=s(e,f.slice(0,8),parseInt(l[1],10)).key,m=[],b=a.createDecipheriv(h,p,f);m.push(b.update(d)),m.push(b.final()),n=c.concat(m)}else{var g=u.match(o);n=c.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},function(t,e,n){var r=n(4).Buffer,i=n(137),o=n(74).ec,s=n(52),a=n(143);function c(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,n,u,l){var h=s(n);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),s=n.data.subjectPrivateKey.data;return i.verify(e,t,s)}(t,e,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,o=n.data.q,a=n.data.g,u=n.data.pub_key,l=s.signature.decode(t,"der"),h=l.s,f=l.r;c(h,o),c(f,o);var d=i.mont(r),p=h.invm(o);return 0===a.toRed(d).redPow(new i(e).mul(p).mod(o)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}(t,e,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=r.concat([l,e]);for(var f=h.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=r.from(d);var b=i.mont(h.modulus);t=(t=new i(t).toRed(b)).redPow(new i(h.publicExponent)),t=r.from(t.fromRed().toArray());var g=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(g=1),m=-1;++m<f;)g|=t[m]^d[m];return 0===g}},function(t,e,n){(function(e){var r=n(74),i=n(10);t.exports=function(t){return new s(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function a(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),a(n,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(7).Buffer)},function(t,e,n){e.publicEncrypt=n(340),e.privateDecrypt=n(341),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var r=n(52),i=n(27),o=n(39),s=n(144),a=n(145),c=n(10),u=n(146),l=n(73),h=n(4).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var d,p=r(t);if(4===f)d=function(t,e){var n=t.modulus.byteLength(),r=e.length,u=o("sha1").update(h.alloc(0)).digest(),l=u.length,f=2*l;if(r>n-f-2)throw new Error("message too long");var d=h.alloc(n-r-f-2),p=n-l-1,m=i(l),b=a(h.concat([u,d,h.alloc(1,1),e],p),s(m,p)),g=a(m,s(b,l));return new c(h.concat([h.alloc(1),g,b],n))}(p,e);else if(1===f)d=function(t,e,n){var r,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");r=n?h.alloc(s-o-3,255):function(t){var e,n=h.allocUnsafe(t),r=0,o=i(2*t),s=0;for(;r<t;)s===o.length&&(o=i(2*t),s=0),(e=o[s++])&&(n[r++]=e);return n}(s-o-3);return new c(h.concat([h.from([0,n?1:2]),r,h.alloc(1),e],s))}(p,e,n);else{if(3!==f)throw new Error("unknown padding");if((d=new c(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(d,p):u(d,p)}},function(t,e,n){var r=n(52),i=n(144),o=n(145),s=n(10),a=n(73),c=n(39),u=n(146),l=n(4).Buffer;t.exports=function(t,e,n){var h;h=t.padding?t.padding:n?1:4;var f,d=r(t),p=d.modulus.byteLength();if(e.length>p||new s(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=n?u(new s(e),d):a(e,d);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===h)return function(t,e){var n=t.modulus.byteLength(),r=c("sha1").update(l.alloc(0)).digest(),s=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),u=e.slice(s+1),h=o(a,i(u,s)),f=o(u,i(h,n-s-1));if(function(t,e){t=l.from(t),e=l.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,f.slice(0,s)))throw new Error("decryption error");var d=s;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(t,e,n){var r=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,f,n);if(3===h)return f;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(4),s=n(27),a=o.Buffer,c=o.kMaxLength,u=t.crypto||t.msCrypto,l=Math.pow(2,32)-1;function h(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function f(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>c)throw new RangeError("buffer too small")}function d(t,e,n,i){if(r.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return u.getRandomValues(a),i?void r.nextTick((function(){i(null,t)})):t}if(!i)return s(n).copy(t,e),t;s(n,(function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!r.browser?(e.randomFill=function(e,n,r,i){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(n,e.length),f(r,n,e.length),d(e,n,r,i)},e.randomFillSync=function(e,n,r){void 0===n&&(n=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(n,e.length),void 0===r&&(r=e.length-n);return f(r,n,e.length),d(e,n,r)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,n(8),n(6))},function(t,e,n){var r=n(60).unescape,i=/^([^=\s]+)\s*=\s*("?)\s*(.*)\s*\2\s*$/,o=/[\x00-\x1F\x7F\x3B\x3B\s\"\,\\"%]/g;function s(t){return t.toString().replace(o,encodeURIComponent)}e.read=function(t){return t?(t=Array.isArray(t)?t:[t]).reduce((function(t,e){var n=function(t){t=function(t){var e=t.indexOf(";");return-1===e?t:t.substr(0,e)}(t=function(t){return t.trim().replace(/\x3B+$/,"")}(t));var e=i.exec(t);return e&&e[3]?{name:r(e[1]),value:r(e[3])}:null}(e);return n&&(t[n.name]=n.value),t}),{}):{}},e.write=function(t){return Object.keys(t).reduce((function(e,n){return e+=(e?"; ":"")+s(n)+"="+s(t[n])}),"")}},function(t,e,n){(function(e){var r=n(26).Transform,i=n(345);var o={};function s(t,n,i){var s=function(t,n){return{fn:function(){var t=[],i=new r({objectMode:!0});return i._transform=function(e,n,r){t.push(e),r()},i._flush=function(r){var i=this,o=e.concat(t);try{n(o,(function(t,e){if(t)throw t;i.push(e)}))}catch(t){i.push(o)}finally{r()}},i},name:t}}(t,i);n.forEach((function(t){o[t]=s}))}s("json",["application/json","text/javascript"],(function(t,e){var n,r;try{r=JSON.parse(t)}catch(t){n=t}e(n,r)})),s("xml",["text/xml","application/xml","application/rdf+xml","application/rss+xml","application/atom+xml"],(function(t,e){!function(t,e){var n,r,o=i.parser(!0,{trim:!0,lowercase:!0});o.onerror=o.onend=function(t){o.onerror=o.onend=function(){},e(t,n)},o.oncdata=o.ontext=function(t){r&&(r.value+=t)},o.onopentag=function(t){var e=function(t,e){return{name:t||"",value:"",attributes:e||{},children:[]}}(t.name,t.attributes);r?(e.parent=r,r.children.push(e)):n=e,r=e},o.onclosetag=function(){if(void 0!==r.parent){var t=r;r=r.parent,delete t.parent}},o.write(t).close()}(t.toString(),(function(t,n){e(t,n)}))})),t.exports=o,t.exports.use=s}).call(this,n(7).Buffer)},function(t,e,n){(function(t){!function(e){e.parser=function(t,e){return new o(t,e)},e.SAXParser=o,e.SAXStream=a,e.createStream=function(t,e){return new a(t,e)},e.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);!function(t){for(var e=0,n=i.length;e<n;e++)t[i[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(u)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),E(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){A(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return T(this,"Cannot write after close. Assign an onready handler.");if(null===t)return A(this);"object"==typeof t&&(t=t.toString());var n=0,r="";for(;r=B(t,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===r)continue;D(this,r);continue;case x.BEGIN_WHITESPACE:D(this,r);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=B(t,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(p(r)||this.sawRoot&&!this.closedRoot||k(this,"Text data outside of root node."),"&"===r?this.state=x.TEXT_ENTITY:this.textNode+=r):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===r?this.state=x.SCRIPT_ENDING:this.script+=r;continue;case x.SCRIPT_ENDING:"/"===r?this.state=x.CLOSE_TAG:(this.script+="<"+r,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===r)this.state=x.SGML_DECL,this.sgmlDecl="";else if(p(r));else if(g(l,r))this.state=x.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=x.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=x.PROC_INST,this.procInstName=this.procInstBody="";else{if(k(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;r=new Array(s).join(" ")+r}this.textNode+="<"+r,this.state=x.TEXT}continue;case x.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(S(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&k(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(S(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):m(r)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case x.SGML_DECL_QUOTED:r===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case x.DOCTYPE:">"===r?(this.state=x.TEXT,S(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=x.DOCTYPE_DTD:m(r)&&(this.state=x.DOCTYPE_QUOTED,this.q=r));continue;case x.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=x.DOCTYPE:m(r)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=r);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===r?this.state=x.COMMENT_ENDING:this.comment+=r;continue;case x.COMMENT_ENDING:"-"===r?(this.state=x.COMMENT_ENDED,this.comment=M(this.opt,this.comment),this.comment&&S(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==r?(k(this,"Malformed comment"),this.comment+="--"+r,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===r?this.state=x.CDATA_ENDING:this.cdata+=r;continue;case x.CDATA_ENDING:"]"===r?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===r?(this.cdata&&S(this,"oncdata",this.cdata),S(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=x.CDATA);continue;case x.PROC_INST:"?"===r?this.state=x.PROC_INST_ENDING:p(r)?this.state=x.PROC_INST_BODY:this.procInstName+=r;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&p(r))continue;"?"===r?this.state=x.PROC_INST_ENDING:this.procInstBody+=r;continue;case x.PROC_INST_ENDING:">"===r?(S(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+r,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:g(h,r)?this.tagName+=r:(I(this),">"===r?P(this):"/"===r?this.state=x.OPEN_TAG_SLASH:(p(r)||k(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===r?(P(this,!0),L(this)):(k(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(p(r))continue;">"===r?P(this):"/"===r?this.state=x.OPEN_TAG_SLASH:g(l,r)?(this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===r?this.state=x.ATTRIB_VALUE:">"===r?(k(this,"Attribute without value"),this.attribValue=this.attribName,R(this),P(this)):p(r)?this.state=x.ATTRIB_NAME_SAW_WHITE:g(h,r)?this.attribName+=r:k(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=x.ATTRIB_VALUE;else{if(p(r))continue;k(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",S(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?P(this):g(l,r)?(this.attribName=r,this.state=x.ATTRIB_NAME):(k(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(p(r))continue;m(r)?(this.q=r,this.state=x.ATTRIB_VALUE_QUOTED):(k(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case x.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}R(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:p(r)?this.state=x.ATTRIB:">"===r?P(this):"/"===r?this.state=x.OPEN_TAG_SLASH:g(l,r)?(k(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!b(r)){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}R(this),">"===r?P(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===r?L(this):g(h,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(p(r)||k(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(p(r))continue;v(l,r)?this.script?(this.script+="</"+r,this.state=x.SCRIPT):k(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case x.CLOSE_TAG_SAW_WHITE:if(p(r))continue;">"===r?L(this):k(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var a,c;switch(this.state){case x.TEXT_ENTITY:a=x.TEXT,c="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:a=x.ATTRIB_VALUE_QUOTED,c="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:a=x.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(this[c]+=N(this),this.entity="",this.state=a):g(this.entity.length?d:f,r)?this.entity+=r:(k(this,"Invalid character in entity name"),this[c]+="&"+this.entity+r,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0,o=0,s=i.length;o<s;o++){var a=t[i[o]].length;if(a>n)switch(i[o]){case"textNode":j(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+i[o])}r=Math.max(r,a)}var c=e.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=c+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;j(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{r=n(26).Stream}catch(t){r=function(){}}var s=e.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function a(t,e){if(!(this instanceof a))return new a(t,e);r.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(r.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var r=n(20).StringDecoder;this._decoder=new r("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),r.prototype.on.call(n,t,e)};var c="http://www.w3.org/XML/1998/namespace",u={xml:c,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function b(t){return">"===t||p(t)}function g(t,e){return t.test(e)}function v(t,e){return!g(t,e)}var y,w,_,x=0;for(var O in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[O]]=O;function E(t,e,n){t[e]&&t[e](n)}function S(t,e,n){t.textNode&&j(t),E(t,e,n)}function j(t){t.textNode=M(t.opt,t.textNode),t.textNode&&E(t,"ontext",t.textNode),t.textNode=""}function M(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function T(t,e){return j(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,E(t,"onerror",e),t}function A(t){return t.sawRoot&&!t.closedRoot&&k(t,"Unclosed root tag"),t.state!==x.BEGIN&&t.state!==x.BEGIN_WHITESPACE&&t.state!==x.TEXT&&T(t,"Unexpected end"),j(t),t.c="",t.closed=!0,E(t,"onend"),o.call(t,t.strict,t.opt),t}function k(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&T(t,e)}function I(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",n)}function C(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function R(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=C(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==c)k(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)k(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function P(t,e){if(t.opt.xmlns){var n=t.tag,r=C(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(k(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){S(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],c=a[0],u=a[1],l=C(c,!0),h=l.prefix,f=l.local,d=""===h?"":n.ns[h]||"",p={name:c,value:u,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(k(t,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),t.tag.attributes[c]=p,S(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),S(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=x.TEXT:t.state=x.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function L(t){if(!t.tagName)return k(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=x.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=x.SCRIPT);S(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;k(t,"Unexpected close tag")}if(e<0)return k(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=x.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,S(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];S(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=x.TEXT}function N(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(k(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function D(t,e){"<"===e?(t.state=x.OPEN_WAKA,t.startTagPosition=t.position):p(e)||(k(t,"Non-whitespace before first tag."),t.textNode=e,t.state=x.TEXT)}function B(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}x=e.STATE,String.fromCodePoint||(y=String.fromCharCode,w=Math.floor,_=function(){var t,e,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||a<0||a>1114111||w(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,r.push(t,e)),(i+1===o||r.length>n)&&(s+=y.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_)}(e)}).call(this,n(7).Buffer)},function(t,e,n){var r,i=n(53).inherits,o=n(26),s=/(?:charset|encoding)\s*=\s*['"]? *([\w\-]+)/i;function a(t){if(!(this instanceof a))return new a(t);o.Transform.call(this,t),this.charset=t,this.parsed_chunk=!1}i(a,o.Transform),a.prototype._transform=function(t,e,n){var i,o;if("utf8"==this.charset&&!this.parsed_chunk){this.parsed_chunk=!0;var a=s.exec(t.toString());a&&(o=a[1].toLowerCase(),this.charset="utf-8"==o?"utf8":o)}try{i=r.decode(t,this.charset)}catch(e){i=t}this.push(i),n()},t.exports=function(t){try{r||(r=n(349))}catch(t){}return r?new a(t):new o.PassThrough}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(e){var r=n(21).Buffer,i=n(350),o=t.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(t,e,n){t=""+(t||"");var i=o.getEncoder(e,n),s=i.write(t),a=i.end();return a&&a.length>0?r.concat([s,a]):s},o.decode=function(t,e,n){"string"==typeof t&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),t=r.from(""+(t||""),"binary"));var i=o.getDecoder(e,n),s=i.write(t),a=i.end();return a?s+a:s},o.encodingExists=function(t){try{return o.getCodec(t),!0}catch(t){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(t){o.encodings||(o.encodings=n(351));for(var e=o._canonicalizeEncoding(t),r={};;){var i=o._codecDataCache[e];if(i)return i;var s=o.encodings[e];switch(typeof s){case"string":e=s;break;case"object":for(var a in s)r[a]=s[a];r.encodingName||(r.encodingName=e),e=s.type;break;case"function":return r.encodingName||(r.encodingName=e),i=new s(r,o),o._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+t+"' (searched as: '"+e+"')")}}},o._canonicalizeEncoding=function(t){return(""+t).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(t,e){var n=o.getCodec(t),r=new n.encoder(e,n);return n.bomAware&&e&&e.addBOM&&(r=new i.PrependBOM(r,e)),r},o.getDecoder=function(t,e){var n=o.getCodec(t),r=new n.decoder(e,n);return!n.bomAware||e&&!1===e.stripBOM||(r=new i.StripBOM(r,e)),r};var s=void 0!==e&&e.versions&&e.versions.node;if(s){var a=s.split(".").map(Number);(a[0]>0||a[1]>=10)&&n(365)(o),n(366)(o)}}).call(this,n(6))},function(t,e,n){"use strict";function r(t,e){this.encoder=t,this.addBOM=!0}function i(t,e){this.decoder=t,this.pass=!1,this.options=e||{}}e.PrependBOM=r,r.prototype.write=function(t){return this.addBOM&&(t="\ufeff"+t,this.addBOM=!1),this.encoder.write(t)},r.prototype.end=function(){return this.encoder.end()},e.StripBOM=i,i.prototype.write=function(t){var e=this.decoder.write(t);return this.pass||!e||("\ufeff"===e[0]&&(e=e.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),e},i.prototype.end=function(){return this.decoder.end()}},function(t,e,n){"use strict";for(var r=[n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359)],i=0;i<r.length;i++){t=r[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}},function(t,e,n){"use strict";var r=n(21).Buffer;function i(t,e){this.enc=t.encodingName,this.bomAware=t.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=u,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=l,this.defaultCharUnicode=e.defaultCharUnicode))}t.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(20).StringDecoder;function s(t,e){o.call(this,e.enc)}function a(t,e){this.enc=e.enc}function c(t,e){this.prevStr=""}function u(t,e){}function l(t,e){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=e.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype=o.prototype,a.prototype.write=function(t){return r.from(t,this.enc)},a.prototype.end=function(){},c.prototype.write=function(t){var e=(t=this.prevStr+t).length-t.length%4;return this.prevStr=t.slice(e),t=t.slice(0,e),r.from(t,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},u.prototype.write=function(t){for(var e=r.alloc(3*t.length),n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=192+(o>>>6),e[n++]=128+(63&o)):(e[n++]=224+(o>>>12),e[n++]=128+(o>>>6&63),e[n++]=128+(63&o))}return e.slice(0,n)},u.prototype.end=function(){},l.prototype.write=function(t){for(var e=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<t.length;o++){var s=t[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(e=31&s,n=1,r=1):s<240?(e=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(e=e<<6|63&s,r++,0===--n&&(i+=2===r&&e<128&&e>0||3===r&&e<2048?this.defaultCharUnicode:String.fromCharCode(e))):i+=this.defaultCharUnicode}return this.acc=e,this.contBytes=n,this.accBytes=r,i},l.prototype.end=function(){var t=0;return this.contBytes>0&&(t+=this.defaultCharUnicode),t}},function(t,e,n){"use strict";var r=n(21).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(t,e){this.iconv=e}function c(t,e){void 0===(t=t||{}).addBOM&&(t.addBOM=!0),this.encoder=e.iconv.getEncoder("utf-16le",t)}function u(t,e){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=t||{},this.iconv=e.iconv}function l(t,e){var n=e||"utf-16le";if(t.length>=2)if(254==t[0]&&255==t[1])n="utf-16be";else if(255==t[0]&&254==t[1])n="utf-16le";else{for(var r=0,i=0,o=Math.min(t.length-t.length%2,64),s=0;s<o;s+=2)0===t[s]&&0!==t[s+1]&&i++,0!==t[s]&&0===t[s+1]&&r++;i>r?n="utf-16be":i<r&&(n="utf-16le")}return n}e.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(t){for(var e=r.from(t,"ucs2"),n=0;n<e.length;n+=2){var i=e[n];e[n]=e[n+1],e[n+1]=i}return e},o.prototype.end=function(){},s.prototype.write=function(t){if(0==t.length)return"";var e=r.alloc(t.length+1),n=0,i=0;for(-1!==this.overflowByte&&(e[0]=t[0],e[1]=this.overflowByte,n=1,i=2);n<t.length-1;n+=2,i+=2)e[i]=t[n+1],e[i+1]=t[n];return this.overflowByte=n==t.length-1?t[t.length-1]:-1,e.slice(0,i).toString("ucs2")},s.prototype.end=function(){},e.utf16=a,a.prototype.encoder=c,a.prototype.decoder=u,c.prototype.write=function(t){return this.encoder.write(t)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(t){if(!this.decoder){if(this.initialBytes.push(t),this.initialBytesLen+=t.length,this.initialBytesLen<16)return"";var e=l(t=r.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(t)},u.prototype.end=function(){if(!this.decoder){var t=r.concat(this.initialBytes),e=l(t,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);var n=this.decoder.write(t),i=this.decoder.end();return i?n+i:n}return this.decoder.end()}},function(t,e,n){"use strict";var r=n(21).Buffer;function i(t,e){this.iconv=e}e.utf7=i,e.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(t,e){this.iconv=e.iconv}function a(t,e){this.iconv=e.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(t){return r.from(t.replace(o,function(t){return"+"+("+"===t?"":this.iconv.encode(t,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,u=[],l=0;l<256;l++)u[l]=c.test(String.fromCharCode(l));var h="+".charCodeAt(0),f="-".charCodeAt(0),d="&".charCodeAt(0);function p(t,e){this.iconv=e}function m(t,e){this.iconv=e.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function b(t,e){this.iconv=e.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(t){for(var e="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<t.length;s++)if(i){if(!u[t[s]]){if(s==n&&t[s]==f)e+="+";else{var a=o+t.slice(n,s).toString();e+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}t[s]!=f&&s--,n=s+1,i=!1,o=""}}else t[s]==h&&(e+=this.iconv.decode(t.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+t.slice(n).toString()).length-a.length%8;o=a.slice(c),a=a.slice(0,c),e+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else e+=this.iconv.decode(t.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,e},a.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t},e.utf7imap=p,p.prototype.encoder=m,p.prototype.decoder=b,p.prototype.bomAware=!0,m.prototype.write=function(t){for(var e=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*t.length+10),s=0,a=0;a<t.length;a++){var c=t.charCodeAt(a);32<=c&&c<=126?(e&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=f,e=!1),e||(o[s++]=c,c===d&&(o[s++]=f))):(e||(o[s++]=d,e=!0),e&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=e,this.base64AccumIdx=i,o.slice(0,s)},m.prototype.end=function(){var t=r.alloc(10),e=0;return this.inBase64&&(this.base64AccumIdx>0&&(e+=t.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),e),this.base64AccumIdx=0),t[e++]=f,this.inBase64=!1),t.slice(0,e)};var g=u.slice();g[",".charCodeAt(0)]=!0,b.prototype.write=function(t){for(var e="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<t.length;s++)if(i){if(!g[t[s]]){if(s==n&&t[s]==f)e+="&";else{var a=o+t.slice(n,s).toString().replace(/,/g,"/");e+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}t[s]!=f&&s--,n=s+1,i=!1,o=""}}else t[s]==d&&(e+=this.iconv.decode(t.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+t.slice(n).toString().replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),e+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else e+=this.iconv.decode(t.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,e},b.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t}},function(t,e,n){"use strict";var r=n(21).Buffer;function i(t,e){if(!t)throw new Error("SBCS codec is called without the data.");if(!t.chars||128!==t.chars.length&&256!==t.chars.length)throw new Error("Encoding '"+t.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===t.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);t.chars=n+t.chars}this.decodeBuf=r.from(t.chars,"ucs2");var o=r.alloc(65536,e.defaultCharSingleByte.charCodeAt(0));for(i=0;i<t.chars.length;i++)o[t.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(t,e){this.encodeBuf=e.encodeBuf}function s(t,e){this.decodeBuf=e.decodeBuf}e._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(t){for(var e=r.alloc(t.length),n=0;n<t.length;n++)e[n]=this.encodeBuf[t.charCodeAt(n)];return e},o.prototype.end=function(){},s.prototype.write=function(t){for(var e=this.decodeBuf,n=r.alloc(2*t.length),i=0,o=0,s=0;s<t.length;s++)i=2*t[s],n[o=2*s]=e[i],n[o+1]=e[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},function(t,e,n){"use strict";t.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(t,e,n){"use strict";t.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(t,e,n){"use strict";var r=n(21).Buffer;e._dbcs=s;for(var i=new Array(256),o=0;o<256;o++)i[o]=-1;function s(t,e){if(this.encodingName=t.encodingName,!t)throw new Error("DBCS codec is called without the data.");if(!t.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=t.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);this.defaultCharUnicode=e.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var o={};if(t.encodeSkipVals)for(r=0;r<t.encodeSkipVals.length;r++){var s=t.encodeSkipVals[r];if("number"==typeof s)o[s]=!0;else for(var a=s.from;a<=s.to;a++)o[a]=!0}if(this._fillEncodeTable(0,0,o),t.encodeAdd)for(var c in t.encodeAdd)Object.prototype.hasOwnProperty.call(t.encodeAdd,c)&&this._setEncodeChar(c.charCodeAt(0),t.encodeAdd[c]);if(this.defCharSB=this.encodeTable[0][e.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof t.gb18030){this.gb18030=t.gb18030();var u=this.decodeTables.length,l=this.decodeTables[u]=i.slice(0),h=this.decodeTables.length,f=this.decodeTables[h]=i.slice(0);for(r=129;r<=254;r++){var d=-1e3-this.decodeTables[0][r],p=this.decodeTables[d];for(a=48;a<=57;a++)p[a]=-1e3-u}for(r=129;r<=254;r++)l[r]=-1e3-h;for(r=48;r<=57;r++)f[r]=-2}}function a(t,e){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=e.encodeTable,this.encodeTableSeq=e.encodeTableSeq,this.defaultCharSingleByte=e.defCharSB,this.gb18030=e.gb18030}function c(t,e){this.nodeIdx=0,this.prevBuf=r.alloc(0),this.decodeTables=e.decodeTables,this.decodeTableSeq=e.decodeTableSeq,this.defaultCharUnicode=e.defaultCharUnicode,this.gb18030=e.gb18030}function u(t,e){if(t[0]>e)return-1;for(var n=0,r=t.length;n<r-1;){var i=n+Math.floor((r-n+1)/2);t[i]<=e?n=i:r=i}return n}s.prototype.encoder=a,s.prototype.decoder=c,s.prototype._getDecodeTrieNode=function(t){for(var e=[];t>0;t>>=8)e.push(255&t);0==e.length&&e.push(0);for(var n=this.decodeTables[0],r=e.length-1;r>0;r--){var o=n[e[r]];if(-1==o)n[e[r]]=-1e3-this.decodeTables.length,this.decodeTables.push(n=i.slice(0));else{if(!(o<=-1e3))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+t.toString(16));n=this.decodeTables[-1e3-o]}}return n},s.prototype._addDecodeChunk=function(t){var e=parseInt(t[0],16),n=this._getDecodeTrieNode(e);e&=255;for(var r=1;r<t.length;r++){var i=t[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(!(56320<=a&&a<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+t[0]);n[e++]=65536+1024*(s-55296)+(a-56320)}else if(4080<s&&s<=4095){for(var c=4095-s+2,u=[],l=0;l<c;l++)u.push(i.charCodeAt(o++));n[e++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(u)}else n[e++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+t[0]);var h=n[e-1]+1;for(o=0;o<i;o++)n[e++]=h++}}if(e>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+t[0]+": too long"+e)},s.prototype._getEncodeBucket=function(t){var e=t>>8;return void 0===this.encodeTable[e]&&(this.encodeTable[e]=i.slice(0)),this.encodeTable[e]},s.prototype._setEncodeChar=function(t,e){var n=this._getEncodeBucket(t),r=255&t;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=e:-1==n[r]&&(n[r]=e)},s.prototype._setEncodeSequence=function(t,e){var n,r=t[0],i=this._getEncodeBucket(r),o=255&r;i[o]<=-10?n=this.encodeTableSeq[-10-i[o]]:(n={},-1!==i[o]&&(n[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var s=1;s<t.length-1;s++){var a=n[r];"object"==typeof a?n=a:(n=n[r]={},void 0!==a&&(n[-1]=a))}n[r=t[t.length-1]]=e},s.prototype._fillEncodeTable=function(t,e,n){for(var r=this.decodeTables[t],i=0;i<256;i++){var o=r[i],s=e+i;n[s]||(o>=0?this._setEncodeChar(o,s):o<=-1e3?this._fillEncodeTable(-1e3-o,s<<8,n):o<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-o],s))}},a.prototype.write=function(t){for(var e=r.alloc(t.length*(this.gb18030?4:3)),n=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==t.length)break;var c=t.charCodeAt(s++)}else{c=o;o=-1}if(55296<=c&&c<57344)if(c<56320){if(-1===n){n=c;continue}n=c,c=-1}else-1!==n?(c=65536+1024*(n-55296)+(c-56320),n=-1):c=-1;else-1!==n&&(o=c,c=-1,n=-1);var l=-1;if(void 0!==i&&-1!=c){var h=i[c];if("object"==typeof h){i=h;continue}"number"==typeof h?l=h:null==h&&void 0!==(h=i[-1])&&(l=h,o=c),i=void 0}else if(c>=0){var f=this.encodeTable[c>>8];if(void 0!==f&&(l=f[255&c]),l<=-10){i=this.encodeTableSeq[-10-l];continue}if(-1==l&&this.gb18030){var d=u(this.gb18030.uChars,c);if(-1!=d){l=this.gb18030.gbChars[d]+(c-this.gb18030.uChars[d]);e[a++]=129+Math.floor(l/12600),l%=12600,e[a++]=48+Math.floor(l/1260),l%=1260,e[a++]=129+Math.floor(l/10),l%=10,e[a++]=48+l;continue}}}-1===l&&(l=this.defaultCharSingleByte),l<256?e[a++]=l:l<65536?(e[a++]=l>>8,e[a++]=255&l):(e[a++]=l>>16,e[a++]=l>>8&255,e[a++]=255&l)}return this.seqObj=i,this.leadSurrogate=n,e.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var t=r.alloc(10),e=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?t[e++]=n:(t[e++]=n>>8,t[e++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(t[e++]=this.defaultCharSingleByte,this.leadSurrogate=-1),t.slice(0,e)}},a.prototype.findIdx=u,c.prototype.write=function(t){var e=r.alloc(2*t.length),n=this.nodeIdx,i=this.prevBuf,o=this.prevBuf.length,s=-this.prevBuf.length;o>0&&(i=r.concat([i,t.slice(0,10)]));for(var a=0,c=0;a<t.length;a++){var l,h=a>=0?t[a]:i[a+o];if((l=this.decodeTables[n][h])>=0);else if(-1===l)a=s,l=this.defaultCharUnicode.charCodeAt(0);else if(-2===l){var f=s>=0?t.slice(s,a+1):i.slice(s+o,a+1+o),d=12600*(f[0]-129)+1260*(f[1]-48)+10*(f[2]-129)+(f[3]-48),p=u(this.gb18030.gbChars,d);l=this.gb18030.uChars[p]+d-this.gb18030.gbChars[p]}else{if(l<=-1e3){n=-1e3-l;continue}if(!(l<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+l+" at "+n+"/"+h);for(var m=this.decodeTableSeq[-10-l],b=0;b<m.length-1;b++)l=m[b],e[c++]=255&l,e[c++]=l>>8;l=m[m.length-1]}if(l>65535){l-=65536;var g=55296+Math.floor(l/1024);e[c++]=255&g,e[c++]=g>>8,l=56320+l%1024}e[c++]=255&l,e[c++]=l>>8,n=0,s=a+1}return this.nodeIdx=n,this.prevBuf=s>=0?t.slice(s):i.slice(s+o),e.slice(0,c).toString("ucs2")},c.prototype.end=function(){for(var t="";this.prevBuf.length>0;){t+=this.defaultCharUnicode;var e=this.prevBuf.slice(1);this.prevBuf=r.alloc(0),this.nodeIdx=0,e.length>0&&(t+=this.write(e))}return this.nodeIdx=0,t}},function(t,e,n){"use strict";t.exports={shiftjis:{type:"_dbcs",table:function(){return n(360)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(361)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(80)}},gbk:{type:"_dbcs",table:function(){return n(80).concat(n(147))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(80).concat(n(147))},gb18030:function(){return n(362)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(363)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(148)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(148).concat(n(364))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(t){t.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(t){t.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(t){t.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(t){t.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(t){t.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"name":"needle","version":"2.5.0","description":"The leanest and most handsome HTTP client in the Nodelands.","keywords":["http","https","simple","request","client","multipart","upload","proxy","deflate","timeout","charset","iconv","cookie","redirect"],"tags":["http","https","simple","request","client","multipart","upload","proxy","deflate","timeout","charset","iconv","cookie","redirect"],"author":"Toms Pollak <tomas@forkhq.com>","repository":{"type":"git","url":"https://github.com/tomas/needle.git"},"dependencies":{"debug":"^3.2.6","iconv-lite":"^0.4.4","sax":"^1.2.4"},"devDependencies":{"JSONStream":"^1.3.5","jschardet":"^1.6.0","mocha":"^5.2.0","q":"^1.5.1","should":"^13.2.3","sinon":"^2.3.0","xml2js":"^0.4.19"},"scripts":{"test":"mocha test"},"directories":{"lib":"./lib"},"main":"./lib/needle","bin":{"needle":"./bin/needle"},"license":"MIT","engines":{"node":">= 4.4.x"}}')},function(t,e,n){"use strict";(function(t){var r=n(7).Buffer,i=n(26).Transform,o=n(369),s=n(53),a=n(149).ok,c=n(7).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(o),h=0;h<l.length;h++){var f=l[h];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var b=p[m];d[d[b]]=b}function g(t,e,n){var i=[],o=0;function s(){for(var e;null!==(e=t.read());)i.push(e),o+=e.length;t.once("readable",s)}function a(){var e,s=null;o>=c?s=new RangeError(u):e=r.concat(i,o),i=[],t.close(),n(s,e)}t.on("error",(function(e){t.removeListener("end",a),t.removeListener("readable",s),n(e)})),t.on("end",a),t.end(e),s()}function v(t,e){if("string"==typeof e&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Not a string or buffer");var n=t._finishFlushFlag;return t._processChunk(e,n)}function y(t){if(!(this instanceof y))return new y(t);M.call(this,t,o.DEFLATE)}function w(t){if(!(this instanceof w))return new w(t);M.call(this,t,o.INFLATE)}function _(t){if(!(this instanceof _))return new _(t);M.call(this,t,o.GZIP)}function x(t){if(!(this instanceof x))return new x(t);M.call(this,t,o.GUNZIP)}function O(t){if(!(this instanceof O))return new O(t);M.call(this,t,o.DEFLATERAW)}function E(t){if(!(this instanceof E))return new E(t);M.call(this,t,o.INFLATERAW)}function S(t){if(!(this instanceof S))return new S(t);M.call(this,t,o.UNZIP)}function j(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function M(t,n){var s=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,i.call(this,t),t.flush&&!j(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!j(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!r.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var a=this;this._hadError=!1,this._handle.onerror=function(t,n){T(a),a._hadError=!0;var r=new Error(t);r.errno=n,r.code=e.codes[n],a.emit("error",r)};var c=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(c=t.level);var u=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(u=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,c,t.memLevel||e.Z_DEFAULT_MEMLEVEL,u,t.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function T(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function A(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=y,e.Inflate=w,e.Gzip=_,e.Gunzip=x,e.DeflateRaw=O,e.InflateRaw=E,e.Unzip=S,e.createDeflate=function(t){return new y(t)},e.createInflate=function(t){return new w(t)},e.createDeflateRaw=function(t){return new O(t)},e.createInflateRaw=function(t){return new E(t)},e.createGzip=function(t){return new _(t)},e.createGunzip=function(t){return new x(t)},e.createUnzip=function(t){return new S(t)},e.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new y(e),t,n)},e.deflateSync=function(t,e){return v(new y(e),t)},e.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new _(e),t,n)},e.gzipSync=function(t,e){return v(new _(e),t)},e.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new O(e),t,n)},e.deflateRawSync=function(t,e){return v(new O(e),t)},e.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new S(e),t,n)},e.unzipSync=function(t,e){return v(new S(e),t)},e.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new w(e),t,n)},e.inflateSync=function(t,e){return v(new w(e),t)},e.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new x(e),t,n)},e.gunzipSync=function(t,e){return v(new x(e),t)},e.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new E(e),t,n)},e.inflateRawSync=function(t,e){return v(new E(e),t)},s.inherits(M,i),M.prototype.params=function(n,r,i){if(n<e.Z_MIN_LEVEL||n>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=e.Z_FILTERED&&r!=e.Z_HUFFMAN_ONLY&&r!=e.Z_RLE&&r!=e.Z_FIXED&&r!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var s=this;this.flush(o.Z_SYNC_FLUSH,(function(){a(s._handle,"zlib binding closed"),s._handle.params(n,r),s._hadError||(s._level=n,s._strategy=r,i&&i())}))}else t.nextTick(i)},M.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},M.prototype._flush=function(t){this._transform(r.alloc(0),"",t)},M.prototype.flush=function(e,n){var i=this,s=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),s.ended?n&&t.nextTick(n):s.ending?n&&this.once("end",n):s.needDrain?n&&this.once("drain",(function(){return i.flush(e,n)})):(this._flushFlag=e,this.write(r.alloc(0),"",n))},M.prototype.close=function(e){T(this,e),t.nextTick(A,this)},M.prototype._transform=function(t,e,n){var i,s=this._writableState,a=(s.ending||s.ended)&&(!t||s.length===t.length);return null===t||r.isBuffer(t)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,t.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},M.prototype._processChunk=function(t,e,n){var i=t&&t.length,o=this._chunkSize-this._offset,s=0,l=this,h="function"==typeof n;if(!h){var f,d=[],p=0;this.on("error",(function(t){f=t})),a(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(e,t,s,i,this._buffer,this._offset,o)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw f;if(p>=c)throw T(this),new RangeError(u);var b=r.concat(d,p);return T(this),b}a(this._handle,"zlib binding closed");var g=this._handle.write(e,t,s,i,this._buffer,this._offset,o);function v(c,u){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var f=o-u;if(a(f>=0,"have should not go down"),f>0){var m=l._buffer.slice(l._offset,l._offset+f);l._offset+=f,h?l.push(m):(d.push(m),p+=m.length)}if((0===u||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=r.allocUnsafe(l._chunkSize)),0===u){if(s+=i-c,i=c,!h)return!0;var b=l._handle.write(e,t,s,i,l._buffer,l._offset,l._chunkSize);return b.callback=v,void(b.buffer=t)}if(!h)return!1;n()}}g.buffer=t,g.callback=v},s.inherits(y,M),s.inherits(w,M),s.inherits(_,M),s.inherits(x,M),s.inherits(O,M),s.inherits(E,M),s.inherits(S,M)}).call(this,n(6))},function(t,e,n){"use strict";(function(t,r){var i=n(149),o=n(371),s=n(372),a=n(375),c=n(378);for(var u in c)e[u]=c[u];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function l(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||a.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},l.prototype.write=function(t,e,n,r,i,o,s){return this._write(!0,t,e,n,r,i,o,s)},l.prototype.writeSync=function(t,e,n,r,i,o,s){return this._write(!1,t,e,n,r,i,o,s)},l.prototype._write=function(n,o,s,a,c,u,l,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==e.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==e.Z_NO_FLUSH&&o!==e.Z_PARTIAL_FLUSH&&o!==e.Z_SYNC_FLUSH&&o!==e.Z_FULL_FLUSH&&o!==e.Z_FINISH&&o!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=t.alloc(0),c=0,a=0),this.strm.avail_in=c,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=h,this.strm.output=u,this.strm.next_out=l,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return r.nextTick((function(){f._process(),f._after()})),this},l.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},l.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},l.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(t,n,r,o,s){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(t>=8&&t<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===e.Z_FILTERED||o===e.Z_HUFFMAN_ONLY||o===e.Z_RLE||o===e.Z_FIXED||o===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,t,r,o,s),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(t,n,r,i,c){switch(this.level=t,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=s.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=l}).call(this,n(7).Buffer,n(6))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,c=s(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(c[a[h]]=n[a[h]])}}return c}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var r,i=n(54),o=n(373),s=n(150),a=n(151),c=n(374);function u(t,e){return t.msg=c[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+258,d=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=258-(f-o),o=f-258,r>s){if(t.match_start=e,s=r,r>=a)break;d=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead}function g(t){var e,n,r,o,c,u,l,h,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,h=t.strstart+t.lookahead,f=o,d=void 0,(d=u.avail_in)>f&&(d=f),n=0===d?0:(u.avail_in-=d,i.arraySet(l,u.input,u.next_in,d,h),1===u.state.wrap?u.adler=s(u.adler,l,d,h):2===u.state.wrap&&(u.adler=a(u.adler,l,d,h)),u.next_in+=d,u.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function v(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function y(t,e){for(var n,r,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):u(t,-2)}function O(t){var e,n=x(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function E(t,e,n,r,o,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||s<0||s>4)return u(t,-2);8===r&&(r=9);var c=new _;return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=s,c.method=n,O(t)}r=[new w(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,y),new w(8,16,32,32,y),new w(8,16,128,128,y),new w(8,32,128,256,y),new w(32,128,258,1024,y),new w(32,258,258,4096,y)],e.deflateInit=function(t,e){return E(t,e,8,15,8,0)},e.deflateInit2=E,e.deflateReset=O,e.deflateResetKeep=x,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,i,s,c;if(!t||!t.state||e>5||e<0)return t?u(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return u(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var b=8+(i.w_bits-8<<4)<<8;b|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(b|=32),b+=31-b%31,i.status=113,m(i,b),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return u(t,-5);if(666===i.status&&0!==t.avail_in)return u(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var v=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,s,a=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=t.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=258-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?u(t,-2):(t.state=null,113===e?u(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,o,a,c,u,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),c=t.avail_in,u=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=c,n.wrap=a,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(54);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,b,g=new Array(30);function v(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?h[t]:h[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function O(t,e,n){x(t,n[2*e],n[2*e+1])}function E(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var r,i,o=new Array(16),s=0;for(r=1;r<=15;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=E(o[a]++,a))}}function j(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){t.bi_valid>8?_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function T(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function A(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&T(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!T(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function k(t,e,n){var r,i,a,c,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===r?O(t,i,e):(O(t,(a=f[i])+256+1,e),0!==(c=o[a])&&x(t,i-=d[a],c),O(t,a=w(--r),n),0!==(c=s[a])&&x(t,r-=g[a],c))}while(u<t.last_lit);O(t,256,e)}function I(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)A(t,o,n);i=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,A(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=c[2*c[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),c[2*r+1]=o,r>u||(t.bl_count[o]++,s=0,r>=d&&(s=f[r-d]),a=c[2*r],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(t,e),S(o,u,t.bl_count)}function C(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function R(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)do{O(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(O(t,i,t.bl_tree),a--),O(t,16,t.bl_tree),x(t,a-3,2)):a<=10?(O(t,17,t.bl_tree),x(t,a-3,3)):(O(t,18,t.bl_tree),x(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}i(g);var P=!1;function L(t,e,n,i){x(t,0+(i?1:0),3),function(t,e,n,i){M(t),i&&(_(t,n),_(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){P||(!function(){var t,e,n,r,i,c=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<s[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<s[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)c[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,c[8]++;for(;t<=255;)u[2*t+1]=9,t++,c[9]++;for(;t<=279;)u[2*t+1]=7,t++,c[7]++;for(;t<=287;)u[2*t+1]=8,t++,c[8]++;for(S(u,287,c),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=E(t,5);p=new v(u,o,257,286,15),m=new v(l,s,0,30,15),b=new v(new Array(0),a,0,19,7)}(),P=!0),t.l_desc=new y(t.dyn_ltree,p),t.d_desc=new y(t.dyn_dtree,m),t.bl_desc=new y(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,j(t)},e._tr_stored_block=L,e._tr_flush_block=function(t,e,n,r){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),s=function(t){var e;for(C(t,t.dyn_ltree,t.l_desc.max_code),C(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?L(t,e,n,r):4===t.strategy||o===i?(x(t,2+(r?1:0),3),k(t,u,l)):(x(t,4+(r?1:0),3),function(t,e,n,r){var i;for(x(t,e-257,5),x(t,n-1,5),x(t,r-4,4),i=0;i<r;i++)x(t,t.bl_tree[2*c[i]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),k(t,t.dyn_ltree,t.dyn_dtree)),j(t),r&&M(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),O(t,256,u),function(t){16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var r=n(54),i=n(150),o=n(151),s=n(376),a=n(377);function c(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function f(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))):-2}function d(t,e){var n,r;return t?(r=new u,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,m,b=!0;function g(t){if(b){var e;for(p=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,m,0,t.work,{bits:5}),b=!1}t.lencode=p,t.lenbits=9,t.distcode=m,t.distbits=5}function v(t,e,n,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,e,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,e,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=h,e.inflateReset2=f,e.inflateResetKeep=l,e.inflateInit=function(t){return d(t,15)},e.inflateInit2=d,e.inflate=function(t,e){var n,u,l,h,f,d,p,m,b,y,w,_,x,O,E,S,j,M,T,A,k,I,C,R,P=0,L=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,l=t.output,p=t.avail_out,h=t.next_in,u=t.input,d=t.avail_in,m=n.hold,b=n.bits,y=d,w=p,I=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(2&n.wrap&&35615===m){n.check=0,L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0),m=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(b-=4,k=8+(15&(m>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&m?10:12,m=0,b=0;break;case 2:for(;b<16;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.head&&(n.head.time=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,L[2]=m>>>16&255,L[3]=m>>>24&255,n.check=o(n.check,L,4,0)),m=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),m=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>d&&(_=d),_&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,h,_,k)),512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,n.length-=_),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;_=0;do{k=u[h+_++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&_<d);if(512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;_=0;do{k=u[h+_++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&_<d);if(512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}t.adler=n.check=c(m),m=0,b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=b,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}switch(n.last=1&m,b-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){m>>>=2,b-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(_=n.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break t;r.arraySet(l,u,h,_,f),d-=_,h+=_,p-=_,f+=_,n.length-=_;break}n.mode=12;break;case 17:for(;b<14;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(n.nlen=257+(31&m),m>>>=5,b-=5,n.ndist=1+(31&m),m>>>=5,b-=5,n.ncode=4+(15&m),m>>>=4,b-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.lens[N[n.have++]]=7&m,m>>>=3,b-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},I=a(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,I){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(P=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&P,!((E=P>>>24)<=b);){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(j<16)m>>>=E,b-=E,n.lens[n.have++]=j;else{if(16===j){for(R=E+2;b<R;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(m>>>=E,b-=E,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],_=3+(3&m),m>>>=2,b-=2}else if(17===j){for(R=E+3;b<R;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}b-=E,k=0,_=3+(7&(m>>>=E)),m>>>=3,b-=3}else{for(R=E+7;b<R;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}b-=E,k=0,_=11+(127&(m>>>=E)),m>>>=7,b-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},I=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,I){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},I=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,I){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=b,s(t,w),f=t.next_out,l=t.output,p=t.avail_out,h=t.next_in,u=t.input,d=t.avail_in,m=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(P=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&P,!((E=P>>>24)<=b);){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(S&&0==(240&S)){for(M=E,T=S,A=j;S=(P=n.lencode[A+((m&(1<<M+T)-1)>>M)])>>>16&255,j=65535&P,!(M+(E=P>>>24)<=b);){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}m>>>=M,b-=M,n.back+=M}if(m>>>=E,b-=E,n.back+=E,n.length=j,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;b<R;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(P=n.distcode[m&(1<<n.distbits)-1])>>>16&255,j=65535&P,!((E=P>>>24)<=b);){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(0==(240&S)){for(M=E,T=S,A=j;S=(P=n.distcode[A+((m&(1<<M+T)-1)>>M)])>>>16&255,j=65535&P,!(M+(E=P>>>24)<=b);){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}m>>>=M,b-=M,n.back+=M}if(m>>>=E,b-=E,n.back+=E,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;b<R;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(_=w-p,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}_>n.wnext?(_-=n.wnext,x=n.wsize-_):x=n.wnext-_,_>n.length&&(_=n.length),O=n.window}else O=l,x=f-n.offset,_=n.length;_>p&&(_=p),p-=_,n.length-=_;do{l[f++]=O[x++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;l[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===d)break t;d--,m|=u[h++]<<b,b+=8}if(w-=p,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?o(n.check,l,w,f-w):i(n.check,l,w,f-w)),w=p,(n.flags?m:c(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===d)break t;d--,m+=u[h++]<<b,b+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,b=0}n.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=b,(n.wsize||w!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&v(t,t.output,t.next_out,w-t.avail_out)?(n.mode=31,-4):(y-=t.avail_in,w-=t.avail_out,t.total_in+=y,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?o(n.check,l,w,t.next_out-w):i(n.check,l,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===w||4===e)&&0===I&&(I=-5),I)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:v(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y,w,_,x,O,E,S,j;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,j=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,b=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),y=m[d&g];e:for(;;){if(d>>>=w=y>>>24,p-=w,0===(w=y>>>16&255))j[o++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=m[(65535&y)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&y,(w&=15)&&(p<w&&(d+=S[r++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),y=b[d&v];n:for(;;){if(d>>>=w=y>>>24,p-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=b[(65535&y)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&y,p<(w&=15)&&(d+=S[r++]<<p,(p+=8)<w&&(d+=S[r++]<<p,p+=8)),(x+=d&(1<<w)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,x>(w=o-s)){if((w=x-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(O=0,E=f,0===h){if(O+=u-w,w<_){_-=w;do{j[o++]=f[O++]}while(--w);O=o-x,E=j}}else if(h<w){if(O+=u+h-w,(w-=h)<_){_-=w;do{j[o++]=f[O++]}while(--w);if(O=0,h<_){_-=w=h;do{j[o++]=f[O++]}while(--w);O=o-x,E=j}}}else if(O+=h-w,w<_){_-=w;do{j[o++]=f[O++]}while(--w);O=o-x,E=j}for(;_>2;)j[o++]=E[O++],j[o++]=E[O++],j[o++]=E[O++],_-=3;_&&(j[o++]=E[O++],_>1&&(j[o++]=E[O++]))}else{O=o-x;do{j[o++]=j[O++],j[o++]=j[O++],j[o++]=j[O++],_-=3}while(_>2);_&&(j[o++]=j[O++],_>1&&(j[o++]=j[O++]))}break}}break}}while(r<i&&o<a);r-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(54),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,u,l,h,f){var d,p,m,b,g,v,y,w,_,x=f.bits,O=0,E=0,S=0,j=0,M=0,T=0,A=0,k=0,I=0,C=0,R=null,P=0,L=new r.Buf16(16),N=new r.Buf16(16),D=null,B=0;for(O=0;O<=15;O++)L[O]=0;for(E=0;E<c;E++)L[e[n+E]]++;for(M=x,j=15;j>=1&&0===L[j];j--);if(M>j&&(M=j),0===j)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(S=1;S<j&&0===L[S];S++);for(M<S&&(M=S),k=1,O=1;O<=15;O++)if(k<<=1,(k-=L[O])<0)return-1;if(k>0&&(0===t||1!==j))return-1;for(N[1]=0,O=1;O<15;O++)N[O+1]=N[O]+L[O];for(E=0;E<c;E++)0!==e[n+E]&&(h[N[e[n+E]]++]=E);if(0===t?(R=D=h,v=19):1===t?(R=i,P-=257,D=o,B-=257,v=256):(R=s,D=a,v=-1),C=0,E=0,O=S,g=l,T=M,A=0,m=-1,b=(I=1<<M)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){y=O-A,h[E]<v?(w=0,_=h[E]):h[E]>v?(w=D[B+h[E]],_=R[P+h[E]]):(w=96,_=0),d=1<<O-A,S=p=1<<T;do{u[g+(C>>A)+(p-=d)]=y<<24|w<<16|_|0}while(0!==p);for(d=1<<O-1;C&d;)d>>=1;if(0!==d?(C&=d-1,C+=d):C=0,E++,0==--L[O]){if(O===j)break;O=e[n+h[E]]}if(O>M&&(C&b)!==m){for(0===A&&(A=M),g+=S,k=1<<(T=O-A);T+A<j&&!((k-=L[T+A])<=0);)T++,k<<=1;if(I+=1<<T,1===t&&I>852||2===t&&I>592)return 1;u[m=C&b]=M<<24|T<<16|g-l|0}}return 0!==C&&(u[g+C]=O-A<<24|64<<16|0),f.bits=M,0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";const r=n(90);t.exports=async function(t,e,n){if("string"!=typeof t)return Promise.reject(new TypeError('expected "url" to be a string'));"function"==typeof e&&(n=e,e=null);const i=Object.assign({},e),o={url:t,options:i,pages:[],hrefs:[]};let s,a;for(;t&&"string"==typeof t&&s!==t;)s=t,o.hrefs.push(t),a=await r("get",t,null,i),t=await n(o.url,a,o),o.pages.push(a);return o}},function(t,e,n){"use strict";var r=n(60),i=n(36),o=n(99);function s(t){return t&&t.rel}function a(t,e){return e.rel.split(/\s+/).forEach((function(n){t[n]=o(e,{rel:n})})),t}function c(t,e){var n=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return n&&(t[n[1]]=n[2]),t}function u(t){try{var e=t.match(/<?([^>]*)>(.*)/),n=e[1],s=e[2].split(";"),a=i.parse(n),u=r.parse(a.query);s.shift();var l=s.reduce(c,{});return(l=o(u,l)).url=n,l}catch(t){return null}}t.exports=function(t){return t?t.split(/,\s*</).map(u).filter(s).reduce(a,{}):null}},function(t,e,n){},function(t,e,n){const{defaults:r}=n(43),{block:i}=n(152),{rtrim:o,splitCells:s,escape:a}=n(33);t.exports=class t{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||r,this.rules=i.normal,this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.rules=i.gfm)}static get rules(){return i}static lex(e,n){return new t(n).lex(e)}lex(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(t,!0)}token(t,e){let n,r,c,u,l,h,f,d,p,m,b,g,v,y,w,_;for(t=t.replace(/^ +$/gm,"");t;)if((c=this.rules.newline.exec(t))&&(t=t.substring(c[0].length),c[0].length>1&&this.tokens.push({type:"space"})),c=this.rules.code.exec(t)){const e=this.tokens[this.tokens.length-1];t=t.substring(c[0].length),e&&"paragraph"===e.type?e.text+="\n"+c[0].trimRight():(c=c[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?c:o(c,"\n")}))}else if(c=this.rules.fences.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"code",lang:c[2]?c[2].trim():c[2],text:c[3]||""});else if(c=this.rules.heading.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"heading",depth:c[1].length,text:c[2]});else if((c=this.rules.nptable.exec(t))&&(h={type:"table",header:s(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split("\n"):[]},h.header.length===h.align.length)){for(t=t.substring(c[0].length),b=0;b<h.align.length;b++)/^ *-+: *$/.test(h.align[b])?h.align[b]="right":/^ *:-+: *$/.test(h.align[b])?h.align[b]="center":/^ *:-+ *$/.test(h.align[b])?h.align[b]="left":h.align[b]=null;for(b=0;b<h.cells.length;b++)h.cells[b]=s(h.cells[b],h.header.length);this.tokens.push(h)}else if(c=this.rules.hr.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"hr"});else if(c=this.rules.blockquote.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"blockquote_start"}),c=c[0].replace(/^ *> ?/gm,""),this.token(c,e),this.tokens.push({type:"blockquote_end"});else if(c=this.rules.list.exec(t)){for(t=t.substring(c[0].length),u=c[2],y=u.length>1,f={type:"list_start",ordered:y,start:y?+u:"",loose:!1},this.tokens.push(f),c=c[0].match(this.rules.item),d=[],n=!1,v=c.length,b=0;b<v;b++)h=c[b],m=h.length,h=h.replace(/^ *([*+-]|\d+\.) */,""),~h.indexOf("\n ")&&(m-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+m+"}","gm"),"")),b!==v-1&&(l=i.bullet.exec(c[b+1])[0],(u.length>1?1===l.length:l.length>1||this.options.smartLists&&l!==u)&&(t=c.slice(b+1).join("\n")+t,b=v-1)),r=n||/\n\n(?!\s*$)/.test(h),b!==v-1&&(n="\n"===h.charAt(h.length-1),r||(r=n)),r&&(f.loose=!0),w=/^\[[ xX]\] /.test(h),_=void 0,w&&(_=" "!==h[1],h=h.replace(/^\[[ xX]\] +/,"")),p={type:"list_item_start",task:w,checked:_,loose:r},d.push(p),this.tokens.push(p),this.token(h,!1),this.tokens.push({type:"list_item_end"});if(f.loose)for(v=d.length,b=0;b<v;b++)d[b].loose=!0;this.tokens.push({type:"list_end"})}else if(c=this.rules.html.exec(t))t=t.substring(c[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===c[1]||"script"===c[1]||"style"===c[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]});else if(e&&(c=this.rules.def.exec(t)))t=t.substring(c[0].length),c[3]&&(c[3]=c[3].substring(1,c[3].length-1)),g=c[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:c[2],title:c[3]});else if((c=this.rules.table.exec(t))&&(h={type:"table",header:s(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split("\n"):[]},h.header.length===h.align.length)){for(t=t.substring(c[0].length),b=0;b<h.align.length;b++)/^ *-+: *$/.test(h.align[b])?h.align[b]="right":/^ *:-+: *$/.test(h.align[b])?h.align[b]="center":/^ *:-+ *$/.test(h.align[b])?h.align[b]="left":h.align[b]=null;for(b=0;b<h.cells.length;b++)h.cells[b]=s(h.cells[b].replace(/^ *\| *| *\| *$/g,""),h.header.length);this.tokens.push(h)}else if(c=this.rules.lheading.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"heading",depth:"="===c[2].charAt(0)?1:2,text:c[1]});else if(e&&(c=this.rules.paragraph.exec(t)))t=t.substring(c[0].length),this.tokens.push({type:"paragraph",text:"\n"===c[1].charAt(c[1].length-1)?c[1].slice(0,-1):c[1]});else if(c=this.rules.text.exec(t))t=t.substring(c[0].length),this.tokens.push({type:"text",text:c[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens}}},function(t,e,n){const r=n(81),i=n(153),o=n(154),s=n(155),{defaults:a}=n(43),{merge:c,unescape:u}=n(33);t.exports=class t{constructor(t){this.tokens=[],this.token=null,this.options=t||a,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new i}static parse(e,n){return new t(n).parse(e)}parse(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,c({},this.options,{renderer:new s})),this.tokens=t.reverse();let e="";for(;this.next();)e+=this.tok();return e}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let t=this.token.text;for(;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)}tok(){let t="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let e,n,r,i,o="";for(r="",e=0;e<this.token.header.length;e++)r+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(r),e=0;e<this.token.cells.length;e++){for(n=this.token.cells[e],r="",i=0;i<n.length;i++)r+=this.renderer.tablecell(this.inline.output(n[i]),{header:!1,align:this.token.align[i]});t+=this.renderer.tablerow(r)}return this.renderer.table(o,t)}case"blockquote_start":for(t="";"blockquote_end"!==this.next().type;)t+=this.tok();return this.renderer.blockquote(t);case"list_start":{t="";const e=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,e,n)}case"list_item_start":{t="";const e=this.token.loose,n=this.token.checked,r=this.token.task;if(this.token.task)if(e)if("text"===this.peek().type){const t=this.peek();t.text=this.renderer.checkbox(n)+" "+t.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else t+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)t+=e||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(t,r,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const t='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(t);console.log(t)}}}}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"default",(function(){return ge})),n.d(r,"check",(function(){return pe}));var i={};n.r(i),n.d(i,"default",(function(){return Oe})),n.d(i,"typeOf",(function(){return we}));var o={};n.r(o),n.d(o,"default",(function(){return Be})),n.d(o,"typeOf",(function(){return Le}));var s={};n.r(s),n.d(s,"default",(function(){return Ke})),n.d(s,"typeOf",(function(){return Ve}));var a={};n.r(a),n.d(a,"default",(function(){return rn})),n.d(a,"typeOf",(function(){return tn}));var c={};n.r(c),n.d(c,"default",(function(){return fn})),n.d(c,"typeOf",(function(){return un}));var u={};n.r(u),n.d(u,"default",(function(){return wn})),n.d(u,"typeOf",(function(){return gn}));var l={};n.r(l),n.d(l,"default",(function(){return An})),n.d(l,"type",(function(){return jn}));var h={};n.r(h),n.d(h,"default",(function(){return zn})),n.d(h,"type",(function(){return $n}));var f={};n.r(f),n.d(f,"default",(function(){return Yn})),n.d(f,"check",(function(){return qn}));var d={};n.r(d),n.d(d,"default",(function(){return cr})),n.d(d,"type",(function(){return ir})),n.d(d,"hasDepthProp",(function(){return or}));var p={};n.r(p),n.d(p,"default",(function(){return xr})),n.d(p,"check",(function(){return vr})),n.d(p,"hasDepthProp",(function(){return yr}));var m={};n.r(m),n.d(m,"default",(function(){return $r})),n.d(m,"check",(function(){return Nr}));var b={};n.r(b),n.d(b,"default",(function(){return hi})),n.d(b,"type",(function(){return ai})),n.d(b,"hasDepthProp",(function(){return ci}));var g={};n.r(g),n.d(g,"default",(function(){return Ti})),n.d(g,"type",(function(){return Ei})),n.d(g,"hasDepthProp",(function(){return Si}));var v={};n.r(v),n.d(v,"default",(function(){return Di})),n.d(v,"check",(function(){return Ri})),n.d(v,"hasDepthProp",(function(){return Pi}));var y={};n.r(y),n.d(y,"default",(function(){return Hi})),n.d(y,"check",(function(){return Fi}));var w={};n.r(w),n.d(w,"setRegex",(function(){return Gc})),n.d(w,"setParamKeys",(function(){return Vc})),n.d(w,"setShortPath",(function(){return qc})),n.d(w,"setRank",(function(){return Wc})),n.d(w,"addMetaChildren",(function(){return Kc})),n.d(w,"setIsIndexable",(function(){return Yc})),n.d(w,"assignRelations",(function(){return Xc})),n.d(w,"assignIndex",(function(){return Jc})),n.d(w,"assignLayout",(function(){return Qc})),n.d(w,"createFlatList",(function(){return tu})),n.d(w,"setPrototype",(function(){return eu}));var _=n(0),x=n(1);const O=[];function E(t,e=_.M){let n;const r=[];function i(e){if(Object(_.T)(t,e)&&(t=e,n)){const e=!O.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),O.push(n,t)}if(e){for(let t=0;t<O.length;t+=2)O[t][0](O[t+1]);O.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,s=_.M){const a=[o,s];return r.push(a),1===r.length&&(n=e(i)||_.M),o(t),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}function S(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,o=e.length<2;return{subscribe:E(n,t=>{let n=!1;const s=[];let a=0,c=_.M;const u=()=>{if(a)return;c();const n=e(r?s[0]:s,t);o?t(n):c=Object(_.J)(n)?n:_.M},l=i.map((t,e)=>Object(_.bb)(t,t=>{s[e]=t,a&=~(1<<e),n&&u()},()=>{a|=1<<e}));return n=!0,u(),function(){Object(_.S)(l),c()}}).subscribe}}var j=n(15);const M=()=>"_"+Math.random().toString(36).substr(2,9),T=(t,e)=>Math.random()*(e-t)+t,A=()=>"#"+(1048575*Math.random()*1e6).toString(16).slice(0,6);function k(t){}function I(t){}function C(t){return!t||0===t.length}async function R(t){if(C(t))throw Error("Error fetchFrom: Empty URL");try{const e=await fetch(t);return await e.text()}catch(t){throw Error(t)}}var P=n(18),L=(n(35),n(9)),N=n(14),D=n(45),B=n.n(D);n(174);const{console:$}=_.E;function F(t){let e,n,r;function i(e){t[35].call(null,e)}let o={tab:!0,lineNumbers:!0};void 0!==t[0]&&(o.value=t[0]);const s=new L.a({props:o,$$inline:!0});t[34](s),_.k.push(()=>Object(_.j)(s,"value",i)),s.$on("change",t[36]),s.$on("focus",t[37]),s.$on("blur",t[38]),s.$on("refresh",t[39]),s.$on("gutterClick",t[40]),s.$on("viewportChange",t[41]);const a={c:function(){e=Object(_.v)("div"),Object(_.o)(s.$$.fragment),Object(_.h)(e,"class","codemirror-container layout-template-container scrollable svelte-bs9cq2"),Object(_.d)(e,"client/components/editors/GrammarEditor.svelte",231,0,4912)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){Object(_.I)(t,e,n),Object(_.L)(s,e,null),r=!0},p:function(t,e){const r={};!n&&1&e[0]&&(n=!0,r.value=t[0],Object(_.c)(()=>n=!1)),s.$set(r)},i:function(t){r||(Object(_.gb)(s.$$.fragment,t),r=!0)},o:function(t){Object(_.hb)(s.$$.fragment,t),r=!1},d:function(n){n&&Object(_.t)(e),t[34](null),Object(_.r)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:F.name,type:"component",source:"",ctx:t}),a}const U="undefined"!=typeof window;function z(t,e,n){let r,i,o;Object(_.mb)(ha,"grammarEditorValue"),Object(_.m)(t,ha,t=>n(27,r=t)),Object(_.mb)(fa,"grammarCompiledParser"),Object(_.m)(t,fa,t=>n(28,i=t)),Object(_.mb)(da,"grammarCompilationErrors"),Object(_.m)(t,da,t=>n(29,o=t));const s=Object(x.b)();let a,c,{id:u}=e,{name:l}=e,{type:h}=e,{lineNumbers:f}=e,{hasFocus:d}=e,{theme:p}=e,{background:m}=e,{data:b}=e,{responsive:g}=e,{resizable:v}=e,{resize:y}=e,{draggable:w}=e,{drag:O}=e,{min:E={}}=e,{max:S={}}=e,{x:M}=e,{y:T}=e,{w:A}=e,{h:k}=e,{component:I}=e,C=t=>{};Object(x.e)(async()=>{console.log("DEBUG:GrammarCodeEditor:onMount:"),console.log(b),a.set(b,"ebnf"),C(u,l,h,f,d,p,m,b,g,v,y,w,O,E,S,M,T,A,k,I)}),Object(x.d)(async()=>{});let R=t=>{},P=t=>{if(void 0!==t)try{let t=a.getValue();Object(_.Y)(ha,r=t);let{errors:e,output:n}=Object(j.a)(t);Object(_.Y)(fa,i=n),Object(_.Y)(da,o=e),s("change",{prop:"data",value:t})}catch(t){console.error("Error Live Code Editor get value from code Mirror")}},D=t=>{n(8,d=!0),s("change",{prop:"hasFocus",value:!0})},F=t=>{n(8,d=!1),s("change",{prop:"hasFocus",value:!1})},z=t=>{},H=t=>{},G=t=>{};const V=["id","name","type","lineNumbers","hasFocus","theme","background","data","responsive","resizable","resize","draggable","drag","min","max","x","y","w","h","component"];Object.keys(e).forEach(t=>{~V.indexOf(t)||"$$"===t.slice(0,2)||$.warn(`<GrammarEditor> was created with unknown prop '${t}'`)});let{$$slots:q={},$$scope:W}=e;Object(_.lb)("GrammarEditor",q,[]);return t.$set=t=>{"id"in t&&n(9,u=t.id),"name"in t&&n(10,l=t.name),"type"in t&&n(11,h=t.type),"lineNumbers"in t&&n(12,f=t.lineNumbers),"hasFocus"in t&&n(8,d=t.hasFocus),"theme"in t&&n(13,p=t.theme),"background"in t&&n(14,m=t.background),"data"in t&&n(0,b=t.data),"responsive"in t&&n(15,g=t.responsive),"resizable"in t&&n(16,v=t.resizable),"resize"in t&&n(17,y=t.resize),"draggable"in t&&n(18,w=t.draggable),"drag"in t&&n(19,O=t.drag),"min"in t&&n(20,E=t.min),"max"in t&&n(21,S=t.max),"x"in t&&n(22,M=t.x),"y"in t&&n(23,T=t.y),"w"in t&&n(24,A=t.w),"h"in t&&n(25,k=t.h),"component"in t&&n(26,I=t.component)},t.$capture_state=()=>({is_browser:U,CodeMirror:L.a,set:L.set,update:L.update,onMount:x.e,onDestroy:x.d,createEventDispatcher:x.b,dispatch:s,grammarEditorValue:ha,grammarCompiledParser:fa,grammarCompilationErrors:da,nearley:N,compile:j.a,ModelWorker:B.a,id:u,name:l,type:h,lineNumbers:f,hasFocus:d,theme:p,background:m,data:b,responsive:g,resizable:v,resize:y,draggable:w,drag:O,min:E,max:S,x:M,y:T,w:A,h:k,component:I,codeMirror:a,modelWorker:c,log:C,nil:R,onChange:P,onFocus:D,onBlur:F,onRefresh:z,onGutterCick:H,onViewportChange:G,$grammarEditorValue:r,$grammarCompiledParser:i,$grammarCompilationErrors:o}),t.$inject_state=t=>{"id"in t&&n(9,u=t.id),"name"in t&&n(10,l=t.name),"type"in t&&n(11,h=t.type),"lineNumbers"in t&&n(12,f=t.lineNumbers),"hasFocus"in t&&n(8,d=t.hasFocus),"theme"in t&&n(13,p=t.theme),"background"in t&&n(14,m=t.background),"data"in t&&n(0,b=t.data),"responsive"in t&&n(15,g=t.responsive),"resizable"in t&&n(16,v=t.resizable),"resize"in t&&n(17,y=t.resize),"draggable"in t&&n(18,w=t.draggable),"drag"in t&&n(19,O=t.drag),"min"in t&&n(20,E=t.min),"max"in t&&n(21,S=t.max),"x"in t&&n(22,M=t.x),"y"in t&&n(23,T=t.y),"w"in t&&n(24,A=t.w),"h"in t&&n(25,k=t.h),"component"in t&&n(26,I=t.component),"codeMirror"in t&&n(1,a=t.codeMirror),"modelWorker"in t&&(c=t.modelWorker),"log"in t&&(C=t.log),"nil"in t&&(R=t.nil),"onChange"in t&&n(2,P=t.onChange),"onFocus"in t&&n(3,D=t.onFocus),"onBlur"in t&&n(4,F=t.onBlur),"onRefresh"in t&&n(5,z=t.onRefresh),"onGutterCick"in t&&n(6,H=t.onGutterCick),"onViewportChange"in t&&n(7,G=t.onViewportChange)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[b,a,P,D,F,z,H,G,d,u,l,h,f,p,m,g,v,y,w,O,E,S,M,T,A,k,I,r,i,o,s,c,C,R,function(t){_.k[t?"unshift":"push"](()=>{n(1,a=t)})},function(t){b=t,n(0,b)},t=>P(t),t=>D(t),t=>F(t),t=>z(t),t=>H(t),t=>G(t)]}U&&Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,391));class H extends _.a{constructor(t){super(t),Object(_.H)(this,t,z,F,_.T,{id:9,name:10,type:11,lineNumbers:12,hasFocus:8,theme:13,background:14,data:0,responsive:15,resizable:16,resize:17,draggable:18,drag:19,min:20,max:21,x:22,y:23,w:24,h:25,component:26},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"GrammarEditor",options:t,id:F.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[9]||"id"in n||$.warn("<GrammarEditor> was created without expected prop 'id'"),void 0!==e[10]||"name"in n||$.warn("<GrammarEditor> was created without expected prop 'name'"),void 0!==e[11]||"type"in n||$.warn("<GrammarEditor> was created without expected prop 'type'"),void 0!==e[12]||"lineNumbers"in n||$.warn("<GrammarEditor> was created without expected prop 'lineNumbers'"),void 0!==e[8]||"hasFocus"in n||$.warn("<GrammarEditor> was created without expected prop 'hasFocus'"),void 0!==e[13]||"theme"in n||$.warn("<GrammarEditor> was created without expected prop 'theme'"),void 0!==e[14]||"background"in n||$.warn("<GrammarEditor> was created without expected prop 'background'"),void 0!==e[0]||"data"in n||$.warn("<GrammarEditor> was created without expected prop 'data'"),void 0!==e[15]||"responsive"in n||$.warn("<GrammarEditor> was created without expected prop 'responsive'"),void 0!==e[16]||"resizable"in n||$.warn("<GrammarEditor> was created without expected prop 'resizable'"),void 0!==e[17]||"resize"in n||$.warn("<GrammarEditor> was created without expected prop 'resize'"),void 0!==e[18]||"draggable"in n||$.warn("<GrammarEditor> was created without expected prop 'draggable'"),void 0!==e[19]||"drag"in n||$.warn("<GrammarEditor> was created without expected prop 'drag'"),void 0!==e[22]||"x"in n||$.warn("<GrammarEditor> was created without expected prop 'x'"),void 0!==e[23]||"y"in n||$.warn("<GrammarEditor> was created without expected prop 'y'"),void 0!==e[24]||"w"in n||$.warn("<GrammarEditor> was created without expected prop 'w'"),void 0!==e[25]||"h"in n||$.warn("<GrammarEditor> was created without expected prop 'h'"),void 0!==e[26]||"component"in n||$.warn("<GrammarEditor> was created without expected prop 'component'")}get id(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get type(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set type(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasFocus(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasFocus(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get theme(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set theme(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get background(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set background(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get responsive(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set responsive(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resizable(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resizable(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resize(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get draggable(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draggable(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get drag(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set drag(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get x(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set x(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get y(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set y(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get w(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set w(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get h(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set h(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<GrammarEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(t){throw new Error("<GrammarEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var G=H,V=n(16),q=n(5),W=0,K={},Y={saw:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.saw(${e[0].loop})`},sin:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.sinewave(${e[0].loop})`},tri:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.triangle(${e[0].loop})`},pha:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.phasor(${e[0].loop}, 0, 1)`},ph2:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>3?e[3].loop:0});`,loop:(t,e)=>`${t}.phasor(${e[0].loop},${e[1].loop},${e[2].loop})`},sqr:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.square(${e[0].loop})`},pul:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>2?e[2].loop:0});`,loop:(t,e)=>`${t}.pulse(${e[0].loop},${e[1].loop})`},imp:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.impulse(${e[0].loop})`},sawn:{setup:(t,e)=>`${t} = new Maximilian.maxiOsc();\n                      ${t}.phaseReset(${e.length>1?e[1].loop:0});`,loop:(t,e)=>`${t}.sawn(${e[0].loop})`},noiz:{setup:(t,e)=>t+" = new Maximilian.maxiOsc()",loop:(t,e)=>`${t}.noise()*${e[0].loop}`},gt:{setup:(t,e)=>"",loop:(t,e)=>`((${e[0].loop} > ${e[1].loop}) ? 1 : 0)`},lt:{setup:(t,e)=>"",loop:(t,e)=>`((${e[0].loop} < ${e[1].loop}) ? 1 : 0)`},mod:{setup:(t,e)=>"",loop:(t,e)=>`(${e[0].loop} % ${e[1].loop})`},add:{setup:(t,e)=>"",loop:(t,e)=>`(${e[0].loop} + ${e[1].loop})`},mul:{setup:(t,e)=>"",loop:(t,e)=>`(${e[0].loop} * ${e[1].loop})`},sub:{setup:(t,e)=>"",loop:(t,e)=>`(${e[0].loop} - ${e[1].loop})`},div:{setup:(t,e)=>"",loop:(t,e)=>`(${e[1].loop} != 0 ? ${e[0].loop}/${e[1].loop} : 0)`},pow:{setup:(t,e)=>"",loop:(t,e)=>`Math.pow(${e[0].loop},${e[1].loop})`},abs:{setup:(t,e)=>"",loop:(t,e)=>`Math.abs(${e[0].loop})`},env:{setup:(t,e)=>`${t} = new Maximilian.maxiEnv();\n                      ${t}.setAttack(${e[1].loop});\n                      ${t}.setDecay(${e[2].loop});\n                      ${t}.setSustain(${e[3].loop});\n                      ${t}.setRelease(${e[4].loop})`,loop:(t,e)=>`${t}.adsr(1,${e[0].loop})`},sum:{setup:(t,e)=>"",loop:(t,e)=>{let n="("+e[0].loop;for(let t=1;t<e.length;t++)n+="+"+e[t].loop;return n+")"}},mix:{setup:(t,e)=>"",loop:(t,e)=>{let n="(("+e[0].loop;for(let t=1;t<e.length;t++)n+="+"+e[t].loop;return n+`)/${e.length})`}},prod:{setup:(t,e)=>"",loop:(t,e)=>{let n="("+e[0].loop;for(let t=1;t<e.length;t++)n+="*"+e[t].loop;return n+")"}},blin:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linlin(${e[0].loop}, -1, 1, ${e[1].loop}, ${e[2].loop})`},ulin:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linlin(${e[0].loop}, 0, 1, ${e[1].loop}, ${e[2].loop})`},bexp:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linexp(${e[0].loop}, -1, 1, ${e[1].loop}, ${e[2].loop})`},uexp:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linexp(${e[0].loop}, 0.0000001, 1, ${e[1].loop}, ${e[2].loop})`},linlin:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linlin(${e[0].loop}, ${e[1].loop}, ${e[2].loop},${e[3].loop}, ${e[4].loop})`},linexp:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiMap.linexp(${e[0].loop}, ${e[1].loop}, ${e[2].loop}, ${e[3].loop}, ${e[4].loop})`},dist:{setup:(t,e)=>t+" = new Maximilian.maxiNonlinearity()",loop:(t,e)=>`${t}.atanDist(${e[0].loop},${e[1].loop})`},softclip:{setup:(t,e)=>t+" = new Maximilian.maxiNonlinearity()",loop:(t,e)=>`${t}.softclip(${e[0].loop})`},hardclip:{setup:(t,e)=>t+" = new Maximilian.maxiNonlinearity()",loop:(t,e)=>`${t}.hardclip(${e[0].loop})`},asymclip:{setup:(t,e)=>t+" = new Maximilian.maxiNonlinearity()",loop:(t,e)=>`${t}.asymclip(${e[0].loop},${e[1].loop},${e[2].loop})`},flange:{setup:(t,e)=>t+" = new Maximilian.maxiFlanger()",loop:(t,e)=>`${t}.flange(${e[0].loop},${e[1].loop},${e[2].loop},${e[3].loop},${e[4].loop})`},chor:{setup:(t,e)=>t+" = new Maximilian.maxiChorus()",loop:(t,e)=>`${t}.chorus(${e[0].loop},${e[1].loop},${e[2].loop},${e[3].loop},${e[4].loop})`},dl:{setup:(t,e)=>t+" = new Maximilian.maxiDelayline()",loop:(t,e)=>`${t}.dl(${e[0].loop},${e[1].loop},${e[2].loop})`},lpf:{setup:(t,e)=>t+" = new Maximilian.maxiFilter()",loop:(t,e)=>`${t}.lopass(${e[0].loop},${e[1].loop})`},hpf:{setup:(t,e)=>t+" = new Maximilian.maxiFilter()",loop:(t,e)=>`${t}.hipass(${e[0].loop},${e[1].loop})`},lpz:{setup:(t,e)=>t+" = new Maximilian.maxiFilter()",loop:(t,e)=>`${t}.lores(${e[0].loop},${e[1].loop},${e[2].loop})`},hpz:{setup:(t,e)=>t+" = new Maximilian.maxiFilter()",loop:(t,e)=>`${t}.hires(${e[0].loop},${e[1].loop},${e[2].loop})`},toJS:{setup:(t,e)=>`${t} = new SABOutputTransducer(this.port, 'ML', ${e[1].loop}, this.currentSample, ${3==e.length?1:e[3].loop})`,loop:(t,e)=>`${t}.send(${e[0].loop}, ${e[2].loop})`},fromJS:{setup:(t,e)=>`${t} = new SABInputTransducer(${e[0].loop}, ${2==e.length?1:0})`,loop:(t,e)=>`${t}.getSABValue(inputSABs, ${2==e.length?e[1].loop:0})`},fromSeq:{setup:(t,e)=>`${t} = new SABInputTransducer(${e[0].loop})`,loop:(t,e)=>t+".getSABValue(inputSABs)"},mouseX:{setup:(t,e)=>"",loop:(t,e)=>"this.getSABValue('mxy')[0]"},mouseY:{setup:(t,e)=>"",loop:(t,e)=>"this.getSABValue('mxy')[1]"},at:{setup:(t,e)=>"",loop:(t,e)=>`${e[0].loop}[Math.min(${e[1].loop}, ${e[0].loop}.length-1)]`},sah:{setup:(t,e)=>t+" = new Maximilian.maxiSampleAndHold();",loop:(t,e)=>`${t}.sah(${e[0].loop},${e[1].loop})`},stretch:{setup:(t,e)=>`${t} = new Maximilian.maxiSample();\n                      ${t}.setSample(this.getSampleBuffer(${e[4].loop}));\n                      ${t}stretch = new Maximilian.maxiStretch();\n                      ${t}stretch.setSample(${t});`,loop:(t,e)=>`(${t}.isReady() ? ${t}stretch.play(${e[0].loop},${e[1].loop},${e[2].loop},${e[3].loop},0.0) : 0.0)`},adc:{setup:(t,e)=>"",loop:(t,e)=>`(inputs * ${e[0].loop})`},sampler:{setup:(t,e)=>`${t} = new Maximilian.maxiSample();\n                      ${t}.setSample(this.getSampleBuffer(${e[e.length-1].loop}));`,loop:(t,e)=>{let n=""+e[0].loop;return 3==e.length?n+=","+e[1].loop:4==e.length&&(n+=`,${e[1].loop},${e[2].loop}`),`(${t}.isReady() ? ${t}.playOnZX(${n}) : 0.0)`}},loop:{setup:(t,e)=>`${t} = new Maximilian.maxiSample();\n                      ${t}.setSample(this.getSampleBuffer(${e[1].loop}));`,loop:(t,e)=>`(${t}.isReady() ? ${t}.play(${e[0].loop}) : 0.0)`},slice:{setup:(t,e)=>`${t} = new Maximilian.maxiSample();\n                      ${t}.setSample(this.getSampleBuffer(${e[2].loop}));`,loop:(t,e)=>`(${t}.isReady() ? ${t}.loopSetPosOnZX(${e[0].loop},${e[1].loop}) : 0.0)`},oscin:{setup:(t,e)=>"",loop:(t,e)=>`this.OSCTransducer(${e[0].loop},${e[1].loop})`},oscout:{setup:(t,e)=>"",loop:(t,e)=>`this.OSCTransducer(${e[0].loop},${e[1].loop})`},sah:{setup:(t,e)=>t+" = new Maximilian.maxiSampleAndHold();",loop:(t,e)=>`${t}.sah(${e[0].loop},${e[1].loop})`},stretch:{setup:(t,e)=>`${t} = new Maximilian.maxiSample();\n                      ${t}.setSample(this.getSampleBuffer(${e[4].loop}));\n                      ${t}stretch = new Maximilian.maxiStretch();\n                      ${t}stretch.setSample(${t});`,loop:(t,e)=>`(${t}.isReady() ? ${t}stretch.play(${e[0].loop},${e[1].loop},${e[2].loop},${e[3].loop},0.0) : 0.0)`},bitToSig:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.toSignal(${e[0].loop})`},bitToTrigSig:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.toTrigSignal(${e[0].loop})`},bitNeg:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.neg(${e[0].loop})`},bitInc:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.inc(${e[0].loop})`},bitDec:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.dec(${e[0].loop})`},bitAnd:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.land(${e[0].loop},${e[1].loop})`},bitOr:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.lor(${e[0].loop},${e[1].loop})`},bitXor:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.lxor(${e[0].loop},${e[1].loop})`},bitShl:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.shl(${e[0].loop},${e[1].loop})`},bitShr:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.shr(${e[0].loop},${e[1].loop})`},bitAt:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.at(${e[0].loop},${e[1].loop})`},bitAdd:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.add(${e[0].loop},${e[1].loop})`},bitSub:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.sub(${e[0].loop},${e[1].loop})`},bitMul:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.mul(${e[0].loop},${e[1].loop})`},bitEq:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.eq(${e[0].loop},${e[1].loop})`},bitGt:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.gt(${e[0].loop},${e[1].loop})`},bitGte:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.gte(${e[0].loop},${e[1].loop})`},bitLte:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.lte(${e[0].loop},${e[1].loop})`},bitLt:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.lt(${e[0].loop},${e[1].loop})`},setup:(t,e)=>"",bitDiv:{loop:(t,e)=>`Maximilian.maxiBits.div(${e[0].loop},${e[1].loop})`},bitr:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.at(${e[0].loop},${e[1].loop},${e[2].loop})`},bitnoise:{setup:(t,e)=>"",loop:(t,e)=>"Maximilian.maxiBits.noise()"},btime:{setup:(t,e)=>"",loop:(t,e)=>"this.bitTime"},bitFromSig:{setup:(t,e)=>"",loop:(t,e)=>`Maximilian.maxiBits.fromSignal(${e[0].loop})`},clp:{setup:(t,e)=>"",loop:(t,e)=>`this.clockPhase(${e[0].loop},${e.length>1?e[1].loop:0})`},clt:{setup:(t,e)=>"",loop:(t,e)=>`this.clockTrig(${e[0].loop},${e.length>1?e[1].loop:0})`},clk:{setup:(t,e)=>"",loop:(t,e)=>`(()=>{this.setBPM(${e[0].loop}); this.setBeatsPerBar(${e[1].loop});})()`},onzx:{setup:(t,e)=>t+" = new Maximilian.maxiTrigger();",loop:(t,e)=>`${t}.onZX(${e[0].loop})`},onchange:{setup:(t,e)=>t+" = new Maximilian.maxiTrigger();",loop:(t,e)=>`${t}.onChanged(${e[0].loop},${e[1].loop})`},count:{setup:(t,e)=>t+" = new Maximilian.maxiCounter();",loop:(t,e)=>`${t}.count(${e[0].loop},${e[1].loop})`},idx:{setup:(t,e)=>t+" = new Maximilian.maxiIndex();",loop:(t,e)=>`${t}.pull(${e[0].loop},${e[1].loop},${e[2].loop})`},svf:{setup:(t,e)=>`${t} = new Maximilian.maxiSVF();\n                      ${t}_p1 = new Maximilian.maxiTrigger();\n                      ${t}_p2 = new Maximilian.maxiTrigger();`,loop:(t,e)=>`( () => { ${t}_cutoff = ${e[1].loop};\n                                if (${t}_p1.onChanged(${t}_cutoff, 1e-5)) {${t}.setCutoff(${t}_cutoff)};\n                                ${t}_res = ${e[2].loop};\n                                if (${t}_p2.onChanged(${t}_res, 1e-5)) {${t}.setResonance(${t}_res)};\n                                return ${t}.play(${e[0].loop},${e[3].loop},${e[4].loop},${e[5].loop},${e[6].loop})})()`},bitclock:{setup:(t,e)=>"",loop:(t,e)=>"this.bitclock"},pvshift:{setup:(t,e)=>t+" = new pvshift();",loop:(t,e)=>`${t}.play(${e[0].loop},${e[1].loop})`},rsq:{setup:(t,e)=>t+" = new Maximilian.maxiRatioSeq();",loop:(t,e)=>2==e.length?`${t}.playTrig(${e[0].loop},${e[1].loop})`:`${t}.playValues(${e[0].loop},${e[1].loop},${e[2].loop})`},o303:{setup:(t,e)=>`${t} = new Open303.Open303();\n                      ${t}.setSampleRate(sampleRate);\n                      ${t}_tnote = new Maximilian.maxiTrigger();\n                      ${t}_twf = new Maximilian.maxiTrigger();\n                      ${t}_tcut = new Maximilian.maxiTrigger();\n                      ${t}_tres = new Maximilian.maxiTrigger();\n                      ${t}_tenvm = new Maximilian.maxiTrigger();\n                      ${t}_tdec = new Maximilian.maxiTrigger();\n                      ${t}_tnoteoff = new Maximilian.maxiTrigger();\n                      ${t}_tatt = new Maximilian.maxiTrigger();`,loop:(t,e)=>`(()=>{\n\t\t\tlet newNote = ${t}_tnote.onZX(${e[0].loop});\n\t\t\tlet accent = ${e[3].loop};\n\t\t\tif (newNote) {\n\t\t\t\tif (${e[2].loop}>0) {\n\t\t\t\t\t${t}.slideToNote(${e[1].loop},accent);\n\t\t\t\t}else{\n\t\t\t\t\t${t}.triggerNote(${e[1].loop},accent);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (${t}_tnoteoff.onChanged(${e[4].loop}, 1e-5)) {${t}.allNotesOff()};\n\t\t\tif (${t}_twf.onChanged(${e[5].loop}, 1e-5)) {${t}.setWaveform(${e[5].loop})};\n\t\t\tif (${t}_tcut.onChanged(${e[6].loop}, 1e-5)) {${t}.setCutoff(${e[6].loop})};\n\t\t\tif (${t}_tres.onChanged(${e[7].loop}, 1e-5)) {${t}.setResonance(${e[7].loop})};\n\t\t\tif (${t}_tenvm.onChanged(${e[8].loop}, 1e-5)) {${t}.setEnvMod(${e[8].loop})};\n\t\t\tif (${t}_tatt.onChanged(${e[9].loop}, 1e-5)) {${t}.setNormalAttack(${e[9].loop})};\n\t\t\tif (${t}_tdec.onChanged(${e[10].loop}, 1e-5)) {${t}.setDecay(${e[10].loop})};\n\t\t\t${t}.setAccent(${e[11].loop});\n\t\t\treturn ${t}.play();})()`},freeverb:{setup:(t,e)=>t+" = new Maximilian.maxiFreeVerb();",loop:(t,e)=>`${t}.play(${e[0].loop},${e[1].loop},${e[2].loop})`},line:{setup:(t,e)=>`${t} = new Maximilian.maxiLine(); ${t}.prepare(0,1,${e[1].loop}, false); ${t}.triggerEnable(1);`,loop:(t,e)=>`${t}.play(${e[0].loop})`},const:{setup:(t,e)=>"",loop:(t,e)=>""+e[0].loop},poll:{setup:(t,e)=>t+" = new poll()",loop:(t,e)=>`${t}.play(${e[0].loop})`},dac:{setup:(t,e)=>"",loop:(t,e)=>1==e.length?`this.dacOutAll(${e[0].loop})`:`this.dacOut(${e[0].loop},${e[1].loop})`},fft:{setup:(t,e)=>`${t} = new fft(${e[1].loop}, ${e[2].loop})`,loop:(t,e)=>`${t}.play(${e[0].loop})`},ifft:{setup:(t,e)=>`${t} = new ifft(${e[3].loop}, ${e[4].loop})`,loop:(t,e)=>`${t}.play(${e[0].loop}, ${e[1].loop}, ${e[2].loop})`},mfcc:{setup:(t,e)=>`${t} = new mfcc(${e[1].loop}, ${e[2].loop}, ${e[3].loop})`,loop:(t,e)=>`${t}.play(${e[0].loop})`}};class X{static getNextID(){return W=W>9999?0:++W}static emptyCode(){return{setup:"",loop:"",paramMarkers:[]}}static traverseTree(t,e,n,r,i){let o={"@lang":(t,e)=>(e.map(e=>{let o=X.traverseTree(e,X.emptyCode(),n,r,i);t.setup+=o.setup,t.loop+=o.loop}),t),"@spawn":(t,e)=>((t=X.traverseTree(e,t,n,r,i)).loop+=";",t),"@sigp":(t,e)=>{let o=[{s:e.paramBegin,e:e.paramEnd,l:n}];t.paramMarkers=t.paramMarkers.concat(o);let s=e["@func"].value,a=Y[s],c="q.b"+i+"u"+X.getNextID(),u=[];for(let t=0;t<e["@params"].length;t++){let o=X.emptyCode();o=X.traverseTree(e["@params"][t],o,n+1,r,i),u[t]=o}let l="";for(let e in u)l+=u[e].setup,t.paramMarkers=t.paramMarkers.concat(u[e].paramMarkers);return t.setup+=`${l} ${a.setup(c,u)};`,t.loop+=""+a.loop(c,u),t},"@setvar":(t,e)=>{let o=e["@varname"],s=r[o];null==s&&(s=Object.keys(r).length,r[o]=s);let a=X.traverseTree(e["@varvalue"],X.emptyCode(),n+1,r,i);return t.setup+=a.setup,t.loop=`(mem[${s}] = ${a.loop})`,t},"@getvar":(t,e)=>{let n=r[e];return null==n&&(n=Object.keys(r).length,r[e]=n),t.loop+=`(mem[${n}] != undefined ? mem[${n}] : 0)`,t},"@string":(t,e)=>(("string"==typeof e||e instanceof String)&&(t.loop+=`'${e}'`),t),"@num":(t,e)=>(null!=e.value&&(t.loop+=""+e.value),t),"@list":(t,e)=>{let o="q.b"+i+"l"+X.getNextID();t.setup+=`${o} = new Float64Array(${e.length});`,t.loop+="(()=>{";let s="";for(let a=0;a<e.length;a++){let c=X.traverseTree(e[a],X.emptyCode(),n,r,i);"@num"==Object.keys(e[a])[0]?t.setup+=`${o}[${a}] = ${c.loop};`:(s+=c.setup,t.loop+=`${o}[${a}] = ${c.loop};`)}return t.loop+=`return ${o}})()`,t.setup+=s,t}};return Array.isArray(t)?t.map(t=>{Object.keys(t).map(n=>{e=o[n](e,t[n])})}):Object.keys(t).map(n=>{e=o[n](e,t[n])}),e}static treeToCode(t,e=0){K={};let n=X.traverseTree(t,X.emptyCode(),0,K,e);return n.setup=`() => {let q=this.newq(); ${n.setup}; return q;}`,n.loop=`(q, inputs, mem) => {${n.loop}}`,n}}var Z=X,J=n(82),Q=n.n(J),tt=0;class et{constructor(t){this.startLine=t,this.blockID=tt++}}class nt{constructor(t){this.editor=t,this.blocks=new Array,this.blocks.push(new et(-1))}onEditChange(t){let e=t=>1==this.blocks.filter(e=>e.startLine==t).length,n=t=>{let e=this.blocks.findIndex(e=>e.startLine>t);const n=new et(t);-1==e?this.blocks.push(n):this.blocks.splice(e,0,n)},r=t=>{this.blocks=this.blocks.filter(e=>e.startLine!=t)},i=t=>/^___+$/.test(t),o=(t,o)=>{let s=e(t);i(o)?s||n(t):s&&r(t)},s=(t,e)=>{this.blocks=this.blocks.map(n=>(n.startLine>t&&(n.startLine+=e),n))},a=(t,e)=>{this.blocks=this.blocks.map(n=>(n.startLine>t&&(n.startLine-=e),n))};switch(t.origin){case"+delete":case"cut":if(t.from.line==t.to.line){let e=this.editor.getLine(t.from.line);o(t.from.line,e)}else{let n=t.from.line+t.text.length-1;this.editor.getLine(n),this.editor.getLine(t.from.line);for(let n=0;n<t.removed.length;n++)c=t.from.line+n,u=t.removed[n],l=!0,i(u)==l&&e(c)&&r(c);a(t.from.line,t.removed.length-1)}break;case"+input":case"paste":if(1==t.text.length){let e=this.editor.getLine(t.from.line);o(t.from.line,e)}else{let a=t.from.line+t.text.length-1,c=this.editor.getLine(a);if(s(t.from.line,t.text.length-1),e(t.from.line))t.from.ch<3?i(c)?this.blocks=this.blocks.map(e=>(e.startLine==t.from.line&&(e.startLine=a),e)):r(t.from.line):(o(t.from.line,this.editor.getLine(t.from.line)),i(c)&&n(a));else for(let e=0;e<t.text.length;e++)o(t.from.line+e,t.text[e])}break;case"setValue":for(let e in t.text)o(parseInt(e),t.text[e])}var c,u,l}getBlockFromLine(t){let e=0;for(let n=0;n<this.blocks.length-1;n++)(n==blocks.length-1||t>this.blocks[n].startLine&&n<this.blocks[n+1].startLine)&&(e=n);return{id:this.blocks[e].blockID,idx:e}}}n(175);const{Error:rt,console:it}=_.E;function ot(t){let e,n,r;function i(e){t[46].call(null,e)}let o={tab:t[1],lineNumbers:t[2],ctrlEnter:t[10],cmdEnter:t[10],cmdPeriod:t[11],ctrlPeriod:t[11],cmdForwardSlash:I};void 0!==t[0]&&(o.value=t[0]);const s=new L.a({props:o,$$inline:!0});t[45](s),_.k.push(()=>Object(_.j)(s,"value",i)),s.$on("change",t[47]),s.$on("focus",t[48]),s.$on("blur",t[49]),s.$on("refresh",t[50]),s.$on("gutterClick",t[51]),s.$on("viewportChange",t[52]);const a={c:function(){e=Object(_.v)("div"),Object(_.o)(s.$$.fragment),Object(_.h)(e,"class","codemirror-container layout-template-container scrollable svelte-1okks6w"),Object(_.d)(e,"client/components/editors/LiveCodeEditor.svelte",415,0,11659)},l:function(t){throw new rt("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){Object(_.I)(t,e,n),Object(_.L)(s,e,null),r=!0},p:function(t,e){const r={};2&e[0]&&(r.tab=t[1]),4&e[0]&&(r.lineNumbers=t[2]),!n&&1&e[0]&&(n=!0,r.value=t[0],Object(_.c)(()=>n=!1)),s.$set(r)},i:function(t){r||(Object(_.gb)(s.$$.fragment,t),r=!0)},o:function(t){Object(_.hb)(s.$$.fragment,t),r=!1},d:function(n){n&&Object(_.t)(e),t[45](null),Object(_.r)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:ot.name,type:"component",source:"",ctx:t}),a}const st="undefined"!=typeof window;function at(t,e,n){let r,i,o,s,a,c,u=_.M;Object(_.mb)(fa,"grammarCompiledParser"),Object(_.m)(t,fa,t=>n(33,r=t)),Object(_.mb)(ma,"liveCodeParseResults"),Object(_.m)(t,ma,t=>n(34,i=t)),Object(_.mb)(ga,"liveCodeAbstractSyntaxTree"),Object(_.m)(t,ga,t=>n(35,o=t)),Object(_.mb)(ba,"liveCodeParseErrors"),Object(_.m)(t,ba,t=>n(36,s=t)),Object(_.mb)(va,"dspCode"),Object(_.m)(t,va,t=>n(37,a=t)),Object(_.mb)(ua,"audioEngineStatus"),Object(_.m)(t,ua,t=>n(38,c=t)),t.$$.on_destroy.push(()=>u());const l=Object(x.b)();let h,f,d,{grammarSource:p}=e,{tab:m=!0}=e,{id:b}=e,{name:g}=e,{type:v}=e,{lineNumbers:y}=e,{hasFocus:w}=e,{theme:O}=e,{background:E}=e,{data:S}=e,{responsive:M}=e,{resizable:T}=e,{resize:A}=e,{draggable:C}=e,{drag:R}=e,{min:P={}}=e,{max:D={}}=e,{x:B}=e,{y:$}=e,{w:F}=e,{h:U}=e,{component:z}=e,H=new q.a,G=t=>{d.onEditChange(t.detail.changeObj);try{let t=h.getValue();l("change",{prop:"data",value:t})}catch(t){console.error("Error Live Code Editor get value from code Mirror")}},W=t=>{n(12,w=!0),l("change",{prop:"hasFocus",value:!0})},K=t=>{n(12,w=!1),l("change",{prop:"hasFocus",value:!1})},Y=t=>{},X=t=>{},J=t=>{},tt=async t=>{if(Object(V.addToHistory)("live-code-history-",t),window.Worker){new Promise((e,n)=>{f.postMessage({liveCodeSource:t,parserSource:r,type:"parse"}),f.onmessage=t=>{console.log("DEBUG:LiveCodeEditor:parseLiveCode:onmessage"),console.log(t),void 0!==t.data&&e(t.data)}}).then(t=>{console.log("DEBUG:LiveCodeEditor:parseLiveCode:then1"),console.log(t);const{parserOutputs:e,parserResults:n}=t;e&&n?(Object(_.Y)(ma,i=n),Object(_.Y)(ga,o=e),Object(_.Y)(ba,s=""),Object(_.Y)(va,a=Z.treeToCode(i,0)),console.log("code generated"),H.publish("eval-dsp",a)):(Object(_.Y)(ba,s=t),Object(_.Y)(ga,o=Object(_.Y)(ma,i="")))}).catch(t=>{console.log("DEBUG:parserEditor:parseLiveCode:catch"),console.log(t),Object(_.Y)(ba,s=t)})}},rt=async t=>{if(window.Worker){let t=new ILWorker;new Promise((e,n)=>{t.postMessage({liveCodeAbstractSyntaxTree:ma,type:"ASTtoDSP"});let r=setTimeout(()=>{t.terminate(),t=new ILWorker},5e3);t.onmessage=t=>{(void 0!==t.data||void 0!==t.data&&0!=t.data.length)&&e(t.data),clearTimeout(r)}}).then(t=>{dspCode=t,console.log("DEBUG:Layout:translateILtoDSPasync")}).catch(t=>{console.log("DEBUG:Layout:translateILtoDSPasync:catch"),console.log(t)})}};const ot=async()=>{try{"paused"===c&&Object(_.Y)(ua,c="running"),console.log("parsing"),console.log(h.getCursorPosition()),await tt(h.getBlock())}catch(t){console.log("DEBUG:LiveCodeEditor:evalLiveCodeOnEditorCommand:")}},at=()=>{H.publish("stop-audio"),Object(_.Y)(ua,c="paused")};let ct=t=>{if(isEmpty(t))throw Error("Empty grammar");{let{errors:e,output:n}=Object(j.a)(t);if(null!=e)return n;throw Error("Grammar Malformed")}},ut=t=>{grammarSourceSubscriptionToken=this.messaging.subscribe(t,t=>{void 0!==event&&(console.log("DEBUG:LiveCodeEditor:subscribeTo:"),console.log(event))})};Object(x.e)(async()=>{h.set(S,"js","monokai"),f=new Q.a,d=new nt(h)}),Object(x.d)(()=>{f.terminate(),f=null});const lt=["grammarSource","tab","id","name","type","lineNumbers","hasFocus","theme","background","data","responsive","resizable","resize","draggable","drag","min","max","x","y","w","h","component"];Object.keys(e).forEach(t=>{~lt.indexOf(t)||"$$"===t.slice(0,2)||it.warn(`<LiveCodeEditor> was created with unknown prop '${t}'`)});let{$$slots:ht={},$$scope:ft}=e;Object(_.lb)("LiveCodeEditor",ht,[]);return t.$set=t=>{"grammarSource"in t&&n(13,p=t.grammarSource),"tab"in t&&n(1,m=t.tab),"id"in t&&n(14,b=t.id),"name"in t&&n(15,g=t.name),"type"in t&&n(16,v=t.type),"lineNumbers"in t&&n(2,y=t.lineNumbers),"hasFocus"in t&&n(12,w=t.hasFocus),"theme"in t&&n(17,O=t.theme),"background"in t&&n(18,E=t.background),"data"in t&&n(0,S=t.data),"responsive"in t&&n(19,M=t.responsive),"resizable"in t&&n(20,T=t.resizable),"resize"in t&&n(21,A=t.resize),"draggable"in t&&n(22,C=t.draggable),"drag"in t&&n(23,R=t.drag),"min"in t&&n(24,P=t.min),"max"in t&&n(25,D=t.max),"x"in t&&n(26,B=t.x),"y"in t&&n(27,$=t.y),"w"in t&&n(28,F=t.w),"h"in t&&n(29,U=t.h),"component"in t&&n(30,z=t.component)},t.$capture_state=()=>({is_browser:st,CodeMirror:L.a,set:L.set,update:L.update,onMount:x.e,onDestroy:x.d,createEventDispatcher:x.b,dispatch:l,nearley:N,compile:j.a,addToHistory:V.addToHistory,nil:I,log:k,PubSub:q.a,IRToJavascript:Z,ParserWorker:Q.a,blockTracker:nt,blockData:et,grammarCompiledParser:fa,liveCodeEditorValue:pa,liveCodeParseErrors:ba,liveCodeParseResults:ma,liveCodeAbstractSyntaxTree:ga,dspCode:va,audioEngineStatus:ua,grammarSource:p,tab:m,id:b,name:g,type:v,lineNumbers:y,hasFocus:w,theme:O,background:E,data:S,responsive:M,resizable:T,resize:A,draggable:C,drag:R,min:P,max:D,x:B,y:$,w:F,h:U,component:z,codeMirror:h,parserWorker:f,messaging:H,btrack:d,onChange:G,onFocus:W,onBlur:K,onRefresh:Y,onGutterCick:X,onViewportChange:J,parseLiveCodeAsync:tt,translateILtoDSPasync:rt,evalLiveCodeOnEditorCommand:ot,stopAudioOnEditorCommand:at,compileParser:ct,subscribeTo:ut,$grammarCompiledParser:r,$liveCodeParseResults:i,$liveCodeAbstractSyntaxTree:o,$liveCodeParseErrors:s,$dspCode:a,$audioEngineStatus:c}),t.$inject_state=t=>{"grammarSource"in t&&n(13,p=t.grammarSource),"tab"in t&&n(1,m=t.tab),"id"in t&&n(14,b=t.id),"name"in t&&n(15,g=t.name),"type"in t&&n(16,v=t.type),"lineNumbers"in t&&n(2,y=t.lineNumbers),"hasFocus"in t&&n(12,w=t.hasFocus),"theme"in t&&n(17,O=t.theme),"background"in t&&n(18,E=t.background),"data"in t&&n(0,S=t.data),"responsive"in t&&n(19,M=t.responsive),"resizable"in t&&n(20,T=t.resizable),"resize"in t&&n(21,A=t.resize),"draggable"in t&&n(22,C=t.draggable),"drag"in t&&n(23,R=t.drag),"min"in t&&n(24,P=t.min),"max"in t&&n(25,D=t.max),"x"in t&&n(26,B=t.x),"y"in t&&n(27,$=t.y),"w"in t&&n(28,F=t.w),"h"in t&&n(29,U=t.h),"component"in t&&n(30,z=t.component),"codeMirror"in t&&n(3,h=t.codeMirror),"parserWorker"in t&&(f=t.parserWorker),"messaging"in t&&(H=t.messaging),"btrack"in t&&(d=t.btrack),"onChange"in t&&n(4,G=t.onChange),"onFocus"in t&&n(5,W=t.onFocus),"onBlur"in t&&n(6,K=t.onBlur),"onRefresh"in t&&n(7,Y=t.onRefresh),"onGutterCick"in t&&n(8,X=t.onGutterCick),"onViewportChange"in t&&n(9,J=t.onViewportChange),"parseLiveCodeAsync"in t&&(tt=t.parseLiveCodeAsync),"translateILtoDSPasync"in t&&(rt=t.translateILtoDSPasync),"compileParser"in t&&(ct=t.compileParser),"subscribeTo"in t&&(ut=t.subscribeTo)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[S,m,y,h,G,W,K,Y,X,J,ot,at,w,p,b,g,v,O,E,M,T,A,C,R,P,D,B,$,F,U,z,f,d,r,i,o,s,a,c,l,H,tt,rt,ct,ut,function(t){_.k[t?"unshift":"push"](()=>{n(3,h=t)})},function(t){S=t,n(0,S)},t=>G(t),t=>W(t),t=>K(t),t=>Y(t),t=>X(t),t=>J(t)]}st&&Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,391));class ct extends _.a{constructor(t){super(t),Object(_.H)(this,t,at,ot,_.T,{grammarSource:13,tab:1,id:14,name:15,type:16,lineNumbers:2,hasFocus:12,theme:17,background:18,data:0,responsive:19,resizable:20,resize:21,draggable:22,drag:23,min:24,max:25,x:26,y:27,w:28,h:29,component:30},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"LiveCodeEditor",options:t,id:ot.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[13]||"grammarSource"in n||it.warn("<LiveCodeEditor> was created without expected prop 'grammarSource'"),void 0!==e[14]||"id"in n||it.warn("<LiveCodeEditor> was created without expected prop 'id'"),void 0!==e[15]||"name"in n||it.warn("<LiveCodeEditor> was created without expected prop 'name'"),void 0!==e[16]||"type"in n||it.warn("<LiveCodeEditor> was created without expected prop 'type'"),void 0!==e[2]||"lineNumbers"in n||it.warn("<LiveCodeEditor> was created without expected prop 'lineNumbers'"),void 0!==e[12]||"hasFocus"in n||it.warn("<LiveCodeEditor> was created without expected prop 'hasFocus'"),void 0!==e[17]||"theme"in n||it.warn("<LiveCodeEditor> was created without expected prop 'theme'"),void 0!==e[18]||"background"in n||it.warn("<LiveCodeEditor> was created without expected prop 'background'"),void 0!==e[0]||"data"in n||it.warn("<LiveCodeEditor> was created without expected prop 'data'"),void 0!==e[19]||"responsive"in n||it.warn("<LiveCodeEditor> was created without expected prop 'responsive'"),void 0!==e[20]||"resizable"in n||it.warn("<LiveCodeEditor> was created without expected prop 'resizable'"),void 0!==e[21]||"resize"in n||it.warn("<LiveCodeEditor> was created without expected prop 'resize'"),void 0!==e[22]||"draggable"in n||it.warn("<LiveCodeEditor> was created without expected prop 'draggable'"),void 0!==e[23]||"drag"in n||it.warn("<LiveCodeEditor> was created without expected prop 'drag'"),void 0!==e[26]||"x"in n||it.warn("<LiveCodeEditor> was created without expected prop 'x'"),void 0!==e[27]||"y"in n||it.warn("<LiveCodeEditor> was created without expected prop 'y'"),void 0!==e[28]||"w"in n||it.warn("<LiveCodeEditor> was created without expected prop 'w'"),void 0!==e[29]||"h"in n||it.warn("<LiveCodeEditor> was created without expected prop 'h'"),void 0!==e[30]||"component"in n||it.warn("<LiveCodeEditor> was created without expected prop 'component'")}get grammarSource(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set grammarSource(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tab(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tab(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get id(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get type(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set type(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasFocus(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasFocus(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get theme(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set theme(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get background(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set background(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get responsive(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set responsive(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resizable(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resizable(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resize(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get draggable(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draggable(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get drag(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set drag(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get x(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set x(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get y(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set y(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get w(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set w(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get h(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set h(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new rt("<LiveCodeEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(t){throw new rt("<LiveCodeEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var ut=ct;const lt=(t=null)=>null===t,ht=t=>String(parseInt(String(t)))===String(t),ft=t=>Object(x.g)().then(t),dt=t=>Object.prototype.toString.call(t).slice(8,-1),pt=t=>{if(Symbol.toStringTag in t)return dt(t);const e=Object.getPrototypeOf(t),n=e&&e.constructor&&e.constructor.name;return n&&"Object"!==n?n:dt(t)},mt=t=>{const e=[];for(const n in t)e.push(n);return[...new Set([...e,...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t),...t.__proto__?["__proto__"]:[]])]},bt=(t,e)=>{if(t){if("__proto__"===e)return{value:Object.getPrototypeOf(t)};{const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;{const n=Object.getPrototypeOf(t);return bt(n,e)}}}return{}},gt=t=>t.split(/([\x00-\x1F]+)/).map(t=>JSON.stringify(t).slice(1,-1)),vt="\\".charCodeAt(0),yt=t=>t.charCodeAt(0)===vt,wt=t=>{const e=Object.keys(t);return n=>{const r=[];let i=n;for(;i.length;){let n=null,o=null,s=i.length;for(const r of e){const e=t[r],a=i.match(e);a&&a.index<s&&(n=r,o=a[0],s=a.index)}if(s>0&&r.push({key:void 0,match:i.slice(0,s)}),!o)break;r.push({key:n,match:o}),i=i.slice(s+o.length)}return r}};let _t=0;function xt(t){t.dataset.focusTarget=_t++,t.tabIndex=0;const e=()=>{Tt(t)};return t.addEventListener("focus",e),{destroy(){t.removeEventListener("focus",e)}}}function Ot(t){t.dataset.focusScope=""}const Et=t=>{const e=document.createRange();return e.selectNodeContents(t),e};function St(t,e){const n=Et(t);for(let t=0;t<e.length;t++)if(1===n.comparePoint(e[t],0))return e[t];return e[0]}function jt(t){return function(t,e){const n=Et(t),r=e.length-1;for(let t=r;t>=0;t--)if(-1===n.comparePoint(e[t],0))return e[t];return e[r]}(t,document.querySelectorAll("[data-focus-target]"))}function Mt(t){return t.closest("[data-focus-scope]")}function Tt(t){if(t){const e=t.dataset.focusTarget;if(e){const n=Mt(t);n&&(n.dataset.focusScope=e)}return t.focus(),!0}return!1}function At(){return Tt(jt(document.activeElement))}function kt(){return Tt(St(document.activeElement,document.querySelectorAll("[data-focus-target]")))}function It(){const t=Mt(document.activeElement);return t?Tt(jt(t)):(document.activeElement.blur(),!1)}function Ct(){const t=St(document.activeElement,document.querySelectorAll("[data-focus-scope]"));if(jt(t)!==document.activeElement)return!1;const e=t.dataset.focusScope,n=e?`[data-focus-target="${e}"]`:"[data-focus-target]";return Tt(t.querySelector(n))}function Rt(t){try{const e=new RegExp(t.split("").join("[^a-z0-9]*.?[^a-z0-9]*"),"i");let n=document.activeElement;do{n=Mt(n.parentElement);const t=(n||document).querySelectorAll("[data-focus-target]");for(let n=0;n<t.length;n++){const r=t[n],i=r.textContent;if(e.test(i))return Tt(r)}}while(n)}catch(t){}return!1}n(176);const Pt="node_modules/svelte-inspect/inspect/PropertyList.svelte";function Lt(t,e,n){const r=t.slice();return r[8]=e[n],r}function Nt(t,e,n){const r=t.slice();return r[11]=e[n],r}function Dt(t){let e,n,r,i,o;const s=t[5].default,a=Object(_.p)(s,t,t[7],null),c=a||Bt(t),u={c:function(){e=Object(_.v)("div"),n=Object(_.v)("pre"),n.textContent="",r=Object(_.ab)(),i=Object(_.v)("span"),c&&c.c(),Object(_.h)(n,"class","indentation svelte-cu8yjq"),Object(_.d)(n,Pt,33,6,886),Object(_.h)(i,"class","empty svelte-cu8yjq"),Object(_.d)(i,Pt,34,6,934),Object(_.h)(e,"class","row svelte-cu8yjq"),Object(_.d)(e,Pt,32,4,864)},m:function(t,s){Object(_.I)(t,e,s),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),c&&c.m(i,null),o=!0},p:function(t,e){a&&a.p&&128&e&&a.p(Object(_.A)(s,t,t[7],null),Object(_.z)(s,t[7],e,null))},i:function(t){o||(Object(_.gb)(c,t),o=!0)},o:function(t){Object(_.hb)(c,t),o=!1},d:function(t){t&&Object(_.t)(e),c&&c.d(t)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Dt.name,type:"else",source:"(32:2) {:else}",ctx:t}),u}function Bt(t){let e;const n={c:function(){e=Object(_.db)("No properties")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:Bt.name,type:"fallback",source:"(35:30) No properties",ctx:t}),n}function $t(t,e){let n,r,i,o,s;const a=new fo({props:{depth:e[3],key:e[11],context:e[0],descriptor:bt(e[0],e[11]),separator:": "},$$inline:!0}),c={key:t,first:null,c:function(){n=Object(_.v)("div"),r=Object(_.v)("pre"),r.textContent="",i=Object(_.ab)(),o=Object(_.v)("span"),Object(_.o)(a.$$.fragment),Object(_.h)(r,"class","indentation svelte-cu8yjq"),Object(_.d)(r,Pt,20,6,564),Object(_.h)(o,"class","item svelte-cu8yjq"),Object(_.d)(o,Pt,21,6,612),Object(_.h)(n,"class","row svelte-cu8yjq"),Object(_.d)(n,Pt,19,4,542),this.first=n},m:function(t,e){Object(_.I)(t,n,e),Object(_.f)(n,r),Object(_.f)(n,i),Object(_.f)(n,o),Object(_.L)(a,o,null),s=!0},p:function(t,e){const n={};8&e&&(n.depth=t[3]),6&e&&(n.key=t[11]),1&e&&(n.context=t[0]),7&e&&(n.descriptor=bt(t[0],t[11])),a.$set(n)},i:function(t){s||(Object(_.gb)(a.$$.fragment,t),s=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(n),Object(_.r)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:$t.name,type:"each",source:"(19:2) {#each properties.slice(0, maxCount) as property (property)}",ctx:e}),c}function Ft(t){let e,n,r=[],i=new Map,o={length:1};Object(_.jb)(o);const s=t=>t[1];Object(_.kb)(t,o,Lt,s);for(let e=0;e<o.length;e+=1){let n=Lt(t,o,e),a=s(n);i.set(a,r[e]=zt(a,n))}const a={c:function(){for(let t=0;t<r.length;t+=1)r[t].c();e=Object(_.w)()},m:function(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);Object(_.I)(t,e,i),n=!0},p:function(t,n){if(6&n){const o={length:1};Object(_.jb)(o),Object(_.F)(),Object(_.kb)(t,o,Lt,s),r=Object(_.ib)(r,n,s,1,t,o,i,e.parentNode,_.Q,zt,e,Lt),Object(_.l)()}},i:function(t){if(!n){for(let t=0;t<o.length;t+=1)Object(_.gb)(r[t]);n=!0}},o:function(t){for(let t=0;t<r.length;t+=1)Object(_.hb)(r[t]);n=!1},d:function(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Ft.name,type:"if",source:"(38:2) {#if maxCount < properties.length}",ctx:t}),a}function Ut(t){let e,n,r,i,o,s,a,c=Math.min(t[2].length,t[1]+Gt-1)+"",u=t[2].length+"";const l={c:function(){e=Object(_.db)("Show "),n=Object(_.db)(t[1]),r=Object(_.db)("  "),i=Object(_.db)(c),o=Object(_.db)(" of "),s=Object(_.db)(u),a=Object(_.db)(" properties")},m:function(t,c){Object(_.I)(t,e,c),Object(_.I)(t,n,c),Object(_.I)(t,r,c),Object(_.I)(t,i,c),Object(_.I)(t,o,c),Object(_.I)(t,s,c),Object(_.I)(t,a,c)},p:function(t,e){2&e&&Object(_.X)(n,t[1]),6&e&&c!==(c=Math.min(t[2].length,t[1]+Gt-1)+"")&&Object(_.X)(i,c),4&e&&u!==(u=t[2].length+"")&&Object(_.X)(s,u)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i),t&&Object(_.t)(o),t&&Object(_.t)(s),t&&Object(_.t)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:Ut.name,type:"slot",source:"(42:8) <Toggle           on:open={() => {             maxCount += paging;             focusPrev();             onTick(focusNext);           }}         >",ctx:t}),l}function zt(t,e){let n,r,i,o,s;const a=new ee({props:{$$slots:{default:[Ut]},$$scope:{ctx:e}},$$inline:!0});a.$on("open",e[6]);const c={key:t,first:null,c:function(){n=Object(_.v)("div"),r=Object(_.v)("pre"),r.textContent="",i=Object(_.ab)(),Object(_.o)(a.$$.fragment),o=Object(_.ab)(),Object(_.h)(r,"class","indentation svelte-cu8yjq"),Object(_.d)(r,Pt,40,8,1114),Object(_.h)(n,"class","row svelte-cu8yjq"),Object(_.d)(n,Pt,39,6,1090),this.first=n},m:function(t,e){Object(_.I)(t,n,e),Object(_.f)(n,r),Object(_.f)(n,i),Object(_.L)(a,n,null),Object(_.f)(n,o),s=!0},p:function(t,e){const n={};134&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i:function(t){s||(Object(_.gb)(a.$$.fragment,t),s=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(n),Object(_.r)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:zt.name,type:"each",source:"(39:4) {#each {length: 1} as _ (maxCount)}",ctx:e}),c}function Ht(t){let e,n,r,i,o,s=[],a=new Map,c=t[2].slice(0,t[1]);Object(_.jb)(c);const u=t=>t[11];Object(_.kb)(t,c,Nt,u);for(let e=0;e<c.length;e+=1){let n=Nt(t,c,e),r=u(n);a.set(r,s[e]=$t(r,n))}let l=null;c.length||(l=Dt(t));let h=t[1]<t[2].length&&Ft(t);const f={c:function(){e=Object(_.v)("span");for(let t=0;t<s.length;t+=1)s[t].c();l&&l.c(),n=Object(_.ab)(),h&&h.c(),Object(_.d)(e,Pt,17,0,458)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,a,c){Object(_.I)(t,e,a);for(let t=0;t<s.length;t+=1)s[t].m(e,null);l&&l.m(e,null),Object(_.f)(e,n),h&&h.m(e,null),i=!0,c&&o(),o=Object(_.b)(r=Ot.call(null,e))},p:function(t,[r]){if(143&r){const i=t[2].slice(0,t[1]);Object(_.jb)(i),Object(_.F)(),Object(_.kb)(t,i,Nt,u),s=Object(_.ib)(s,r,u,1,t,i,a,e,_.Q,$t,n,Nt),Object(_.l)(),!i.length&&l?l.p(t,r):i.length?l&&(l.d(1),l=null):(l=Dt(t),l.c(),l.m(e,n))}t[1]<t[2].length?h?(h.p(t,r),Object(_.gb)(h,1)):(h=Ft(t),h.c(),Object(_.gb)(h,1),h.m(e,null)):h&&(Object(_.F)(),Object(_.hb)(h,1,1,()=>{h=null}),Object(_.l)())},i:function(t){if(!i){for(let t=0;t<c.length;t+=1)Object(_.gb)(s[t]);Object(_.gb)(h),i=!0}},o:function(t){for(let t=0;t<s.length;t+=1)Object(_.hb)(s[t]);Object(_.hb)(h),i=!1},d:function(t){t&&Object(_.t)(e);for(let t=0;t<s.length;t+=1)s[t].d();l&&l.d(),h&&h.d(),o()}};return Object(_.u)("SvelteRegisterBlock",{block:f,id:Ht.name,type:"component",source:"",ctx:t}),f}const Gt=100;function Vt(t,e,n){let{depth:r=0}=e,{value:i}=e,o=Gt;const s=["depth","value"];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<PropertyList> was created with unknown prop '${t}'`)});let{$$slots:a={},$$scope:c}=e;Object(_.lb)("PropertyList",a,["default"]);let u,l;return t.$set=t=>{"depth"in t&&n(4,r=t.depth),"value"in t&&n(0,i=t.value),"$$scope"in t&&n(7,c=t.$$scope)},t.$capture_state=()=>({onTick:ft,isNil:lt,getAllProperties:mt,getPropertyDescriptor:bt,depth:r,value:i,paging:Gt,maxCount:o,scope:Ot,focusPrev:At,focusNext:kt,Property:fo,Toggle:ee,properties:u,nextDepth:l}),t.$inject_state=t=>{"depth"in t&&n(4,r=t.depth),"value"in t&&n(0,i=t.value),"maxCount"in t&&n(1,o=t.maxCount),"properties"in t&&n(2,u=t.properties),"nextDepth"in t&&n(3,l=t.nextDepth)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(2,u=lt(i)?[]:mt(i)),16&t.$$.dirty&&n(3,l=Math.max(0,r-1))},[i,o,u,l,r,a,()=>{n(1,o+=Gt),At(),ft(kt)},c]}class qt extends _.a{constructor(t){super(t),Object(_.H)(this,t,Vt,Ht,_.T,{depth:4,value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"PropertyList",options:t,id:Ht.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<PropertyList> was created without expected prop 'value'")}get depth(){throw new Error("<PropertyList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<PropertyList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<PropertyList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<PropertyList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Wt=qt;n(177);function Kt(t){let e,n,r,i,o;const s=t[6].default,a=Object(_.p)(s,t,t[5],null),c={c:function(){e=Object(_.v)("span"),a&&a.c(),Object(_.h)(e,"role","button"),Object(_.h)(e,"class",n=Object(_.N)(t[1])+" svelte-1na3kro"),Object(_.fb)(e,"toggle",!0),Object(_.d)(e,"node_modules/svelte-inspect/inspect/Toggle.svelte",98,0,2197)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(n,s,c){Object(_.I)(n,e,s),a&&a.m(e,null),i=!0,c&&Object(_.S)(o),o=[Object(_.b)(r=xt.call(null,e)),Object(_.K)(e,"click",t[7],!1,!1,!1),Object(_.K)(e,"keydown",t[3],!1,!1,!1)]},p:function(t,[r]){a&&a.p&&32&r&&a.p(Object(_.A)(s,t,t[5],null),Object(_.z)(s,t[5],r,null)),(!i||2&r&&n!==(n=Object(_.N)(t[1])+" svelte-1na3kro"))&&Object(_.h)(e,"class",n),2&r&&Object(_.fb)(e,"toggle",!0)},i:function(t){i||(Object(_.gb)(a,t),i=!0)},o:function(t){Object(_.hb)(a,t),i=!1},d:function(t){t&&Object(_.t)(e),a&&a.d(t),Object(_.S)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Kt.name,type:"component",source:"",ctx:t}),c}let Yt,Xt="",Zt=!1;function Jt(t){Xt+=t,Zt||(Zt=!0,setTimeout(()=>{Zt=!1,Rt(Xt)},100)),clearTimeout(Yt),Yt=setTimeout(()=>{Xt=""},600)}function Qt(t,e,n){const r=Object(x.b)();let{className:i=""}=e,{isOpen:o=!1}=e;const s=(t=!o)=>{n(0,o=t),r("open",t)},a=t=>{let e=!0;switch(t.code){case"Space":s();break;case"ArrowUp":At();break;case"ArrowDown":kt();break;case"Escape":It();break;case"ArrowLeft":o?s(!1):It();break;case"Enter":if(o){Ct()||s(!1)}else s(!0),At(),ft(kt).then(Ct);break;case"ArrowRight":o?Ct():s(!0);break;default:1===t.key.length&&Jt(t.key),e=!1}e&&t.preventDefault()},c=["className","isOpen"];Object.keys(e).forEach(t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Toggle> was created with unknown prop '${t}'`)});let{$$slots:u={},$$scope:l}=e;Object(_.lb)("Toggle",u,["default"]);return t.$set=t=>{"className"in t&&n(1,i=t.className),"isOpen"in t&&n(0,o=t.isOpen),"$$scope"in t&&n(5,l=t.$$scope)},t.$capture_state=()=>({typingBuffer:Xt,hasSearchBufferTimeout:Zt,clearBufferTimeout:Yt,type:Jt,createEventDispatcher:x.b,dispatch:r,onTick:ft,target:xt,focusPrev:At,focusNext:kt,exitFocusScope:It,enterFocusScope:Ct,focusBySearch:Rt,className:i,isOpen:o,toggle:s,onKeyDown:a,PropertyList:Wt}),t.$inject_state=t=>{"className"in t&&n(1,i=t.className),"isOpen"in t&&n(0,o=t.isOpen)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,i,s,a,r,l,u,t=>{1===t.detail?s():o&&2===t.detail&&Ct()}]}class te extends _.a{constructor(t){super(t),Object(_.H)(this,t,Qt,Kt,_.T,{className:1,isOpen:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Toggle",options:t,id:Kt.name})}get className(){throw new Error("<Toggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set className(t){throw new Error("<Toggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isOpen(){throw new Error("<Toggle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isOpen(t){throw new Error("<Toggle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var ee=te;n(178);const ne=t=>({isOpen:2&t}),re=t=>({isOpen:t[1]});function ie(t){let e;const n={c:function(){e=Object(_.db)("{")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:ie.name,type:"else",source:"(16:2) {:else}",ctx:t}),n}function oe(t){let e;const n={c:function(){e=Object(_.v)("span"),e.textContent="",Object(_.h)(e,"class","on-intent svelte-k2n73c"),Object(_.d)(e,"node_modules/svelte-inspect/inspect/PrimitiveBase.svelte",14,4,273)},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:oe.name,type:"if",source:"(14:2) {#if !isOpen}",ctx:t}),n}function se(t){let e,n,r;const i=t[2].default,o=Object(_.p)(i,t,t[4],re);function s(t,e){return t[1]?ie:oe}let a=s(t),c=a(t);const u={c:function(){o&&o.c(),e=Object(_.ab)(),c.c(),n=Object(_.w)()},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i),c.m(t,i),Object(_.I)(t,n,i),r=!0},p:function(t,e){o&&o.p&&18&e&&o.p(Object(_.A)(i,t,t[4],re),Object(_.z)(i,t[4],e,ne)),a!==(a=s(t))&&(c.d(1),c=a(t),c&&(c.c(),c.m(n.parentNode,n)))},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),c.d(t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:se.name,type:"slot",source:"(12:0) <Toggle className=toggle bind:isOpen>",ctx:t}),u}function ae(t){let e,n;const r=new Wt({props:{value:t[0]},$$inline:!0}),i={c:function(){Object(_.o)(r.$$.fragment),e=Object(_.db)("\n  }")},m:function(t,i){Object(_.L)(r,t,i),Object(_.I)(t,e,i),n=!0},p:function(t,e){const n={};1&e&&(n.value=t[0]),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){Object(_.r)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:ae.name,type:"if",source:"(21:0) {#if isOpen}",ctx:t}),i}function ce(t){let e,n,r,i;function o(e){t[3].call(null,e)}let s={className:"toggle",$$slots:{default:[se]},$$scope:{ctx:t}};void 0!==t[1]&&(s.isOpen=t[1]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[1]&&ae(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};18&n&&(i.$$scope={dirty:n,ctx:t}),!e&&2&n&&(e=!0,i.isOpen=t[1],Object(_.c)(()=>e=!1)),a.$set(i),t[1]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=ae(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:ce.name,type:"component",source:"",ctx:t}),u}function ue(t,e,n){let{value:r}=e,i=!1;const o=["value"];Object.keys(e).forEach(t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<PrimitiveBase> was created with unknown prop '${t}'`)});let{$$slots:s={},$$scope:a}=e;return Object(_.lb)("PrimitiveBase",s,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(4,a=t.$$scope)},t.$capture_state=()=>({value:r,isOpen:i,Toggle:ee,PropertyList:Wt}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"isOpen"in t&&n(1,i=t.isOpen)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i,s,function(t){i=t,n(1,i)},a]}class le extends _.a{constructor(t){super(t),Object(_.H)(this,t,ue,ce,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"PrimitiveBase",options:t,id:ce.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<PrimitiveBase> was created without expected prop 'value'")}get value(){throw new Error("<PrimitiveBase>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<PrimitiveBase>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var he=le;n(179);function fe(t){let e,n,r,i,o=String(t[0])+"";const s=t[1].default,a=Object(_.p)(s,t,t[2],null),c={c:function(){a&&a.c(),e=Object(_.ab)(),n=Object(_.v)("span"),r=Object(_.db)(o),Object(_.h)(n,"class","nil svelte-1nhpasr"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/NilFormatter.svelte",12,2,239)},m:function(t,o){a&&a.m(t,o),Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),i=!0},p:function(t,e){a&&a.p&&4&e&&a.p(Object(_.A)(s,t,t[2],null),Object(_.z)(s,t[2],e,null)),(!i||1&e)&&o!==(o=String(t[0])+"")&&Object(_.X)(r,o)},i:function(t){i||(Object(_.gb)(a,t),i=!0)},o:function(t){Object(_.hb)(a,t),i=!1},d:function(t){a&&a.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:fe.name,type:"slot",source:"(11:0) <PrimitiveBase {value}>",ctx:t}),c}function de(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[fe]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:de.name,type:"component",source:"",ctx:t}),r}const pe=t=>null==t;function me(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<NilFormatter> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("NilFormatter",o,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(2,s=t.$$scope)},t.$capture_state=()=>({check:pe,value:r,PrimitiveBase:he}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s]}class be extends _.a{constructor(t){super(t),Object(_.H)(this,t,me,de,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"NilFormatter",options:t,id:de.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<NilFormatter> was created without expected prop 'value'")}get value(){throw new Error("<NilFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<NilFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var ge=be;n(180);function ve(t){let e,n,r,i,o=String(t[0])+"";const s=t[1].default,a=Object(_.p)(s,t,t[2],null),c={c:function(){a&&a.c(),e=Object(_.ab)(),n=Object(_.v)("span"),r=Object(_.db)(o),Object(_.h)(n,"class","boolean svelte-16aoh7"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/BooleanFormatter.svelte",12,2,203)},m:function(t,o){a&&a.m(t,o),Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),i=!0},p:function(t,e){a&&a.p&&4&e&&a.p(Object(_.A)(s,t,t[2],null),Object(_.z)(s,t[2],e,null)),(!i||1&e)&&o!==(o=String(t[0])+"")&&Object(_.X)(r,o)},i:function(t){i||(Object(_.gb)(a,t),i=!0)},o:function(t){Object(_.hb)(a,t),i=!1},d:function(t){a&&a.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:ve.name,type:"slot",source:"(11:0) <PrimitiveBase {value}>",ctx:t}),c}function ye(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[ve]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:ye.name,type:"component",source:"",ctx:t}),r}const we="boolean";function _e(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<BooleanFormatter> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("BooleanFormatter",o,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(2,s=t.$$scope)},t.$capture_state=()=>({typeOf:we,value:r,PrimitiveBase:he}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s]}class xe extends _.a{constructor(t){super(t),Object(_.H)(this,t,_e,ye,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"BooleanFormatter",options:t,id:ye.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<BooleanFormatter> was created without expected prop 'value'")}get value(){throw new Error("<BooleanFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<BooleanFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Oe=xe;const Ee=t=>({}),Se=t=>({});function je(t){let e;const n=t[1].default,r=Object(_.p)(n,t,t[0],null),i=t[1].slot,o=Object(_.p)(i,t,t[0],Se),s={c:function(){r&&r.c(),o&&o.c()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){r&&r.m(t,n),o&&o.m(t,n),e=!0},p:function(t,[e]){r&&r.p&&1&e&&r.p(Object(_.A)(n,t,t[0],null),Object(_.z)(n,t[0],e,null)),o&&o.p&&1&e&&o.p(Object(_.A)(i,t,t[0],Se),Object(_.z)(i,t[0],e,Ee))},i:function(t){e||(Object(_.gb)(r,t),Object(_.gb)(o,t),e=!0)},o:function(t){Object(_.hb)(r,t),Object(_.hb)(o,t),e=!1},d:function(t){r&&r.d(t),o&&o.d(t)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:je.name,type:"component",source:"",ctx:t}),s}function Me(t,e,n){const r=[];Object.keys(e).forEach(t=>{~r.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Echo> was created with unknown prop '${t}'`)});let{$$slots:i={},$$scope:o}=e;return Object(_.lb)("Echo",i,["default","slot"]),t.$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}class Te extends _.a{constructor(t){super(t),Object(_.H)(this,t,Me,je,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Echo",options:t,id:je.name})}}var Ae=Te;n(181);const ke="node_modules/svelte-inspect/inspect/formatters/SymbolFormatter.svelte";function Ie(t){let e,n,r,i,o;const s={c:function(){e=Object(_.v)("span"),n=Object(_.db)(t[2]),r=Object(_.v)("span"),i=Object(_.db)(t[1]),o=Object(_.v)("span"),o.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","affix svelte-cu19jg"),Object(_.d)(e,ke,18,4,437),Object(_.h)(r,"slot","slot"),Object(_.h)(r,"class","key svelte-cu19jg"),Object(_.d)(r,ke,19,4,485),Object(_.h)(o,"slot","slot"),Object(_.h)(o,"class","affix svelte-cu19jg"),Object(_.d)(o,ke,20,4,528)},m:function(t,s){Object(_.I)(t,e,s),Object(_.f)(e,n),Object(_.I)(t,r,s),Object(_.f)(r,i),Object(_.I)(t,o,s)},p:function(t,e){4&e&&Object(_.X)(n,t[2]),2&e&&Object(_.X)(i,t[1])},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(r),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Ie.name,type:"slot",source:"(21:4) <span slot=slot class=affix>",ctx:t}),s}function Ce(t){let e,n;const r={c:function(){e=Object(_.ab)(),n=Object(_.ab)()},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ce.name,type:"slot",source:"(18:2) <Echo>",ctx:t}),r}function Re(t){let e,n;const r=t[4].default,i=Object(_.p)(r,t,t[5],null),o=new Ae({props:{$$slots:{default:[Ce],slot:[Ie]},$$scope:{ctx:t}},$$inline:!0}),s={c:function(){i&&i.c(),e=Object(_.ab)(),Object(_.o)(o.$$.fragment)},m:function(t,r){i&&i.m(t,r),Object(_.I)(t,e,r),Object(_.L)(o,t,r),n=!0},p:function(t,e){i&&i.p&&32&e&&i.p(Object(_.A)(r,t,t[5],null),Object(_.z)(r,t[5],e,null));const n={};38&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i:function(t){n||(Object(_.gb)(i,t),Object(_.gb)(o.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(i,t),Object(_.hb)(o.$$.fragment,t),n=!1},d:function(t){i&&i.d(t),t&&Object(_.t)(e),Object(_.r)(o,t)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Re.name,type:"slot",source:"(16:0) <PrimitiveBase {value}>",ctx:t}),s}function Pe(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Re]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),38&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Pe.name,type:"component",source:"",ctx:t}),r}const Le="symbol";function Ne(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<SymbolFormatter> was created with unknown prop '${t}'`)});let o,s,a,{$$slots:c={},$$scope:u}=e;return Object(_.lb)("SymbolFormatter",c,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(5,u=t.$$scope)},t.$capture_state=()=>({typeOf:Le,value:r,Echo:Ae,PrimitiveBase:he,isWellKnown:o,key:s,prefix:a}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"isWellKnown"in t&&n(3,o=t.isWellKnown),"key"in t&&n(1,s=t.key),"prefix"in t&&n(2,a=t.prefix)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(3,o=void 0!==Symbol.keyFor(r)),9&t.$$.dirty&&n(1,s=o?Symbol.keyFor(r):String(r).slice(7,-1)),8&t.$$.dirty&&n(2,a=o?"Symbol.for(":"Symbol(")},[r,s,a,o,c,u]}class De extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ne,Pe,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"SymbolFormatter",options:t,id:Pe.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<SymbolFormatter> was created without expected prop 'value'")}get value(){throw new Error("<SymbolFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<SymbolFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Be=De;n(182);const{Object:$e}=_.E;function Fe(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Ue(t){let e,n,r=t[4]+"";const i={c:function(){e=Object(_.v)("span"),n=Object(_.db)(r),Object(_.h)(e,"class","svelte-fl2f5i"),Object(_.fb)(e,"digits",t[6]%2),Object(_.fb)(e,"punctuation",!(t[6]%2)),Object(_.d)(e,"node_modules/svelte-inspect/inspect/formatters/NumberFormatter.svelte",16,6,375)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){2&e&&r!==(r=t[4]+"")&&Object(_.X)(n,r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Ue.name,type:"if",source:"(16:4) {#if group.length}",ctx:t}),i}function ze(t){let e,n=t[4].length&&Ue(t);const r={c:function(){n&&n.c(),e=Object(_.w)()},m:function(t,r){n&&n.m(t,r),Object(_.I)(t,e,r)},p:function(t,r){t[4].length?n?n.p(t,r):(n=Ue(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d:function(t){n&&n.d(t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:ze.name,type:"each",source:"(15:2) {#each stringified.split(/(\\d+)/) as group, index}",ctx:t}),r}function He(t){let e,n,r;const i=t[2].default,o=Object(_.p)(i,t,t[3],null);let s=t[1].split(/(\d+)/);Object(_.jb)(s);let a=[];for(let e=0;e<s.length;e+=1)a[e]=ze(Fe(t,s,e));const c={c:function(){o&&o.c(),e=Object(_.ab)();for(let t=0;t<a.length;t+=1)a[t].c();n=Object(_.w)()},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i);for(let e=0;e<a.length;e+=1)a[e].m(t,i);Object(_.I)(t,n,i),r=!0},p:function(t,e){if(o&&o.p&&8&e&&o.p(Object(_.A)(i,t,t[3],null),Object(_.z)(i,t[3],e,null)),2&e){let r;for(s=t[1].split(/(\d+)/),Object(_.jb)(s),r=0;r<s.length;r+=1){const i=Fe(t,s,r);a[r]?a[r].p(i,e):(a[r]=ze(i),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),Object(_.s)(a,t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:He.name,type:"slot",source:"(13:0) <PrimitiveBase {value}>",ctx:t}),c}function Ge(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[He]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),10&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ge.name,type:"component",source:"",ctx:t}),r}const Ve="number";function qe(t,e,n){let{value:r}=e;const i=["value"];$e.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<NumberFormatter> was created with unknown prop '${t}'`)});let o,{$$slots:s={},$$scope:a}=e;return Object(_.lb)("NumberFormatter",s,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(3,a=t.$$scope)},t.$capture_state=()=>({typeOf:Ve,value:r,PrimitiveBase:he,stringified:o}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"stringified"in t&&n(1,o=t.stringified)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(1,o=Object.is(r,-0)?"-0":Number.prototype.toString.call(r,10))},[r,o,s,a]}class We extends _.a{constructor(t){super(t),Object(_.H)(this,t,qe,Ge,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"NumberFormatter",options:t,id:Ge.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<NumberFormatter> was created without expected prop 'value'")}get value(){throw new Error("<NumberFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<NumberFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Ke=We;n(183);function Ye(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Xe(t){let e,n,r=t[4]+"";const i={c:function(){e=Object(_.v)("span"),n=Object(_.db)(r),Object(_.h)(e,"class","svelte-fl2f5i"),Object(_.fb)(e,"digits",t[6]%2),Object(_.fb)(e,"punctuation",!(t[6]%2)),Object(_.d)(e,"node_modules/svelte-inspect/inspect/formatters/BigIntFormatter.svelte",16,6,347)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){2&e&&r!==(r=t[4]+"")&&Object(_.X)(n,r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Xe.name,type:"if",source:"(16:4) {#if group.length}",ctx:t}),i}function Ze(t){let e,n=t[4].length&&Xe(t);const r={c:function(){n&&n.c(),e=Object(_.w)()},m:function(t,r){n&&n.m(t,r),Object(_.I)(t,e,r)},p:function(t,r){t[4].length?n?n.p(t,r):(n=Xe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d:function(t){n&&n.d(t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ze.name,type:"each",source:"(15:2) {#each stringified.split(/(\\d+)/) as group, index}",ctx:t}),r}function Je(t){let e,n,r;const i=t[2].default,o=Object(_.p)(i,t,t[3],null);let s=t[1].split(/(\d+)/);Object(_.jb)(s);let a=[];for(let e=0;e<s.length;e+=1)a[e]=Ze(Ye(t,s,e));const c={c:function(){o&&o.c(),e=Object(_.ab)();for(let t=0;t<a.length;t+=1)a[t].c();n=Object(_.w)()},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i);for(let e=0;e<a.length;e+=1)a[e].m(t,i);Object(_.I)(t,n,i),r=!0},p:function(t,e){if(o&&o.p&&8&e&&o.p(Object(_.A)(i,t,t[3],null),Object(_.z)(i,t[3],e,null)),2&e){let r;for(s=t[1].split(/(\d+)/),Object(_.jb)(s),r=0;r<s.length;r+=1){const i=Ye(t,s,r);a[r]?a[r].p(i,e):(a[r]=Ze(i),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),Object(_.s)(a,t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Je.name,type:"slot",source:"(13:0) <PrimitiveBase {value}>",ctx:t}),c}function Qe(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Je]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),10&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Qe.name,type:"component",source:"",ctx:t}),r}const tn="bigint";function en(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<BigIntFormatter> was created with unknown prop '${t}'`)});let o,{$$slots:s={},$$scope:a}=e;return Object(_.lb)("BigIntFormatter",s,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(3,a=t.$$scope)},t.$capture_state=()=>({typeOf:tn,value:r,PrimitiveBase:he,stringified:o}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"stringified"in t&&n(1,o=t.stringified)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(1,o=BigInt.prototype.toString.call(r)+"n")},[r,o,s,a]}class nn extends _.a{constructor(t){super(t),Object(_.H)(this,t,en,Qe,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"BigIntFormatter",options:t,id:Qe.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<BigIntFormatter> was created without expected prop 'value'")}get value(){throw new Error("<BigIntFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<BigIntFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var rn=nn;n(184);function on(t,e,n){const r=t.slice();return r[4]=e[n],r}function sn(t){let e,n,r=t[4]+"";const i={c:function(){e=Object(_.v)("span"),n=Object(_.db)(r),Object(_.h)(e,"class","chars svelte-9ty832"),Object(_.fb)(e,"escape",yt(t[4])),Object(_.d)(e,"node_modules/svelte-inspect/inspect/formatters/StringFormatter.svelte",18,6,368)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,i){2&i&&r!==(r=t[4]+"")&&Object(_.X)(n,r),2&i&&Object(_.fb)(e,"escape",yt(t[4]))},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:sn.name,type:"each",source:"(18:4) {#each groups as group}",ctx:t}),i}function an(t){let e,n,r;const i=t[2].default,o=Object(_.p)(i,t,t[3],null);let s=t[1];Object(_.jb)(s);let a=[];for(let e=0;e<s.length;e+=1)a[e]=sn(on(t,s,e));const c={c:function(){o&&o.c(),e=Object(_.ab)(),n=Object(_.v)("span");for(let t=0;t<a.length;t+=1)a[t].c();Object(_.h)(n,"class","string svelte-9ty832"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/StringFormatter.svelte",16,2,314)},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i),Object(_.I)(t,n,i);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p:function(t,e){if(o&&o.p&&8&e&&o.p(Object(_.A)(i,t,t[3],null),Object(_.z)(i,t[3],e,null)),2&e){let r;for(s=t[1],Object(_.jb)(s),r=0;r<s.length;r+=1){const i=on(t,s,r);a[r]?a[r].p(i,e):(a[r]=sn(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n),Object(_.s)(a,t)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:an.name,type:"slot",source:"(15:0) <PrimitiveBase {value}>",ctx:t}),c}function cn(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[an]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),10&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:cn.name,type:"component",source:"",ctx:t}),r}const un="string";function ln(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<StringFormatter> was created with unknown prop '${t}'`)});let o,{$$slots:s={},$$scope:a}=e;return Object(_.lb)("StringFormatter",s,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(3,a=t.$$scope)},t.$capture_state=()=>({typeOf:un,stringEscapeGroups:gt,isEscapeGroup:yt,value:r,PrimitiveBase:he,groups:o}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"groups"in t&&n(1,o=t.groups)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(1,o=gt(r))},[r,o,s,a]}class hn extends _.a{constructor(t){super(t),Object(_.H)(this,t,ln,cn,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"StringFormatter",options:t,id:cn.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<StringFormatter> was created without expected prop 'value'")}get value(){throw new Error("<StringFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<StringFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var fn=hn;n(185);function dn(t,e,n){const r=t.slice();return r[5]=e[n].key,r[6]=e[n].match,r}function pn(t){let e,n,r,i=t[6]+"";const o={c:function(){e=Object(_.v)("span"),n=Object(_.db)(i),Object(_.h)(e,"class",r=Object(_.N)(t[5]||"default")+" svelte-e5yeh8"),Object(_.d)(e,"node_modules/svelte-inspect/inspect/formatters/FunctionFormatter.svelte",24,6,622)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,o){2&o&&i!==(i=t[6]+"")&&Object(_.X)(n,i),2&o&&r!==(r=Object(_.N)(t[5]||"default")+" svelte-e5yeh8")&&Object(_.h)(e,"class",r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:pn.name,type:"each",source:"(24:4) {#each grouper(functionString) as {key, match}}",ctx:t}),o}function mn(t){let e,n,r;const i=t[3].default,o=Object(_.p)(i,t,t[4],null);let s=t[2](t[1]);Object(_.jb)(s);let a=[];for(let e=0;e<s.length;e+=1)a[e]=pn(dn(t,s,e));const c={c:function(){o&&o.c(),e=Object(_.ab)(),n=Object(_.v)("span");for(let t=0;t<a.length;t+=1)a[t].c();Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/FunctionFormatter.svelte",22,2,557)},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i),Object(_.I)(t,n,i);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p:function(t,e){if(o&&o.p&&16&e&&o.p(Object(_.A)(i,t,t[4],null),Object(_.z)(i,t[4],e,null)),6&e){let r;for(s=t[2](t[1]),Object(_.jb)(s),r=0;r<s.length;r+=1){const i=dn(t,s,r);a[r]?a[r].p(i,e):(a[r]=pn(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n),Object(_.s)(a,t)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:mn.name,type:"slot",source:"(21:0) <PrimitiveBase {value}>",ctx:t}),c}function bn(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[mn]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),18&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:bn.name,type:"component",source:"",ctx:t}),r}const gn="function";function vn(t,e,n){const r=wt({"function-keyword":/(|function|\=\>)/,"async-keyword":/(async|await)/,"class-keyword":/(class|extends)/,identifier:/(\d|\w|_|\$)+/});let{value:i}=e;const o=["value"];Object.keys(e).forEach(t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<FunctionFormatter> was created with unknown prop '${t}'`)});let s,{$$slots:a={},$$scope:c}=e;return Object(_.lb)("FunctionFormatter",a,["default"]),t.$set=t=>{"value"in t&&n(0,i=t.value),"$$scope"in t&&n(4,c=t.$$scope)},t.$capture_state=()=>({typeOf:gn,groupByRegexes:wt,grouper:r,value:i,PrimitiveBase:he,functionString:s}),t.$inject_state=t=>{"value"in t&&n(0,i=t.value),"functionString"in t&&n(1,s=t.functionString)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(1,s=Function.prototype.toString.call(i).split("\n")[0].replace(/^function/,""))},[i,s,r,a,c]}class yn extends _.a{constructor(t){super(t),Object(_.H)(this,t,vn,bn,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"FunctionFormatter",options:t,id:bn.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<FunctionFormatter> was created without expected prop 'value'")}get value(){throw new Error("<FunctionFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<FunctionFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var wn=yn;n(186);const _n="node_modules/svelte-inspect/inspect/formatters/RegExpFormatter.svelte";function xn(t){let e,n,r,i,o,s;const a={c:function(){e=Object(_.v)("span"),e.textContent="/",n=Object(_.v)("span"),r=Object(_.db)(t[1]),i=Object(_.v)("span"),i.textContent="/",o=Object(_.v)("span"),s=Object(_.db)(t[2]),Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","slash svelte-129uvw3"),Object(_.d)(e,_n,18,6,327),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","source svelte-129uvw3"),Object(_.d)(n,_n,19,6,370),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","slash svelte-129uvw3"),Object(_.d)(i,_n,20,6,421),Object(_.h)(o,"slot","slot"),Object(_.h)(o,"class","flags svelte-129uvw3"),Object(_.d)(o,_n,21,6,464)},m:function(t,a){Object(_.I)(t,e,a),Object(_.I)(t,n,a),Object(_.f)(n,r),Object(_.I)(t,i,a),Object(_.I)(t,o,a),Object(_.f)(o,s)},p:function(t,e){2&e&&Object(_.X)(r,t[1]),4&e&&Object(_.X)(s,t[2])},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:xn.name,type:"slot",source:"(22:6) <span slot=slot class=flags>",ctx:t}),a}function On(t){let e,n,r;const i={c:function(){e=Object(_.ab)(),n=Object(_.ab)(),r=Object(_.ab)()},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),Object(_.I)(t,r,i)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:On.name,type:"slot",source:"(18:4) <Echo>",ctx:t}),i}function En(t){let e,n,r;const i=t[3].default,o=Object(_.p)(i,t,t[4],null),s=new Ae({props:{$$slots:{default:[On],slot:[xn]},$$scope:{ctx:t}},$$inline:!0}),a={c:function(){o&&o.c(),e=Object(_.ab)(),n=Object(_.v)("span"),Object(_.o)(s.$$.fragment),Object(_.h)(n,"class","regexp"),Object(_.d)(n,_n,16,2,290)},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i),Object(_.I)(t,n,i),Object(_.L)(s,n,null),r=!0},p:function(t,e){o&&o.p&&16&e&&o.p(Object(_.A)(i,t,t[4],null),Object(_.z)(i,t[4],e,null));const n={};22&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i:function(t){r||(Object(_.gb)(o,t),Object(_.gb)(s.$$.fragment,t),r=!0)},o:function(t){Object(_.hb)(o,t),Object(_.hb)(s.$$.fragment,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n),Object(_.r)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:En.name,type:"slot",source:"(15:0) <PrimitiveBase {value}>",ctx:t}),a}function Sn(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[En]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),22&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Sn.name,type:"component",source:"",ctx:t}),r}const jn=RegExp;function Mn(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<RegExpFormatter> was created with unknown prop '${t}'`)});let o,s,{$$slots:a={},$$scope:c}=e;return Object(_.lb)("RegExpFormatter",a,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(4,c=t.$$scope)},t.$capture_state=()=>({type:jn,value:r,Echo:Ae,PrimitiveBase:he,source:o,flags:s}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value),"source"in t&&n(1,o=t.source),"flags"in t&&n(2,s=t.flags)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(1,o=r.source),1&t.$$.dirty&&n(2,s=r.flags)},[r,o,s,a,c]}class Tn extends _.a{constructor(t){super(t),Object(_.H)(this,t,Mn,Sn,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"RegExpFormatter",options:t,id:Sn.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<RegExpFormatter> was created without expected prop 'value'")}get value(){throw new Error("<RegExpFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<RegExpFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var An=Tn;n(187);const kn="node_modules/svelte-inspect/inspect/formatters/DateFormatter.svelte";function In(t,e,n){const r=t.slice();return r[7]=e[n].key,r[8]=e[n].match,r}function Cn(t,e,n){const r=t.slice();return r[7]=e[n].key,r[8]=e[n].match,r}function Rn(t){let e,n,r,i=t[8]+"";const o={c:function(){e=Object(_.v)("span"),n=Object(_.db)(i),Object(_.h)(e,"class",r=Object(_.N)(t[7]||"default")+" svelte-7htq5o"),Object(_.d)(e,kn,26,8,599)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,o){2&o&&i!==(i=t[8]+"")&&Object(_.X)(n,i),2&o&&r!==(r=Object(_.N)(t[7]||"default")+" svelte-7htq5o")&&Object(_.h)(e,"class",r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Rn.name,type:"each",source:"(26:6) {#each grouper(date) as {key, match}}",ctx:t}),o}function Pn(t){let e,n,r,i=t[8]+"";const o={c:function(){e=Object(_.v)("span"),n=Object(_.db)(i),Object(_.h)(e,"class",r=Object(_.N)(t[7]||"default")+" svelte-7htq5o"),Object(_.d)(e,kn,31,8,755)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,o){4&o&&i!==(i=t[8]+"")&&Object(_.X)(n,i),4&o&&r!==(r=Object(_.N)(t[7]||"default")+" svelte-7htq5o")&&Object(_.h)(e,"class",r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Pn.name,type:"each",source:"(31:6) {#each grouper(time) as {key, match}}",ctx:t}),o}function Ln(t){let e,n,r,i,o=t[3](t[1]);Object(_.jb)(o);let s=[];for(let e=0;e<o.length;e+=1)s[e]=Rn(Cn(t,o,e));let a=t[3](t[2]);Object(_.jb)(a);let c=[];for(let e=0;e<a.length;e+=1)c[e]=Pn(In(t,a,e));const u={c:function(){e=Object(_.v)("span"),e.textContent="Date(",n=Object(_.v)("span");for(let t=0;t<s.length;t+=1)s[t].c();r=Object(_.v)("span");for(let t=0;t<c.length;t+=1)c[t].c();i=Object(_.v)("span"),i.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.d)(e,kn,23,4,486),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","date svelte-7htq5o"),Object(_.d)(n,kn,24,4,519),Object(_.h)(r,"slot","slot"),Object(_.h)(r,"class","time svelte-7htq5o"),Object(_.d)(r,kn,29,4,675),Object(_.h)(i,"slot","slot"),Object(_.d)(i,kn,34,4,831)},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null);Object(_.I)(t,r,o);for(let t=0;t<c.length;t+=1)c[t].m(r,null);Object(_.I)(t,i,o)},p:function(t,e){if(10&e){let r;for(o=t[3](t[1]),Object(_.jb)(o),r=0;r<o.length;r+=1){const i=Cn(t,o,r);s[r]?s[r].p(i,e):(s[r]=Rn(i),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}if(12&e){let n;for(a=t[3](t[2]),Object(_.jb)(a),n=0;n<a.length;n+=1){const i=In(t,a,n);c[n]?c[n].p(i,e):(c[n]=Pn(i),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),Object(_.s)(s,t),t&&Object(_.t)(r),Object(_.s)(c,t),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Ln.name,type:"slot",source:"(35:4) <span slot=slot>",ctx:t}),u}function Nn(t){let e,n,r;const i={c:function(){e=Object(_.ab)(),n=Object(_.ab)(),r=Object(_.ab)()},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),Object(_.I)(t,r,i)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Nn.name,type:"slot",source:"(23:2) <Echo>",ctx:t}),i}function Dn(t){let e,n;const r=t[5].default,i=Object(_.p)(r,t,t[6],null),o=new Ae({props:{$$slots:{default:[Nn],slot:[Ln]},$$scope:{ctx:t}},$$inline:!0}),s={c:function(){i&&i.c(),e=Object(_.ab)(),Object(_.o)(o.$$.fragment)},m:function(t,r){i&&i.m(t,r),Object(_.I)(t,e,r),Object(_.L)(o,t,r),n=!0},p:function(t,e){i&&i.p&&64&e&&i.p(Object(_.A)(r,t,t[6],null),Object(_.z)(r,t[6],e,null));const n={};70&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i:function(t){n||(Object(_.gb)(i,t),Object(_.gb)(o.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(i,t),Object(_.hb)(o.$$.fragment,t),n=!1},d:function(t){i&&i.d(t),t&&Object(_.t)(e),Object(_.r)(o,t)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Dn.name,type:"slot",source:"(21:0) <PrimitiveBase {value}>",ctx:t}),s}function Bn(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Dn]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),70&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Bn.name,type:"component",source:"",ctx:t}),r}const $n=Date;function Fn(t,e,n){const r=wt({number:/[0-9]+/});let{value:i}=e;const o=["value"];Object.keys(e).forEach(t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<DateFormatter> was created with unknown prop '${t}'`)});let s,a,c,{$$slots:u={},$$scope:l}=e;return Object(_.lb)("DateFormatter",u,["default"]),t.$set=t=>{"value"in t&&n(0,i=t.value),"$$scope"in t&&n(6,l=t.$$scope)},t.$capture_state=()=>({type:$n,groupByRegexes:wt,grouper:r,value:i,PrimitiveBase:he,Echo:Ae,ISOString:s,date:a,time:c}),t.$inject_state=t=>{"value"in t&&n(0,i=t.value),"ISOString"in t&&n(4,s=t.ISOString),"date"in t&&n(1,a=t.date),"time"in t&&n(2,c=t.time)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(4,s=Date.prototype.toISOString.call(i)),16&t.$$.dirty&&n(1,a=s.slice(0,10)),16&t.$$.dirty&&n(2,c=s.slice(10))},[i,a,c,r,s,u,l]}class Un extends _.a{constructor(t){super(t),Object(_.H)(this,t,Fn,Bn,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"DateFormatter",options:t,id:Bn.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<DateFormatter> was created without expected prop 'value'")}get value(){throw new Error("<DateFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<DateFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var zn=Un;n(188);const{Error:Hn}=_.E;function Gn(t){let e,n,r,i,o=String(t[0])+"";const s=t[1].default,a=Object(_.p)(s,t,t[2],null),c={c:function(){a&&a.c(),e=Object(_.ab)(),n=Object(_.v)("span"),r=Object(_.db)(o),Object(_.h)(n,"class","error svelte-zess9a"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/ErrorFormatter.svelte",12,2,224)},m:function(t,o){a&&a.m(t,o),Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),i=!0},p:function(t,e){a&&a.p&&4&e&&a.p(Object(_.A)(s,t,t[2],null),Object(_.z)(s,t[2],e,null)),(!i||1&e)&&o!==(o=String(t[0])+"")&&Object(_.X)(r,o)},i:function(t){i||(Object(_.gb)(a,t),i=!0)},o:function(t){Object(_.hb)(a,t),i=!1},d:function(t){a&&a.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Gn.name,type:"slot",source:"(11:0) <PrimitiveBase {value}>",ctx:t}),c}function Vn(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Gn]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Hn("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Vn.name,type:"component",source:"",ctx:t}),r}const qn=t=>t instanceof Error;function Wn(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<ErrorFormatter> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("ErrorFormatter",o,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(2,s=t.$$scope)},t.$capture_state=()=>({check:qn,value:r,PrimitiveBase:he}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s]}class Kn extends _.a{constructor(t){super(t),Object(_.H)(this,t,Wn,Vn,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"ErrorFormatter",options:t,id:Vn.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<ErrorFormatter> was created without expected prop 'value'")}get value(){throw new Hn("<ErrorFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Hn("<ErrorFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Yn=Kn;n(189);const Xn="node_modules/svelte-inspect/inspect/formatters/ArrayFormatter.svelte";function Zn(t){let e,n,r,i,o=t[1].length+"";const s={c:function(){e=Object(_.v)("span"),e.textContent="Array(",n=Object(_.v)("span"),r=Object(_.db)(o),i=Object(_.v)("span"),i.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","array svelte-x601wa"),Object(_.d)(e,Xn,19,4,391),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","length svelte-x601wa"),Object(_.d)(n,Xn,20,4,437),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","array svelte-x601wa"),Object(_.d)(i,Xn,21,4,492)},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),Object(_.I)(t,i,o)},p:function(t,e){2&e&&o!==(o=t[1].length+"")&&Object(_.X)(r,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Zn.name,type:"slot",source:"(22:4) <span slot=slot class=array>",ctx:t}),s}function Jn(t){let e,n;const r={c:function(){e=Object(_.ab)(),n=Object(_.ab)()},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Jn.name,type:"slot",source:"(19:2) <Echo>",ctx:t}),r}function Qn(t){let e,n;const r={c:function(){e=Object(_.v)("span"),e.textContent="",n=Object(_.db)("]"),Object(_.h)(e,"class","on-intent svelte-x601wa"),Object(_.d)(e,Xn,24,4,560)},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Qn.name,type:"if",source:"(24:3) {#if !isOpen}",ctx:t}),r}function tr(t){let e,n,r,i;const o=t[3].default,s=Object(_.p)(o,t,t[5],null),a=new Ae({props:{$$slots:{default:[Jn],slot:[Zn]},$$scope:{ctx:t}},$$inline:!0});let c=!t[2]&&Qn(t);const u={c:function(){s&&s.c(),e=Object(_.ab)(),Object(_.o)(a.$$.fragment),n=Object(_.db)("\n  ["),c&&c.c(),r=Object(_.w)()},m:function(t,o){s&&s.m(t,o),Object(_.I)(t,e,o),Object(_.L)(a,t,o),Object(_.I)(t,n,o),c&&c.m(t,o),Object(_.I)(t,r,o),i=!0},p:function(t,e){s&&s.p&&32&e&&s.p(Object(_.A)(o,t,t[5],null),Object(_.z)(o,t[5],e,null));const n={};34&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),t[2]?c&&(c.d(1),c=null):c||(c=Qn(t),c.c(),c.m(r.parentNode,r))},i:function(t){i||(Object(_.gb)(s,t),Object(_.gb)(a.$$.fragment,t),i=!0)},o:function(t){Object(_.hb)(s,t),Object(_.hb)(a.$$.fragment,t),i=!1},d:function(t){s&&s.d(t),t&&Object(_.t)(e),Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:tr.name,type:"slot",source:"(17:0) <Toggle className=array-toggle bind:isOpen>",ctx:t}),u}function er(t){let e,n;const r=new Wt({props:{depth:t[0],value:t[1],$$slots:{default:[nr]},$$scope:{ctx:t}},$$inline:!0}),i={c:function(){Object(_.o)(r.$$.fragment),e=Object(_.db)("\n  ]")},m:function(t,i){Object(_.L)(r,t,i),Object(_.I)(t,e,i),n=!0},p:function(t,e){const n={};1&e&&(n.depth=t[0]),2&e&&(n.value=t[1]),32&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){Object(_.r)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:er.name,type:"if",source:"(29:0) {#if isOpen}",ctx:t}),i}function nr(t){let e;const n={c:function(){e=Object(_.db)("Empty array")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:nr.name,type:"slot",source:"(30:2) <PropertyList     {depth}     {value}   >",ctx:t}),n}function rr(t){let e,n,r,i;function o(e){t[4].call(null,e)}let s={className:"array-toggle",$$slots:{default:[tr]},$$scope:{ctx:t}};void 0!==t[2]&&(s.isOpen=t[2]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[2]&&er(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};38&n&&(i.$$scope={dirty:n,ctx:t}),!e&&4&n&&(e=!0,i.isOpen=t[2],Object(_.c)(()=>e=!1)),a.$set(i),t[2]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=er(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:rr.name,type:"component",source:"",ctx:t}),u}const ir=Array,or=!0;function sr(t,e,n){let{depth:r=0}=e,{value:i}=e,o=r>0;const s=["depth","value"];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<ArrayFormatter> was created with unknown prop '${t}'`)});let{$$slots:a={},$$scope:c}=e;return Object(_.lb)("ArrayFormatter",a,["default"]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"$$scope"in t&&n(5,c=t.$$scope)},t.$capture_state=()=>({type:ir,hasDepthProp:or,depth:r,value:i,isOpen:o,Toggle:ee,PropertyList:Wt,Echo:Ae}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"isOpen"in t&&n(2,o=t.isOpen)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i,o,a,function(t){o=t,n(2,o)},c]}class ar extends _.a{constructor(t){super(t),Object(_.H)(this,t,sr,rr,_.T,{depth:0,value:1}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"ArrayFormatter",options:t,id:rr.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"value"in n||console.warn("<ArrayFormatter> was created without expected prop 'value'")}get depth(){throw new Error("<ArrayFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<ArrayFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<ArrayFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<ArrayFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var cr=ar;n(190);const{Object:ur}=_.E,lr="node_modules/svelte-inspect/inspect/formatters/TypedArrayFormatter.svelte";function hr(t){let e,n,r,i,o,s,a=t[0].length+"";const c={c:function(){e=Object(_.v)("span"),n=Object(_.db)(t[2]),r=Object(_.db)("("),i=Object(_.v)("span"),o=Object(_.db)(a),s=Object(_.v)("span"),s.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","typed-array svelte-1mm31md"),Object(_.d)(e,lr,40,4,1077),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","length svelte-1mm31md"),Object(_.d)(i,lr,41,4,1141),Object(_.h)(s,"slot","slot"),Object(_.h)(s,"class","typed-array svelte-1mm31md"),Object(_.d)(s,lr,42,4,1196)},m:function(t,a){Object(_.I)(t,e,a),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.I)(t,i,a),Object(_.f)(i,o),Object(_.I)(t,s,a)},p:function(t,e){4&e&&Object(_.X)(n,t[2]),1&e&&a!==(a=t[0].length+"")&&Object(_.X)(o,a)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(i),t&&Object(_.t)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:hr.name,type:"slot",source:"(43:4) <span slot=slot class=typed-array>",ctx:t}),c}function fr(t){let e,n;const r={c:function(){e=Object(_.ab)(),n=Object(_.ab)()},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:fr.name,type:"slot",source:"(40:2) <Echo>",ctx:t}),r}function dr(t){let e,n;const r={c:function(){e=Object(_.v)("span"),e.textContent="",n=Object(_.db)("]"),Object(_.h)(e,"class","on-intent svelte-1mm31md"),Object(_.d)(e,lr,45,4,1270)},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:dr.name,type:"if",source:"(45:3) {#if !isOpen}",ctx:t}),r}function pr(t){let e,n,r,i;const o=t[4].default,s=Object(_.p)(o,t,t[6],null),a=new Ae({props:{$$slots:{default:[fr],slot:[hr]},$$scope:{ctx:t}},$$inline:!0});let c=!t[1]&&dr(t);const u={c:function(){s&&s.c(),e=Object(_.ab)(),Object(_.o)(a.$$.fragment),n=Object(_.db)("\n  ["),c&&c.c(),r=Object(_.w)()},m:function(t,o){s&&s.m(t,o),Object(_.I)(t,e,o),Object(_.L)(a,t,o),Object(_.I)(t,n,o),c&&c.m(t,o),Object(_.I)(t,r,o),i=!0},p:function(t,e){s&&s.p&&64&e&&s.p(Object(_.A)(o,t,t[6],null),Object(_.z)(o,t[6],e,null));const n={};69&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),t[1]?c&&(c.d(1),c=null):c||(c=dr(t),c.c(),c.m(r.parentNode,r))},i:function(t){i||(Object(_.gb)(s,t),Object(_.gb)(a.$$.fragment,t),i=!0)},o:function(t){Object(_.hb)(s,t),Object(_.hb)(a.$$.fragment,t),i=!1},d:function(t){s&&s.d(t),t&&Object(_.t)(e),Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:pr.name,type:"slot",source:"(38:0) <Toggle className=typed-array-toggle bind:isOpen>",ctx:t}),u}function mr(t){let e,n;const r=new Wt({props:{value:t[0],$$slots:{default:[br]},$$scope:{ctx:t}},$$inline:!0}),i={c:function(){Object(_.o)(r.$$.fragment),e=Object(_.db)("\n  ]")},m:function(t,i){Object(_.L)(r,t,i),Object(_.I)(t,e,i),n=!0},p:function(t,e){const n={};1&e&&(n.value=t[0]),64&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){Object(_.r)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:mr.name,type:"if",source:"(50:0) {#if isOpen}",ctx:t}),i}function br(t){let e;const n={c:function(){e=Object(_.db)("Empty array")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:br.name,type:"slot",source:"(51:2) <PropertyList     {value}   >",ctx:t}),n}function gr(t){let e,n,r,i;function o(e){t[5].call(null,e)}let s={className:"typed-array-toggle",$$slots:{default:[pr]},$$scope:{ctx:t}};void 0!==t[1]&&(s.isOpen=t[1]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[1]&&mr(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};71&n&&(i.$$scope={dirty:n,ctx:t}),!e&&2&n&&(e=!0,i.isOpen=t[1],Object(_.c)(()=>e=!1)),a.$set(i),t[1]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=mr(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:gr.name,type:"component",source:"",ctx:t}),u}const vr=t=>{switch(Object.getPrototypeOf(t)){case Int8Array.prototype:case Uint8Array.prototype:case Uint8ClampedArray.prototype:case Int16Array.prototype:case Uint16Array.prototype:case Int32Array.prototype:case Uint32Array.prototype:case Float32Array.prototype:case Float64Array.prototype:case"undefined"!=typeof BigInt64Array&&BigInt64Array.prototype:case"undefined"!=typeof BigUint64Array&&BigUint64Array.prototype:return!0}return!1},yr=!0;function wr(t,e,n){let{depth:r=0}=e,{value:i}=e,o=r>0;const s=["depth","value"];ur.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<TypedArrayFormatter> was created with unknown prop '${t}'`)});let a,{$$slots:c={},$$scope:u}=e;return Object(_.lb)("TypedArrayFormatter",c,["default"]),t.$set=t=>{"depth"in t&&n(3,r=t.depth),"value"in t&&n(0,i=t.value),"$$scope"in t&&n(6,u=t.$$scope)},t.$capture_state=()=>({check:vr,hasDepthProp:yr,getObjectTypeString:pt,depth:r,value:i,isOpen:o,Toggle:ee,PropertyList:Wt,Echo:Ae,typeDescription:a}),t.$inject_state=t=>{"depth"in t&&n(3,r=t.depth),"value"in t&&n(0,i=t.value),"isOpen"in t&&n(1,o=t.isOpen),"typeDescription"in t&&n(2,a=t.typeDescription)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(2,a=pt(i))},[i,o,a,r,c,function(t){o=t,n(1,o)},u]}class _r extends _.a{constructor(t){super(t),Object(_.H)(this,t,wr,gr,_.T,{depth:3,value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"TypedArrayFormatter",options:t,id:gr.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<TypedArrayFormatter> was created without expected prop 'value'")}get depth(){throw new Error("<TypedArrayFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<TypedArrayFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<TypedArrayFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<TypedArrayFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var xr=_r;n(191);const Or="node_modules/svelte-inspect/inspect/formatters/ElementFormatter.svelte";function Er(t,e,n){const r=t.slice();return r[3]=e[n],r}function Sr(t){let e;const n=new Ae({props:{$$slots:{default:[Tr],slot:[Mr]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,e){const r={};5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Sr.name,type:"else",source:"(37:8) {:else}",ctx:t}),r}function jr(t){let e;const n=new Ae({props:{$$slots:{default:[kr],slot:[Ar]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,e){const r={};5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:jr.name,type:"if",source:"(30:8) {#if attribute.value}",ctx:t}),r}function Mr(t){let e,n,r=t[3].name+"";const i={c:function(){e=Object(_.v)("span"),n=Object(_.db)(r),Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","attribute-name svelte-qkq5r7"),Object(_.d)(e,Or,38,12,1027)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){1&e&&r!==(r=t[3].name+"")&&Object(_.X)(n,r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Mr.name,type:"slot",source:"(39:12) <span slot=slot class=attribute-name>",ctx:t}),i}function Tr(t){let e;const n={c:function(){e=Object(_.ab)()},m:function(t,n){Object(_.I)(t,e,n)},p:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:Tr.name,type:"slot",source:"(38:10) <Echo>",ctx:t}),n}function Ar(t){let e,n,r,i,o,s,a=t[3].name+"",c=t[3].value+"";const u={c:function(){e=Object(_.v)("span"),n=Object(_.db)(a),r=Object(_.v)("span"),r.textContent='="',i=Object(_.v)("span"),o=Object(_.db)(c),s=Object(_.v)("span"),s.textContent='"',Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","attribute-name svelte-qkq5r7"),Object(_.d)(e,Or,31,12,717),Object(_.h)(r,"slot","slot"),Object(_.h)(r,"class","punctuation svelte-qkq5r7"),Object(_.d)(r,Or,32,12,790),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","attribute-value svelte-qkq5r7"),Object(_.d)(i,Or,33,12,846),Object(_.h)(s,"slot","slot"),Object(_.h)(s,"class","punctuation svelte-qkq5r7"),Object(_.d)(s,Or,34,12,921)},m:function(t,a){Object(_.I)(t,e,a),Object(_.f)(e,n),Object(_.I)(t,r,a),Object(_.I)(t,i,a),Object(_.f)(i,o),Object(_.I)(t,s,a)},p:function(t,e){1&e&&a!==(a=t[3].name+"")&&Object(_.X)(n,a),1&e&&c!==(c=t[3].value+"")&&Object(_.X)(o,c)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(r),t&&Object(_.t)(i),t&&Object(_.t)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Ar.name,type:"slot",source:"(35:12) <span slot=slot class=punctuation>",ctx:t}),u}function kr(t){let e,n,r,i;const o={c:function(){e=Object(_.ab)(),n=Object(_.ab)(),r=Object(_.ab)(),i=Object(_.ab)()},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.I)(t,r,o),Object(_.I)(t,i,o)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:kr.name,type:"slot",source:"(31:10) <Echo>",ctx:t}),o}function Ir(t){let e,n,r,i,o,s;const a=[jr,Sr],c=[];function u(t,e){return t[3].value?0:1}r=u(t),i=c[r]=a[r](t);const l={c:function(){e=Object(_.db)(" "),n=Object(_.ab)(),i.c(),o=Object(_.w)()},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),c[r].m(t,i),Object(_.I)(t,o,i),s=!0},p:function(t,e){let n=r;r=u(t),r===n?c[r].p(t,e):(Object(_.F)(),Object(_.hb)(c[n],1,1,()=>{c[n]=null}),Object(_.l)(),i=c[r],i||(i=c[r]=a[r](t),i.c()),Object(_.gb)(i,1),i.m(o.parentNode,o))},i:function(t){s||(Object(_.gb)(i),s=!0)},o:function(t){Object(_.hb)(i),s=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),c[r].d(t),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:Ir.name,type:"each",source:"(28:6) {#each value.attributes as attribute}",ctx:t}),l}function Cr(t){let e,n,r,i,o,s,a=t[0].tagName.toLowerCase()+"",c=t[0].attributes;Object(_.jb)(c);let u=[];for(let e=0;e<c.length;e+=1)u[e]=Ir(Er(t,c,e));const l=t=>Object(_.hb)(u[t],1,1,()=>{u[t]=null}),h={c:function(){e=Object(_.v)("span"),e.textContent="<",n=Object(_.v)("span"),r=Object(_.db)(a),i=Object(_.v)("span");for(let t=0;t<u.length;t+=1)u[t].c();o=Object(_.v)("span"),o.textContent=">",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","punctuation svelte-qkq5r7"),Object(_.d)(e,Or,24,4,461),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","tag-name svelte-qkq5r7"),Object(_.d)(n,Or,25,4,511),Object(_.h)(i,"slot","slot"),Object(_.d)(i,Or,26,4,583),Object(_.h)(o,"slot","slot"),Object(_.h)(o,"class","punctuation svelte-qkq5r7"),Object(_.d)(o,Or,43,4,1150)},m:function(t,a){Object(_.I)(t,e,a),Object(_.I)(t,n,a),Object(_.f)(n,r),Object(_.I)(t,i,a);for(let t=0;t<u.length;t+=1)u[t].m(i,null);Object(_.I)(t,o,a),s=!0},p:function(t,e){if((!s||1&e)&&a!==(a=t[0].tagName.toLowerCase()+"")&&Object(_.X)(r,a),1&e){let n;for(c=t[0].attributes,Object(_.jb)(c),n=0;n<c.length;n+=1){const r=Er(t,c,n);u[n]?(u[n].p(r,e),Object(_.gb)(u[n],1)):(u[n]=Ir(r),u[n].c(),Object(_.gb)(u[n],1),u[n].m(i,null))}for(Object(_.F)(),n=c.length;n<u.length;n+=1)l(n);Object(_.l)()}},i:function(t){if(!s){for(let t=0;t<c.length;t+=1)Object(_.gb)(u[t]);s=!0}},o:function(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Object(_.hb)(u[t]);s=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i),Object(_.s)(u,t),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:h,id:Cr.name,type:"slot",source:"(44:4) <span slot=slot class=punctuation>",ctx:t}),h}function Rr(t){let e,n,r;const i={c:function(){e=Object(_.ab)(),n=Object(_.ab)(),r=Object(_.ab)()},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),Object(_.I)(t,r,i)},p:_.M,i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Rr.name,type:"slot",source:"(24:2) <Echo>",ctx:t}),i}function Pr(t){let e,n;const r=t[1].default,i=Object(_.p)(r,t,t[2],null),o=new Ae({props:{$$slots:{default:[Rr],slot:[Cr]},$$scope:{ctx:t}},$$inline:!0}),s={c:function(){i&&i.c(),e=Object(_.ab)(),Object(_.o)(o.$$.fragment)},m:function(t,r){i&&i.m(t,r),Object(_.I)(t,e,r),Object(_.L)(o,t,r),n=!0},p:function(t,e){i&&i.p&&4&e&&i.p(Object(_.A)(r,t,t[2],null),Object(_.z)(r,t[2],e,null));const n={};5&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i:function(t){n||(Object(_.gb)(i,t),Object(_.gb)(o.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(i,t),Object(_.hb)(o.$$.fragment,t),n=!1},d:function(t){i&&i.d(t),t&&Object(_.t)(e),Object(_.r)(o,t)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Pr.name,type:"slot",source:"(22:0) <PrimitiveBase {value}>",ctx:t}),s}function Lr(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Pr]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Lr.name,type:"component",source:"",ctx:t}),r}const Nr=t=>{if(!(t instanceof HTMLElement))return!1;try{return!!t.tagName}catch(t){}return!1};function Dr(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<ElementFormatter> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("ElementFormatter",o,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(2,s=t.$$scope)},t.$capture_state=()=>({check:Nr,getObjectTypeString:pt,value:r,Echo:Ae,PrimitiveBase:he}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s]}class Br extends _.a{constructor(t){super(t),Object(_.H)(this,t,Dr,Lr,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"ElementFormatter",options:t,id:Lr.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<ElementFormatter> was created without expected prop 'value'")}get value(){throw new Error("<ElementFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<ElementFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var $r=Br;n(192);const{Object:Fr}=_.E;function Ur(t){let e,n,r,i,o,s=String(t[1])+"",a=String(t[2])+"";const c={c:function(){e=Object(_.db)(s),n=Object(_.db)(" => "),r=Object(_.db)(a),i=Object(_.ab)(),o=Object(_.v)("span"),o.textContent="",Object(_.h)(o,"class","on-intent svelte-pn9dr8"),Object(_.d)(o,"node_modules/svelte-inspect/inspect/formatters/MapEntry.svelte",16,37,392)},m:function(t,s){Object(_.I)(t,e,s),Object(_.I)(t,n,s),Object(_.I)(t,r,s),Object(_.I)(t,i,s),Object(_.I)(t,o,s)},p:function(t,n){2&n&&s!==(s=String(t[1])+"")&&Object(_.X)(e,s),4&n&&a!==(a=String(t[2])+"")&&Object(_.X)(r,a)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Ur.name,type:"if",source:"(16:2) {#if !isOpen}",ctx:t}),c}function zr(t){let e,n,r;const i=t[5].default,o=Object(_.p)(i,t,t[7],null);let s=!t[3]&&Ur(t);const a={c:function(){o&&o.c(),e=Object(_.ab)(),s&&s.c(),n=Object(_.w)()},m:function(t,i){o&&o.m(t,i),Object(_.I)(t,e,i),s&&s.m(t,i),Object(_.I)(t,n,i),r=!0},p:function(t,e){o&&o.p&&128&e&&o.p(Object(_.A)(i,t,t[7],null),Object(_.z)(i,t[7],e,null)),t[3]?s&&(s.d(1),s=null):s?s.p(t,e):(s=Ur(t),s.c(),s.m(n.parentNode,n))},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){o&&o.d(t),t&&Object(_.t)(e),s&&s.d(t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:zr.name,type:"slot",source:"(14:0) <Toggle className=map-entry-toggle bind:isOpen>",ctx:t}),a}function Hr(t){let e,n,r;const i=new Wt({props:{depth:t[0],value:t[4]},$$inline:!0}),o={c:function(){e=Object(_.db)("{\n  "),Object(_.o)(i.$$.fragment),n=Object(_.db)("\n  }")},m:function(t,o){Object(_.I)(t,e,o),Object(_.L)(i,t,o),Object(_.I)(t,n,o),r=!0},p:function(t,e){const n={};1&e&&(n.depth=t[0]),16&e&&(n.value=t[4]),i.$set(n)},i:function(t){r||(Object(_.gb)(i.$$.fragment,t),r=!0)},o:function(t){Object(_.hb)(i.$$.fragment,t),r=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(i,t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Hr.name,type:"if",source:"(21:0) {#if isOpen}",ctx:t}),o}function Gr(t){let e,n,r,i;function o(e){t[6].call(null,e)}let s={className:"map-entry-toggle",$$slots:{default:[zr]},$$scope:{ctx:t}};void 0!==t[3]&&(s.isOpen=t[3]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[3]&&Hr(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};142&n&&(i.$$scope={dirty:n,ctx:t}),!e&&8&n&&(e=!0,i.isOpen=t[3],Object(_.c)(()=>e=!1)),a.$set(i),t[3]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=Hr(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Gr.name,type:"component",source:"",ctx:t}),u}function Vr(t,e,n){let{depth:r=0}=e,{key:i}=e,{value:o}=e,s=r>0;const a=["depth","key","value"];Fr.keys(e).forEach(t=>{~a.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<MapEntry> was created with unknown prop '${t}'`)});let c,{$$slots:u={},$$scope:l}=e;return Object(_.lb)("MapEntry",u,["default"]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"key"in t&&n(1,i=t.key),"value"in t&&n(2,o=t.value),"$$scope"in t&&n(7,l=t.$$scope)},t.$capture_state=()=>({depth:r,key:i,value:o,isOpen:s,Toggle:ee,PropertyList:Wt,propertyListValue:c}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"key"in t&&n(1,i=t.key),"value"in t&&n(2,o=t.value),"isOpen"in t&&n(3,s=t.isOpen),"propertyListValue"in t&&n(4,c=t.propertyListValue)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{6&t.$$.dirty&&n(4,c=Object.assign(Object.create(null),{key:i,value:o}))},[r,i,o,s,c,u,function(t){s=t,n(3,s)},l]}class qr extends _.a{constructor(t){super(t),Object(_.H)(this,t,Vr,Gr,_.T,{depth:0,key:1,value:2}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"MapEntry",options:t,id:Gr.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"key"in n||console.warn("<MapEntry> was created without expected prop 'key'"),void 0!==e[2]||"value"in n||console.warn("<MapEntry> was created without expected prop 'value'")}get depth(){throw new Error("<MapEntry>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<MapEntry>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get key(){throw new Error("<MapEntry>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set key(t){throw new Error("<MapEntry>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<MapEntry>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<MapEntry>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Wr=qr;n(193);const{Map:Kr}=_.E,Yr="node_modules/svelte-inspect/inspect/formatters/MapFormatter.svelte";function Xr(t,e,n){const r=t.slice();return r[7]=e[n][0],r[8]=e[n][1],r[10]=n,r}function Zr(t){let e,n,r,i,o=t[1].size+"";const s={c:function(){e=Object(_.v)("span"),e.textContent="Map(",n=Object(_.v)("span"),r=Object(_.db)(o),i=Object(_.v)("span"),i.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","map svelte-x88q6l"),Object(_.d)(e,Yr,22,4,473),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","size svelte-x88q6l"),Object(_.d)(n,Yr,23,4,515),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","map svelte-x88q6l"),Object(_.d)(i,Yr,24,4,566)},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),Object(_.I)(t,i,o)},p:function(t,e){2&e&&o!==(o=t[1].size+"")&&Object(_.X)(r,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Zr.name,type:"slot",source:"(25:4) <span slot=slot class=map>",ctx:t}),s}function Jr(t){let e,n;const r={c:function(){e=Object(_.ab)(),n=Object(_.ab)()},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Jr.name,type:"slot",source:"(22:2) <Echo>",ctx:t}),r}function Qr(t){let e,n;const r={c:function(){e=Object(_.v)("span"),e.textContent="",n=Object(_.db)("}"),Object(_.h)(e,"class","on-intent svelte-x88q6l"),Object(_.d)(e,Yr,27,4,637)},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Qr.name,type:"if",source:"(27:8) {#if !isOpen}",ctx:t}),r}function ti(t){let e,n,r,i;const o=t[4].default,s=Object(_.p)(o,t,t[6],null),a=new Ae({props:{$$slots:{default:[Jr],slot:[Zr]},$$scope:{ctx:t}},$$inline:!0});let c=!t[2]&&Qr(t);const u={c:function(){s&&s.c(),e=Object(_.ab)(),Object(_.o)(a.$$.fragment),n=Object(_.db)("\n  {"),c&&c.c(),r=Object(_.w)()},m:function(t,o){s&&s.m(t,o),Object(_.I)(t,e,o),Object(_.L)(a,t,o),Object(_.I)(t,n,o),c&&c.m(t,o),Object(_.I)(t,r,o),i=!0},p:function(t,e){s&&s.p&&64&e&&s.p(Object(_.A)(o,t,t[6],null),Object(_.z)(o,t[6],e,null));const n={};66&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),t[2]?c&&(c.d(1),c=null):c||(c=Qr(t),c.c(),c.m(r.parentNode,r))},i:function(t){i||(Object(_.gb)(s,t),Object(_.gb)(a.$$.fragment,t),i=!0)},o:function(t){Object(_.hb)(s,t),Object(_.hb)(a.$$.fragment,t),i=!1},d:function(t){s&&s.d(t),t&&Object(_.t)(e),Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:ti.name,type:"slot",source:"(20:0) <Toggle className=map-toggle bind:isOpen>",ctx:t}),u}function ei(t){let e,n,r,i=[],o=new Kr,s=[...t[1]];Object(_.jb)(s);const a=t=>t[7];Object(_.kb)(t,s,Xr,a);for(let e=0;e<s.length;e+=1){let n=Xr(t,s,e),r=a(n);o.set(r,i[e]=ii(r,n))}let c=null;s.length||(c=ni(t));const u=new Wt({props:{depth:t[0],value:t[1],$$slots:{default:[oi]},$$scope:{ctx:t}},$$inline:!0}),l={c:function(){for(let t=0;t<i.length;t+=1)i[t].c();c&&c.c(),e=Object(_.ab)(),Object(_.o)(u.$$.fragment),n=Object(_.db)("\n  }")},m:function(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);c&&c.m(t,o),Object(_.I)(t,e,o),Object(_.L)(u,t,o),Object(_.I)(t,n,o),r=!0},p:function(t,n){if(10&n){const r=[...t[1]];Object(_.jb)(r),Object(_.F)(),Object(_.kb)(t,r,Xr,a),i=Object(_.ib)(i,n,a,1,t,r,o,e.parentNode,_.Q,ii,e,Xr),Object(_.l)(),r.length?c&&(c.d(1),c=null):c||(c=ni(t),c.c(),c.m(e.parentNode,e))}const r={};1&n&&(r.depth=t[0]),2&n&&(r.value=t[1]),64&n&&(r.$$scope={dirty:n,ctx:t}),u.$set(r)},i:function(t){if(!r){for(let t=0;t<s.length;t+=1)Object(_.gb)(i[t]);Object(_.gb)(u.$$.fragment,t),r=!0}},o:function(t){for(let t=0;t<i.length;t+=1)Object(_.hb)(i[t]);Object(_.hb)(u.$$.fragment,t),r=!1},d:function(t){for(let e=0;e<i.length;e+=1)i[e].d(t);c&&c.d(t),t&&Object(_.t)(e),Object(_.r)(u,t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:ei.name,type:"if",source:"(32:0) {#if isOpen}",ctx:t}),l}function ni(t){let e,n,r,i;const o={c:function(){e=Object(_.v)("div"),n=Object(_.v)("pre"),n.textContent="",r=Object(_.ab)(),i=Object(_.v)("span"),i.textContent="No entries",Object(_.h)(n,"class","indentation svelte-x88q6l"),Object(_.d)(n,Yr,41,6,1052),Object(_.h)(i,"class","empty svelte-x88q6l"),Object(_.d)(i,Yr,42,6,1100),Object(_.h)(e,"class","row svelte-x88q6l"),Object(_.d)(e,Yr,40,4,1030)},m:function(t,o){Object(_.I)(t,e,o),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:ni.name,type:"else",source:"(40:2) {:else}",ctx:t}),o}function ri(t){let e,n,r,i,o=t[10]+"";const s={c:function(){e=Object(_.v)("span"),n=Object(_.db)("entry "),r=Object(_.db)(o),i=Object(_.db)(":"),Object(_.h)(e,"class","entry-index svelte-x88q6l"),Object(_.d)(e,Yr,36,70,933)},m:function(t,o){Object(_.I)(t,e,o),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.I)(t,i,o)},p:function(t,e){2&e&&o!==(o=t[10]+"")&&Object(_.X)(r,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:ri.name,type:"slot",source:"(37:8) <MapEntry depth={nextDepth} key={entryKey} value={entryValue}>",ctx:t}),s}function ii(t,e){let n,r,i,o,s;const a=new Wr({props:{depth:e[3],key:e[7],value:e[8],$$slots:{default:[ri]},$$scope:{ctx:e}},$$inline:!0}),c={key:t,first:null,c:function(){n=Object(_.v)("div"),r=Object(_.v)("pre"),r.textContent="",i=Object(_.ab)(),o=Object(_.v)("span"),Object(_.o)(a.$$.fragment),Object(_.h)(r,"class","indentation svelte-x88q6l"),Object(_.d)(r,Yr,34,6,797),Object(_.h)(o,"class","item svelte-x88q6l"),Object(_.d)(o,Yr,35,6,845),Object(_.h)(n,"class","row svelte-x88q6l"),Object(_.d)(n,Yr,33,4,775),this.first=n},m:function(t,e){Object(_.I)(t,n,e),Object(_.f)(n,r),Object(_.f)(n,i),Object(_.f)(n,o),Object(_.L)(a,o,null),s=!0},p:function(t,e){const n={};8&e&&(n.depth=t[3]),2&e&&(n.key=t[7]),2&e&&(n.value=t[8]),66&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i:function(t){s||(Object(_.gb)(a.$$.fragment,t),s=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(n),Object(_.r)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:ii.name,type:"each",source:"(33:2) {#each [...value] as [entryKey, entryValue], index (entryKey)}",ctx:e}),c}function oi(t){let e;const n={c:function(){e=Object(_.db)("No properties")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:oi.name,type:"slot",source:"(46:2) <PropertyList     {depth}     {value}   >",ctx:t}),n}function si(t){let e,n,r,i;function o(e){t[5].call(null,e)}let s={className:"map-toggle",$$slots:{default:[ti]},$$scope:{ctx:t}};void 0!==t[2]&&(s.isOpen=t[2]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[2]&&ei(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};70&n&&(i.$$scope={dirty:n,ctx:t}),!e&&4&n&&(e=!0,i.isOpen=t[2],Object(_.c)(()=>e=!1)),a.$set(i),t[2]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=ei(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:si.name,type:"component",source:"",ctx:t}),u}const ai=Map,ci=!0;function ui(t,e,n){let{depth:r=0}=e,{value:i}=e,o=r>0;const s=["depth","value"];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<MapFormatter> was created with unknown prop '${t}'`)});let a,{$$slots:c={},$$scope:u}=e;return Object(_.lb)("MapFormatter",c,["default"]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"$$scope"in t&&n(6,u=t.$$scope)},t.$capture_state=()=>({type:ai,hasDepthProp:ci,depth:r,value:i,isOpen:o,MapEntry:Wr,Toggle:ee,PropertyList:Wt,Echo:Ae,nextDepth:a}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"isOpen"in t&&n(2,o=t.isOpen),"nextDepth"in t&&n(3,a=t.nextDepth)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(3,a=Math.max(0,r-1))},[r,i,o,a,c,function(t){o=t,n(2,o)},u]}class li extends _.a{constructor(t){super(t),Object(_.H)(this,t,ui,si,_.T,{depth:0,value:1}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"MapFormatter",options:t,id:si.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"value"in n||console.warn("<MapFormatter> was created without expected prop 'value'")}get depth(){throw new Error("<MapFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<MapFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<MapFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<MapFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var hi=li;n(194);const fi="node_modules/svelte-inspect/inspect/formatters/SetFormatter.svelte";function di(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function pi(t){let e,n,r,i,o=t[1].size+"";const s={c:function(){e=Object(_.v)("span"),e.textContent="Set(",n=Object(_.v)("span"),r=Object(_.db)(o),i=Object(_.v)("span"),i.textContent=")",Object(_.h)(e,"slot","slot"),Object(_.h)(e,"class","set svelte-1b7s30z"),Object(_.d)(e,fi,22,4,476),Object(_.h)(n,"slot","slot"),Object(_.h)(n,"class","size svelte-1b7s30z"),Object(_.d)(n,fi,23,4,518),Object(_.h)(i,"slot","slot"),Object(_.h)(i,"class","set svelte-1b7s30z"),Object(_.d)(i,fi,24,4,569)},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),Object(_.I)(t,i,o)},p:function(t,e){2&e&&o!==(o=t[1].size+"")&&Object(_.X)(r,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:pi.name,type:"slot",source:"(25:4) <span slot=slot class=set>",ctx:t}),s}function mi(t){let e,n;const r={c:function(){e=Object(_.ab)(),n=Object(_.ab)()},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:mi.name,type:"slot",source:"(22:2) <Echo>",ctx:t}),r}function bi(t){let e,n;const r={c:function(){e=Object(_.v)("span"),e.textContent="",n=Object(_.db)("}"),Object(_.h)(e,"class","on-intent svelte-1b7s30z"),Object(_.d)(e,fi,27,4,640)},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:bi.name,type:"if",source:"(27:8) {#if !isOpen}",ctx:t}),r}function gi(t){let e,n,r,i;const o=t[4].default,s=Object(_.p)(o,t,t[6],null),a=new Ae({props:{$$slots:{default:[mi],slot:[pi]},$$scope:{ctx:t}},$$inline:!0});let c=!t[2]&&bi(t);const u={c:function(){s&&s.c(),e=Object(_.ab)(),Object(_.o)(a.$$.fragment),n=Object(_.db)("\n  {"),c&&c.c(),r=Object(_.w)()},m:function(t,o){s&&s.m(t,o),Object(_.I)(t,e,o),Object(_.L)(a,t,o),Object(_.I)(t,n,o),c&&c.m(t,o),Object(_.I)(t,r,o),i=!0},p:function(t,e){s&&s.p&&64&e&&s.p(Object(_.A)(o,t,t[6],null),Object(_.z)(o,t[6],e,null));const n={};66&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),t[2]?c&&(c.d(1),c=null):c||(c=bi(t),c.c(),c.m(r.parentNode,r))},i:function(t){i||(Object(_.gb)(s,t),Object(_.gb)(a.$$.fragment,t),i=!0)},o:function(t){Object(_.hb)(s,t),Object(_.hb)(a.$$.fragment,t),i=!1},d:function(t){s&&s.d(t),t&&Object(_.t)(e),Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:gi.name,type:"slot",source:"(20:0) <Toggle className=set-toggle bind:isOpen>",ctx:t}),u}function vi(t){let e,n,r,i=[],o=new Map,s=[...t[1]];Object(_.jb)(s);const a=t=>t[7];Object(_.kb)(t,s,di,a);for(let e=0;e<s.length;e+=1){let n=di(t,s,e),r=a(n);o.set(r,i[e]=_i(r,n))}let c=null;s.length||(c=yi(t));const u=new Wt({props:{depth:t[0],value:t[1],$$slots:{default:[xi]},$$scope:{ctx:t}},$$inline:!0}),l={c:function(){for(let t=0;t<i.length;t+=1)i[t].c();c&&c.c(),e=Object(_.ab)(),Object(_.o)(u.$$.fragment),n=Object(_.db)("\n  }")},m:function(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);c&&c.m(t,o),Object(_.I)(t,e,o),Object(_.L)(u,t,o),Object(_.I)(t,n,o),r=!0},p:function(t,n){if(10&n){const r=[...t[1]];Object(_.jb)(r),Object(_.F)(),Object(_.kb)(t,r,di,a),i=Object(_.ib)(i,n,a,1,t,r,o,e.parentNode,_.Q,_i,e,di),Object(_.l)(),r.length?c&&(c.d(1),c=null):c||(c=yi(t),c.c(),c.m(e.parentNode,e))}const r={};1&n&&(r.depth=t[0]),2&n&&(r.value=t[1]),64&n&&(r.$$scope={dirty:n,ctx:t}),u.$set(r)},i:function(t){if(!r){for(let t=0;t<s.length;t+=1)Object(_.gb)(i[t]);Object(_.gb)(u.$$.fragment,t),r=!0}},o:function(t){for(let t=0;t<i.length;t+=1)Object(_.hb)(i[t]);Object(_.hb)(u.$$.fragment,t),r=!1},d:function(t){for(let e=0;e<i.length;e+=1)i[e].d(t);c&&c.d(t),t&&Object(_.t)(e),Object(_.r)(u,t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:vi.name,type:"if",source:"(32:0) {#if isOpen}",ctx:t}),l}function yi(t){let e,n,r,i;const o={c:function(){e=Object(_.v)("div"),n=Object(_.v)("pre"),n.textContent="",r=Object(_.ab)(),i=Object(_.v)("span"),i.textContent="No entries",Object(_.h)(n,"class","indentation svelte-1b7s30z"),Object(_.d)(n,fi,41,6,1032),Object(_.h)(i,"class","empty svelte-1b7s30z"),Object(_.d)(i,fi,42,6,1080),Object(_.h)(e,"class","row svelte-1b7s30z"),Object(_.d)(e,fi,40,4,1010)},m:function(t,o){Object(_.I)(t,e,o),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:yi.name,type:"else",source:"(40:2) {:else}",ctx:t}),o}function wi(t){let e,n,r,i,o=t[9]+"";const s={c:function(){e=Object(_.v)("span"),n=Object(_.db)("entry "),r=Object(_.db)(o),i=Object(_.db)(":"),Object(_.h)(e,"class","entry-index svelte-1b7s30z"),Object(_.d)(e,fi,36,56,912)},m:function(t,o){Object(_.I)(t,e,o),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.I)(t,i,o)},p:function(t,e){2&e&&o!==(o=t[9]+"")&&Object(_.X)(r,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:wi.name,type:"slot",source:"(37:8) <Formatter depth={nextDepth} value={entryValue}>",ctx:t}),s}function _i(t,e){let n,r,i,o,s;const a=new Yi({props:{depth:e[3],value:e[7],$$slots:{default:[wi]},$$scope:{ctx:e}},$$inline:!0}),c={key:t,first:null,c:function(){n=Object(_.v)("div"),r=Object(_.v)("pre"),r.textContent="",i=Object(_.ab)(),o=Object(_.v)("span"),Object(_.o)(a.$$.fragment),Object(_.h)(r,"class","indentation svelte-1b7s30z"),Object(_.d)(r,fi,34,6,790),Object(_.h)(o,"class","item svelte-1b7s30z"),Object(_.d)(o,fi,35,6,838),Object(_.h)(n,"class","row svelte-1b7s30z"),Object(_.d)(n,fi,33,4,768),this.first=n},m:function(t,e){Object(_.I)(t,n,e),Object(_.f)(n,r),Object(_.f)(n,i),Object(_.f)(n,o),Object(_.L)(a,o,null),s=!0},p:function(t,e){const n={};8&e&&(n.depth=t[3]),2&e&&(n.value=t[7]),66&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i:function(t){s||(Object(_.gb)(a.$$.fragment,t),s=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(n),Object(_.r)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:_i.name,type:"each",source:"(33:2) {#each [...value] as entryValue, index (entryValue)}",ctx:e}),c}function xi(t){let e;const n={c:function(){e=Object(_.db)("No properties")},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:xi.name,type:"slot",source:"(46:2) <PropertyList     {depth}     {value}   >",ctx:t}),n}function Oi(t){let e,n,r,i;function o(e){t[5].call(null,e)}let s={className:"set-toggle",$$slots:{default:[gi]},$$scope:{ctx:t}};void 0!==t[2]&&(s.isOpen=t[2]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[2]&&vi(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};70&n&&(i.$$scope={dirty:n,ctx:t}),!e&&4&n&&(e=!0,i.isOpen=t[2],Object(_.c)(()=>e=!1)),a.$set(i),t[2]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=vi(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Oi.name,type:"component",source:"",ctx:t}),u}const Ei=Set,Si=!0;function ji(t,e,n){let{depth:r=0}=e,{value:i}=e,o=r>0;const s=["depth","value"];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<SetFormatter> was created with unknown prop '${t}'`)});let a,{$$slots:c={},$$scope:u}=e;return Object(_.lb)("SetFormatter",c,["default"]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"$$scope"in t&&n(6,u=t.$$scope)},t.$capture_state=()=>({type:Ei,hasDepthProp:Si,depth:r,value:i,isOpen:o,Formatter:Yi,Toggle:ee,PropertyList:Wt,Echo:Ae,nextDepth:a}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"isOpen"in t&&n(2,o=t.isOpen),"nextDepth"in t&&n(3,a=t.nextDepth)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&n(3,a=Math.max(0,r-1))},[r,i,o,a,c,function(t){o=t,n(2,o)},u]}class Mi extends _.a{constructor(t){super(t),Object(_.H)(this,t,ji,Oi,_.T,{depth:0,value:1}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"SetFormatter",options:t,id:Oi.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"value"in n||console.warn("<SetFormatter> was created without expected prop 'value'")}get depth(){throw new Error("<SetFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<SetFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<SetFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<SetFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Ti=Mi;n(195);function Ai(t){let e,n;const r={c:function(){e=Object(_.v)("span"),e.textContent="",n=Object(_.db)("}"),Object(_.h)(e,"class","on-intent svelte-lyq30d"),Object(_.d)(e,"node_modules/svelte-inspect/inspect/formatters/ObjectFormatter.svelte",23,4,570)},m:function(t,r){Object(_.I)(t,e,r),Object(_.I)(t,n,r)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ai.name,type:"if",source:"(23:8) {#if !isOpen}",ctx:t}),r}function ki(t){let e,n,r,i,o,s;const a=t[4].default,c=Object(_.p)(a,t,t[6],null);let u=!t[2]&&Ai(t);const l={c:function(){c&&c.c(),e=Object(_.ab)(),n=Object(_.v)("span"),r=Object(_.db)(t[3]),i=Object(_.db)("\n  {"),u&&u.c(),o=Object(_.w)(),Object(_.h)(n,"class","object svelte-lyq30d"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/ObjectFormatter.svelte",21,2,500)},m:function(t,a){c&&c.m(t,a),Object(_.I)(t,e,a),Object(_.I)(t,n,a),Object(_.f)(n,r),Object(_.I)(t,i,a),u&&u.m(t,a),Object(_.I)(t,o,a),s=!0},p:function(t,e){c&&c.p&&64&e&&c.p(Object(_.A)(a,t,t[6],null),Object(_.z)(a,t[6],e,null)),(!s||8&e)&&Object(_.X)(r,t[3]),t[2]?u&&(u.d(1),u=null):u||(u=Ai(t),u.c(),u.m(o.parentNode,o))},i:function(t){s||(Object(_.gb)(c,t),s=!0)},o:function(t){Object(_.hb)(c,t),s=!1},d:function(t){c&&c.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(i),u&&u.d(t),t&&Object(_.t)(o)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:ki.name,type:"slot",source:"(20:0) <Toggle className=object-toggle bind:isOpen>",ctx:t}),l}function Ii(t){let e,n;const r=new Wt({props:{depth:t[0],value:t[1]},$$inline:!0}),i={c:function(){Object(_.o)(r.$$.fragment),e=Object(_.db)("\n  }")},m:function(t,i){Object(_.L)(r,t,i),Object(_.I)(t,e,i),n=!0},p:function(t,e){const n={};1&e&&(n.depth=t[0]),2&e&&(n.value=t[1]),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){Object(_.r)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Ii.name,type:"if",source:"(28:0) {#if isOpen}",ctx:t}),i}function Ci(t){let e,n,r,i;function o(e){t[5].call(null,e)}let s={className:"object-toggle",$$slots:{default:[ki]},$$scope:{ctx:t}};void 0!==t[2]&&(s.isOpen=t[2]);const a=new ee({props:s,$$inline:!0});_.k.push(()=>Object(_.j)(a,"isOpen",o));let c=t[2]&&Ii(t);const u={c:function(){Object(_.o)(a.$$.fragment),n=Object(_.ab)(),c&&c.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.L)(a,t,e),Object(_.I)(t,n,e),c&&c.m(t,e),Object(_.I)(t,r,e),i=!0},p:function(t,[n]){const i={};76&n&&(i.$$scope={dirty:n,ctx:t}),!e&&4&n&&(e=!0,i.isOpen=t[2],Object(_.c)(()=>e=!1)),a.$set(i),t[2]?c?(c.p(t,n),Object(_.gb)(c,1)):(c=Ii(t),c.c(),Object(_.gb)(c,1),c.m(r.parentNode,r)):c&&(Object(_.F)(),Object(_.hb)(c,1,1,()=>{c=null}),Object(_.l)())},i:function(t){i||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c),i=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c),i=!1},d:function(t){Object(_.r)(a,t),t&&Object(_.t)(n),c&&c.d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Ci.name,type:"component",source:"",ctx:t}),u}const Ri=t=>null!==t&&"object"==typeof t,Pi=!0;function Li(t,e,n){let{depth:r=0}=e,{value:i}=e,o=r>0;const s=["depth","value"];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<ObjectFormatter> was created with unknown prop '${t}'`)});let a,{$$slots:c={},$$scope:u}=e;return Object(_.lb)("ObjectFormatter",c,["default"]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"$$scope"in t&&n(6,u=t.$$scope)},t.$capture_state=()=>({check:Ri,hasDepthProp:Pi,getObjectTypeString:pt,depth:r,value:i,isOpen:o,Toggle:ee,PropertyList:Wt,typeDescription:a}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"value"in t&&n(1,i=t.value),"isOpen"in t&&n(2,o=t.isOpen),"typeDescription"in t&&n(3,a=t.typeDescription)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{2&t.$$.dirty&&n(3,a=pt(i))},[r,i,o,a,c,function(t){o=t,n(2,o)},u]}class Ni extends _.a{constructor(t){super(t),Object(_.H)(this,t,Li,Ci,_.T,{depth:0,value:1}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"ObjectFormatter",options:t,id:Ci.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"value"in n||console.warn("<ObjectFormatter> was created without expected prop 'value'")}get depth(){throw new Error("<ObjectFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<ObjectFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<ObjectFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<ObjectFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Di=Ni;n(196);function Bi(t){let e,n,r,i,o=String(t[0])+"";const s=t[1].default,a=Object(_.p)(s,t,t[2],null),c={c:function(){a&&a.c(),e=Object(_.ab)(),n=Object(_.v)("span"),r=Object(_.db)(o),Object(_.h)(n,"class","fallback svelte-okdt0q"),Object(_.d)(n,"node_modules/svelte-inspect/inspect/formatters/FallbackFormatter.svelte",12,2,206)},m:function(t,o){a&&a.m(t,o),Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.f)(n,r),i=!0},p:function(t,e){a&&a.p&&4&e&&a.p(Object(_.A)(s,t,t[2],null),Object(_.z)(s,t[2],e,null)),(!i||1&e)&&o!==(o=String(t[0])+"")&&Object(_.X)(r,o)},i:function(t){i||(Object(_.gb)(a,t),i=!0)},o:function(t){Object(_.hb)(a,t),i=!1},d:function(t){a&&a.d(t),t&&Object(_.t)(e),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Bi.name,type:"slot",source:"(11:0) <PrimitiveBase {value}>",ctx:t}),c}function $i(t){let e;const n=new he({props:{value:t[0],$$slots:{default:[Bi]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,[e]){const r={};1&e&&(r.value=t[0]),5&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:$i.name,type:"component",source:"",ctx:t}),r}const Fi=t=>!0;function Ui(t,e,n){let{value:r}=e;const i=["value"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<FallbackFormatter> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("FallbackFormatter",o,["default"]),t.$set=t=>{"value"in t&&n(0,r=t.value),"$$scope"in t&&n(2,s=t.$$scope)},t.$capture_state=()=>({check:Fi,value:r,PrimitiveBase:he}),t.$inject_state=t=>{"value"in t&&n(0,r=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s]}class zi extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ui,$i,_.T,{value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"FallbackFormatter",options:t,id:$i.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<FallbackFormatter> was created without expected prop 'value'")}get value(){throw new Error("<FallbackFormatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<FallbackFormatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Hi=zi;const{Object:Gi}=_.E;function Vi(t){let e;const n=t[7].default,r=Object(_.p)(n,t,t[8],null),i={c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,e){r&&r.p&&256&e&&r.p(Object(_.A)(n,t,t[8],null),Object(_.z)(n,t[8],e,null))},i:function(t){e||(Object(_.gb)(r,t),e=!0)},o:function(t){Object(_.hb)(r,t),e=!1},d:function(t){r&&r.d(t)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Vi.name,type:"slot",source:"(68:0) <svelte:component this={component} {value} {...spread}>",ctx:t}),i}function qi(t){let e,n;const r=[{value:t[0]},t[2]];var i=t[1];function o(t){let e={$$slots:{default:[Vi]},$$scope:{ctx:t}};for(let t=0;t<r.length;t+=1)e=Object(_.g)(e,r[t]);return{props:e,$$inline:!0}}if(i)var s=new i(o(t));const a={c:function(){s&&Object(_.o)(s.$$.fragment),e=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){s&&Object(_.L)(s,t,r),Object(_.I)(t,e,r),n=!0},p:function(t,[n]){const a=5&n?Object(_.C)(r,[1&n&&{value:t[0]},4&n&&Object(_.B)(t[2])]):{};if(256&n&&(a.$$scope={dirty:n,ctx:t}),i!==(i=t[1])){if(s){Object(_.F)();const t=s;Object(_.hb)(t.$$.fragment,1,0,()=>{Object(_.r)(t,1)}),Object(_.l)()}i?(s=new i(o(t)),Object(_.o)(s.$$.fragment),Object(_.gb)(s.$$.fragment,1),Object(_.L)(s,e.parentNode,e)):s=null}else i&&s.$set(a)},i:function(t){n||(s&&Object(_.gb)(s.$$.fragment,t),n=!0)},o:function(t){s&&Object(_.hb)(s.$$.fragment,t),n=!1},d:function(t){t&&Object(_.t)(e),s&&Object(_.r)(s,t)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:qi.name,type:"component",source:"",ctx:t}),a}function Wi(t,e,n){let{depth:w=0}=e,{value:x}=e;const O=[r,i,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y];let E,S={};const j=["depth","value"];Gi.keys(e).forEach(t=>{~j.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Formatter> was created with unknown prop '${t}'`)});let M,T,{$$slots:A={},$$scope:k}=e;return Object(_.lb)("Formatter",A,["default"]),t.$set=t=>{"depth"in t&&n(3,w=t.depth),"value"in t&&n(0,x=t.value),"$$scope"in t&&n(8,k=t.$$scope)},t.$capture_state=()=>({depth:w,value:x,NilFormatter:r,BooleanFormatter:i,SymbolFormatter:o,NumberFormatter:s,BigIntFormatter:a,StringFormatter:c,FunctionFormatter:u,RegExpFormatter:l,DateFormatter:h,ErrorFormatter:f,ArrayFormatter:d,TypedArrayFormatter:p,ElementFormatter:m,MapFormatter:b,SetFormatter:g,ObjectFormatter:v,FallbackFormatter:y,formatterModules:O,component:E,spread:S,valueTypeOf:M,valuePrototype:T}),t.$inject_state=t=>{"depth"in t&&n(3,w=t.depth),"value"in t&&n(0,x=t.value),"component"in t&&n(1,E=t.component),"spread"in t&&n(2,S=t.spread),"valueTypeOf"in t&&n(4,M=t.valueTypeOf),"valuePrototype"in t&&n(5,T=t.valuePrototype)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{if(1&t.$$.dirty&&n(4,M=typeof x),1&t.$$.dirty&&n(5,T=x?Object.getPrototypeOf(x):void 0),57&t.$$.dirty)for(const t of O){let e=!1;if(t.check?e=t.check(x):t.typeOf?e=M===t.typeOf:t.type&&(e=T===t.type.prototype),e){n(1,E=t.default),t.hasDepthProp&&n(2,S={depth:w});break}}},[x,E,S,w,M,T,O,A,k]}class Ki extends _.a{constructor(t){super(t),Object(_.H)(this,t,Wi,qi,_.T,{depth:3,value:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Formatter",options:t,id:qi.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"value"in n||console.warn("<Formatter> was created without expected prop 'value'")}get depth(){throw new Error("<Formatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<Formatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<Formatter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(t){throw new Error("<Formatter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Yi=Ki;n(197);const Xi="node_modules/svelte-inspect/inspect/Getter.svelte";function Zi(t){let e;const n=new ee({props:{className:"getter-toggle",$$slots:{default:[eo]},$$scope:{ctx:t}},$$inline:!0});n.$on("open",t[4]);const r={c:function(){Object(_.o)(n.$$.fragment)},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,e){const r={};268&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Zi.name,type:"else",source:"(33:0) {:else}",ctx:t}),r}function Ji(t){let e;const n=new Yi({props:{value:t[0],$$slots:{default:[no]},$$scope:{ctx:t}},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,e){const r={};1&e&&(r.value=t[0]),256&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ji.name,type:"if",source:"(28:0) {#if hasGottenResult}",ctx:t}),r}function Qi(t){let e,n,r;const i={c:function(){e=Object(_.db)("("),n=Object(_.v)("span"),n.textContent="",r=Object(_.db)(")"),Object(_.h)(n,"class","on-intent svelte-19tcbg0"),Object(_.d)(n,Xi,42,7,928)},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),Object(_.I)(t,r,i)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Qi.name,type:"else",source:"(42:4) {:else}",ctx:t}),i}function to(t){let e,n;const r={c:function(){e=Object(_.v)("span"),n=Object(_.db)(t[2]),Object(_.h)(e,"class","error svelte-19tcbg0"),Object(_.d)(e,Xi,40,6,870)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){4&e&&Object(_.X)(n,t[2])},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:to.name,type:"if",source:"(40:4) {#if hasError}",ctx:t}),r}function eo(t){let e,n,r,i,o;const s=t[7].default,a=Object(_.p)(s,t,t[8],null);function c(t,e){return t[3]?to:Qi}let u=c(t),l=u(t);const h={c:function(){e=Object(_.v)("span"),e.textContent="get",n=Object(_.ab)(),a&&a.c(),r=Object(_.ab)(),l.c(),i=Object(_.w)(),Object(_.h)(e,"class","prefix svelte-19tcbg0"),Object(_.d)(e,Xi,37,4,802)},m:function(t,s){Object(_.I)(t,e,s),Object(_.I)(t,n,s),a&&a.m(t,s),Object(_.I)(t,r,s),l.m(t,s),Object(_.I)(t,i,s),o=!0},p:function(t,e){a&&a.p&&256&e&&a.p(Object(_.A)(s,t,t[8],null),Object(_.z)(s,t[8],e,null)),u===(u=c(t))&&l?l.p(t,e):(l.d(1),l=u(t),l&&(l.c(),l.m(i.parentNode,i)))},i:function(t){o||(Object(_.gb)(a,t),o=!0)},o:function(t){Object(_.hb)(a,t),o=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),a&&a.d(t),t&&Object(_.t)(r),l.d(t),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:h,id:eo.name,type:"slot",source:"(34:2) <Toggle     className=getter-toggle     on:open={callGetter}   >",ctx:t}),h}function no(t){let e,n,r;const i=t[7].default,o=Object(_.p)(i,t,t[8],null),s={c:function(){e=Object(_.v)("span"),e.textContent="get",n=Object(_.ab)(),o&&o.c(),Object(_.h)(e,"class","prefix svelte-19tcbg0"),Object(_.d)(e,Xi,29,4,665)},m:function(t,i){Object(_.I)(t,e,i),Object(_.I)(t,n,i),o&&o.m(t,i),r=!0},p:function(t,e){o&&o.p&&256&e&&o.p(Object(_.A)(i,t,t[8],null),Object(_.z)(i,t[8],e,null))},i:function(t){r||(Object(_.gb)(o,t),r=!0)},o:function(t){Object(_.hb)(o,t),r=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),o&&o.d(t)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:no.name,type:"slot",source:"(29:2) <Formatter value={getterValue}>",ctx:t}),s}function ro(t){let e,n,r,i;const o=[Ji,Zi],s=[];function a(t,e){return t[1]?0:1}e=a(t),n=s[e]=o[e](t);const c={c:function(){n.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){s[e].m(t,n),Object(_.I)(t,r,n),i=!0},p:function(t,[i]){let c=e;e=a(t),e===c?s[e].p(t,i):(Object(_.F)(),Object(_.hb)(s[c],1,1,()=>{s[c]=null}),Object(_.l)(),n=s[e],n||(n=s[e]=o[e](t),n.c()),Object(_.gb)(n,1),n.m(r.parentNode,r))},i:function(t){i||(Object(_.gb)(n),i=!0)},o:function(t){Object(_.hb)(n),i=!1},d:function(t){s[e].d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:ro.name,type:"component",source:"",ctx:t}),c}function io(t,e,n){let r,i,{descriptor:o={}}=e,{context:s={}}=e,a=!1,c=!1;const u=()=>{try{n(0,r=o.get.call(s)),n(1,a=!0),At(),ft(kt)}catch(t){n(2,i=t),n(3,c=!0)}},l=["descriptor","context"];Object.keys(e).forEach(t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Getter> was created with unknown prop '${t}'`)});let{$$slots:h={},$$scope:f}=e;return Object(_.lb)("Getter",h,["default"]),t.$set=t=>{"descriptor"in t&&n(5,o=t.descriptor),"context"in t&&n(6,s=t.context),"$$scope"in t&&n(8,f=t.$$scope)},t.$capture_state=()=>({descriptor:o,context:s,getterValue:r,hasGottenResult:a,getterError:i,hasError:c,callGetter:u,onTick:ft,focusPrev:At,focusNext:kt,Formatter:Yi,Toggle:ee}),t.$inject_state=t=>{"descriptor"in t&&n(5,o=t.descriptor),"context"in t&&n(6,s=t.context),"getterValue"in t&&n(0,r=t.getterValue),"hasGottenResult"in t&&n(1,a=t.hasGottenResult),"getterError"in t&&n(2,i=t.getterError),"hasError"in t&&n(3,c=t.hasError)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,a,i,c,u,o,s,h,f]}class oo extends _.a{constructor(t){super(t),Object(_.H)(this,t,io,ro,_.T,{descriptor:5,context:6}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Getter",options:t,id:ro.name})}get descriptor(){throw new Error("<Getter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set descriptor(t){throw new Error("<Getter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get context(){throw new Error("<Getter>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set context(t){throw new Error("<Getter>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var so=oo;n(198);const ao="node_modules/svelte-inspect/inspect/Property.svelte";function co(t){let e,n,r,i,o,s=String(t[1])+"";const a={c:function(){e=Object(_.v)("span"),n=Object(_.v)("span"),r=Object(_.db)(s),i=Object(_.v)("span"),o=Object(_.db)(t[4]),Object(_.h)(n,"class","pre svelte-vpyv2i"),Object(_.d)(n,ao,22,4,582),Object(_.h)(i,"class","separator svelte-vpyv2i"),Object(_.d)(i,ao,22,40,618),Object(_.h)(e,"class","key svelte-vpyv2i"),Object(_.fb)(e,"enumerable",t[5]),Object(_.fb)(e,"index",ht(t[1])),Object(_.d)(e,ao,21,2,514)},m:function(t,s){Object(_.I)(t,e,s),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),Object(_.f)(i,o)},p:function(t,n){2&n&&s!==(s=String(t[1])+"")&&Object(_.X)(r,s),16&n&&Object(_.X)(o,t[4]),32&n&&Object(_.fb)(e,"enumerable",t[5]),2&n&&Object(_.fb)(e,"index",ht(t[1]))},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:co.name,type:"slot",source:"(18:0) <svelte:component   this={getter ? Getter : Formatter}   {...(getter ? {descriptor, context} : {value, depth: enumerable ? depth : 0})} >",ctx:t}),a}function uo(t){let e,n;const r=[t[6]?{descriptor:t[3],context:t[2]}:{value:t[7],depth:t[5]?t[0]:0}];var i=t[6]?so:Yi;function o(t){let e={$$slots:{default:[co]},$$scope:{ctx:t}};for(let t=0;t<r.length;t+=1)e=Object(_.g)(e,r[t]);return{props:e,$$inline:!0}}if(i)var s=new i(o(t));const a={c:function(){s&&Object(_.o)(s.$$.fragment),e=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){s&&Object(_.L)(s,t,r),Object(_.I)(t,e,r),n=!0},p:function(t,[n]){const a=237&n?Object(_.C)(r,[Object(_.B)(t[6]?{descriptor:t[3],context:t[2]}:{value:t[7],depth:t[5]?t[0]:0})]):{};if(306&n&&(a.$$scope={dirty:n,ctx:t}),i!==(i=t[6]?so:Yi)){if(s){Object(_.F)();const t=s;Object(_.hb)(t.$$.fragment,1,0,()=>{Object(_.r)(t,1)}),Object(_.l)()}i?(s=new i(o(t)),Object(_.o)(s.$$.fragment),Object(_.gb)(s.$$.fragment,1),Object(_.L)(s,e.parentNode,e)):s=null}else i&&s.$set(a)},i:function(t){n||(s&&Object(_.gb)(s.$$.fragment,t),n=!0)},o:function(t){s&&Object(_.hb)(s.$$.fragment,t),n=!1},d:function(t){t&&Object(_.t)(e),s&&Object(_.r)(s,t)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:uo.name,type:"component",source:"",ctx:t}),a}function lo(t,e,n){let{depth:r=0}=e,{key:i}=e,{context:o}=e,{descriptor:s={}}=e,{separator:a}=e;const c=["depth","key","context","descriptor","separator"];Object.keys(e).forEach(t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Property> was created with unknown prop '${t}'`)});let u,l,h,{$$slots:f={},$$scope:d}=e;return Object(_.lb)("Property",f,[]),t.$set=t=>{"depth"in t&&n(0,r=t.depth),"key"in t&&n(1,i=t.key),"context"in t&&n(2,o=t.context),"descriptor"in t&&n(3,s=t.descriptor),"separator"in t&&n(4,a=t.separator)},t.$capture_state=()=>({keyIsIndex:ht,depth:r,key:i,context:o,descriptor:s,separator:a,Formatter:Yi,Getter:so,enumerable:u,getter:l,value:h}),t.$inject_state=t=>{"depth"in t&&n(0,r=t.depth),"key"in t&&n(1,i=t.key),"context"in t&&n(2,o=t.context),"descriptor"in t&&n(3,s=t.descriptor),"separator"in t&&n(4,a=t.separator),"enumerable"in t&&n(5,u=t.enumerable),"getter"in t&&n(6,l=t.getter),"value"in t&&n(7,h=t.value)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{8&t.$$.dirty&&n(5,u=s.enumerable),8&t.$$.dirty&&n(6,l=s.get),8&t.$$.dirty&&n(7,h=s.value)},[r,i,o,s,a,u,l,h]}class ho extends _.a{constructor(t){super(t),Object(_.H)(this,t,lo,uo,_.T,{depth:0,key:1,context:2,descriptor:3,separator:4}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Property",options:t,id:uo.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[1]||"key"in n||console.warn("<Property> was created without expected prop 'key'"),void 0!==e[2]||"context"in n||console.warn("<Property> was created without expected prop 'context'"),void 0!==e[4]||"separator"in n||console.warn("<Property> was created without expected prop 'separator'")}get depth(){throw new Error("<Property>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set depth(t){throw new Error("<Property>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get key(){throw new Error("<Property>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set key(t){throw new Error("<Property>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get context(){throw new Error("<Property>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set context(t){throw new Error("<Property>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get descriptor(){throw new Error("<Property>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set descriptor(t){throw new Error("<Property>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get separator(){throw new Error("<Property>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set separator(t){throw new Error("<Property>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var fo=ho;n(199);function po(t,e,n){const r=t.slice();return r[11]=e[n],r}function mo(t){let e,n,r=t[1];Object(_.jb)(r);let i=[];for(let e=0;e<r.length;e+=1)i[e]=go(po(t,r,e));const o=t=>Object(_.hb)(i[t],1,1,()=>{i[t]=null}),s={c:function(){for(let t=0;t<i.length;t+=1)i[t].c();e=Object(_.w)()},m:function(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);Object(_.I)(t,e,r),n=!0},p:function(t,n){if(191&n){let s;for(r=t[1],Object(_.jb)(r),s=0;s<r.length;s+=1){const o=po(t,r,s);i[s]?(i[s].p(o,n),Object(_.gb)(i[s],1)):(i[s]=go(o),i[s].c(),Object(_.gb)(i[s],1),i[s].m(e.parentNode,e))}for(Object(_.F)(),s=r.length;s<i.length;s+=1)o(s);Object(_.l)()}},i:function(t){if(!n){for(let t=0;t<r.length;t+=1)Object(_.gb)(i[t]);n=!0}},o:function(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Object(_.hb)(i[t]);n=!1},d:function(t){Object(_.s)(i,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:mo.name,type:"else",source:"(32:0) {:else}",ctx:t}),s}function bo(t){let e,n;const r=new Yi({props:{depth:t[7].depth||t[5],value:t[7].value},$$inline:!0}),i={c:function(){e=Object(_.v)("span"),Object(_.o)(r.$$.fragment),Object(_.h)(e,"class","inspect svelte-wqxm1m"),Object(_.h)(e,"style",t[0]),Object(_.fb)(e,"inline",t[3]),Object(_.d)(e,"node_modules/svelte-inspect/inspect/Inspect.svelte",25,2,647)},m:function(t,i){Object(_.I)(t,e,i),Object(_.L)(r,e,null),n=!0},p:function(t,i){const o={};128&i&&(o.depth=t[7].depth||t[5]),128&i&&(o.value=t[7].value),r.$set(o),(!n||1&i)&&Object(_.h)(e,"style",t[0]),8&i&&Object(_.fb)(e,"inline",t[3])},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:bo.name,type:"if",source:"(25:0) {#if valueOnly}",ctx:t}),i}function go(t){let e,n,r;const i=new fo({props:{depth:t[5],key:t[11],context:null,descriptor:Object.getOwnPropertyDescriptor(t[7],t[11]),separator:" = "},$$inline:!0}),o={c:function(){e=Object(_.v)("span"),Object(_.o)(i.$$.fragment),n=Object(_.ab)(),Object(_.h)(e,"class","inspect svelte-wqxm1m"),Object(_.h)(e,"style",t[0]),Object(_.fb)(e,"block",t[2]),Object(_.fb)(e,"inline",t[3]),Object(_.fb)(e,"semicolon",t[4]),Object(_.d)(e,"node_modules/svelte-inspect/inspect/Inspect.svelte",33,4,824)},m:function(t,o){Object(_.I)(t,e,o),Object(_.L)(i,e,null),Object(_.f)(e,n),r=!0},p:function(t,n){const o={};2&n&&(o.key=t[11]),130&n&&(o.descriptor=Object.getOwnPropertyDescriptor(t[7],t[11])),i.$set(o),(!r||1&n)&&Object(_.h)(e,"style",t[0]),4&n&&Object(_.fb)(e,"block",t[2]),8&n&&Object(_.fb)(e,"inline",t[3]),16&n&&Object(_.fb)(e,"semicolon",t[4])},i:function(t){r||(Object(_.gb)(i.$$.fragment,t),r=!0)},o:function(t){Object(_.hb)(i.$$.fragment,t),r=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:go.name,type:"each",source:"(33:2) {#each propKeys as key}",ctx:t}),o}function vo(t){let e,n,r,i;const o=[bo,mo],s=[];e=function(t,e){return t[6]?0:1}(t),n=s[e]=o[e](t);const a={c:function(){n.c(),r=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){s[e].m(t,n),Object(_.I)(t,r,n),i=!0},p:function(t,[e]){n.p(t,e)},i:function(t){i||(Object(_.gb)(n),i=!0)},o:function(t){Object(_.hb)(n),i=!1},d:function(t){s[e].d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:vo.name,type:"component",source:"",ctx:t}),a}function yo(t,e,n){const r=t=>({depth:1,palette:{},...t[Symbol.for("configuration")]||{}});let i,o,s,a,c,u,{depth:l,palette:h,valueOnly:f}=r(e),{$$slots:d={},$$scope:p}=e;return Object(_.lb)("Inspect",d,[]),t.$set=t=>{n(7,e=Object(_.g)(Object(_.g)({},e),Object(_.x)(t)))},t.$capture_state=()=>({Property:fo,Formatter:Yi,getConfiguration:r,depth:l,palette:h,valueOnly:f,colors:i,style:o,propKeys:s,block:a,inline:c,semicolon:u}),t.$inject_state=t=>{n(7,e=Object(_.g)(Object(_.g)({},e),t)),"depth"in e&&n(5,l=t.depth),"palette"in e&&n(10,h=t.palette),"valueOnly"in e&&n(6,f=t.valueOnly),"colors"in e&&n(8,i=t.colors),"style"in e&&n(0,o=t.style),"propKeys"in e&&n(1,s=t.propKeys),"block"in e&&n(2,a=t.block),"inline"in e&&n(3,c=t.inline),"semicolon"in e&&n(4,u=t.semicolon)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{256&t.$$.dirty&&n(0,o=i.map(t=>`--color-${t}: ${h[t]};`).join("")),n(1,s=Object.keys(e)),2&t.$$.dirty&&n(2,a=s.length>1),4&t.$$.dirty&&n(3,c=f||!a)},n(8,i=Object.keys(h)),n(4,u=!f),e=Object(_.x)(e),[o,s,a,c,u,l,f,e]}class wo extends _.a{constructor(t){super(t),Object(_.H)(this,t,yo,vo,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Inspect",options:t,id:vo.name})}}var _o=wo;function xo(t){return _o.render?{..._o,render:e=>_o.render({...e,[Symbol.for("configuration")]:t})}:class extends _o{constructor(e){const n=e.props||{};super({...e,props:{...n,[Symbol.for("configuration")]:t}})}}}const Oo={red:"red",blue:"dodgerblue",green:"yellowgreen",purple:"violet",gray:"#808080",black:"#d0d0d0",white:"#202020",selection:"darkblue"},Eo=xo({palette:Oo}),So=xo({valueOnly:!0});_o.configure=xo,_o.Inverted=Eo,_o.Value=So;for(let t=0;t<=10;t++)_o[t]=xo({depth:t}),_o.Inverted[t]=xo({depth:t,palette:Oo});var jo=_o;n(200);const{console:Mo}=_.E,To="client/components/widgets/LiveCodeParseOutput.svelte";function Ao(t){let e,n,r,i,o,s,a;const c=new jo.Value({props:{value:t[2],depth:7},$$inline:!0}),u={c:function(){e=Object(_.v)("div"),n=Object(_.v)("strong"),n.textContent="Abstract Syntax Tree:",r=Object(_.ab)(),i=Object(_.v)("br"),o=Object(_.ab)(),s=Object(_.v)("div"),Object(_.o)(c.$$.fragment),Object(_.h)(n,"class","correct-state svelte-b1kgt1"),Object(_.d)(n,To,101,4,1906),Object(_.d)(i,To,102,4,1971),Object(_.Z)(s,"margin-left","5px"),Object(_.d)(s,To,103,4,1980),Object(_.h)(e,"class","headline svelte-b1kgt1"),Object(_.d)(e,To,100,2,1879)},m:function(t,u){Object(_.I)(t,e,u),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),Object(_.f)(e,o),Object(_.f)(e,s),Object(_.L)(c,s,null),a=!0},p:function(t,e){const n={};4&e&&(n.value=t[2]),c.$set(n)},i:function(t){a||(Object(_.gb)(c.$$.fragment,t),a=!0)},o:function(t){Object(_.hb)(c.$$.fragment,t),a=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(c)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Ao.name,type:"else",source:"(100:2) {:else}",ctx:t}),u}function ko(t){let e,n,r,i,o,s,a,c;const u={c:function(){e=Object(_.v)("div"),n=Object(_.v)("strong"),n.textContent="Live Code Syntax Error",r=Object(_.ab)(),i=Object(_.v)("br"),o=Object(_.ab)(),s=Object(_.v)("div"),a=Object(_.v)("span"),c=Object(_.db)(t[1]),Object(_.h)(n,"class","error-state svelte-b1kgt1"),Object(_.d)(n,To,92,4,1609),Object(_.d)(i,To,93,4,1673),Object(_.Z)(a,"white-space","pre-wrap"),Object(_.d)(a,To,96,6,1778),Object(_.Z)(s,"margin-left","5px"),Object(_.d)(s,To,94,4,1682),Object(_.d)(e,To,91,2,1599)},m:function(t,u){Object(_.I)(t,e,u),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),Object(_.f)(e,o),Object(_.f)(e,s),Object(_.f)(s,a),Object(_.f)(a,c)},p:function(t,e){2&e&&Object(_.X)(c,t[1])},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:ko.name,type:"if",source:"(91:40) ",ctx:t}),u}function Io(t){let e,n;const r={c:function(){e=Object(_.v)("div"),n=Object(_.v)("strong"),n.textContent="Go work on your grammar!",Object(_.h)(n,"class","error-state svelte-b1kgt1"),Object(_.d)(n,To,88,4,1485),Object(_.d)(e,To,87,2,1475)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:_.M,i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Io.name,type:"if",source:'(87:2) {#if $grammarCompilationErrors != \\"\\"}',ctx:t}),r}function Co(t){let e,n,r,i,o,s,a;const c=[Io,ko,Ao],u=[];function l(t,e){return""!=t[0]?0:""!==t[1]?1:2}o=l(t),s=u[o]=c[o](t);const h={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div"),r=Object(_.v)("strong"),r.textContent="LIVE CODE PARSER OUTPUT",i=Object(_.ab)(),s.c(),Object(_.d)(r,To,84,4,1382),Object(_.h)(n,"class","headline svelte-b1kgt1"),Object(_.d)(n,To,83,2,1355),Object(_.h)(e,"id","liveCodeCompilerOutput"),Object(_.h)(e,"class","codemirror-container flex scrollable svelte-b1kgt1"),Object(_.d)(e,To,82,0,1274)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,s){Object(_.I)(t,e,s),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),u[o].m(e,null),a=!0},p:function(t,[n]){let r=o;o=l(t),o===r?u[o].p(t,n):(Object(_.F)(),Object(_.hb)(u[r],1,1,()=>{u[r]=null}),Object(_.l)(),s=u[o],s||(s=u[o]=c[o](t),s.c()),Object(_.gb)(s,1),s.m(e,null))},i:function(t){a||(Object(_.gb)(s),a=!0)},o:function(t){Object(_.hb)(s),a=!1},d:function(t){t&&Object(_.t)(e),u[o].d()}};return Object(_.u)("SvelteRegisterBlock",{block:h,id:Co.name,type:"component",source:"",ctx:t}),h}const Ro="undefined"!=typeof window;function Po(t,e,n){let r,i,o;Object(_.mb)(da,"grammarCompilationErrors"),Object(_.m)(t,da,t=>n(0,r=t)),Object(_.mb)(ba,"liveCodeParseErrors"),Object(_.m)(t,ba,t=>n(1,i=t)),Object(_.mb)(ga,"liveCodeAbstractSyntaxTree"),Object(_.m)(t,ga,t=>n(2,o=t)),Object(x.e)(async()=>{}),Object(x.d)(async()=>{});let s=t=>{console.log(t.detail.value)},a=t=>{};const c=[];Object.keys(e).forEach(t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||Mo.warn(`<LiveCodeParseOutput> was created with unknown prop '${t}'`)});let{$$slots:u={},$$scope:l}=e;return Object(_.lb)("LiveCodeParseOutput",u,[]),t.$capture_state=()=>({is_browser:Ro,CodeMirror:L.a,set:L.set,update:L.update,onMount:x.e,onDestroy:x.d,Inspect:jo,grammarCompilationErrors:da,liveCodeParseErrors:ba,liveCodeAbstractSyntaxTree:ga,log:s,nil:a,$grammarCompilationErrors:r,$liveCodeParseErrors:i,$liveCodeAbstractSyntaxTree:o}),t.$inject_state=t=>{"log"in t&&(s=t.log),"nil"in t&&(a=t.nil)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i,o]}Ro&&Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,391));class Lo extends _.a{constructor(t){super(t),Object(_.H)(this,t,Po,Co,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"LiveCodeParseOutput",options:t,id:Co.name})}}var No=Lo;n(201);const{console:Do}=_.E,Bo="client/components/widgets/GrammarCompileOutput.svelte";function $o(t){let e,n;const r={c:function(){e=Object(_.v)("div"),n=Object(_.v)("strong"),n.textContent="Grammar validated and parser generated!",Object(_.h)(n,"class","correct-state svelte-9k39su"),Object(_.d)(n,Bo,94,4,1700),Object(_.h)(e,"class","headline svelte-9k39su"),Object(_.d)(e,Bo,93,2,1673)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:$o.name,type:"else",source:"(93:2) {:else}",ctx:t}),r}function Fo(t){let e,n,r,i,o,s,a,c;const u={c:function(){e=Object(_.v)("div"),n=Object(_.v)("strong"),n.textContent="Grammar compilation errors!",r=Object(_.ab)(),i=Object(_.v)("br"),o=Object(_.ab)(),s=Object(_.v)("div"),a=Object(_.v)("span"),c=Object(_.db)(t[0]),Object(_.h)(n,"class","error-state svelte-9k39su"),Object(_.d)(n,Bo,85,4,1393),Object(_.d)(i,Bo,86,4,1462),Object(_.Z)(a,"white-space","pre-wrap"),Object(_.d)(a,Bo,89,6,1567),Object(_.Z)(s,"margin-left","5px"),Object(_.d)(s,Bo,87,4,1471),Object(_.d)(e,Bo,84,2,1383)},m:function(t,u){Object(_.I)(t,e,u),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),Object(_.f)(e,o),Object(_.f)(e,s),Object(_.f)(s,a),Object(_.f)(a,c)},p:function(t,e){1&e&&Object(_.X)(c,t[0])},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Fo.name,type:"if",source:'(84:2) {#if $grammarCompilationErrors !== \\"\\"}',ctx:t}),u}function Uo(t){let e,n,r,i;function o(t,e){return""!==t[0]?Fo:$o}let s=o(t),a=s(t);const c={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div"),r=Object(_.v)("strong"),r.textContent="GRAMMAR COMPILER OUTPUT",i=Object(_.ab)(),a.c(),Object(_.d)(r,Bo,81,4,1289),Object(_.h)(n,"class","headline svelte-9k39su"),Object(_.d)(n,Bo,80,2,1262),Object(_.h)(e,"id","grammarOutput"),Object(_.h)(e,"class","codemirror-container flex scrollable svelte-9k39su"),Object(_.d)(e,Bo,79,0,1190)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){Object(_.I)(t,e,o),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),a.m(e,null)},p:function(t,[n]){s===(s=o(t))&&a?a.p(t,n):(a.d(1),a=s(t),a&&(a.c(),a.m(e,null)))},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),a.d()}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Uo.name,type:"component",source:"",ctx:t}),c}const zo="undefined"!=typeof window;function Ho(t,e,n){let r;Object(_.mb)(da,"grammarCompilationErrors"),Object(_.m)(t,da,t=>n(0,r=t)),Object(x.e)(async()=>{}),Object(x.d)(async()=>{});let i=t=>{console.log(t.detail.value)},o=t=>{};const s=[];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||Do.warn(`<GrammarCompileOutput> was created with unknown prop '${t}'`)});let{$$slots:a={},$$scope:c}=e;return Object(_.lb)("GrammarCompileOutput",a,[]),t.$capture_state=()=>({is_browser:zo,CodeMirror:L.a,set:L.set,update:L.update,onMount:x.e,onDestroy:x.d,Inspect:jo,grammarCompilationErrors:da,log:i,nil:o,$grammarCompilationErrors:r}),t.$inject_state=t=>{"log"in t&&(i=t.log),"nil"in t&&(o=t.nil)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r]}zo&&Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,391));class Go extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ho,Uo,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"GrammarCompileOutput",options:t,id:Uo.name})}}var Vo=Go;n(202);const{console:qo}=_.E;function Wo(t){let e;const n={c:function(){e=Object(_.v)("canvas"),Object(_.h)(e,"class","canvas svelte-1scfbbo"),Object(_.d)(e,"client/components/widgets/Analyser.svelte",185,0,4845)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(n,r){Object(_.I)(n,e,r),t[38](e)},p:_.M,i:_.M,o:_.M,d:function(n){n&&Object(_.t)(e),t[38](null)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:Wo.name,type:"component",source:"",ctx:t}),n}function Ko(t,e,n){const r=Object(x.b)();let i,o,s=new q.a,{id:a}=e,{name:c}=e,{type:u}=e,{mode:l}=e,{hasFocus:h}=e,{background:f}=e,{lineNumbers:d}=e,{theme:p}=e,{data:m}=e,{responsive:b}=e,{resizable:g}=e,{resize:v}=e,{draggable:y}=e,{drag:w}=e,{min:O={}}=e,{max:E={}}=e,{x:S}=e,{y:j}=e,{w:M}=e,{h:T}=e,{component:A}=e,k=256,I=128,C=.8,R=[],P=[],L=!0;function N(){for(let t=0;t<I;t++)R[t]=Math.floor(Math.random()*i.offsetWidth),P[t]=Math.floor(Math.random()*i.offsetWidth)}let D=t=>{void 0!==t&&(C=t.smoothingTimeConstant,k=t.fftSize,R=t.frequencyDataArray,P=t.timeDataArray)};const B=t=>{for(let e=0;e<I;e++){let n=R[e]/255,r=i.offsetHeight*n,o=i.offsetHeight-r-1,s=i.offsetWidth/I,a=e/I*255;t.fillStyle="hsl("+a+", 100%, 75%)",t.fillRect(e*s,o,s,i.offsetHeight)}},$=t=>{for(let e=0;e<I;e++){let n=P[e]/255,r=i.offsetHeight*n,o=i.offsetHeight-r-1,s=i.offsetWidth/I;t.fillStyle="white",t.fillRect(e*s,o,s,2)}},F=()=>{if(L){o=requestAnimationFrame(F);let t=i.getContext("2d");t.canvas.width=i.offsetWidth,t.canvas.height=i.offsetHeight,t.clearRect(0,0,i.offsetWidth,i.offsetHeight),"oscilloscope"===l?$(t):"spectrogram"===l?B(t):(B(t),$(t))}},U=()=>{console.log("toggleRender"),L?cancelAnimationFrame(o):o=requestAnimationFrame(F),L=!L,n(1,h=!0),console.log("click"),r("change",{prop:"hasFocus",value:!0})};let z=t=>{};Object(x.e)(async()=>{s.publish("add-engine-analyser",{id:a}),i.addEventListener("click",()=>U(),!1),s.subscribe("analyser-data",t=>D(t)),z(a,c,u,d,h,p,f,m,b,g,v,y,w,O,E,S,j,M,T,A),F()}),Object(x.d)(async()=>(L=!1,()=>cancelAnimationFrame(o)));const H=["id","name","type","mode","hasFocus","background","lineNumbers","theme","data","responsive","resizable","resize","draggable","drag","min","max","x","y","w","h","component"];Object.keys(e).forEach(t=>{~H.indexOf(t)||"$$"===t.slice(0,2)||qo.warn(`<Analyser> was created with unknown prop '${t}'`)});let{$$slots:G={},$$scope:V}=e;return Object(_.lb)("Analyser",G,[]),t.$set=t=>{"id"in t&&n(2,a=t.id),"name"in t&&n(3,c=t.name),"type"in t&&n(4,u=t.type),"mode"in t&&n(5,l=t.mode),"hasFocus"in t&&n(1,h=t.hasFocus),"background"in t&&n(6,f=t.background),"lineNumbers"in t&&n(7,d=t.lineNumbers),"theme"in t&&n(8,p=t.theme),"data"in t&&n(9,m=t.data),"responsive"in t&&n(10,b=t.responsive),"resizable"in t&&n(11,g=t.resizable),"resize"in t&&n(12,v=t.resize),"draggable"in t&&n(13,y=t.draggable),"drag"in t&&n(14,w=t.drag),"min"in t&&n(15,O=t.min),"max"in t&&n(16,E=t.max),"x"in t&&n(17,S=t.x),"y"in t&&n(18,j=t.y),"w"in t&&n(19,M=t.w),"h"in t&&n(20,T=t.h),"component"in t&&n(21,A=t.component)},t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,createEventDispatcher:x.b,dispatch:r,PubSub:q.a,messaging:s,id:a,name:c,type:u,mode:l,hasFocus:h,background:f,lineNumbers:d,theme:p,data:m,responsive:b,resizable:g,resize:v,draggable:y,drag:w,min:O,max:E,x:S,y:j,w:M,h:T,component:A,fftSize:k,frequencyBinCount:I,smoothingTimeConstant:C,frequencyDataArray:R,timeDataArray:P,canvas:i,frame:o,isRendering:L,randomBytes:N,updateAnalyserByteData:D,drawFrequencyData:B,drawTimeData:$,renderLoop:F,toggleRendering:U,log:z}),t.$inject_state=t=>{"messaging"in t&&(s=t.messaging),"id"in t&&n(2,a=t.id),"name"in t&&n(3,c=t.name),"type"in t&&n(4,u=t.type),"mode"in t&&n(5,l=t.mode),"hasFocus"in t&&n(1,h=t.hasFocus),"background"in t&&n(6,f=t.background),"lineNumbers"in t&&n(7,d=t.lineNumbers),"theme"in t&&n(8,p=t.theme),"data"in t&&n(9,m=t.data),"responsive"in t&&n(10,b=t.responsive),"resizable"in t&&n(11,g=t.resizable),"resize"in t&&n(12,v=t.resize),"draggable"in t&&n(13,y=t.draggable),"drag"in t&&n(14,w=t.drag),"min"in t&&n(15,O=t.min),"max"in t&&n(16,E=t.max),"x"in t&&n(17,S=t.x),"y"in t&&n(18,j=t.y),"w"in t&&n(19,M=t.w),"h"in t&&n(20,T=t.h),"component"in t&&n(21,A=t.component),"fftSize"in t&&(k=t.fftSize),"frequencyBinCount"in t&&(I=t.frequencyBinCount),"smoothingTimeConstant"in t&&(C=t.smoothingTimeConstant),"frequencyDataArray"in t&&(R=t.frequencyDataArray),"timeDataArray"in t&&(P=t.timeDataArray),"canvas"in t&&n(0,i=t.canvas),"frame"in t&&(o=t.frame),"isRendering"in t&&(L=t.isRendering),"updateAnalyserByteData"in t&&(D=t.updateAnalyserByteData),"log"in t&&(z=t.log)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,h,a,c,u,l,f,d,p,m,b,g,v,y,w,O,E,S,j,M,T,A,k,C,R,P,o,L,r,s,I,N,D,B,$,F,U,z,function(t){_.k[t?"unshift":"push"](()=>{n(0,i=t)})}]}class Yo extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ko,Wo,_.T,{id:2,name:3,type:4,mode:5,hasFocus:1,background:6,lineNumbers:7,theme:8,data:9,responsive:10,resizable:11,resize:12,draggable:13,drag:14,min:15,max:16,x:17,y:18,w:19,h:20,component:21},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Analyser",options:t,id:Wo.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[2]||"id"in n||qo.warn("<Analyser> was created without expected prop 'id'"),void 0!==e[3]||"name"in n||qo.warn("<Analyser> was created without expected prop 'name'"),void 0!==e[4]||"type"in n||qo.warn("<Analyser> was created without expected prop 'type'"),void 0!==e[5]||"mode"in n||qo.warn("<Analyser> was created without expected prop 'mode'"),void 0!==e[1]||"hasFocus"in n||qo.warn("<Analyser> was created without expected prop 'hasFocus'"),void 0!==e[6]||"background"in n||qo.warn("<Analyser> was created without expected prop 'background'"),void 0!==e[7]||"lineNumbers"in n||qo.warn("<Analyser> was created without expected prop 'lineNumbers'"),void 0!==e[8]||"theme"in n||qo.warn("<Analyser> was created without expected prop 'theme'"),void 0!==e[9]||"data"in n||qo.warn("<Analyser> was created without expected prop 'data'"),void 0!==e[10]||"responsive"in n||qo.warn("<Analyser> was created without expected prop 'responsive'"),void 0!==e[11]||"resizable"in n||qo.warn("<Analyser> was created without expected prop 'resizable'"),void 0!==e[12]||"resize"in n||qo.warn("<Analyser> was created without expected prop 'resize'"),void 0!==e[13]||"draggable"in n||qo.warn("<Analyser> was created without expected prop 'draggable'"),void 0!==e[14]||"drag"in n||qo.warn("<Analyser> was created without expected prop 'drag'"),void 0!==e[17]||"x"in n||qo.warn("<Analyser> was created without expected prop 'x'"),void 0!==e[18]||"y"in n||qo.warn("<Analyser> was created without expected prop 'y'"),void 0!==e[19]||"w"in n||qo.warn("<Analyser> was created without expected prop 'w'"),void 0!==e[20]||"h"in n||qo.warn("<Analyser> was created without expected prop 'h'"),void 0!==e[21]||"component"in n||qo.warn("<Analyser> was created without expected prop 'component'")}get id(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get type(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set type(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasFocus(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasFocus(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get background(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set background(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get theme(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set theme(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get responsive(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set responsive(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resizable(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resizable(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resize(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get draggable(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draggable(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get drag(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set drag(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get x(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set x(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get y(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set y(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get w(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set w(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get h(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set h(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<Analyser>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(t){throw new Error("<Analyser>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Xo=Yo,Zo=n(23);n(56)(Zo);function Jo(t,e,n){-1!==t&&("number"==typeof e&&(e=new Zo.Color(e)),n.geometry.elementsNeedUpdate=!0,n.geometry.colorsNeedUpdate=!0,n.geometry.vertexColors=!0,n.geometry.faces[t].color.copy(e))}var Qo=n(23);n(56)(Qo);class ts{constructor(){this.raycaster=new Qo.Raycaster,this.pickedObject=null,this.hoverObject=null,this.hoverObjectSavedColor=0,this.faceIdx1=-1,this.faceIdx2=-1,this.hoverFace=null,this.hoverFaceSavedColor=new Qo.Color(7315873),this.selectionColor=new Qo.Color(8190976)}hover(t,e,n){null!=this.hoverObject&&"CylinderGeometry"==this.hoverObject.geometry.type&&(Jo(this.faceIdx1,this.hoverFaceSavedColor,this.hoverObject),Jo(this.faceIdx2,this.hoverFaceSavedColor,this.hoverObject),this.hoverObject.material.color.setHex(this.hoverObjectSavedColor),this.hoverObject=null,this.faceIdx1=-1,this.faceIdx2=-1),this.raycaster.setFromCamera(t,n);const r=this.raycaster.intersectObjects(e.children);r.length>0&&(this.hoverObject=r[0].object,"CylinderGeometry"===this.hoverObject.geometry.type&&(this.faceIdx1=r[0].faceIndex,this.faceIdx2=this.faceIdx1%2==0?this.faceIdx1+1:this.faceIdx1-1,this.hoverFaceSavedColor=new Qo.Color(this.hoverObject.geometry.faces[this.faceIdx1].color.getHex()),Jo(this.faceIdx1,this.selectionColor,this.hoverObject),Jo(this.faceIdx2,this.selectionColor,this.hoverObject),this.hoverObjectSavedColor=this.hoverObject.material.color.getHex(),this.hoverObject.material.color.setHex(8623254)))}place(t,e,n){this.raycaster.setFromCamera(t,n);const r=this.raycaster.intersectObjects(e.children);if(r.length>0&&(this.pickedObject=r[0].object,"CylinderGeometry"===this.pickedObject.geometry.type)){this.faceIdx1=r[0].faceIndex,this.faceIdx2=this.faceIdx1%2==0?this.faceIdx1+1:this.faceIdx1-1,console.log("picked face",this.pickedObject.geometry.faces[this.faceIdx1]);let t=this.pickedObject.geometry.faces[this.faceIdx1],e=this.pickedObject.geometry.faces[this.faceIdx2];console.log("face normals",t.normal),console.log("face normals",e.normal);let n=[t.a,t.b,t.c],i=[e.a,e.b,e.c],o=this.calcFaceVertices(this.pickedObject,n.concat(i));return[this.pickedObject.geometry.uuid,o,t]}}rightClickMenu(t,e,n){this.raycaster.setFromCamera(t,n);const r=this.raycaster.intersectObjects(e);if(r.length>0)return this.pickedObject=r[0].object,console.log(this.pickedObject),this.pickedObject.uuid}placeCylinder(t,e,n,r){this.raycaster.setFromCamera(t,n);const i=this.raycaster.intersectObjects([e]);if(i.length>0){this.pickedObject=i[0].object;let t=i[0];r.position.copy(t.point).add(t.face.normal),r.position.divideScalar(10).floor().multiplyScalar(10).addScalar(5),r.position.y+=-5}}createCylinder(t,e,n,r){this.raycaster.setFromCamera(t,r);const i=this.raycaster.intersectObjects(n.children);return console.log(i),i.length>0&&(console.log(i[1].object.geometry),console.log(i[1].object.uuid,e.uuid),i[1].object.uuid===e.uuid)&&(console.log("ASDJHKASD"),!0)}calcFaceVertices(t,e){let n=new Qo.Vector3(0,0,0);return e.forEach((function(e,r){let i=t.geometry.vertices[e];n.add(i)})),n.divideScalar(e.length)}applyMatrixTransform(t,e){return e.applyMatrix4(t.matrix)}rotateToFace(t,e){return e.applyMatrix4(t.matrix)}calcFaceNormal(t,e,n){let r,i=new Qo.Matrix3,o=new Qo.Vector3,s=t.normal.clone();return i.getNormalMatrix(e.matrixWorld),console.log(i),o.copy(s).applyMatrix3(i).normalize(),console.log("v2",o),r=o,r}}var es=n(23);class ns{constructor(t,e,n,r,i,o,s,a){this.chID=0,this.signal=1,this.trigger=!0,this.width=t,this.height=e,this.depth=n,this.x=r,this.y=i,this.z=o,this.color={normal:7107012,collision:14430767},this.geometry=new es.BoxGeometry(this.width,this.height,this.depth),this.material=new es.MeshLambertMaterial({color:this.color.normal}),this.mesh=new es.Mesh(this.geometry,this.material),this.face=s,this.code="",this.scene=a,this.currentCollisionUUID=null,this.alreadyHitList=[],this.cylinderRotation=0,this.box=new es.Box3,this.mesh.geometry.computeBoundingBox(),this.messaging=new q.a,this.originPoint=new es.Vector3(0,0,0)}setPos(){this.mesh.position.set(this.x,this.y,this.z)}getMesh(){return this.mesh}rotateToFace(){let t=this.face.normal.applyMatrix4(this.mesh.parent.matrix);t=t.applyMatrix4(this.mesh.matrix),this.mesh.lookAt(t),this.mesh.rotate.x(.5)}boundingBox(){var t=new es.Box3;t.copy(this.mesh.geometry.boundingBox),this.mesh.parent.updateMatrixWorld(!0),this.mesh.updateMatrixWorld(!0),t.applyMatrix4(this.mesh.matrixWorld);var e=new es.BoxHelper(this.mesh,16776960);this.scene.add(e)}collision(t){this.mesh.getWorldPosition(this.originPoint).clone();let e=!1,n=null,r=0;for(var i=0;i<this.mesh.geometry.vertices.length;i++){var o=this.mesh.geometry.vertices[i].clone().applyMatrix4(this.mesh.matrix).sub(this.mesh.position),s=new es.Raycaster(this.originPoint,o.clone().normalize(),0,o.length()).intersectObjects(t);s.length>0&&(e=!0,n=s[0].object,this.currentCollisionUUID=n.uuid,r+=1)}1==e&&r>=2&&(this.alreadyHitList.forEach((function(t){t==n.uuid&&(e=!1)})),e&&(this.sendTrigger(),n.material.color.setHex(this.color.collision),this.alreadyHitList.push(n.uuid))),null!=n&&0==e&&n.material.color.setHex(this.color.normal)}resetHitList(){this.alreadyHitList=[]}sendTrigger(){this.trigger&&(console.log("COLLISION!"),this.messaging.publish("collision",{signal:this.signal,channel:this.chID}))}changeColor(t){t.material.color.setHex(14430767)}getMenuSettings(){return{trigger:this.trigger,channel:this.chID,signal:this.signal}}}var rs=n(23),is=new rs.Vector3,os=new rs.Vector3,ss=new rs.Matrix3;function as(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new rs.BufferGeometry,u=new rs.Float32BufferAttribute(2*s*3,3);c.setAttribute("position",u),rs.LineSegments.call(this,c,new rs.LineBasicMaterial({color:i,linewidth:o})),this.type="FaceNormalsHelper",this.matrixAutoUpdate=!1,this.update()}as.prototype=Object.create(rs.LineSegments.prototype),as.prototype.constructor=as,as.prototype.update=function(){this.object.updateMatrixWorld(!0),ss.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,o=0,s=0,a=i.length;s<a;s++){var c=i[s],u=c.normal;is.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(t),os.copy(u).applyMatrix3(ss).normalize().multiplyScalar(this.size).add(is),e.setXYZ(o,is.x,is.y,is.z),o+=1,e.setXYZ(o,os.x,os.y,os.z),o+=1}e.needsUpdate=!0};var cs=n(23);class us{constructor(t,e,n,r,i,o,s,a=!0){this.scene=t,this.rotationSpeed=5,this.x=e,this.y=n,this.z=r,this.height=i,this.radius=o,this.segments=s,this.geometry=new cs.CylinderGeometry(o,o,i,s,8),this.material=new cs.MeshLambertMaterial({color:9408142,vertexColors:cs.VertexColors}),this.mesh=new cs.Mesh(this.geometry,this.material),this.mesh.position.set(e,n,r),this.rotationFraction=0;new as(this.mesh,2,65280,1);var c,u;a&&(this.edges=(c=this.geometry,u=new cs.WireframeGeometry(c),new cs.LineSegments(u)),this.edges.position.set(e,n,r),this.scene.add(this.edges)),this.scene.add(this.mesh),this.pegs=[],console.log(this.mesh.parent)}get uuid(){return this.geometry.uuid}addPeg(t,e,n,r){let i=this.calcFaceDimensions(r),o=2*this.radius;this.pegs.push(new ns(i.width,i.height,o,t*(o/this.radius),e,n*(o/this.radius),r,this.scene));let s=this.pegs[this.pegs.length-1];s.mesh.lookAt(r.normal),this.mesh.add(s.getMesh()),s.setPos()}calcFaceDimensions(t){let e=this.geometry.vertices[t.a],n=this.geometry.vertices[t.b],r=this.geometry.vertices[t.c];n.distanceTo(e),n.distanceTo(r);var i=new cs.Triangle(e,n,r).getArea();let o=Math.sqrt(i);return{width:o,height:o}}getPeg(t){let e=void 0;return this.pegs.forEach((function(n){t===n.mesh.uuid&&(e=n)})),e}getPegList(){return this.pegs}getMenuSettings(){return{rotationSpeed:this.rotationSpeed}}rotate(t){this.mesh.rotation.y+=this.rotationSpeed*t,this.rotationFraction+=this.rotationSpeed*t,this.rotationFraction>=1&&(this.rotationFraction=0,this.pegs.forEach((function(t){t.resetHitList()})))}checkForCollisions(t){this.pegs.forEach((function(e){e.collision(t)}))}}n(160);class ls{constructor(){if(ls.instance)return ls.instance;ls.instance=this,this.messaging=new q.a}send(t,e){this.messaging.publish("sequencerTrigger",{signal:t,channel:e})}reset(t){this.messaging.publish("sequencerTrigger",{signal:0,channel:t})}}n(23);var hs=n(23),fs=n(56)(hs),ds=n(203);class ps{constructor(){this.playing=!1,this.canvas,this.scene,this.renderer,this.camera,this.controls,this.pickPosition={x:0,y:0},this.pickHelper=new ts,this.cylinders=[],this.collidables=this.getCollidables(),this.floorPlane,this.rolloverCylinder,this.doRollover=!0,this.communicator=new ls,this.clock=new hs.Clock,this.time,this.delta=0,this.frames=0,this.dcount=0,this.collisionEvent={bool:!1,channel:0},this.pegUsingMenu=null,this.cylinderUsingMenu=null,this.messaging=new q.a,this.messaging.subscribe("collision",t=>{this.communicator.send(t.signal,t.channel),this.collisionEvent.bool=!0,this.collisionEvent.channel=t.channel})}get getCanvas(){return this.canvas}set setCanvass(t){this.canvas=t}setCanvas(t){this.canvas=t}setCamera(t,e){this.camera=new hs.PerspectiveCamera(45,t/e,1,1e4),this.camera.position.y=100,this.camera.position.z=200,this.camera.lookAt(new hs.Vector3(0,0,0))}init(){this.renderer=new hs.WebGLRenderer({canvas:this.canvas,antialias:!0});var t=this.canvas.offsetWidth,e=this.canvas.offsetHeight;this.renderer.setSize(t,e),this.scene=new hs.Scene,this.setCamera(t,e),this.lights(),this.makeFloor(),this.rolloverCylinder=this.makeRolloverCylinder(),function(t){let e=new hs.GridHelper(1e3,100,new hs.Color(5795445),new hs.Color(472642));t.add(e)}(this.scene),this.controls=new fs(this.camera,this.renderer.domElement),this.renderer.domElement.addEventListener("mousedown",t=>{0==t.button&&this.leftClick()}),this.renderer.domElement.addEventListener("mouseup",t=>{if(2==t.button){let e=this.rightClickPeg();void 0!==e&&this.loadPegMenu(e,t.clientX,t.clientY);let n=this.rightClickCylinder();void 0!==n&&this.loadCylinderMenu(n,t.clientX,t.clientY)}}),this.renderer.domElement.addEventListener("dblclick",t=>{0==t.button&&this.pickHelper.createCylinder(this.pickPosition,this.floorPlane,this.scene,this.camera)&&this.createCylinderMenu(t.clientX,t.clientY)}),closeCylinderMenu.addEventListener("click",t=>{this.cylinderUsingMenu.rotationSpeed=rotationCylinderMenu.value,cylinderMenu.style.display="none"}),closePegMenu.addEventListener("click",t=>{this.pegUsingMenu.trigger=triggerPegMenu.checked,this.pegUsingMenu.chID=channelPegMenu.value,this.pegUsingMenu.signal=signalPegMenu.value,pegMenu.style.display="none"}),closeCreateCylinderMenu.addEventListener("click",t=>{createCylinderMenu.style.display="none",this.doRollover=!0,this.rolloverCylinder.material.color.setHex(16711680)}),saveCreateCylinderMenu.addEventListener("click",t=>{let e=heightCreateCylinderMenu.value,n=radiusCreateCylinderMenu.value,r=segmentsCreateCylinderMenu.value;this.constructCylinderFromMenu(e,n,r),createCylinderMenu.style.display="none",this.rolloverCylinder.material.color.setHex(16711680)}),console.log(this.canvas)}makeFloor(){var t=new hs.PlaneBufferGeometry(1e3,1e3);t.rotateX(-Math.PI/2),this.floorPlane=new hs.Mesh(t,new hs.MeshBasicMaterial({visible:!1})),this.scene.add(this.floorPlane)}makeRolloverCylinder(){let t=new hs.BoxGeometry(10,.1,10),e=new hs.MeshBasicMaterial({color:16711680,opacity:.5,transparent:!0}),n=new hs.Mesh(t,e);return this.scene.add(n),n}testCylinders(){var t=new us(this.scene,0,20,0,40,5,8,!1),e=new us(this.scene,25,20,0,40,5,8,!1),n=new us(this.scene,-25,20,0,40,5,8,!1);this.cylinders.push(t,e,n)}playPause(){this.playing?(this.playing=!1,console.log("sequencer is now paused")):(this.playing=!0,console.log("sequencer is now playing"))}leftClick(){let t=this.pickHelper.place(this.pickPosition,this.scene,this.camera),e=t[0],n=t[1],r=t[2];for(let t=0;t<this.cylinders.length;t++)if(e===this.cylinders[t].uuid){this.cylinders[t].addPeg(n.x,n.y,n.z,r),this.collidables=this.getCollidables()}}rightClickCylinder(){let t=[];this.cylinders.forEach((function(e){t.push(e.mesh)}));let e=this.pickHelper.rightClickMenu(this.pickPosition,t,this.camera);return this.getCylinder(e)}getCylinder(t){let e=void 0;return this.cylinders.forEach((function(n){t===n.mesh.uuid&&(e=n)})),e}loadCylinderMenu(t,e,n){let r=this.renderer.domElement.getBoundingClientRect();cylinderMenu.style.left=e-r.left+"px",cylinderMenu.style.top=n-r.top+"px",cylinderMenu.style.display="";let i=t.getMenuSettings();rotationCylinderMenu.value=i.rotationSpeed,this.cylinderUsingMenu=t,console.log(this.cylinderUsingMenu)}rightClickPeg(){let t=this.pickHelper.rightClickMenu(this.pickPosition,this.getAllPegMesh(),this.camera),e=void 0;return void 0!==t&&this.cylinders.forEach((function(n){let r=n.getPeg(t);void 0!==r&&(e=r,console.log("peg here",e))})),e}loadPegMenu(t,e,n){let r=this.renderer.domElement.getBoundingClientRect();pegMenu.style.left=e-r.left+"px",pegMenu.style.top=n-r.top+"px",pegMenu.style.display="";let i=t.getMenuSettings();console.log(i),triggerPegMenu.checked=i.trigger,channelPegMenu.value=i.channel,signalPegMenu.value=i.signal,this.pegUsingMenu=t,console.log(this.pegUsingMenu)}createCylinderMenu(t,e){this.doRollover=!1,this.rolloverCylinder.material.color.setHex(32768);let n=this.renderer.domElement.getBoundingClientRect();createCylinderMenu.style.left=t-n.left+"px",createCylinderMenu.style.top=e-n.top+"px",createCylinderMenu.style.display=""}constructCylinderFromMenu(t,e,n){let r=this.rolloverCylinder.position.x,i=this.rolloverCylinder.position.y+t/2,o=this.rolloverCylinder.position.z;this.cylinders.push(new us(this.scene,r,i,o,t,e,n,!1)),this.doRollover=!0}updateEverything(){let t=this.clock.getDelta();this.audioEngineResetter(t),this.collisionCheck(),this.controls.update(),this.pickHelper.hover(this.pickPosition,this.scene,this.camera),this.rotateAll(t),1==this.doRollover&&this.pickHelper.placeCylinder(this.pickPosition,this.floorPlane,this.camera,this.rolloverCylinder),this.renderer.render(this.scene,this.camera)}audioEngineResetter(t){let e=0;1==this.collisionEvent.bool&&(e+=t,e>=.016&&(e=0,this.communicator.reset(this.collisionEvent.channel),this.communicator.reset(0),this.communicator.reset(1),this.communicator.reset(2),this.collisionEvent.bool=!1,this.collisionEvent.channel=0))}getCollidables2(){let t=[];return this.cylinders.forEach((function(e,n){let r=[];e.mesh.children.length>0&&e.mesh.children.forEach((function(t){void 0===e.getPeg(t.uuid)&&r.push(t)})),t.push(r)})),t}getCollidables(){let t=[],e=this.getAllPegMesh();return this.cylinders.forEach((function(n,r){let i=[];n.mesh.children.length>0&&e.forEach((function(t){void 0===n.getPeg(t.uuid)&&i.push(t)})),t.push(i)})),console.log(t),t}getAllPegMesh(){let t=[];this.cylinders.forEach((function(e){t.push(...e.getPegList())}));let e=[];return t.forEach((function(t){e.push(t.mesh)})),e}collisionCheck(){let t=this.collidables;this.playing&&this.cylinders.forEach((function(e,n){e.checkForCollisions(t[n])}))}calcFPS(t){this.frames+=1,this.dcount+=t,console.log(this.frames,this.dcount),this.dcount>=1&&(console.log(this.frames),this.frames=0,this.dcount=0)}rotateAll(t){this.playing&&this.cylinders.forEach((function(e,n){e.rotate(t)}))}lights(){var t=new hs.AmbientLight(4210752);this.scene.add(t),this.scene.background=new hs.Color(15657173),new hs.PointLight(16777215,1,1e3).position.set(0,50,100);var e=new hs.PointLight(16777215,1,1e3);e.position.set(0,50,-100),this.scene.add(e),this.scene.add(new hs.AmbientLight(6710886));var n=new hs.DirectionalLight(14674943,1);n.position.set(50,200,100),n.position.multiplyScalar(1.3),n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024;var r=300;n.shadow.camera.left=-r,n.shadow.camera.right=r,n.shadow.camera.top=r,n.shadow.camera.bottom=-r,n.shadow.camera.far=1e3,this.scene.add(n)}menus(){let t=new ds.GUI;this.canvas.appendChild(t.domElement),t.addFolder("Peg").add({message:""},"message")}}new hs.Color(16711680);n(204);const{console:ms}=_.E,bs="client/components/widgets/Sequencer.svelte";function gs(t){let e,n,r,i,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y,w,x,O,E,S,j,M,T,A,k,I,C,R,P,L,N,D,B,$,F,U,z,H,G,V,q,W,K,Y,X,Z,J,Q,tt,et,nt,rt,it,ot,st;const at={c:function(){e=Object(_.v)("div"),n=Object(_.v)("span"),r=Object(_.v)("b"),r.textContent="Peg Settings",i=Object(_.ab)(),o=Object(_.v)("button"),o.textContent="x",s=Object(_.ab)(),a=Object(_.v)("hr"),c=Object(_.ab)(),u=Object(_.v)("label"),u.textContent="Sound ",l=Object(_.ab)(),h=Object(_.v)("input"),f=Object(_.ab)(),d=Object(_.v)("br"),p=Object(_.ab)(),m=Object(_.v)("label"),m.textContent="Channel ",b=Object(_.ab)(),g=Object(_.v)("input"),v=Object(_.ab)(),y=Object(_.v)("label"),y.textContent="Signal",w=Object(_.ab)(),x=Object(_.v)("input"),O=Object(_.ab)(),E=Object(_.v)("div"),S=Object(_.v)("span"),j=Object(_.v)("b"),j.textContent="Cylinder Settings",M=Object(_.ab)(),T=Object(_.v)("button"),T.textContent="x",A=Object(_.ab)(),k=Object(_.v)("hr"),I=Object(_.ab)(),C=Object(_.v)("label"),C.textContent="speed",R=Object(_.ab)(),P=Object(_.v)("input"),L=Object(_.ab)(),N=Object(_.v)("div"),D=Object(_.v)("span"),B=Object(_.v)("b"),B.textContent="Create Cylinder",$=Object(_.ab)(),F=Object(_.v)("button"),F.textContent="x",U=Object(_.ab)(),z=Object(_.v)("hr"),H=Object(_.ab)(),G=Object(_.v)("label"),G.textContent="Height",V=Object(_.ab)(),q=Object(_.v)("input"),W=Object(_.ab)(),K=Object(_.v)("label"),K.textContent="Radius",Y=Object(_.ab)(),X=Object(_.v)("input"),Z=Object(_.ab)(),J=Object(_.v)("label"),J.textContent="Segments",Q=Object(_.ab)(),tt=Object(_.v)("input"),et=Object(_.ab)(),nt=Object(_.v)("br"),rt=Object(_.ab)(),it=Object(_.v)("button"),it.textContent="Create",ot=Object(_.ab)(),st=Object(_.v)("canvas"),Object(_.d)(r,bs,195,20,5109),Object(_.h)(n,"color","red"),Object(_.d)(n,bs,195,2,5091),Object(_.h)(o,"id","closePegMenu"),Object(_.d)(o,bs,197,2,5139),Object(_.d)(a,bs,200,1,5185),Object(_.h)(u,"for","triggerPegMenu"),Object(_.d)(u,bs,201,1,5191),Object(_.h)(h,"type","checkbox"),Object(_.h)(h,"id","triggerPegMenu"),Object(_.h)(h,"name","triggerPegMenu"),Object(_.d)(h,bs,202,1,5237),Object(_.d)(d,bs,203,1,5304),Object(_.h)(m,"for","channelPegMenu"),Object(_.d)(m,bs,204,1,5310),Object(_.h)(g,"type","textbox"),Object(_.h)(g,"id","channelPegMenu"),Object(_.h)(g,"name","channelPegMenu"),Object(_.h)(g,"maxlength","2"),Object(_.h)(g,"size","1"),Object(_.d)(g,bs,205,1,5358),Object(_.h)(y,"for","signalPegMenu"),Object(_.d)(y,bs,206,1,5447),Object(_.h)(x,"type","textbox"),Object(_.h)(x,"id","signalPegMenu"),Object(_.h)(x,"name","signalPegMenu"),Object(_.h)(x,"maxlength","3"),Object(_.h)(x,"size","3"),Object(_.d)(x,bs,207,1,5490),Object(_.h)(e,"id","pegMenu"),Object(_.Z)(e,"position","absolute"),Object(_.Z)(e,"display","none"),Object(_.Z)(e,"background-color","white"),Object(_.Z)(e,"font-family","monospace"),Object(_.d)(e,bs,194,0,4986),Object(_.d)(j,bs,211,20,5712),Object(_.h)(S,"color","red"),Object(_.d)(S,bs,211,2,5694),Object(_.h)(T,"id","closeCylinderMenu"),Object(_.d)(T,bs,212,1,5745),Object(_.d)(k,bs,215,1,5796),Object(_.h)(C,"for","rotationCylinderMenu"),Object(_.d)(C,bs,217,1,5803),Object(_.h)(P,"type","textbox"),Object(_.h)(P,"id","rotationCylinderMenu"),Object(_.h)(P,"name","rotationCylinderMenu"),Object(_.h)(P,"maxlength","3"),Object(_.h)(P,"size","3"),Object(_.d)(P,bs,218,1,5852),Object(_.h)(E,"id","cylinderMenu"),Object(_.Z)(E,"position","absolute"),Object(_.Z)(E,"display","none"),Object(_.Z)(E,"background-color","white"),Object(_.Z)(E,"font-family","monospace"),Object(_.d)(E,bs,210,0,5584),Object(_.d)(B,bs,222,20,6094),Object(_.h)(D,"color","red"),Object(_.d)(D,bs,222,2,6076),Object(_.h)(F,"id","closeCreateCylinderMenu"),Object(_.d)(F,bs,223,1,6125),Object(_.d)(z,bs,226,1,6182),Object(_.h)(G,"for","heightCreateCylinderMenu"),Object(_.d)(G,bs,227,1,6188),Object(_.h)(q,"type","textbox"),Object(_.h)(q,"id","heightCreateCylinderMenu"),Object(_.h)(q,"name","heightCreateCylinderMenu"),Object(_.h)(q,"maxlength","3"),Object(_.h)(q,"size","3"),Object(_.d)(q,bs,228,1,6242),Object(_.h)(K,"for","radiusCreateCylinderMenu"),Object(_.d)(K,bs,230,1,6352),Object(_.h)(X,"type","textbox"),Object(_.h)(X,"id","radiusCreateCylinderMenu"),Object(_.h)(X,"name","radiusCreateCylinderMenu"),Object(_.h)(X,"maxlength","3"),Object(_.h)(X,"size","3"),Object(_.d)(X,bs,231,1,6406),Object(_.h)(J,"for","segmentsCreateCylinderMenu"),Object(_.d)(J,bs,233,1,6516),Object(_.h)(tt,"type","textbox"),Object(_.h)(tt,"id","segmentsCreateCylinderMenu"),Object(_.h)(tt,"name","segmentsCreateCylinderMenu"),Object(_.h)(tt,"maxlength","3"),Object(_.h)(tt,"size","3"),Object(_.d)(tt,bs,234,1,6574),Object(_.d)(nt,bs,235,1,6687),Object(_.h)(it,"id","saveCreateCylinderMenu"),Object(_.d)(it,bs,236,1,6693),Object(_.h)(N,"id","createCylinderMenu"),Object(_.Z)(N,"position","absolute"),Object(_.Z)(N,"display","none"),Object(_.Z)(N,"background-color","white"),Object(_.Z)(N,"font-family","monospace"),Object(_.d)(N,bs,221,0,5960),Object(_.h)(st,"class","canvas svelte-7nf1jh"),Object(_.h)(st,"id","glCanvas"),Object(_.d)(st,bs,241,0,6761)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(at,ct){Object(_.I)(at,e,ct),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),Object(_.f)(e,o),Object(_.f)(e,s),Object(_.f)(e,a),Object(_.f)(e,c),Object(_.f)(e,u),Object(_.f)(e,l),Object(_.f)(e,h),Object(_.f)(e,f),Object(_.f)(e,d),Object(_.f)(e,p),Object(_.f)(e,m),Object(_.f)(e,b),Object(_.f)(e,g),Object(_.f)(e,v),Object(_.f)(e,y),Object(_.f)(e,w),Object(_.f)(e,x),Object(_.I)(at,O,ct),Object(_.I)(at,E,ct),Object(_.f)(E,S),Object(_.f)(S,j),Object(_.f)(E,M),Object(_.f)(E,T),Object(_.f)(E,A),Object(_.f)(E,k),Object(_.f)(E,I),Object(_.f)(E,C),Object(_.f)(E,R),Object(_.f)(E,P),Object(_.I)(at,L,ct),Object(_.I)(at,N,ct),Object(_.f)(N,D),Object(_.f)(D,B),Object(_.f)(N,$),Object(_.f)(N,F),Object(_.f)(N,U),Object(_.f)(N,z),Object(_.f)(N,H),Object(_.f)(N,G),Object(_.f)(N,V),Object(_.f)(N,q),Object(_.f)(N,W),Object(_.f)(N,K),Object(_.f)(N,Y),Object(_.f)(N,X),Object(_.f)(N,Z),Object(_.f)(N,J),Object(_.f)(N,Q),Object(_.f)(N,tt),Object(_.f)(N,et),Object(_.f)(N,nt),Object(_.f)(N,rt),Object(_.f)(N,it),Object(_.I)(at,ot,ct),Object(_.I)(at,st,ct),t[33](st)},p:_.M,i:_.M,o:_.M,d:function(n){n&&Object(_.t)(e),n&&Object(_.t)(O),n&&Object(_.t)(E),n&&Object(_.t)(L),n&&Object(_.t)(N),n&&Object(_.t)(ot),n&&Object(_.t)(st),t[33](null)}};return Object(_.u)("SvelteRegisterBlock",{block:at,id:gs.name,type:"component",source:"",ctx:t}),at}function vs(t,e,n){const r=Object(x.b)();let i,o,s=new q.a,{id:a}=e,{name:c}=e,{type:u}=e,{mode:l}=e,{hasFocus:h}=e,{background:f}=e,{lineNumbers:d}=e,{theme:p}=e,{data:m}=e,{responsive:b}=e,{resizable:g}=e,{resize:v}=e,{draggable:y}=e,{drag:w}=e,{min:O={}}=e,{max:E={}}=e,{x:S}=e,{y:j}=e,{w:M}=e,{h:T}=e,{component:A}=e,k=!0;const I=()=>{if(k){o=requestAnimationFrame(I);let t=i.getContext("2d");t.canvas.width=i.offsetWidth,t.canvas.height=i.offsetHeight,t.clearRect(0,0,i.offsetWidth,i.offsetHeight)}},C=()=>{console.log("toggleRender"),k?cancelAnimationFrame(o):o=requestAnimationFrame(I),k=!k,n(1,h=!0),console.log("clickasdasdakjshdkajshd"),r("change",{prop:"hasFocus",value:!0})};var R=new ps;function P(t){const e=R.canvas.getBoundingClientRect();return{x:(t.clientX-e.left)*R.canvas.width/e.width,y:(t.clientY-e.top)*R.canvas.height/e.height}}function L(t){const e=P(t);R.pickPosition.x=e.x/R.canvas.width*2-1,R.pickPosition.y=e.y/R.canvas.height*-2+1}function N(){R.pickPosition.x=-1e5,R.pickPosition.y=-1e5}function D(){requestAnimationFrame(D),R.updateEverything()}window.addEventListener("mousemove",L),window.addEventListener("mouseout",N),window.addEventListener("mouseleave",N),window.addEventListener("keydown",t=>{32==t.keyCode&&R.playPause()}),Object(x.e)(async()=>{R.setCanvas(i),R.init(),D()}),Object(x.d)(async()=>(k=!1,()=>cancelAnimationFrame(o)));const B=["id","name","type","mode","hasFocus","background","lineNumbers","theme","data","responsive","resizable","resize","draggable","drag","min","max","x","y","w","h","component"];Object.keys(e).forEach(t=>{~B.indexOf(t)||"$$"===t.slice(0,2)||ms.warn(`<Sequencer> was created with unknown prop '${t}'`)});let{$$slots:$={},$$scope:F}=e;return Object(_.lb)("Sequencer",$,[]),t.$set=t=>{"id"in t&&n(2,a=t.id),"name"in t&&n(3,c=t.name),"type"in t&&n(4,u=t.type),"mode"in t&&n(5,l=t.mode),"hasFocus"in t&&n(1,h=t.hasFocus),"background"in t&&n(6,f=t.background),"lineNumbers"in t&&n(7,d=t.lineNumbers),"theme"in t&&n(8,p=t.theme),"data"in t&&n(9,m=t.data),"responsive"in t&&n(10,b=t.responsive),"resizable"in t&&n(11,g=t.resizable),"resize"in t&&n(12,v=t.resize),"draggable"in t&&n(13,y=t.draggable),"drag"in t&&n(14,w=t.drag),"min"in t&&n(15,O=t.min),"max"in t&&n(16,E=t.max),"x"in t&&n(17,S=t.x),"y"in t&&n(18,j=t.y),"w"in t&&n(19,M=t.w),"h"in t&&n(20,T=t.h),"component"in t&&n(21,A=t.component)},t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,createEventDispatcher:x.b,dispatch:r,PubSub:q.a,messaging:s,MainSeq:ps,id:a,name:c,type:u,mode:l,hasFocus:h,background:f,lineNumbers:d,theme:p,data:m,responsive:b,resizable:g,resize:v,draggable:y,drag:w,min:O,max:E,x:S,y:j,w:M,h:T,component:A,canvas:i,frame:o,isRendering:k,renderLoop:I,toggleRendering:C,mainSeq:R,getCanvasRelativePosition:P,setPickPosition:L,clearPickPosition:N,animate:D}),t.$inject_state=t=>{"messaging"in t&&(s=t.messaging),"id"in t&&n(2,a=t.id),"name"in t&&n(3,c=t.name),"type"in t&&n(4,u=t.type),"mode"in t&&n(5,l=t.mode),"hasFocus"in t&&n(1,h=t.hasFocus),"background"in t&&n(6,f=t.background),"lineNumbers"in t&&n(7,d=t.lineNumbers),"theme"in t&&n(8,p=t.theme),"data"in t&&n(9,m=t.data),"responsive"in t&&n(10,b=t.responsive),"resizable"in t&&n(11,g=t.resizable),"resize"in t&&n(12,v=t.resize),"draggable"in t&&n(13,y=t.draggable),"drag"in t&&n(14,w=t.drag),"min"in t&&n(15,O=t.min),"max"in t&&n(16,E=t.max),"x"in t&&n(17,S=t.x),"y"in t&&n(18,j=t.y),"w"in t&&n(19,M=t.w),"h"in t&&n(20,T=t.h),"component"in t&&n(21,A=t.component),"canvas"in t&&n(0,i=t.canvas),"frame"in t&&(o=t.frame),"isRendering"in t&&(k=t.isRendering),"mainSeq"in t&&(R=t.mainSeq)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,h,a,c,u,l,f,d,p,m,b,g,v,y,w,O,E,S,j,M,T,A,o,k,R,r,s,I,C,P,L,N,D,function(t){_.k[t?"unshift":"push"](()=>{n(0,i=t)})}]}class ys extends _.a{constructor(t){super(t),Object(_.H)(this,t,vs,gs,_.T,{id:2,name:3,type:4,mode:5,hasFocus:1,background:6,lineNumbers:7,theme:8,data:9,responsive:10,resizable:11,resize:12,draggable:13,drag:14,min:15,max:16,x:17,y:18,w:19,h:20,component:21},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Sequencer",options:t,id:gs.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[2]||"id"in n||ms.warn("<Sequencer> was created without expected prop 'id'"),void 0!==e[3]||"name"in n||ms.warn("<Sequencer> was created without expected prop 'name'"),void 0!==e[4]||"type"in n||ms.warn("<Sequencer> was created without expected prop 'type'"),void 0!==e[5]||"mode"in n||ms.warn("<Sequencer> was created without expected prop 'mode'"),void 0!==e[1]||"hasFocus"in n||ms.warn("<Sequencer> was created without expected prop 'hasFocus'"),void 0!==e[6]||"background"in n||ms.warn("<Sequencer> was created without expected prop 'background'"),void 0!==e[7]||"lineNumbers"in n||ms.warn("<Sequencer> was created without expected prop 'lineNumbers'"),void 0!==e[8]||"theme"in n||ms.warn("<Sequencer> was created without expected prop 'theme'"),void 0!==e[9]||"data"in n||ms.warn("<Sequencer> was created without expected prop 'data'"),void 0!==e[10]||"responsive"in n||ms.warn("<Sequencer> was created without expected prop 'responsive'"),void 0!==e[11]||"resizable"in n||ms.warn("<Sequencer> was created without expected prop 'resizable'"),void 0!==e[12]||"resize"in n||ms.warn("<Sequencer> was created without expected prop 'resize'"),void 0!==e[13]||"draggable"in n||ms.warn("<Sequencer> was created without expected prop 'draggable'"),void 0!==e[14]||"drag"in n||ms.warn("<Sequencer> was created without expected prop 'drag'"),void 0!==e[17]||"x"in n||ms.warn("<Sequencer> was created without expected prop 'x'"),void 0!==e[18]||"y"in n||ms.warn("<Sequencer> was created without expected prop 'y'"),void 0!==e[19]||"w"in n||ms.warn("<Sequencer> was created without expected prop 'w'"),void 0!==e[20]||"h"in n||ms.warn("<Sequencer> was created without expected prop 'h'"),void 0!==e[21]||"component"in n||ms.warn("<Sequencer> was created without expected prop 'component'")}get id(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get type(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set type(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasFocus(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasFocus(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get background(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set background(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lineNumbers(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lineNumbers(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get theme(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set theme(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get responsive(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set responsive(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resizable(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resizable(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resize(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resize(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get draggable(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set draggable(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get drag(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set drag(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get max(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set max(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get x(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set x(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get y(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set y(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get w(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set w(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get h(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set h(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get component(){throw new Error("<Sequencer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set component(t){throw new Error("<Sequencer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var ws=ys;function _s(t){return Math.max(...t.map(t=>t.y+t.h),1)}const xs=(t,e)=>Array.from(Array(t),()=>new Array(e));function Os(t,e,n,r){let i=xs(n,r);for(var o=0;o<t.length;o++){const n=t[o],{x:r,y:c,w:u,h:l,id:h,responsive:{valueW:f}}=n;if(-1===e.indexOf(h))for(var s=c;s<c+l;s++){const t=i[s];if(t)for(var a=r;a<r+(u-f);a++)t[a]=n}}return i}function Es(t,e,n=_s(t)){let r=xs(n,e);return t.forEach((n,i)=>{let o=t.slice(i+1).map(t=>t.id),s=function(t,e,n=[],r){const{w:i}=e;let o=e.responsive.valueW;for(var s=0;s<t.length;s++){const e=t[s];for(var a=0;a<e.length;a++){const t=e.findIndex(t=>void 0===t);if(-1!==t){for(var c=e.slice(t),u=c.length,l=0;l<c.length;l++)if(void 0!==c[l]){u=l;break}return o=Math.max(i-u,0),{y:s,x:t,responsive:{valueW:o}}}}}return o=Math.max(i-r,0),{y:_s(n),x:0,responsive:{valueW:o}}}(r,n,t,e);t=t.map(t=>t.id===n.id?{...n,...s}:t),r=Os(t,o,_s(t),e)}),t}function Ss(t,e,n=[]){let r=t[0].length-(e.w-e.responsive.valueW);for(var i=0;i<t.length;i++){const n=t[i];for(var o=0;o<r+1;o++){if(n.slice(o,o+(e.w-e.responsive.valueW)).every(t=>void 0===t)){if(t.slice(i,i+e.h).every(t=>t.slice(o,o+(e.w-e.responsive.valueW)).every(t=>void 0===t)))return{y:i,x:o}}}}return{y:_s(n),x:0}}function js(t,e,n){return n.id===t.id?{...t,...e}:n}const Ms=(t,e,n)=>n.id===t.id?e:n;var Ts={findSpaceForItem:(t,e,n)=>Ss(function(t,e=_s(t),n){let r=xs(e,n);for(var i=0;i<t.length;i++){const e=t[i],{x:n,y:a,w:c,h:u,responsive:{valueW:l}}=e;for(var o=a;o<a+u;o++){const t=r[o];for(var s=n;s<n+(c-l);s++)t[s]=e}}return r}(e,_s(e),n),t,e),appendItem:(t,e,n)=>function(t,e,n,r){let i=Os(e,[t.id],_s(e),n);const o=function(t,e,n){const{w:r,h:i,x:o,y:s,responsive:{valueW:a}}=n,c=e.slice(s,s+i);let u=[];for(var l=0;l<c.length;l++){let t=c[l].slice(o,o+(r-a));u=[...u,...t.map(t=>t&&t.id).filter(t=>t)]}return[...u.filter((t,e)=>u.indexOf(t)==e)]}(0,i,t);let s=function(t,e){return e.filter(e=>-1!==t.indexOf(e.id))}(o,e);if(s.find(t=>t.static)&&r)return e.map(Ms.bind(null,t,r));i=Os(e,o,_s(e),n);let a=e,c=o,u=[];return s.forEach(t=>{let r=Ss(i,t,a);if(u.push(t.id),r){a=a.map(js.bind(null,t,r));let o=c.filter(t=>-1===u.indexOf(t));i=Os(a,o,_s(e),n)}}),a}(t,[...e,t],n),resizeItems:(t,e,n)=>Es(t,e,n),item(t){return{drag:{top:null,left:null,dragging:!1},resize:{width:null,height:null,resizing:!1},responsive:{valueW:0},static:!1,resizable:!(e=t).static,draggable:!e.static,min:{...e.min},max:{...e.max},...e};var e}};n(205);const As="client/components/widgets/DSPCodeOutput.svelte";function ks(t){let e,n,r,i,o,s,a,c,u,l=JSON.stringify(t[0].setup,null,2)+"",h=JSON.stringify(t[0].loop,null,2)+"";const f={c:function(){e=Object(_.v)("strong"),e.textContent="Setup:",n=Object(_.ab)(),r=Object(_.v)("pre"),i=Object(_.db)(l),o=Object(_.ab)(),s=Object(_.v)("strong"),s.textContent="Loop:",a=Object(_.ab)(),c=Object(_.v)("pre"),u=Object(_.db)(h),Object(_.h)(e,"class","error-state svelte-enqkqn"),Object(_.d)(e,As,63,2,1079),Object(_.h)(r,"class","prewrap svelte-enqkqn"),Object(_.d)(r,As,64,2,1125),Object(_.h)(s,"class","error-state svelte-enqkqn"),Object(_.d)(s,As,65,2,1200),Object(_.h)(c,"class","prewrap svelte-enqkqn"),Object(_.d)(c,As,66,2,1245)},m:function(t,l){Object(_.I)(t,e,l),Object(_.I)(t,n,l),Object(_.I)(t,r,l),Object(_.f)(r,i),Object(_.I)(t,o,l),Object(_.I)(t,s,l),Object(_.I)(t,a,l),Object(_.I)(t,c,l),Object(_.f)(c,u)},p:function(t,e){1&e&&l!==(l=JSON.stringify(t[0].setup,null,2)+"")&&Object(_.X)(i,l),1&e&&h!==(h=JSON.stringify(t[0].loop,null,2)+"")&&Object(_.X)(u,h)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(o),t&&Object(_.t)(s),t&&Object(_.t)(a),t&&Object(_.t)(c)}};return Object(_.u)("SvelteRegisterBlock",{block:f,id:ks.name,type:"if",source:"(63:2) {#if $dspCode}",ctx:t}),f}function Is(t){let e,n,r,i,o=t[0]&&ks(t);const s={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div"),r=Object(_.v)("strong"),r.textContent="DSP CODE OUTPUT",i=Object(_.ab)(),o&&o.c(),Object(_.d)(r,As,60,4,1017),Object(_.h)(n,"class","headline svelte-enqkqn"),Object(_.d)(n,As,59,2,990),Object(_.h)(e,"class","container scrollable svelte-enqkqn"),Object(_.d)(e,As,58,0,953)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,s){Object(_.I)(t,e,s),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),o&&o.m(e,null)},p:function(t,[n]){t[0]?o?o.p(t,n):(o=ks(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),o&&o.d()}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Is.name,type:"component",source:"",ctx:t}),s}function Cs(t,e,n){let r;Object(_.mb)(va,"dspCode"),Object(_.m)(t,va,t=>n(0,r=t));const i=[];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<DSPCodeOutput> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("DSPCodeOutput",o,[]),t.$capture_state=()=>({dspCode:va,$dspCode:r}),[r]}class Rs extends _.a{constructor(t){super(t),Object(_.H)(this,t,Cs,Is,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"DSPCodeOutput",options:t,id:Is.name})}}var Ps=Rs;n(206);function Ls(t){let e,n,r,i=JSON.stringify(t[0],null,2)+"";const o={c:function(){e=Object(_.v)("div"),n=Object(_.v)("pre"),r=Object(_.db)(i),Object(_.h)(n,"class","prewrap svelte-qebf6e"),Object(_.d)(n,"client/components/widgets/PostIt.svelte",44,2,751),Object(_.h)(e,"class","container scrollable svelte-qebf6e"),Object(_.d)(e,"client/components/widgets/PostIt.svelte",42,0,628)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(n,r)},p:function(t,[e]){1&e&&i!==(i=JSON.stringify(t[0],null,2)+"")&&Object(_.X)(r,i)},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Ls.name,type:"component",source:"",ctx:t}),o}function Ns(t,e,n){let r;Object(_.mb)(ea,"items"),Object(_.m)(t,ea,t=>n(0,r=t));const i=[];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<PostIt> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("PostIt",o,[]),t.$capture_state=()=>({items:ea,$items:r}),[r]}class Ds extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ns,Ls,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"PostIt",options:t,id:Ls.name})}}var Bs=Ds,$s="// MODEL EDITOR\n\n//js  Linear model for regression (tfjs)\n\n//create the model\nvar model = tf.sequential();\nmodel.add(tf.layers.dense({ units: 1, inputShape: [1] }));\nmodel.compile({ loss: 'meanSquaredError', optimizer: 'sgd' });\n\n//set up the training data set\nvar xs = tf.tensor2d([0, 1, 2, 3, 4, 5], [6, 1]);\nvar ys = tf.tensor2d([0, 50, 100, 150, 200, 250], [6, 1]);\n\n//train the model on the data set\nmodel.fit(xs, ys, { epochs: 150 }).then(result => {console.log(`DEBUG:ml.model: Model trained`); console.dir(result)});\n\n//defining the callback for testing the model on new data\nvar test = (x) => { return model.predict(tf.tensor2d([x], [1, 1])).dataSync()[0]; }\n__________\n\n//route the test data into the model\nvar w = 0;\ninput = (x, id) => {\n\tconsole.log(\">toModel: \"+[id,x]);\n\tlet prediction = test(x);\n\tconsole.log('pred: ',prediction);\n\toutput(prediction, 0)\n};\n";E(""),E(""),E("");const Fs=E([{id:0,disabled:!1,text:"LiveCode Editor",content:""}]),Us=E(Fs[1]),zs=E(!1),Hs=E([{id:0,disabled:!1,text:"Model Editor",content:""},{id:1,disabled:!1,text:"+ hello-world",content:$s},{id:2,disabled:!1,text:"+ two-layer-non-linear",content:"// MODEL EDITOR\n\n//js  Two-layer non linear model for regression (tfjs)\nvar model = tf.sequential();\nmodel.add(tf.layers.dense({\n  inputShape: [1],\n  units: 50,\n  activation: 'sigmoid',\n  kernelInitialiser: 'leCunNormal' }));\nmodel.add(tf.layers.dense({ units: 1 }));\nmodel.compile({ loss: 'meanSquaredError', optimizer: 'sgd' });\n\n//set up the training data set\nvar xs = tf.tensor2d([-1, 0, 1, 2, 3, 4], [6, 1]);\nvar ys = tf.tensor2d([-3, -1, 1, 3, 500, 70], [6, 1]);\n\n//train the model on the data set\nmodel.fit(xs, ys, { epochs: 50 }).then(result => {console.log(`INFO:ml.model: Model trained`); console.dir(result)});\n\n//define the callback for testing the model on new data\nvar test = (x) => { return model.predict(tf.tensor2d([x], [1, 1])).dataSync()[0]; }\n\n__________\n//route the test data into the model\nvar w = 0;\ninput = (x,id) => {\n\tconsole.log(\">toModel:   \"+[id,x]);\n\tlet p = test(x);\n\toutput(p, 0);\n};\n"},{id:3,disabled:!1,text:"+ binary-classification",content:"// MODEL EDITOR\n\n//js - Three-layer model for binary classification (tfjs)\nvar model = tf.sequential();\nmodel.add(tf.layers.dense({\n  inputShape: [1],\n  units: 100,\n  activation: 'sigmoid'\n}));\nmodel.add(tf.layers.dense({ units: 100, activation: 'sigmoid' }));\nmodel.add(tf.layers.dense({ units: 1, activation: 'sigmoid' }));\nmodel.compile({\n  optimizer: 'adam',\n  loss: 'binaryCrossentropy',\n  metrics: ['accuracy']\n});\n\n//set up the training data set\nvar xs = tf.tensor2d([-1, 0, 1, 2, 3, 4], [6, 1]);\nvar ys = tf.tensor2d([1, 0, 1, 0, 0, 1], [6, 1]);\n\n//train the model on the data set\nmodel.fit(xs, ys, { epochs: 50 }).then(result => {console.log(`DEBUG:ml.model: Model trained`); console.dir(result)});\n\n//define the callback for testing the model on new data\nvar test = (x) => { return model.predict(tf.tensor2d([x], [1, 1])).dataSync()[0]; }\n\n__________\n//route the test data into the model\nvar w = 0;\nvar w = 0;\ninput = (x,id) => {\n\tconsole.log(\">toModel:   \"+[id,x]);\n\tlet p = test(x);\n\toutput(p, 0);\n};\n"},{id:4,disabled:!1,text:"+ echo-state-network",content:"// MODEL EDITOR\n\n//js - Echo state network (tfjs)\nvar esn = {};\nesn.N = 10;\nesn.NOut = 1;\nesn.x = tf.randomUniform([esn.N,1]);\nesn.res = tf.randomNormal([esn.N, esn.N],0, 1.9);\nesn.wout = tf.randomUniform([esn.NOut,esn.N]);\nesn.output = tf.zeros([esn.Nout])\nesn.leakRate = tf.scalar(0.5);\nesn.leakRateInv = tf.sub(tf.scalar(1.0), esn.leakRate);\nesn.leakRateInv.dataSync()\nesn.xold = tf.clone(esn.x);\n\nesn.calc = () => {\n tf.tidy(() => {\n     tf.dispose(esn.xold);\n     esn.xold = esn.x;\n     let xnew =  tf.matMul(esn.res, esn.x);\n     xnew = tf.add(tf.mul(tf.tanh(xnew), esn.leakRate), tf.mul(tf.tanh(esn.xold), esn.leakRateInv));\n     esn.x = tf.keep(xnew);\n     let newOutput = tf.keep(tf.matMul(esn.wout, esn.x));\n     tf.dispose(esn.output);\n     esn.output = tf.keep(newOutput);\n     return 0;\n });\n};\n__________\nesn.calc()\nesn.output.dataSync()\n//esn.res.dataSync()\n__________\nnext = () => {return 0;}\n__________\nnext = () => {\n   esn.calc()\n   return ((esn.output.dataSync()[0] + 1) * 100) + 100;\n}\n__________\n"},{id:5,disabled:!1,text:"+ lstm-text-gen",content:"// MODEL EDITOR\n\n//js - Long-short-term-memory (LSTM) model for text generation (tfjs)\n\n// Hyperparameters of LSTM model \nvar lstmLayerSizes;\nvar learningRate; \nvar numEpochs; \nvar examplesPerEpoch; \nvar batchSize; \nvar validationSplit;\nvar sentenceIndices;\nvar length;\nvar temperature;\n\n//create the model \ncreateModel(lstmLayerSizes) {\n  if (!Array.isArray(lstmLayerSizes)) {\n    lstmLayerSizes = [lstmLayerSizes];\n  }\n  this.model = tf.sequential();\n  for (let i = 0; i < lstmLayerSizes.length; ++i) {\n    const lstmLayerSize = lstmLayerSizes[i];\n    this.model.add(tf.layers.lstm({\n      units: lstmLayerSize,\n      returnSequences: i < lstmLayerSizes.length - 1,\n      inputShape: i === 0 ? [this.sampleLen_, this.charSetSize_] : undefined\n    }));\n  }\n  this.model.add(\n      tf.layers.dense({units: this.charSetSize_, activation: 'softmax'}));\n}\n\ncompileModel(learningRate) {\n  const optimizer = tf.train.rmsprop(learningRate);\n  this.model.compile({optimizer: optimizer, loss: 'categoricalCrossentropy'});\n  console.log(`Compiled model with learning rate ${learningRate}`);\n  this.model.summary();\n}\n\nasync fitModel(numEpochs, examplesPerEpoch, batchSize, validationSplit) {\n  let batchCount = 0;\n  const batchesPerEpoch = examplesPerEpoch / batchSize;\n  const totalBatches = numEpochs * batchesPerEpoch;\n  onTrainBegin();\n  await tf.nextFrame();\n  let t = new Date().getTime();\n  for (let i = 0; i < numEpochs; ++i) {\n    const [xs, ys] = this.textData_.nextDataEpoch(examplesPerEpoch);\n    await this.model.fit(xs, ys, {\n      epochs: 1,\n      batchSize: batchSize,\n      validationSplit,\n      callbacks: {\n        onBatchEnd: async (batch, logs) => {\n          // Calculate the training speed in the current batch, in # of\n          // examples per second.\n          const t1 = new Date().getTime();\n          const examplesPerSec = batchSize / ((t1 - t) / 1e3);\n          t = t1;\n          onTrainBatchEnd(logs, ++batchCount / totalBatches, examplesPerSec);\n        },\n        onEpochEnd: async (epoch, logs) => {\n          onTrainEpochEnd(logs);\n        },\n      }\n    });\n    xs.dispose();\n    ys.dispose();\n  }\n}\nasync generateText(sentenceIndices, length, temperature) {\n  onTextGenerationBegin();\n  const temperatureScalar = tf.scalar(temperature);\n  let generated = '';\n  while (generated.length < length) {\n    // Encode the current input sequence as a one-hot Tensor.\n    const inputBuffer =\n        new tf.TensorBuffer([1, this.sampleLen_, this.charSetSize_]);\n    for (let i = 0; i < this.sampleLen_; ++i) {\n      inputBuffer.set(1, 0, i, sentenceIndices[i]);\n    }\n    const input = inputBuffer.toTensor();\n    // Call model.predict() to get the probability values of the next\n    // character.\n    const output = this.model.predict(input);\n    // Sample randomly based on the probability values.\n    const winnerIndex = sample(tf.squeeze(output), temperatureScalar);\n    const winnerChar = this.textData_.getFromCharSet(winnerIndex);\n    await onTextGenerationChar(winnerChar);\n    generated += winnerChar;\n    sentenceIndices = sentenceIndices.slice(1);\n    sentenceIndices.push(winnerIndex);\n    input.dispose();\n    output.dispose();\n  }\n  temperatureScalar.dispose();\n  return generated;\n}\n  "}]),Gs=E(Hs[1]),Vs=E(!1),qs=E(!1),Ws=E([{id:0,disabled:!1,type:"",text:"Debuggers",content:""},{id:1,disabled:!1,type:"grammarCompileOutput",text:"Grammar Compiler Output",content:""},{id:2,disabled:!1,type:"liveCodeParseOutput",text:"Live Code Parser Output",content:""},{id:3,disabled:!1,type:"dspCodeOutput",text:"DSP Code Generated",content:""},{id:4,disabled:!1,type:"postIt",text:"Post-It Panel",content:""},{id:4,disabled:!1,type:"storeInspector",text:"Store Inspector",content:""}]);let Ks=E({}),Ys=E(!1);const Xs=E(!1),Zs=E(!1),Js=[{...Ts.item({x:0,y:0,w:6,h:7,id:M()}),type:"liveCodeEditor",name:"hello-world",background:"#151515",lineNumbers:!0,hasFocus:!1,theme:"icecoder",component:ut,data:"// LIVE CODE EDITOR\n\n// Make sure the audio engine is ON (click on top right button with RED speaker) \n\n// Place the cursor on this panel \n\n// Press cmd-Enter [Mac] OR ctrl-Enter [Win/Linux] to evaluate this code and playback sound! \n\n:x:{{{{4}clp, [3,2]}rsq}\\909b,2,0.1}asymclip;\n:z:{{{8}clp,[1,0]}rsq}\\909closed;\n> {:x:,:z:}sum;\n\n// Press cmd-. [Mac] OR ctrl-. [Win/Linux] to stop sound! ",grammarSource:"/languages/default/grammar.ne",liveCodeSource:"/languages/default/code.sem"},{...Ts.item({x:6,y:0,w:3,h:2,id:M()}),name:"hello world",type:"analyser",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#f0f0f0",component:Xo,mode:"both"},{...Ts.item({x:9,y:0,w:3,h:3,id:M()}),name:"hello world",type:"sequencer",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#f0f0f0",component:ws,mode:"both"},{...Ts.item({x:9,y:0,w:18,h:3,id:M()}),name:"hello world",type:"modelEditor",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#f0f0f0",component:P.a,data:$s},{...Ts.item({x:6,y:2,w:3,h:5,id:M()}),name:"hello world",type:"liveCodeParseOutput",lineNumbers:!1,hasFocus:!1,theme:"shadowfox",background:"#ebdeff",component:No,data:""},{...Ts.item({x:9,y:3,w:15,h:3,id:M()}),name:"hello world",type:"grammarEditor",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#AAAAAA",component:G,data:"# GRAMMAR EDITOR\n\n# Lexer [or tokenizer] definition with language lexemes [or tokens]\n@{%\n\nconst lexer = moo.compile({\n  separator:      /,/,\n  paramEnd:       /}/,\n  paramBegin:     /{/,\n  listEnd:        /\\]/,\n  listBegin:      /\\[/,\n  dacoutCh:       /\\>[0-9]+/,\n  dacout:         /\\>/,\n  variable:       /:[a-zA-Z0-9]+:/,\n  sample:         { match: /\\\\[a-zA-Z0-9]+/, lineBreaks: true, value: x => x.slice(1, x.length)},\n  slice:          { match: /\\|[a-zA-Z0-9]+/, lineBreaks: true, value: x => x.slice(1, x.length)},\n  stretch:        { match: /\\@[a-zA-Z0-9]+/, lineBreaks: true, value: x => x.slice(1, x.length)},\n  clockTrig:      /0t-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?\\b/,\n\tnumber:         /-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?\\b/,\n  semicolon:      /;/,\n  funcName:       /[a-zA-Z][a-zA-Z0-9]*/,\n\tstring:\t\t\t\t\t{ match: /'[a-zA-Z0-9]+'/, value: x => x.slice(1,x.length-1)},\n  comment:        /\\/\\/[^\\n]*/,\n  ws:             { match: /\\s+/, lineBreaks: true},\n});\n\n%}\n\n# Pass your lexer object using the @lexer option\n@lexer lexer\n\n# Grammar definition in the Extended Backus Naur Form (EBNF)\nmain -> _ Statement _\n{% d => ( { '@lang' : d[1] } )  %}\n\nStatement ->\n  %comment _ Statement\n  {% d => d[2] %}\n\t|\n  Expression _ %semicolon _ Statement\n  {% d => [ { '@spawn': d[0] } ].concat(d[4]) %}\n  |\n  Expression _ %semicolon (_ %comment):*\n  {% d => [ { '@spawn': d[0] } ] %}\n\n\nExpression ->\n  ParameterList _ %funcName\n  {% d => sema.synth( d[2].value, d[0]['@params'] ) %}\n  |\n  ParameterList _ %sample\n  {% d => sema.synth( 'sampler', d[0]['@params'].concat( [ sema.str( d[2].value ) ] ) ) %}\n  |\n  ParameterList _ %slice\n  {% d => sema.synth( 'slice', d[0]['@params'].concat( [ sema.str( d[2].value ) ] ) ) %}\n  |\n  ParameterList _ %stretch\n  {% d => sema.synth( 'stretch', d[0]['@params'].concat( [ sema.str( d[2].value ) ] ) ) %}\n  |\n  %variable _ Expression\n  {% d => sema.setvar( d[0].value, d[2] ) %}\n  |\n  %dacout _ Expression\n  {% d => sema.synth( 'dac', [d[2]] ) %}\n  |\n  %dacoutCh _ Expression\n  {% d => sema.synth( 'dac', [d[2], sema.num(d[0].value.substr(1))] ) %}\n\nParameterList ->\n  %paramBegin Params %paramEnd\n  {% d => ( { 'paramBegin': d[0], '@params': d[1], 'paramEnd': d[2] } ) %}\n\t|\n\t%paramBegin _ %paramEnd\n  {% d => ( { 'paramBegin': d[0], '@params': [], 'paramEnd': d[2] } ) %}\n\n\nParams ->\n  ParamElement\n  {% d => ( [ d[0] ] ) %}\n  |\n  ParamElement _ %separator _ Params\n  {% d => [ d[0] ].concat(d[4]) %}\n\nParamElement ->\n  %number\n  {% d => ( { '@num': d[0] } ) %}\n\t|\n\t%string\n  {% d => ( { '@string': d[0].value } ) %}\n  |\n  Expression\n  {% id %}\n  |\n  %variable\n  {% d => sema.getvar( d[0].value ) %}\n  |\n  %listBegin Params  %listEnd\n  {% d => ( { '@list': d[1] } )%}\n\n\n# Whitespace\n\n_  -> wschar:*\n{% function(d) {return null;} %}\n\n__ -> wschar:+\n{% function(d) {return null;} %}\n\nwschar -> %ws\n{% id %}\n",grammarSource:"/languages/default/grammar.ne"},{...Ts.item({x:9,y:6,w:18,h:1,id:M()}),name:"hello world",type:"grammarCompileOutput",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#d1d5ff",component:Vo,data:""}];Ts.item({x:7,y:0,w:2,h:1,id:M()}),Ts.item({x:10,y:2,w:2,h:1,id:M()}),Ts.item({x:0,y:4,w:3,h:1,id:M()}),P.a,Ts.item({x:0,y:8,w:1,h:1,id:M()});async function Qs(t,e){let n;switch(t){case"liveCodeEditor":n={component:ut,background:"#151515",theme:"icecoder",grammarSource:e.grammar,liveCodeSource:e.livecode,data:e.code};break;case"grammarEditor":n={component:G,background:"#AAAAAA",theme:"monokai",grammarSource:e.grammarSource},n.data=e.grammar;break;case"modelEditor":n={component:P.a,background:"#f0f0f0",theme:"monokai",data:e};break;case"liveCodeParseOutput":n={component:No,background:"#ebdeff"};break;case"grammarCompileOutput":n={component:Vo,background:"#d1d5ff"};break;case"storeInspector":n={component:ca,background:"#d1d5ff"};break;case"analyser":n={component:Xo,background:"#ffffff",mode:""};case"sequencer":n={component:ws,background:"#ffffff",mode:""};break;case"postIt":n={component:Bs,background:"#ffffff"};break;case"dspCodeOutput":n={component:Ps,background:"#fdbd9a"}}let r=M();return{...Ts.item({x:0,y:0,w:7,h:7,id:r}),type:t,name:t+r,lineNumbers:!0,hasFocus:!0,...n}}function ta(t){if("undefined"!==t&&"undefined"!==t.type){switch(t.type){case"liveCodeEditor":t.component=ut;break;case"grammarEditor":t.component=G;break;case"modelEditor":t.component=P.a;break;case"liveCodeParseOutput":t.component=No;break;case"grammarCompileOutput":t.component=Vo;break;case"storeInspector":t.component=ca;break;case"analyser":t.component=Xo;break;case"postIt":t.component=Bs;break;case"dspCodeOutput":t.component=Ps}return"undefined"===t.id&&(t.id=M(),t.name=t.type+t.id),t}throw Error("hydrateJSONcomponent: undefined item")}const ea=function(t,e){const n=E(e),{subscribe:r,set:i,update:o}=n;let s=localStorage.getItem(t);return s&&i(JSON.parse(s).map(t=>ta(t))),{set(e){localStorage.setItem(t,JSON.stringify(e)),i(e)},update(t){const e=t(Object(_.D)(n));this.set(e)},get:()=>localStorage.getItem(t),subscribe:r}}("playground",Js),na=E({}),ra=E([]);E([]);function ia(){na.set({}),ra.set([])}n(207);function oa(t){let e,n,r,i=JSON.stringify(t[0],null,2)+"";const o={c:function(){e=Object(_.v)("div"),n=Object(_.v)("pre"),r=Object(_.db)(i),Object(_.d)(n,"client/components/widgets/StoreInspector.svelte",27,2,366),Object(_.h)(e,"class","container scrollable svelte-89wqpn"),Object(_.d)(e,"client/components/widgets/StoreInspector.svelte",26,0,329)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(n,r)},p:function(t,[e]){1&e&&i!==(i=JSON.stringify(t[0],null,2)+"")&&Object(_.X)(r,i)},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:oa.name,type:"component",source:"",ctx:t}),o}function sa(t,e,n){let r;Object(_.mb)(ea,"items"),Object(_.m)(t,ea,t=>n(0,r=t));const i=[];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<StoreInspector> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("StoreInspector",o,[]),t.$capture_state=()=>({items:ea,$items:r}),[r]}class aa extends _.a{constructor(t){super(t),Object(_.H)(this,t,sa,oa,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"StoreInspector",options:t,id:oa.name})}}var ca=aa;const ua=E("stopped"),la=E(!1),ha=E(""),fa=E(""),da=E(""),pa=E(""),ma=E(""),ba=E(""),ga=E(""),va=E(""),ya=E("");async function wa(t){if(t&&void 0!==t)try{switch(t.type){case"liveCodeEditor":await async function(t){if(void 0!==t){if(void 0===t.data&&t.liveCodeSource&&""!==t.liveCodeSource)try{t.data=await R(t.liveCodeSource),t.liveCodeSource=""}catch(t){console.error("Error fetching props for Live Code Editor item")}else""===t.liveCodeSource?localStorage.liveCodeEditorValue&&""!==localStorage.liveCodeEditorValue?t.data=localStorage.liveCodeEditorValue:console.error("Error fetching props for Live Code Editor item: Local store empty"):t.liveCodeSource||(t.data="");if(""!==t.grammarSource)try{t.grammar=await R(t.grammarSource)}catch(t){console.error("Error fetching props for Live Code Editor item")}}}(t);break;case"grammarEditor":await async function(t){if(void 0!==t)if(""===t.data&&""!==t.grammarSource)try{t.data=await R(t.grammarSource),t.grammarSource=""}catch(t){console.error("Error fetching props for Grammar Editor item",t)}else""==t.grammarSource&&(t.grammar=localStorage.grammarEditorValue)}(t)}}catch(t){console.error("Error updating item's props with fetched values.",t)}else console.error("Error updating item's props with fetched values: item null.")}const _a=async t=>{if(null!==t)try{switch(t.type){case"liveCodeEditor":pa.set(t.data),ha.set(t.grammar),fa.set(Object(j.a)(t.grammar).output)}}catch(t){console.error("Error Populating stores from fetched LiveCode props",t)}else console.error("Error Populating stores from fetched LiveCode props: item null")},xa=t=>{if(null!==t)try{switch(t.type){case"liveCodeEditor":t.data=Object(_.D)(pa)}}catch(t){console.error("Error updating item's props with common store values.",t)}else console.error("Error updating item's props with common store values: item null.")},Oa=()=>{ha.set(""),fa.set(""),da.set(""),pa.set(""),ma.set(""),ba.set(""),ga.set(""),va.set(""),ya.set("")};var Ea=n.p+"5ba4540ca7b7958c9f39f92a74a58135.svg";n(208);const Sa="client/components/SplashScreen.svelte";function ja(t){let e,n,r,i,o,s,a,c,u,l,h,f;const d={c:function(){e=Object(_.v)("div"),n=Object(_.v)("button"),r=Object(_.v)("div"),i=Object(_.v)("img"),s=Object(_.ab)(),a=Object(_.v)("span"),a.textContent="Sema",c=Object(_.ab)(),u=Object(_.v)("br"),l=Object(_.ab)(),h=Object(_.v)("br"),i.src!==(o=Ea)&&Object(_.h)(i,"src",o),Object(_.h)(i,"class","sema-logo svelte-15wcb0m"),Object(_.h)(i,"alt","sema logo image"),Object(_.d)(i,Sa,75,6,1565),Object(_.h)(a,"class","sema-type svelte-15wcb0m"),Object(_.d)(a,Sa,76,6,1623),Object(_.d)(u,Sa,77,6,1665),Object(_.d)(h,Sa,78,6,1676),Object(_.h)(r,"class","logo-container svelte-15wcb0m"),Object(_.d)(r,Sa,74,4,1530),Object(_.h)(n,"class","button-start-audio svelte-15wcb0m"),Object(_.d)(n,Sa,73,2,1467),Object(_.h)(e,"class","overlay svelte-15wcb0m"),Object(_.Z)(e,"visibility",t[0]),Object(_.d)(e,Sa,72,0,1403)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,d,p){Object(_.I)(o,e,d),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(r,i),Object(_.f)(r,s),Object(_.f)(r,a),Object(_.f)(r,c),Object(_.f)(r,u),Object(_.f)(r,l),Object(_.f)(r,h),p&&f(),f=Object(_.K)(n,"click",t[1],!1,!1,!1)},p:function(t,[n]){1&n&&Object(_.Z)(e,"visibility",t[0])},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),f()}};return Object(_.u)("SvelteRegisterBlock",{block:d,id:ja.name,type:"component",source:"",ctx:t}),d}function Ma(t,e,n){let r;Object(_.mb)(ua,"audioEngineStatus"),Object(_.m)(t,ua,t=>n(0,r=t));let i=()=>{Object(_.Y)(ua,r="hidden")};const o=[];Object.keys(e).forEach(t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<SplashScreen> was created with unknown prop '${t}'`)});let{$$slots:s={},$$scope:a}=e;return Object(_.lb)("SplashScreen",s,[]),t.$capture_state=()=>({audioEngineStatus:ua,src:Ea,handleClick:i,$audioEngineStatus:r}),t.$inject_state=t=>{"handleClick"in t&&n(1,i=t.handleClick)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i]}class Ta extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ma,ja,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"SplashScreen",options:t,id:ja.name})}}var Aa=Ta;n(209);const{console:ka}=_.E;function Ia(t){let e,n;const r={c:function(){e=Object(_.v)("div"),n=Object(_.v)("canvas"),Object(_.h)(n,"id","canvas"),Object(_.h)(n,"width","100%"),Object(_.h)(n,"height","100%"),Object(_.Z)(n,"opacity","0.0"),Object(_.h)(n,"class","svelte-cm7nlg"),Object(_.d)(n,"client/components/CanvasOverlay.svelte",52,0,1021),Object(_.h)(e,"class","overlay svelte-cm7nlg"),Object(_.d)(e,"client/components/CanvasOverlay.svelte",51,0,999)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:_.M,i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ia.name,type:"component",source:"",ctx:t}),r}function Ca(t,e,n){var r,i=window.innerWidth,o=window.innerHeight;Object(x.e)(async()=>{var t=document.getElementById("canvas");console.log(t),t.width=window.innerWidth,t.height=window.innerHeight});const s=[];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||ka.warn(`<CanvasOverlay> was created with unknown prop '${t}'`)});let{$$slots:a={},$$scope:c}=e;return Object(_.lb)("CanvasOverlay",a,[]),t.$capture_state=()=>({onMount:x.e,ctx:r,sizex:i,sizey:o}),t.$inject_state=t=>{"ctx"in t&&(r=t.ctx),"sizex"in t&&(i=t.sizex),"sizey"in t&&(o=t.sizey)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[]}class Ra extends _.a{constructor(t){super(t),Object(_.H)(this,t,Ca,Ia,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"CanvasOverlay",options:t,id:Ia.name})}}var Pa=Ra;n(84);const La=RegExp(/\:([^/()]+)/g);function Na(t){if(navigator.userAgent.includes("jsdom"))return!1;!function t(e){e&&e.scrollTo&&"scroll-lock"!==e.dataset.routify&&"lock"!==e.dataset["routify-scroll"]&&(e.style["scroll-behavior"]="auto",e.scrollTo({top:0,behavior:"auto"}),e.style["scroll-behavior"]="",t(e.parentElement))}(t),function(){if(navigator.userAgent.includes("jsdom"))return!1;const{hash:t}=window.location;if(t){if(/^[A-Za-z]+[\w\-\:\.]*$/.test(t.substring(1))){const e=document.querySelector(t);e&&e.scrollIntoView()}}}()}const Da=t=>{const e=[];let n;for(;n=La.exec(t);)e.push(n[1]);return e};let Ba=!1;function $a(){if(Ba)return;const t=console.warn;console.warn=function(e,...n){if(!["was created with unknown prop 'scoped'","was created with unknown prop 'scopedSync'"].find(t=>e.includes(t)))return t(e,...n)},Ba=!0}function Fa(){const t=window.location.search.match(/__routify_path=([^&]+)/),e=window.location.search.match(/__routify_prefetch=\d+/);window.routify=window.routify||{},window.routify.prefetched=!!e;return t&&t[1].replace(/[#?].+/,"")||window.location.pathname}window.routify=window.routify||{};const Ua=E(null),za=E([]);za.subscribe(t=>window.routify.routes=t);let Ha=E({component:{params:{}}});const Ga=E(null),Va=(()=>{const{set:t,subscribe:e}=E("");return{subscribe:e,set(e){e.match(/^[/(]/)?t(e):console.warn("Basepaths must start with / or (")},update(){console.warn("Use assignment or set to update basepaths.")}}})(),qa=S([Va,Ga],([t,e])=>{const[,n,r]=Fa().match(`^(${t})(${e.regex})`)||[];return{base:n,path:r}}),Wa=E("");function Ka({path:t,metatags:e}){e.update();const n=window.location.search.match(/__routify_prefetch=(\d+)/),r=n&&n[1];dispatchEvent(new CustomEvent("app-loaded")),parent.postMessage({msg:"app-loaded",prefetched:window.routify.prefetched,path:t,prefetchId:r},"*"),window.routify.appLoaded=!0}var Ya={queryHandler:{parse:t=>{return e=new URLSearchParams(t),[...e].reduce((t,[e,n])=>(t[e]=n,t),{});var e},stringify:t=>"?"+new URLSearchParams(t).toString()}};function Xa(t){const e=Object(_.D)(za),n=Object(_.D)(Va),r=e.find(e=>t.match(`^${n}${e.regex}`));if(!r)throw new Error(`Route could not be found for "${t}".`);const[,i]=t.match(`^(${n})${r.regex}`),o=t.slice(i.length);if(Ya.queryHandler&&(r.params=Ya.queryHandler.parse(window.location.search)),r.paramKeys){const t=function(t){const e=[];return t.forEach(t=>{e[t.path.split("/").filter(Boolean).length-1]=t}),e}(r.layouts),e=o.split("/").filter(Boolean);(function(t){return t.split("/").filter(Boolean).map(t=>t.match(/\:(.+)/)).map(t=>t&&t[1])})(r.path).forEach((n,i)=>{n&&(r.params[n]=e[i],t[i]?t[i].param={[n]:e[i]}:r.param={[n]:e[i]})})}return r.leftover=t.replace(new RegExp(i+r.regex),""),r}const{Object:Za}=_.E;function Ja(t,e,n){const r=t.slice();return r[1]=e[n],r}function Qa(t,e){let n,r;const i={key:t,first:null,c:function(){n=Object(_.v)("iframe"),n.src!==(r=e[1].url)&&Object(_.h)(n,"src",r),Object(_.h)(n,"frameborder","0"),Object(_.h)(n,"title","routify prefetcher"),Object(_.d)(n,"node_modules/@sveltech/routify/runtime/Prefetcher.svelte",93,4,2705),this.first=n},m:function(t,e){Object(_.I)(t,n,e)},p:function(t,e){1&e&&n.src!==(r=t[1].url)&&Object(_.h)(n,"src",r)},d:function(t){t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Qa.name,type:"each",source:"(93:2) {#each $actives as prefetch (prefetch.options.prefetch)}",ctx:e}),i}function tc(t){let e,n=[],r=new Map,i=t[0];Object(_.jb)(i);const o=t=>t[1].options.prefetch;Object(_.kb)(t,i,Ja,o);for(let e=0;e<i.length;e+=1){let s=Ja(t,i,e),a=o(s);r.set(a,n[e]=Qa(a,s))}const s={c:function(){e=Object(_.v)("div");for(let t=0;t<n.length;t+=1)n[t].c();Object(_.h)(e,"id","__routify_iframes"),Object(_.Z)(e,"display","none"),Object(_.d)(e,"node_modules/@sveltech/routify/runtime/Prefetcher.svelte",91,0,2591)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.I)(t,e,r);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p:function(t,[i]){if(1&i){const s=t[0];Object(_.jb)(s),Object(_.kb)(t,s,Ja,o),n=Object(_.ib)(n,i,o,1,t,s,r,e,_.q,Qa,null,Ja)}},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e);for(let t=0;t<n.length;t+=1)n[t].d()}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:tc.name,type:"component",source:"",ctx:t}),s}const ec={validFor:60,timeout:5e3,gracePeriod:1e3},nc=E([]),rc=S(nc,t=>t.slice(0,2));function ic(t,e={}){if(ic.id=ic.id||1,t=(t=t.href?t.href.replace(/^(?:\/\/|[^/]+)*\//,"/"):t).replace("?","&"),(e={...ec,...e,path:t}).prefetch=ic.id++,window.routify.prefetched||navigator.userAgent.match("jsdom"))return!1;nc.update(n=>(n.some(e=>e.options.path===t)||n.push({url:"/__app.html?"+oc(e),options:e}),n))}function oc(t){return Object.entries(t).map(([t,e])=>`__routify_${t}=${e}`).join("&")}function sc(t){const e=t.data?t.data.prefetchId:t;if(!e)return null;const n=Object(_.D)(nc).find(t=>t&&t.options.prefetch==e);if(n){const{gracePeriod:t}=n.options,r=new Promise(e=>setTimeout(e,t)),i=new Promise(e=>{window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,t+1e3)});Promise.all([r,i]).then(()=>{nc.update(t=>t.filter(t=>t.options.prefetch!=e))})}}function ac(t,e,n){let r;Object(_.mb)(rc,"actives"),Object(_.m)(t,rc,t=>n(0,r=t));const i=[];Za.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Prefetcher> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("Prefetcher",o,[]),t.$capture_state=()=>({writable:E,derived:S,get:_.D,iframeNum:2,defaults:ec,queue:nc,actives:rc,prefetch:ic,optionsToQuery:oc,removeFromQueue:sc,$actives:r}),[r]}rc.subscribe(t=>t.forEach(({options:t})=>{setTimeout(()=>sc(t.prefetch),t.timeout)})),addEventListener("message",sc,!1);class cc extends _.a{constructor(t){super(t),Object(_.H)(this,t,ac,tc,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Prefetcher",options:t,id:tc.name})}}var uc=cc;function lc(){return Object(x.c)("routify")||Ha}const hc={subscribe:t=>(window.routify.stopAutoReady=!0,t((async function(){await Object(x.g)(),await Ka({path:Object(_.D)(Ua).path,metatags:yc})})),()=>{})},fc={_hooks:[],subscribe:pc},dc={_hooks:[],subscribe:pc};function pc(t){const e=this._hooks,n=e.length;return t(t=>{e[n]=t}),()=>delete e[n]}const mc={subscribe:t=>S(lc(),t=>t.route.params).subscribe(t)},bc={subscribe:t=>S([lc(),Ua,za,qa],t=>function(t,e,n,r){return function(i,o,s){const{component:a}=t;i=i||"./";if(s&&!1!==s.strict||(i=i.replace(/index$/,"")),i.match(/^\.\.?\//)){let[,t,e]=i.match(/^([\.\/]+)(.*)/),n=a.path.replace(/\/$/,"");(t.match(/\.\.\//g)||[]).forEach(()=>n=n.replace(/\/[^\/]+\/?$/,"")),i=`${n}/${e}`.replace(/\/$/,"")}else if(i.match(/^\//));else{const t=n.find(t=>t.meta.name===i);t&&(i=t.shortPath)}const c=Object.assign({},e.params,a.params,o);let u=i;for(const[t,e]of Object.entries(c))u=u.replace(":"+t,e);return(r.base+u+function(t,e){if(!Ya.queryHandler)return"";const n=Da(t),r={};e&&Object.entries(e).forEach(([t,e])=>{n.includes(t)||(r[t]=e)});return Ya.queryHandler.stringify(r)}(i,o)).replace(/\?$/,"")}}(...t)).subscribe(t)};const gc={subscribe:t=>S(bc,t=>function(e,n,r,i){const o=t(e,n);r?Object(x.c)("routifyupdatepage")(o,i):history.pushState({},null,o)}).subscribe(t)};const vc={props:{},templates:{},services:{plain:{propField:"name",valueField:"content"},twitter:{propField:"name",valueField:"content"},og:{propField:"property",valueField:"content"}},plugins:[{name:"applyTemplate",condition:()=>!0,action:(t,e)=>[t,(vc.getLongest(vc.templates,t)||(t=>t))(e)]},{name:"createMeta",condition:()=>!0,action(t,e){vc.writeMeta(t,e)}},{name:"createOG",condition:t=>!t.match(":"),action(t,e){vc.writeMeta("og:"+t,e)}},{name:"createTitle",condition:t=>"title"===t,action(t,e){document.title=e}}],getLongest(t,e){const n=t[e];if(n){const r=Object(_.D)(Ua).path;return n[Object.keys(t[e]).filter(t=>r.includes(t)).sort((t,e)=>e.length-t.length)[0]]}},writeMeta(t,e){const n=document.getElementsByTagName("head")[0],r=t.match(/(.+)\:/),i=r&&r[1]||"plain",{propField:o,valueField:s}=yc.services[i]||yc.services.plain,a=document.querySelector(`meta[${o}='${t}']`);a&&a.remove();const c=document.createElement("meta");c.setAttribute(o,t),c.setAttribute(s,e),c.setAttribute("data-origin","routify"),n.appendChild(c)},set(t,e){vc.plugins.forEach(n=>{n.condition(t,e)&&([t,e]=n.action(t,e)||[t,e])})},clear(){const t=document.querySelector("meta");t&&t.remove()},template(t,e){const n=vc.getOrigin();vc.templates[t]=vc.templates[t]||{},vc.templates[t][n]=e},update(){Object.keys(vc.props).forEach(t=>{let e=vc.getLongest(vc.props,t);vc.plugins.forEach(n=>{n.condition(t,e)&&([t,e]=n.action(t,e)||[t,e])})})},batchedUpdate(){vc._pendingUpdate||(vc._pendingUpdate=!0,setTimeout(()=>{vc._pendingUpdate=!1,this.update()}))},_updateQueued:!1,getOrigin(){const t=lc();return t&&Object(_.D)(t).path||"/"},_pendingUpdate:!1},yc=new Proxy(vc,{set(t,e,n,r){const{props:i,getOrigin:o}=t;return Reflect.has(t,e)?Reflect.set(t,e,n,r):(i[e]=i[e]||{},i[e][o()]=n),window.routify.appLoaded&&t.batchedUpdate(),!0}});!function(){const t=E(!1);dc.subscribe(e=>e(e=>(t.set(!0),!0))),fc.subscribe(e=>e(e=>t.set(!1)))}();function wc(t,e,n){const r=t.slice();return r[19]=e[n].component,r[20]=e[n].componentFile,r}function _c(t,e,n){const r=t.slice();return r[19]=e[n].component,r[20]=e[n].componentFile,r}function xc(t){let e,n,r,i;const o=[Ec,Oc],s=[];function a(t,e){return!1===t[6].component.isLayout?0:t[5].length?1:-1}~(e=a(t))&&(n=s[e]=o[e](t));const c={c:function(){n&&n.c(),r=Object(_.w)()},m:function(t,n){~e&&s[e].m(t,n),Object(_.I)(t,r,n),i=!0},p:function(t,i){let c=e;e=a(t),e===c?~e&&s[e].p(t,i):(n&&(Object(_.F)(),Object(_.hb)(s[c],1,1,()=>{s[c]=null}),Object(_.l)()),~e?(n=s[e],n||(n=s[e]=o[e](t),n.c()),Object(_.gb)(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){i||(Object(_.gb)(n),i=!0)},o:function(t){Object(_.hb)(n),i=!1},d:function(t){~e&&s[e].d(t),t&&Object(_.t)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:xc.name,type:"if",source:"(120:0) {#if $context}",ctx:t}),c}function Oc(t){let e,n,r=[],i=new Map,o=[t[6]];Object(_.jb)(o);const s=t=>t[19].path;Object(_.kb)(t,o,wc,s);for(let e=0;e<1;e+=1){let n=wc(t,o,e),a=s(n);i.set(a,r[e]=jc(a,n))}const a={c:function(){for(let t=0;t<1;t+=1)r[t].c();e=Object(_.w)()},m:function(t,i){for(let e=0;e<1;e+=1)r[e].m(t,i);Object(_.I)(t,e,i),n=!0},p:function(t,n){if(100663415&n){const o=[t[6]];Object(_.jb)(o),Object(_.F)(),Object(_.kb)(t,o,wc,s),r=Object(_.ib)(r,n,s,1,t,o,i,e.parentNode,_.Q,jc,e,wc),Object(_.l)()}},i:function(t){if(!n){for(let t=0;t<1;t+=1)Object(_.gb)(r[t]);n=!0}},o:function(t){for(let t=0;t<1;t+=1)Object(_.hb)(r[t]);n=!1},d:function(t){for(let e=0;e<1;e+=1)r[e].d(t);t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Oc.name,type:"if",source:"(132:36) ",ctx:t}),a}function Ec(t){let e,n,r=[],i=new Map,o=[t[6]];Object(_.jb)(o);const s=t=>t[19].path;Object(_.kb)(t,o,_c,s);for(let e=0;e<1;e+=1){let n=_c(t,o,e),a=s(n);i.set(a,r[e]=Mc(a,n))}const a={c:function(){for(let t=0;t<1;t+=1)r[t].c();e=Object(_.w)()},m:function(t,i){for(let e=0;e<1;e+=1)r[e].m(t,i);Object(_.I)(t,e,i),n=!0},p:function(t,n){if(85&n){const o=[t[6]];Object(_.jb)(o),Object(_.F)(),Object(_.kb)(t,o,_c,s),r=Object(_.ib)(r,n,s,1,t,o,i,e.parentNode,_.Q,Mc,e,_c),Object(_.l)()}},i:function(t){if(!n){for(let t=0;t<1;t+=1)Object(_.gb)(r[t]);n=!0}},o:function(t){for(let t=0;t<1;t+=1)Object(_.hb)(r[t]);n=!1},d:function(t){for(let e=0;e<1;e+=1)r[e].d(t);t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Ec.name,type:"if",source:"(121:2) {#if $context.component.isLayout === false}",ctx:t}),a}function Sc(t){let e,n;const r=new Ic({props:{layouts:[...t[5]],Decorator:void 0!==t[26]?t[26]:t[1],childOfDecorator:t[4].isDecorator,scoped:{...t[0],...t[25]}},$$inline:!0}),i={c:function(){Object(_.o)(r.$$.fragment),e=Object(_.ab)()},m:function(t,i){Object(_.L)(r,t,i),Object(_.I)(t,e,i),n=!0},p:function(t,e){const n={};32&e&&(n.layouts=[...t[5]]),67108866&e&&(n.Decorator=void 0!==t[26]?t[26]:t[1]),16&e&&(n.childOfDecorator=t[4].isDecorator),33554433&e&&(n.scoped={...t[0],...t[25]}),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){Object(_.r)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Sc.name,type:"slot",source:"(134:6) <svelte:component         this={componentFile}         let:scoped={scopeToChild}         let:decorator         {scoped}         {scopedSync}         {...layout.param || {}}>",ctx:t}),i}function jc(t,e){let n,r,i;const o=[{scoped:e[0]},{scopedSync:e[2]},e[4].param||{}];var s=e[20];function a(t){let e={$$slots:{default:[Sc,({scoped:t,decorator:e})=>({25:t,26:e}),({scoped:t,decorator:e})=>(t?33554432:0)|(e?67108864:0)]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)e=Object(_.g)(e,o[t]);return{props:e,$$inline:!0}}if(s)var c=new s(a(e));const u={key:t,first:null,c:function(){n=Object(_.w)(),c&&Object(_.o)(c.$$.fragment),r=Object(_.w)(),this.first=n},m:function(t,e){Object(_.I)(t,n,e),c&&Object(_.L)(c,t,e),Object(_.I)(t,r,e),i=!0},p:function(t,e){const n=21&e?Object(_.C)(o,[1&e&&{scoped:t[0]},4&e&&{scopedSync:t[2]},16&e&&Object(_.B)(t[4].param||{})]):{};if(234881075&e&&(n.$$scope={dirty:e,ctx:t}),s!==(s=t[20])){if(c){Object(_.F)();const t=c;Object(_.hb)(t.$$.fragment,1,0,()=>{Object(_.r)(t,1)}),Object(_.l)()}s?(c=new s(a(t)),Object(_.o)(c.$$.fragment),Object(_.gb)(c.$$.fragment,1),Object(_.L)(c,r.parentNode,r)):c=null}else s&&c.$set(n)},i:function(t){i||(c&&Object(_.gb)(c.$$.fragment,t),i=!0)},o:function(t){c&&Object(_.hb)(c.$$.fragment,t),i=!1},d:function(t){t&&Object(_.t)(n),t&&Object(_.t)(r),c&&Object(_.r)(c,t)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:jc.name,type:"each",source:"(133:4) {#each [$context] as { component, componentFile }",ctx:e}),u}function Mc(t,e){let n,r,i;const o=[{scoped:e[0]},{scopedSync:e[2]},e[4].param||{}];var s=e[20];function a(t){let e={};for(let t=0;t<o.length;t+=1)e=Object(_.g)(e,o[t]);return{props:e,$$inline:!0}}if(s)var c=new s(a());const u={key:t,first:null,c:function(){n=Object(_.w)(),c&&Object(_.o)(c.$$.fragment),r=Object(_.w)(),this.first=n},m:function(t,e){Object(_.I)(t,n,e),c&&Object(_.L)(c,t,e),Object(_.I)(t,r,e),i=!0},p:function(t,e){const n=21&e?Object(_.C)(o,[1&e&&{scoped:t[0]},4&e&&{scopedSync:t[2]},16&e&&Object(_.B)(t[4].param||{})]):{};if(s!==(s=t[20])){if(c){Object(_.F)();const t=c;Object(_.hb)(t.$$.fragment,1,0,()=>{Object(_.r)(t,1)}),Object(_.l)()}s?(c=new s(a()),Object(_.o)(c.$$.fragment),Object(_.gb)(c.$$.fragment,1),Object(_.L)(c,r.parentNode,r)):c=null}else s&&c.$set(n)},i:function(t){i||(c&&Object(_.gb)(c.$$.fragment,t),i=!0)},o:function(t){c&&Object(_.hb)(c.$$.fragment,t),i=!1},d:function(t){t&&Object(_.t)(n),t&&Object(_.t)(r),c&&Object(_.r)(c,t)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Mc.name,type:"each",source:"(122:4) {#each [$context] as { component, componentFile }",ctx:e}),u}function Tc(t){let e,n,r;const i={c:function(){e=Object(_.v)("span"),Object(_.d)(e,"node_modules/@sveltech/routify/runtime/Route.svelte",152,2,4450)},m:function(i,o,s){Object(_.I)(i,e,o),s&&r(),r=Object(_.b)(n=t[8].call(null,e))},d:function(t){t&&Object(_.t)(e),r()}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Tc.name,type:"if",source:"(152:0) {#if !parentElement}",ctx:t}),i}function Ac(t){let e,n,r,i=t[6]&&xc(t),o=!t[3]&&Tc(t);const s={c:function(){i&&i.c(),e=Object(_.ab)(),o&&o.c(),n=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,s){i&&i.m(t,s),Object(_.I)(t,e,s),o&&o.m(t,s),Object(_.I)(t,n,s),r=!0},p:function(t,[r]){t[6]?i?(i.p(t,r),Object(_.gb)(i,1)):(i=xc(t),i.c(),Object(_.gb)(i,1),i.m(e.parentNode,e)):i&&(Object(_.F)(),Object(_.hb)(i,1,1,()=>{i=null}),Object(_.l)()),t[3]?o&&(o.d(1),o=null):o||(o=Tc(t),o.c(),o.m(n.parentNode,n))},i:function(t){r||(Object(_.gb)(i),r=!0)},o:function(t){Object(_.hb)(i),r=!1},d:function(t){i&&i.d(t),t&&Object(_.t)(e),o&&o.d(t),t&&Object(_.t)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Ac.name,type:"component",source:"",ctx:t}),s}function kc(t,e,n){let r,i;Object(_.mb)(Ua,"route"),Object(_.m)(t,Ua,t=>n(14,r=t));let o,{layouts:s=[]}=e,{scoped:a={}}=e,{Decorator:c=null}=e,{childOfDecorator:u=!1}=e,{isRoot:l=!1}=e,h={},f=!1,d=null,p=null,m=[];const b=E(null);Object(_.mb)(b,"context"),Object(_.m)(t,b,t=>n(6,i=t));const g=Object(x.c)("routify");function v(t){n(3,o=t.parentElement)}function y(t){const e=Object(_.D)(g);n(2,h={...a}),p=d,0===m.length&&O();const i={layout:f?e.layout:d,component:d,route:r,componentFile:t,child:f?e.child:Object(_.D)(b)&&Object(_.D)(b).child};b.set(i),l&&Ha.set(i),e&&!f&&g.update(t=>(t.child=d||t.child,t))}function w(t){let e=t.component();e instanceof Promise?e.then(y):y(e)}async function O(){if(fc._hooks.forEach(t=>t(d.api)),await Object(x.g)(),Na(o),!window.routify.appLoaded){const t=i.component.path,e=t===r.path;!window.routify.stopAutoReady&&e&&Ka({path:t,metatags:yc})}}f=c&&!u,Object(x.f)("routify",b);const S=["layouts","scoped","Decorator","childOfDecorator","isRoot"];Object.keys(e).forEach(t=>{~S.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Route> was created with unknown prop '${t}'`)});let{$$slots:j={},$$scope:M}=e;return Object(_.lb)("Route",j,[]),t.$set=t=>{"layouts"in t&&n(9,s=t.layouts),"scoped"in t&&n(0,a=t.scoped),"Decorator"in t&&n(1,c=t.Decorator),"childOfDecorator"in t&&n(10,u=t.childOfDecorator),"isRoot"in t&&n(11,l=t.isRoot)},t.$capture_state=()=>({getContext:x.c,setContext:x.f,onDestroy:x.d,onMount:x.e,tick:x.g,writable:E,get:_.D,metatags:yc,afterPageLoad:fc,route:Ua,routes:za,rootContext:Ha,handleScroll:Na,onAppLoaded:Ka,layouts:s,scoped:a,Decorator:c,childOfDecorator:u,isRoot:l,scopedSync:h,isDecorator:f,parentElement:o,layout:d,lastLayout:p,remainingLayouts:m,context:b,parentContextStore:g,setParent:v,onComponentLoaded:y,setComponent:w,onLastComponentLoaded:O,$route:r,$context:i}),t.$inject_state=t=>{"layouts"in t&&n(9,s=t.layouts),"scoped"in t&&n(0,a=t.scoped),"Decorator"in t&&n(1,c=t.Decorator),"childOfDecorator"in t&&n(10,u=t.childOfDecorator),"isRoot"in t&&n(11,l=t.isRoot),"scopedSync"in t&&n(2,h=t.scopedSync),"isDecorator"in t&&n(12,f=t.isDecorator),"parentElement"in t&&n(3,o=t.parentElement),"layout"in t&&n(4,d=t.layout),"lastLayout"in t&&(p=t.lastLayout),"remainingLayouts"in t&&n(5,m=t.remainingLayouts)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{if(4610&t.$$.dirty&&f){const t={component:()=>c,path:s[0].path+"__decorator",isDecorator:!0};n(9,s=[t,...s])}512&t.$$.dirty&&n(4,[d,...m]=s,d,(n(5,m),n(9,s),n(12,f),n(1,c))),16&t.$$.dirty&&w(d)},[a,c,h,o,d,m,i,b,v,s,u,l]}class Ic extends _.a{constructor(t){super(t),Object(_.H)(this,t,kc,Ac,_.T,{layouts:9,scoped:0,Decorator:1,childOfDecorator:10,isRoot:11}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Route",options:t,id:Ac.name})}get layouts(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set layouts(t){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get scoped(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set scoped(t){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get Decorator(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set Decorator(t){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get childOfDecorator(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set childOfDecorator(t){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isRoot(){throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isRoot(t){throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Cc=Ic;function Rc(t,e){let n=!1;function r(t,r){const i=Xa(t||Fa()),o=[...(r&&Xa(Fa())||i).layouts,i];n&&delete n.last,i.last=n,n=i,t||Ga.set(i),Ua.set(i),e(o)}const i=function(t){["pushState","replaceState"].forEach(t=>{const e=history[t];history[t]=async function(n={},r,i){const{id:o,path:s,params:a}=Object(_.D)(Ua);n={id:o,path:s,params:a,...n};const c=new Event(t.toLowerCase());if(Object.assign(c,{state:n,title:r,url:i}),await Lc(c))return e.apply(this,[n,r,i]),dispatchEvent(c)}});let e=!1;const n={click:Pc,pushstate:()=>t(),replacestate:()=>t(),popstate:async n=>{e?e=!1:await Lc(n)?t():(e=!0,n.preventDefault(),history.go(1))}};Object.entries(n).forEach(t=>addEventListener(...t));return()=>{Object.entries(n).forEach(t=>removeEventListener(...t))}}(r);return{updatePage:r,destroy:i}}function Pc(t){const e=t.target.closest("a"),n=e&&e.getAttribute("href");t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button||t.defaultPrevented||n&&!e.target&&e.host===location.host&&(t.preventDefault(),history.pushState({},"",n))}async function Lc(t){const e=Object(_.D)(Ua);for(const n of dc._hooks.filter(Boolean)){if(!await n(t,e))return!1}return!0}const{Object:Nc}=_.E;function Dc(t){let e;const n=new Cc({props:{layouts:t[0],isRoot:!0},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:function(t,e){const r={};1&e&&(r.layouts=t[0]),n.$set(r)},i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Dc.name,type:"if",source:"(64:0) {#if layouts && $route !== null}",ctx:t}),r}function Bc(t){let e,n,r=t[0]&&null!==t[1]&&Dc(t);const i=new uc({$$inline:!0}),o={c:function(){r&&r.c(),e=Object(_.ab)(),Object(_.o)(i.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){r&&r.m(t,o),Object(_.I)(t,e,o),Object(_.L)(i,t,o),n=!0},p:function(t,[n]){t[0]&&null!==t[1]?r?(r.p(t,n),Object(_.gb)(r,1)):(r=Dc(t),r.c(),Object(_.gb)(r,1),r.m(e.parentNode,e)):r&&(Object(_.F)(),Object(_.hb)(r,1,1,()=>{r=null}),Object(_.l)())},i:function(t){n||(Object(_.gb)(r),Object(_.gb)(i.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r),Object(_.hb)(i.$$.fragment,t),n=!1},d:function(t){r&&r.d(t),t&&Object(_.t)(e),Object(_.r)(i,t)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Bc.name,type:"component",source:"",ctx:t}),o}function $c(t,e,n){let r;Object(_.mb)(Ua,"route"),Object(_.m)(t,Ua,t=>n(1,r=t));let i,o,{routes:s}=e,{config:a={}}=e;window.routify=window.routify||{},window.routify.inBrowser=!window.navigator.userAgent.match("jsdom"),Object.entries(a).forEach(([t,e])=>{Ya[t]=e}),$a();const c=(...t)=>o&&o.updatePage(...t);Object(x.f)("routifyupdatepage",c);const u=t=>n(0,i=t),l=()=>{o&&(o.destroy(),o=null)};let h=null;const f=()=>{clearTimeout(h),h=setTimeout(()=>{l(),o=Rc(0,u),za.set(s),o.updatePage()})};Object(x.d)(l);const d=["routes","config"];Nc.keys(e).forEach(t=>{~d.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Router> was created with unknown prop '${t}'`)});let{$$slots:p={},$$scope:m}=e;return Object(_.lb)("Router",p,[]),t.$set=t=>{"routes"in t&&n(2,s=t.routes),"config"in t&&n(3,a=t.config)},t.$capture_state=()=>({setContext:x.f,onDestroy:x.d,Route:Cc,Prefetcher:uc,init:Rc,route:Ua,routesStore:za,prefetchPath:Wa,suppressWarnings:$a,defaultConfig:Ya,routes:s,config:a,layouts:i,navigator:o,updatePage:c,callback:u,cleanup:l,initTimeout:h,doInit:f,$route:r}),t.$inject_state=t=>{"routes"in t&&n(2,s=t.routes),"config"in t&&n(3,a=t.config),"layouts"in t&&n(0,i=t.layouts),"navigator"in t&&(o=t.navigator),"initTimeout"in t&&(h=t.initTimeout)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{4&t.$$.dirty&&s&&f()},[i,r,s,a]}class Fc extends _.a{constructor(t){super(t),Object(_.H)(this,t,$c,Bc,_.T,{routes:2,config:3}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Router",options:t,id:Bc.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[2]||"routes"in n||console.warn("<Router> was created without expected prop 'routes'")}get routes(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set routes(t){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get config(){throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(t){throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Uc=Fc;function zc(t){const e=async function(e){return await async function t(e,n,r){const{state:i,scope:o,parent:s}=r||{};r={file:e,parent:s,state:i||{},scope:Hc(o||{})},await n(r),e.children&&(r.parent=e,await Promise.all(e.children.map(e=>t(e,n,r))));return r}(e.tree,t,{state:{treePayload:e}})};return e.sync=function(e){return function t(e,n,r){const{state:i,scope:o,parent:s}=r||{};r={file:e,parent:s,state:i||{},scope:Hc(o||{})},n(r),e.children&&(r.parent=e,e.children.map(e=>t(e,n,r)));return r}(e.tree,t,{state:{treePayload:e}})},e}function Hc(t){return JSON.parse(JSON.stringify(t))}const Gc=zc(({file:t})=>{(t.isPage||t.isFallback)&&(t.regex=((t,e)=>{const n=e?"":"/?$";return t=(t=(t=t.replace(/\/_fallback?$/,"(/|$)")).replace(/\/index$/,"(/index)?")).replace(La,"([^/]+)")+n})(t.path,t.isFallback))}),Vc=zc(({file:t})=>{t.paramKeys=Da(t.path)}),qc=zc(({file:t})=>{t.isFallback||t.isIndex?t.shortPath=t.path.replace(/\/[^/]+$/,""):t.shortPath=t.path}),Wc=zc(({file:t})=>{t.ranking=(({path:t})=>t.split("/").filter(Boolean).map(t=>"_fallback"===t?"A":t.startsWith(":")?"B":"C").join(""))(t)}),Kc=zc(({file:t})=>{const e=t,n=t.meta&&t.meta.children||[];n.length&&(e.children=e.children||[],e.children.push(...n.map(t=>({isMeta:!0,...t,meta:t}))))}),Yc=zc(t=>{const{file:e}=t,{isLayout:n,isFallback:r,meta:i}=e;e.isIndexable=!n&&!r&&!1!==i.index,e.isNonIndexable=!e.isIndexable}),Xc=zc(({file:t,parent:e})=>{Object.defineProperty(t,"parent",{get:()=>e}),Object.defineProperty(t,"nextSibling",{get:()=>Zc(t,1)}),Object.defineProperty(t,"prevSibling",{get:()=>Zc(t,-1)}),Object.defineProperty(t,"lineage",{get:()=>function t(e,n=[]){e&&(n.unshift(e),t(e.parent,n));return n}(e)})});function Zc(t,e){if(!t.root){const n=t.parent.children.filter(t=>t.isIndexable),r=n.indexOf(t);return n[r+e]}}const Jc=zc(({file:t,parent:e})=>{t.isIndex&&Object.defineProperty(e,"index",{get:()=>t}),t.isLayout&&Object.defineProperty(e,"layout",{get:()=>t})}),Qc=zc(({file:t,scope:e})=>{Object.defineProperty(t,"layouts",{get:()=>function t(e){const{parent:n}=e,r=n&&n.layout,i=r&&r.isReset,o=n&&!i&&t(n)||[];r&&o.push(r);return o}(t)})}),tu=t=>{zc(t=>{(t.file.isPage||t.file.isFallback)&&t.state.treePayload.routes.push(t.file)}).sync(t),t.routes.sort((t,e)=>t.ranking>=e.ranking?-1:1)},eu=zc(({file:t})=>{const e=t.root?function(){}:t.children?(t.isFile,function(){}):(t.isReset||t.isLayout||t.isFallback,function(){});Object.setPrototypeOf(t,e.prototype)}),nu=zc(({file:t})=>{t.api=new ru(t)});class ru{constructor(t){this.__file=t,Object.defineProperty(this,"__file",{enumerable:!1}),this.isMeta=!!t.isMeta,this.path=t.path,this.title=function(t){return void 0!==t.meta.title?t.meta.title:(t.shortPath||t.path).split("/").pop().replace(/-/g," ")}(t),this.meta=t.meta}get parent(){return!this.__file.root&&this.__file.parent.api}get children(){return(this.__file.children||this.__file.isLayout&&this.__file.parent.children||[]).filter(t=>!t.isNonIndexable).sort((t,e)=>t.isMeta&&e.isMeta?0:(t=(t.meta.index||t.meta.title||t.path).toString(),e=(e.meta.index||e.meta.title||e.path).toString(),t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}))).map(({api:t})=>t)}get next(){return iu(this,1)}get prev(){return iu(this,-1)}preload(){this.__file.layouts.forEach(t=>t.component()),this.__file.component()}}function iu(t,e){if(!t.__file.root){const n=t.parent.children.indexOf(t);return t.parent.children[n+e]}}const ou={...w,assignAPI:nu};const su=E(null);E(!1);n(85),n(211);var au=n(3),cu=n.n(au);const uu=cu.a.initializeApp({apiKey:"AIzaSyBzllZ93Y_VIXLByg-V2djcsJcokum6ySw",authDomain:"sema-4c354.firebaseapp.com",databaseURL:"https://sema-4c354.firebaseio.com",projectId:"sema-4c354",storageBucket:"sema-4c354.appspot.com",messagingSenderId:"217754460414",appId:"1:217754460414:web:591194d7611f4319fa45af",measurementId:"G-B8Q59X8D6Y"}),lu=cu.a.firestore(uu),hu=cu.a.auth(uu);var fu=cu.a;const{console:du}=_.E;function pu(t){const e={c:_.M,l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:_.M,p:_.M,i:_.M,o:_.M,d:_.M};return Object(_.u)("SvelteRegisterBlock",{block:e,id:pu.name,type:"component",source:"",ctx:t}),e}function mu(t,e,n){Object(x.e)(()=>{hu.onAuthStateChanged((function(t){if(t){let e=t.displayName,n=t.email,r=t.emailVerified,i=t.photoURL,o=t.isAnonymous,s=t.uid,a=t.providerData;console.log(`DEBUG:UserObserver: User ${t.displayName} signed in`),su.set(t),lu.collection("Users").onSnapshot(t=>{0===t.docs.filter(t=>t.data().uid===s).length&&lu.collection("Users").add({displayName:e,email:n,emailVerified:r,photoURL:i,isAnonymous:o,uid:s,providerData:a})})}else console.log("DEBUG:UserObserver: User signed out"),su.set(null)}))});const r=[];Object.keys(e).forEach(t=>{~r.indexOf(t)||"$$"===t.slice(0,2)||du.warn(`<UserObserver> was created with unknown prop '${t}'`)});let{$$slots:i={},$$scope:o}=e;return Object(_.lb)("UserObserver",i,[]),t.$capture_state=()=>({onMount:x.e,currentUser:su,app:uu,auth:hu,firestore:lu}),[]}class bu extends _.a{constructor(t){super(t),Object(_.H)(this,t,mu,pu,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"UserObserver",options:t,id:pu.name})}}var gu=bu,vu=n(19);n(219);const{console:yu}=_.E;function wu(t){let e,n;const r={c:function(){e=Object(_.v)("button"),e.textContent="SignOut",Object(_.h)(e,"class","button-dark svelte-8wgr96"),Object(_.d)(e,"client/components/user/SignOut.svelte",145,2,5011)},m:function(r,i,o){Object(_.I)(r,e,i),o&&n(),n=Object(_.K)(e,"click",t[6],!1,!1,!1)},p:_.M,d:function(t){t&&Object(_.t)(e),n()}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:wu.name,type:"if",source:"(145:0) {#if $currentUser}",ctx:t}),r}function _u(t){let e,n=t[0]&&wu(t);const r={c:function(){n&&n.c(),e=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){n&&n.m(t,r),Object(_.I)(t,e,r)},p:function(t,[r]){t[0]?n?n.p(t,r):(n=wu(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:_.M,o:_.M,d:function(t){n&&n.d(t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:_u.name,type:"component",source:"",ctx:t}),r}function xu(t,e,n){let r,i,o;Object(_.mb)(ua,"audioEngineStatus"),Object(_.m)(t,ua,t=>n(2,r=t)),Object(_.mb)(gc,"goto"),Object(_.m)(t,gc,t=>n(3,i=t)),Object(_.mb)(su,"currentUser"),Object(_.m)(t,su,t=>n(0,o=t));let s=()=>{Object(_.Y)(ua,r="hidden")};const a=()=>{var t={signInOptions:[fu.auth.GoogleAuthProvider.PROVIDER_ID,fu.auth.GithubAuthProvider.PROVIDER_ID,vu.auth.AnonymousAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:(t,e)=>(s(),!1)}};(vu.auth.AuthUI.getInstance()||new vu.auth.AuthUI(fu.auth())).start("#firebaseui-auth-container",t)},c=()=>{hu.signOut().then((async function(){console.log("DEBUG:Login: Logged out"),await Object(x.g)(),a()})).catch(t=>{console.log("DEBUG:Login:",t)}).finally(()=>{i("/")})};Object(x.e)(()=>{o||a()});const u=[];Object.keys(e).forEach(t=>{~u.indexOf(t)||"$$"===t.slice(0,2)||yu.warn(`<SignOut> was created with unknown prop '${t}'`)});let{$$slots:l={},$$scope:h}=e;Object(_.lb)("SignOut",l,[]);return t.$capture_state=()=>({currentUser:su,onMount:x.e,tick:x.g,goto:gc,firebaseui:vu,firebase:fu,auth:hu,app:uu,audioEngineStatus:ua,handleClick:s,createLoginButton:a,signOut:c,$audioEngineStatus:r,$goto:i,$currentUser:o}),t.$inject_state=t=>{"handleClick"in t&&(s=t.handleClick)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,c,r,i,s,a,()=>c()]}class Ou extends _.a{constructor(t){super(t),Object(_.H)(this,t,xu,_u,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"SignOut",options:t,id:_u.name})}}var Eu=Ou,Su=n.p+"0c013a22d57a6ea3186c0d201ce5a302.svg",ju=n.p+"76b165a0d16d8e34e8da8c537c8ea43f.svg",Mu=n.p+"145dba37748898599d4a65b372344157.svg",Tu=n.p+"6b69d0d2a5ded0235a063f81af099f76.svg",Au=n.p+"d047f9560ae1a06c8e19b959578de76c.svg";n(220);const ku="client/components/AudioEngineStatus.svelte";function Iu(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 20.21875 11.78125 L 18.78125 13.21875 L 21.5625 16 L 18.78125 18.78125 L 20.21875 20.21875 L 23 17.4375 L 25.78125 20.21875 L 27.21875 18.78125 L 24.4375 16 L 27.21875 13.21875 L 25.78125 11.78125 L 23 14.5625 L 20.21875 11.78125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,108,6,7712),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path mute-audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,107,4,7598)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Iu.name,type:"if",source:"(107:46) ",ctx:t}),r}function Cu(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 20.21875 11.78125 L 18.78125 13.21875 L 21.5625 16 L 18.78125 18.78125 L 20.21875 20.21875 L 23 17.4375 L 25.78125 20.21875 L 27.21875 18.78125 L 24.4375 16 L 27.21875 13.21875 L 25.78125 11.78125 L 23 14.5625 L 20.21875 11.78125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,104,6,6795),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,103,4,6686)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Cu.name,type:"if",source:"(103:49) ",ctx:t}),r}function Ru(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 20.21875 11.78125 L 18.78125 13.21875 L 21.5625 16 L 18.78125 18.78125 L 20.21875 20.21875 L 23 17.4375 L 25.78125 20.21875 L 27.21875 18.78125 L 24.4375 16 L 27.21875 13.21875 L 25.78125 11.78125 L 23 14.5625 L 20.21875 11.78125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,100,6,5880),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,99,4,5771)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Ru.name,type:"if",source:"(99:52) ",ctx:t}),r}function Pu(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 20.21875 11.78125 L 18.78125 13.21875 L 21.5625 16 L 18.78125 18.78125 L 20.21875 20.21875 L 23 17.4375 L 25.78125 20.21875 L 27.21875 18.78125 L 24.4375 16 L 27.21875 13.21875 L 25.78125 11.78125 L 23 14.5625 L 20.21875 11.78125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,96,6,4962),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,95,4,4853)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Pu.name,type:"if",source:"(95:50) ",ctx:t}),r}function Lu(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 20.21875 11.78125 L 18.78125 13.21875 L 21.5625 16 L 18.78125 18.78125 L 20.21875 20.21875 L 23 17.4375 L 25.78125 20.21875 L 27.21875 18.78125 L 24.4375 16 L 27.21875 13.21875 L 25.78125 11.78125 L 23 14.5625 L 20.21875 11.78125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,92,6,4046),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path no-audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,91,4,3934)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Lu.name,type:"if",source:"(91:47) ",ctx:t}),r}function Nu(t){let e,n;const r={c:function(){e=Object(_.cb)("svg"),n=Object(_.cb)("path"),Object(_.Z)(n,"text-indent","0"),Object(_.Z)(n,"text-align","start"),Object(_.Z)(n,"line-height","normal"),Object(_.Z)(n,"text-transform","none"),Object(_.Z)(n,"block-progression","tb"),Object(_.Z)(n,"-inkscape-font-specification","Bitstream Vera Sans"),Object(_.h)(n,"d","M 15 4.59375 L 13.28125 6.28125 L 8.5625 11 L 5 11 L 4 11 L 4 12 L 4 20 L 4 21 L 5 21 L 8.5625 21 L 13.28125 25.71875 L 15 27.40625 L 15 25 L 15 7 L 15 4.59375 z M 24.125 6.375 L 22.71875 7.78125 C 24.74275 9.92925 26 12.822 26 16 C 26 19.178 24.74275 22.06975 22.71875 24.21875 L 24.125 25.625 C 26.51 23.113 28 19.729 28 16 C 28 12.271 26.51 8.886 24.125 6.375 z M 21.3125 9.1875 L 19.90625 10.625 C 21.20625 12.048 22 13.925 22 16 C 22 18.075 21.20625 19.951 19.90625 21.375 L 21.3125 22.8125 C 22.9735 21.0255 24 18.626 24 16 C 24 13.374 22.9735 10.9735 21.3125 9.1875 z M 13 9.4375 L 13 22.5625 L 9.71875 19.28125 L 9.40625 19 L 9 19 L 6 19 L 6 13 L 9 13 L 9.40625 13 L 9.71875 12.71875 L 13 9.4375 z M 18.5 12.03125 L 17.0625 13.46875 C 17.6405 14.16275 18 15.028 18 16 C 18 16.972 17.6405 17.83725 17.0625 18.53125 L 18.5 19.96875 C 19.439 18.90975 20 17.523 20 16 C 20 14.477 19.439 13.09025 18.5 12.03125 z"),Object(_.h)(n,"overflow","visible"),Object(_.h)(n,"font-family","Bitstream Vera Sans"),Object(_.h)(n,"class","svelte-ae15yi"),Object(_.d)(n,ku,88,8,2741),Object(_.h)(e,"xmlns","http://www.w3.org/2000/svg"),Object(_.h)(e,"class","path audio svelte-ae15yi"),Object(_.h)(e,"width","20"),Object(_.h)(e,"height","20"),Object(_.h)(e,"viewBox","0 0 32 32"),Object(_.d)(e,ku,87,4,2630)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Nu.name,type:"if",source:"(87:4) {#if $audioEngineStatus == 'running' }",ctx:t}),r}function Du(t){let e,n,r;function i(t,e){return"running"==t[0]?Nu:"stopped"==t[0]?Lu:"high-audio"==t[0]?Pu:"medium-audio"==t[0]?Ru:"low-audio"==t[0]?Cu:"paused"==t[0]?Iu:void 0}let o=i(t),s=o&&o(t);const a={c:function(){e=Object(_.v)("button"),n=Object(_.v)("div"),s&&s.c(),Object(_.h)(n,"class","icon-container svelte-ae15yi"),Object(_.d)(n,ku,85,2,2554),Object(_.h)(e,"class","button-dark svelte-ae15yi"),Object(_.d)(e,ku,84,0,2500)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,o,a){Object(_.I)(i,e,o),Object(_.f)(e,n),s&&s.m(n,null),a&&r(),r=Object(_.K)(e,"click",t[1],!1,!1,!1)},p:function(t,[e]){o!==(o=i(t))&&(s&&s.d(1),s=o&&o(t),s&&(s.c(),s.m(n,null)))},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),s&&s.d(),r()}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Du.name,type:"component",source:"",ctx:t}),a}function Bu(t,e,n){let r;Object(_.mb)(ua,"audioEngineStatus"),Object(_.m)(t,ua,t=>n(0,r=t));let i=()=>{Object(_.Y)(ua,r="running")};const o=[];Object.keys(e).forEach(t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<AudioEngineStatus> was created with unknown prop '${t}'`)});let{$$slots:s={},$$scope:a}=e;return Object(_.lb)("AudioEngineStatus",s,[]),t.$capture_state=()=>({NoAudio:Su,MuteAudio:ju,HighVolumeAudio:Mu,MediumVolumeAudio:Tu,LowVolumeAudio:Au,audioEngineStatus:ua,handleClick:i,$audioEngineStatus:r}),t.$inject_state=t=>{"handleClick"in t&&n(1,i=t.handleClick)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i]}class $u extends _.a{constructor(t){super(t),Object(_.H)(this,t,Bu,Du,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"AudioEngineStatus",options:t,id:Du.name})}}var Fu=$u;const Uu=E(""),zu=E(""),Hu=(E(""),E("")),Gu=(E(""),E(""),E(""),E(""),E(""),Ts.item({x:0,y:0,w:6,h:7,id:M()}),Ts.item({x:6,y:0,w:3,h:2,id:M()}),Ts.item({x:9,y:0,w:18,h:3,id:M()}),P.a,Ts.item({x:6,y:2,w:3,h:5,id:M()}),Ts.item({x:9,y:3,w:15,h:3,id:M()}),Ts.item({x:7,y:7,w:4,h:30,id:M()}),Ts.item({x:9,y:6,w:18,h:1,id:M()}),[{...Ts.item({x:7,y:0,w:2,h:1,id:M()}),type:"liveCodeEditor",name:"hello-world",background:"#151515",lineNumbers:!0,hasFocus:!1,background:"#151515",theme:"icecoder",component:ut,data:"#lc-1",grammarSource:"/languages/default/grammar.ne"},{...Ts.item({x:10,y:2,w:2,h:1,id:M()}),name:"hello world",type:"grammarEditor",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#AAAAAA",component:G,data:"#g-1"},{...Ts.item({x:0,y:4,w:3,h:1,id:M()}),name:"hello world",type:"modelEditor",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#f0f0f0",component:P.a,data:"//m-1\nsema.env.saveLocal('1')"},{...Ts.item({x:0,y:8,w:1,h:1,id:M()}),name:"hello world",type:"analyser",lineNumbers:!0,hasFocus:!1,theme:"monokai",background:"#f0f0f0",component:Xo,mode:"spectrogram",data:"1"}]);const Vu=async t=>{if("liveCodeEditor"===t.type)try{t.data=await R(t.liveCodeSource),Hu.set(t.data);let e=await R(t.grammarSource);Uu.set(e);let n=compile(e).output;zu.set(n)}catch(t){console.error("Error Populating stores with fetched liveCode props")}};function qu(t){if("undefined"!==t&&"undefined"!==t.type){switch(t.type){case"liveCodeEditor":t.component=ut;break;case"grammarEditor":t.component=G;break;case"modelEditor":t.component=P.a;break;case"liveCodeParseOutput":t.component=No;break;case"grammarCompileOutput":t.component=Vo;break;case"storeInspector":t.component=ca;break;case"analyser":t.component=Xo;break;case"postIt":t.component=Bs;break;case"dspCodeOutput":t.component=Ps}return"undefined"!==t.id&&(t.id=M(),t.name=t.name+t.id),t}throw Error("hydrateJSONcomponent: undefined item")}let Wu=E([{id:1,text:"Tutorial 1",sections:[{slug:"basics",title:"Basics",chapter_dir:"01-basics",section_dir:"01-introduction"},{slug:"layout",title:"Layout",chapter_dir:"01-basics",section_dir:"02-layout"},{slug:"editors",title:"Editors",chapter_dir:"01-basics",section_dir:"03-editors"},{slug:"widgets",title:"Widgets",chapter_dir:"01-basics",section_dir:"04-widgets"}]}]),Ku=E({}),Yu=E(Gu);n(221);const{console:Xu}=_.E,Zu="client/routes/_layout.svelte";function Ju(t){let e,n,r,i,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y,w,x,O,E,S,j,M,T,A,k,I,C,R,P,L;const N=new Fu({$$inline:!0}),D=new Eu({$$inline:!0}),B={c:function(){e=Object(_.v)("div"),n=Object(_.v)("h1"),n.textContent="sema",r=Object(_.ab)(),i=Object(_.v)("div"),o=Object(_.v)("ul"),s=Object(_.v)("li"),a=Object(_.v)("a"),a.textContent="Home",c=Object(_.ab)(),u=Object(_.v)("li"),l=Object(_.v)("a"),l.textContent="Playground",h=Object(_.ab)(),f=Object(_.v)("li"),d=Object(_.v)("a"),p=Object(_.db)("Tutorial"),b=Object(_.ab)(),g=Object(_.v)("li"),v=Object(_.v)("a"),v.textContent="Docs",y=Object(_.ab)(),w=Object(_.v)("li"),x=Object(_.v)("a"),O=Object(_.cb)("svg"),E=Object(_.cb)("use"),S=Object(_.cb)("path"),j=Object(_.ab)(),M=Object(_.v)("li"),T=Object(_.v)("a"),A=Object(_.cb)("svg"),k=Object(_.cb)("use"),I=Object(_.cb)("path"),C=Object(_.ab)(),R=Object(_.v)("div"),Object(_.o)(N.$$.fragment),P=Object(_.ab)(),Object(_.o)(D.$$.fragment),Object(_.h)(n,"class","logo svelte-123kwpe"),Object(_.d)(n,Zu,206,4,4740),Object(_.h)(a,"href","/"),Object(_.h)(a,"class","svelte-123kwpe"),Object(_.d)(a,Zu,212,12,4928),Object(_.h)(s,"class","svelte-123kwpe"),Object(_.d)(s,Zu,212,8,4924),Object(_.h)(l,"href","/playground/"),Object(_.h)(l,"class","svelte-123kwpe"),Object(_.d)(l,Zu,214,12,5031),Object(_.h)(u,"class","svelte-123kwpe"),Object(_.d)(u,Zu,214,8,5027),Object(_.h)(d,"href",m=t[2]("/tutorial/:chapter/:section/",t[0])),Object(_.h)(d,"class","svelte-123kwpe"),Object(_.d)(d,Zu,215,12,5086),Object(_.h)(f,"class","svelte-123kwpe"),Object(_.d)(f,Zu,215,8,5082),Object(_.h)(v,"href","https://github.com/mimic-sussex/sema/tree/master/docs"),Object(_.h)(v,"target","_blank"),Object(_.h)(v,"class","svelte-123kwpe"),Object(_.d)(v,Zu,216,12,5184),Object(_.h)(g,"class","svelte-123kwpe"),Object(_.d)(g,Zu,216,8,5180),Object(_.nb)(E,"xlink:href","#community"),Object(_.d)(E,Zu,221,14,5506),Object(_.h)(S,"d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"),Object(_.h)(S,"class","svelte-123kwpe"),Object(_.d)(S,Zu,222,14,5556),Object(_.h)(O,"class","icon svelte-5yec39"),Object(_.h)(O,"width","25"),Object(_.h)(O,"height","20"),Object(_.d)(O,Zu,220,12,5436),Object(_.h)(x,"href","https://forum.toplap.org/c/communities/sema"),Object(_.h)(x,"target","_blank"),Object(_.h)(x,"class","svelte-123kwpe"),Object(_.d)(x,Zu,219,10,5353),Object(_.h)(w,"class","svelte-123kwpe"),Object(_.d)(w,Zu,218,8,5338),Object(_.nb)(k,"xlink:href","#github"),Object(_.d)(k,Zu,229,14,5853),Object(_.h)(I,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),Object(_.h)(I,"class","svelte-123kwpe"),Object(_.d)(I,Zu,230,14,5900),Object(_.h)(A,"class","icon svelte-5yec89"),Object(_.h)(A,"width","25"),Object(_.h)(A,"height","20"),Object(_.d)(A,Zu,228,12,5783),Object(_.h)(T,"href","https://github.com/mimic-sussex/sema"),Object(_.h)(T,"target","_blank"),Object(_.h)(T,"class","svelte-123kwpe"),Object(_.d)(T,Zu,227,10,5707),Object(_.h)(M,"class","svelte-123kwpe"),Object(_.d)(M,Zu,226,8,5692),Object(_.h)(o,"class","svelte-123kwpe"),Object(_.d)(o,Zu,208,6,4805),Object(_.h)(i,"class","nav-container svelte-123kwpe"),Object(_.d)(i,Zu,207,4,4771),Object(_.h)(R,"class","actions-container svelte-123kwpe"),Object(_.d)(R,Zu,237,4,6286),Object(_.h)(e,"class","header-container svelte-123kwpe"),Object(_.d)(e,Zu,205,2,4704)},m:function(t,m){Object(_.I)(t,e,m),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),Object(_.f)(i,o),Object(_.f)(o,s),Object(_.f)(s,a),Object(_.f)(o,c),Object(_.f)(o,u),Object(_.f)(u,l),Object(_.f)(o,h),Object(_.f)(o,f),Object(_.f)(f,d),Object(_.f)(d,p),Object(_.f)(o,b),Object(_.f)(o,g),Object(_.f)(g,v),Object(_.f)(o,y),Object(_.f)(o,w),Object(_.f)(w,x),Object(_.f)(x,O),Object(_.f)(O,E),Object(_.f)(O,S),Object(_.f)(o,j),Object(_.f)(o,M),Object(_.f)(M,T),Object(_.f)(T,A),Object(_.f)(A,k),Object(_.f)(A,I),Object(_.f)(e,C),Object(_.f)(e,R),Object(_.L)(N,R,null),Object(_.f)(R,P),Object(_.L)(D,R,null),L=!0},p:function(t,e){(!L||5&e&&m!==(m=t[2]("/tutorial/:chapter/:section/",t[0])))&&Object(_.h)(d,"href",m)},i:function(t){L||(Object(_.gb)(N.$$.fragment,t),Object(_.gb)(D.$$.fragment,t),L=!0)},o:function(t){Object(_.hb)(N.$$.fragment,t),Object(_.hb)(D.$$.fragment,t),L=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(N),Object(_.r)(D)}};return Object(_.u)("SvelteRegisterBlock",{block:B,id:Ju.name,type:"if",source:"(205:2) {#if $currentUser}",ctx:t}),B}function Qu(t){let e,n,r,i,o,s,a;const c=new gu({$$inline:!0});let u=t[1]&&Ju(t);const l=t[13].default,h=Object(_.p)(l,t,t[12],null),f={c:function(){e=Object(_.v)("link"),n=Object(_.ab)(),Object(_.o)(c.$$.fragment),r=Object(_.ab)(),i=Object(_.v)("div"),u&&u.c(),o=Object(_.ab)(),s=Object(_.v)("div"),h&&h.c(),Object(_.h)(e,"type","text/css"),Object(_.h)(e,"rel","stylesheet"),Object(_.h)(e,"href","https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth.css"),Object(_.d)(e,Zu,196,2,4482),document.title="Sema",Object(_.h)(s,"class","slot-container svelte-123kwpe"),Object(_.d)(s,Zu,247,2,6426),Object(_.h)(i,"class","main-container svelte-123kwpe"),Object(_.d)(i,Zu,202,0,4651)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,l){Object(_.f)(document.head,e),Object(_.I)(t,n,l),Object(_.L)(c,t,l),Object(_.I)(t,r,l),Object(_.I)(t,i,l),u&&u.m(i,null),Object(_.f)(i,o),Object(_.f)(i,s),h&&h.m(s,null),a=!0},p:function(t,[e]){t[1]?u?(u.p(t,e),Object(_.gb)(u,1)):(u=Ju(t),u.c(),Object(_.gb)(u,1),u.m(i,o)):u&&(Object(_.F)(),Object(_.hb)(u,1,1,()=>{u=null}),Object(_.l)()),h&&h.p&&4096&e&&h.p(Object(_.A)(l,t,t[12],null),Object(_.z)(l,t[12],e,null))},i:function(t){a||(Object(_.gb)(c.$$.fragment,t),Object(_.gb)(u),Object(_.gb)(h,t),a=!0)},o:function(t){Object(_.hb)(c.$$.fragment,t),Object(_.hb)(u),Object(_.hb)(h,t),a=!1},d:function(t){Object(_.t)(e),t&&Object(_.t)(n),Object(_.r)(c,t),t&&Object(_.t)(r),t&&Object(_.t)(i),u&&u.d(),h&&h.d(t)}};return Object(_.u)("SvelteRegisterBlock",{block:f,id:Qu.name,type:"component",source:"",ctx:t}),f}function tl(t,e,n){let r,i,o,s,a,c,u,l;Object(_.mb)(Fs,"sidebarLiveCodeOptions"),Object(_.m)(t,Fs,t=>n(3,r=t)),Object(_.mb)(hc,"ready"),Object(_.m)(t,hc,t=>n(4,i=t)),Object(_.mb)(Wu,"tutorials"),Object(_.m)(t,Wu,t=>n(5,o=t)),Object(_.mb)(Ku,"selected"),Object(_.m)(t,Ku,t=>n(6,s=t)),Object(_.mb)(mc,"params"),Object(_.m)(t,mc,t=>n(7,a=t)),Object(_.mb)(Yu,"items"),Object(_.m)(t,Yu,t=>n(8,c=t)),Object(_.mb)(su,"currentUser"),Object(_.m)(t,su,t=>n(1,u=t)),Object(_.mb)(bc,"url"),Object(_.m)(t,bc,t=>n(2,l=t));let h=()=>{fetch("/languages/languages.json").then(t=>t.json()).then(t=>{console.log("DEBUG:_layout:loadPlayground"),console.log(t),Object(_.Y)(Fs,r=r.concat(t.map(t=>({id:1,disabled:!1,text:t.name,content:{grammar:`/languages/${t.name}/grammar.ne`,livecode:`/languages/${t.name}/code.sem`}})))),i()})},f=()=>{fetch("/tutorial/tutorial.json").then(t=>t.json()).then(t=>{Object(_.Y)(Wu,o=t),Object(_.Y)(Ku,s=o[0].sections[0]),i()})},d=()=>{fetch(`/tutorial/${a.chapter_dir}/${a.section_dir}/layout.json`).then(t=>t.json()).then(t=>{Object(_.Y)(Yu,c=t.map(t=>qu(t))),i()})},p={chapter:"01-basics",section:"01-introduction"};Object(x.e)(async()=>{console.log("DEBUG:routes/_layout:onMount"),console.log(a)});const m=[];Object.keys(e).forEach(t=>{~m.indexOf(t)||"$$"===t.slice(0,2)||Xu.warn(`<Layout> was created with unknown prop '${t}'`)});let{$$slots:b={},$$scope:g}=e;return Object(_.lb)("Layout",b,["default"]),t.$set=t=>{"$$scope"in t&&n(12,g=t.$$scope)},t.$capture_state=()=>({tick:x.g,onMount:x.e,onDestroy:x.d,ready:hc,url:bc,params:mc,UserObserver:gu,SignOut:Eu,AudioEngineStatus:Fu,currentUser:su,tutorials:Wu,selected:Ku,hydrateJSONcomponent:qu,items:Yu,sidebarLiveCodeOptions:Fs,loadSidebarLiveCodeOptions:h,fetchAndLoadDefaultTutorial:f,fetchAndLoadDefaultTutorialItems:d,persistentParams:p,$sidebarLiveCodeOptions:r,$ready:i,$tutorials:o,$selected:s,$params:a,$items:c,$currentUser:u,$url:l}),t.$inject_state=t=>{"loadSidebarLiveCodeOptions"in t&&n(9,h=t.loadSidebarLiveCodeOptions),"fetchAndLoadDefaultTutorial"in t&&n(10,f=t.fetchAndLoadDefaultTutorial),"fetchAndLoadDefaultTutorialItems"in t&&n(11,d=t.fetchAndLoadDefaultTutorialItems),"persistentParams"in t&&n(0,p=t.persistentParams)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{128&t.$$.dirty&&a.chapter&&a.section&&n(0,p=a)},h(),f(),d(),[p,u,l,r,i,o,s,a,c,h,f,d,g,b]}class el extends _.a{constructor(t){super(t),Object(_.H)(this,t,tl,Qu,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Layout",options:t,id:Qu.name})}}var nl=el;function rl(t){let e,n,r,i;const o={c:function(){e=Object(_.ab)(),n=Object(_.v)("h1"),n.textContent="About this site",r=Object(_.ab)(),i=Object(_.v)("p"),i.textContent="This is the 'about' page. There's not much here.",document.title="About",Object(_.d)(n,"client/routes/about.svelte",4,0,52),Object(_.d)(i,"client/routes/about.svelte",6,0,78)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.I)(t,r,o),Object(_.I)(t,i,o)},p:_.M,i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:rl.name,type:"component",source:"",ctx:t}),o}function il(t,e){const n=[];Object.keys(e).forEach(t=>{~n.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<About> was created with unknown prop '${t}'`)});let{$$slots:r={},$$scope:i}=e;return Object(_.lb)("About",r,[]),[]}class ol extends _.a{constructor(t){super(t),Object(_.H)(this,t,il,rl,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"About",options:t,id:rl.name})}}var sl=ol;n(222);function al(t){let e,n,r,i,o,s,a=t[0].title+"",c=t[0].html+"";document.title=e=t[0].title;const u={c:function(){n=Object(_.ab)(),r=Object(_.v)("h1"),i=Object(_.db)(a),o=Object(_.ab)(),s=Object(_.v)("div"),Object(_.d)(r,"client/routes/blog/[slug].svelte",59,0,1225),Object(_.h)(s,"class","content svelte-gnxal1"),Object(_.d)(s,"client/routes/blog/[slug].svelte",61,0,1248)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){Object(_.I)(t,n,e),Object(_.I)(t,r,e),Object(_.f)(r,i),Object(_.I)(t,o,e),Object(_.I)(t,s,e),s.innerHTML=c},p:function(t,[n]){1&n&&e!==(e=t[0].title)&&(document.title=e),1&n&&a!==(a=t[0].title+"")&&Object(_.X)(i,a),1&n&&c!==(c=t[0].html+"")&&(s.innerHTML=c)},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(o),t&&Object(_.t)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:al.name,type:"component",source:"",ctx:t}),u}async function cl({params:t,query:e}){const n=await this.fetch(`blog/${t.slug}.json`),r=await n.json();if(200===n.status)return{post:r};this.error(n.status,r.message)}function ul(t,e,n){let{post:r}=e;const i=["post"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<U5Bslugu5D> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("U5Bslugu5D",o,[]),t.$set=t=>{"post"in t&&n(0,r=t.post)},t.$capture_state=()=>({preload:cl,post:r}),t.$inject_state=t=>{"post"in t&&n(0,r=t.post)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r]}class ll extends _.a{constructor(t){super(t),Object(_.H)(this,t,ul,al,_.T,{post:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"U5Bslugu5D",options:t,id:al.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"post"in n||console.warn("<U5Bslugu5D> was created without expected prop 'post'")}get post(){throw new Error("<U5Bslugu5D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set post(t){throw new Error("<U5Bslugu5D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var hl=ll;n(223);const fl="client/routes/blog/index.svelte";function dl(t,e,n){const r=t.slice();return r[1]=e[n],r}function pl(t){let e,n,r,i,o=t[1].title+"";const s={c:function(){e=Object(_.v)("li"),n=Object(_.v)("a"),r=Object(_.db)(o),Object(_.h)(n,"rel","prefetch"),Object(_.h)(n,"href",i="blog/"+t[1].slug),Object(_.d)(n,fl,31,6,618),Object(_.d)(e,fl,31,2,614)},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(n,r)},p:function(t,e){1&e&&o!==(o=t[1].title+"")&&Object(_.X)(r,o),1&e&&i!==(i="blog/"+t[1].slug)&&Object(_.h)(n,"href",i)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:pl.name,type:"each",source:"(27:1) {#each posts as post}",ctx:t}),s}function ml(t){let e,n,r,i,o=t[0];Object(_.jb)(o);let s=[];for(let e=0;e<o.length;e+=1)s[e]=pl(dl(t,o,e));const a={c:function(){e=Object(_.ab)(),n=Object(_.v)("h1"),n.textContent="Recent posts",r=Object(_.ab)(),i=Object(_.v)("ul");for(let t=0;t<s.length;t+=1)s[t].c();document.title="Blog",Object(_.d)(n,fl,23,0,345),Object(_.h)(i,"class","svelte-1frg2tf"),Object(_.d)(i,fl,25,0,368)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.I)(t,r,o),Object(_.I)(t,i,o);for(let t=0;t<s.length;t+=1)s[t].m(i,null)},p:function(t,[e]){if(1&e){let n;for(o=t[0],Object(_.jb)(o),n=0;n<o.length;n+=1){const r=dl(t,o,n);s[n]?s[n].p(r,e):(s[n]=pl(r),s[n].c(),s[n].m(i,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i),Object(_.s)(s,t)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:ml.name,type:"component",source:"",ctx:t}),a}function bl({params:t,query:e}){return this.fetch("blog.json").then(t=>t.json()).then(t=>({posts:t}))}function gl(t,e,n){let{posts:r=[]}=e;const i=["posts"];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Blog> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("Blog",o,[]),t.$set=t=>{"posts"in t&&n(0,r=t.posts)},t.$capture_state=()=>({preload:bl,posts:r}),t.$inject_state=t=>{"posts"in t&&n(0,r=t.posts)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r]}class vl extends _.a{constructor(t){super(t),Object(_.H)(this,t,gl,ml,_.T,{posts:0}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Blog",options:t,id:ml.name})}get posts(){throw new Error("<Blog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set posts(t){throw new Error("<Blog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var yl=vl;function wl(t){let e;const n={c:function(){e=Object(_.v)("div"),Object(_.h)(e,"id","firebaseui-auth-container"),Object(_.d)(e,"client/components/user/SignIn.svelte",116,2,3563)},m:function(t,n){Object(_.I)(t,e,n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:wl.name,type:"if",source:"(109:0) {#if !$currentUser}",ctx:t}),n}function _l(t){let e,n=!t[0]&&wl(t);const r={c:function(){n&&n.c(),e=Object(_.w)()},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){n&&n.m(t,r),Object(_.I)(t,e,r)},p:function(t,[r]){t[0]?n&&(n.d(1),n=null):n||(n=wl(t),n.c(),n.m(e.parentNode,e))},i:_.M,o:_.M,d:function(t){n&&n.d(t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:_l.name,type:"component",source:"",ctx:t}),r}function xl(t,e,n){let r,i;Object(_.mb)(ua,"audioEngineStatus"),Object(_.m)(t,ua,t=>n(1,r=t)),Object(_.mb)(su,"currentUser"),Object(_.m)(t,su,t=>n(0,i=t));let o=()=>{Object(_.Y)(ua,r="hidden")};const s=()=>{var t={signInOptions:[fu.auth.GoogleAuthProvider.PROVIDER_ID,fu.auth.GithubAuthProvider.PROVIDER_ID,vu.auth.AnonymousAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:(t,e)=>(o(),!1)}};(vu.auth.AuthUI.getInstance()||new vu.auth.AuthUI(fu.auth())).start("#firebaseui-auth-container",t)};Object(x.e)(()=>{i||s()});const a=[];Object.keys(e).forEach(t=>{~a.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<SignIn> was created with unknown prop '${t}'`)});let{$$slots:c={},$$scope:u}=e;return Object(_.lb)("SignIn",c,[]),t.$capture_state=()=>({currentUser:su,onMount:x.e,tick:x.g,firebaseui:vu,firebase:fu,app:uu,goto:gc,audioEngineStatus:ua,handleClick:o,createLoginButton:s,$audioEngineStatus:r,$currentUser:i}),t.$inject_state=t=>{"handleClick"in t&&(o=t.handleClick)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i]}class Ol extends _.a{constructor(t){super(t),Object(_.H)(this,t,xl,_l,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"SignIn",options:t,id:_l.name})}}var El=Ol;n(224);function Sl(t){let e,n,r,i,o,s,a,c,u;const l={c:function(){e=Object(_.v)("div"),n=Object(_.v)("p"),r=Object(_.v)("strong"),r.textContent="Sorry, this browser does not work for Sema...",i=Object(_.ab)(),o=Object(_.v)("p"),s=Object(_.v)("strong"),s.textContent="Sema requires a Chromium-based browser as it uses the latest Web Audio API technology",a=Object(_.ab)(),c=Object(_.v)("p"),u=Object(_.v)("strong"),u.textContent="(we recommend Chrome, but also possible are Brave, Microsoft Edge, Opera, Vivaldi)",Object(_.Z)(r,"font-size","150%"),Object(_.Z)(r,"color","white"),Object(_.Z)(r,"margin","15px 0 10px 5px"),Object(_.d)(r,"client/routes/index.svelte",133,7,2494),Object(_.d)(n,"client/routes/index.svelte",133,4,2491),Object(_.Z)(s,"color","white"),Object(_.Z)(s,"margin","15px 0 10px 5px"),Object(_.d)(s,"client/routes/index.svelte",134,7,2629),Object(_.d)(o,"client/routes/index.svelte",134,4,2626),Object(_.Z)(u,"color","white"),Object(_.Z)(u,"margin","15px 0 10px 5px"),Object(_.d)(u,"client/routes/index.svelte",135,7,2788),Object(_.d)(c,"client/routes/index.svelte",135,4,2785),Object(_.h)(e,"class","login svelte-af8ohu"),Object(_.d)(e,"client/routes/index.svelte",132,2,2467)},m:function(t,l){Object(_.I)(t,e,l),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),Object(_.f)(e,o),Object(_.f)(o,s),Object(_.f)(e,a),Object(_.f)(e,c),Object(_.f)(c,u)},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:Sl.name,type:"else",source:"(132:2) {:else}",ctx:t}),l}function jl(t){let e,n;const r=new El({$$inline:!0}),i={c:function(){e=Object(_.v)("div"),Object(_.o)(r.$$.fragment),Object(_.h)(e,"class","login svelte-af8ohu"),Object(_.d)(e,"client/routes/index.svelte",128,2,2411)},m:function(t,i){Object(_.I)(t,e,i),Object(_.L)(r,e,null),n=!0},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:jl.name,type:"if",source:"(128:2) {#if !$unsupportedBrowser}",ctx:t}),i}function Ml(t){let e,n,r,i,o,s,a,c,u,l;const h=[jl,Sl],f=[];function d(t,e){return t[0]?1:0}c=d(t),u=f[c]=h[c](t);const p={c:function(){e=Object(_.ab)(),n=Object(_.v)("div"),r=Object(_.v)("div"),i=Object(_.v)("figure"),o=Object(_.v)("img"),a=Object(_.ab)(),u.c(),document.title="Sema",Object(_.h)(o,"alt","sema-logo"),o.src!==(s=Ea)&&Object(_.h)(o,"src",s),Object(_.h)(o,"class","svelte-af8ohu"),Object(_.d)(o,"client/routes/index.svelte",122,6,2277),Object(_.h)(i,"class","svelte-af8ohu"),Object(_.d)(i,"client/routes/index.svelte",121,4,2262),Object(_.h)(r,"class","logo-container svelte-af8ohu"),Object(_.d)(r,"client/routes/index.svelte",120,2,2229),Object(_.h)(n,"class","container svelte-af8ohu"),Object(_.d)(n,"client/routes/index.svelte",119,0,2203)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,s){Object(_.I)(t,e,s),Object(_.I)(t,n,s),Object(_.f)(n,r),Object(_.f)(r,i),Object(_.f)(i,o),Object(_.f)(n,a),f[c].m(n,null),l=!0},p:function(t,[e]){let r=c;c=d(t),c!==r&&(Object(_.F)(),Object(_.hb)(f[r],1,1,()=>{f[r]=null}),Object(_.l)(),u=f[c],u||(u=f[c]=h[c](t),u.c()),Object(_.gb)(u,1),u.m(n,null))},i:function(t){l||(Object(_.gb)(u),l=!0)},o:function(t){Object(_.hb)(u),l=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),f[c].d()}};return Object(_.u)("SvelteRegisterBlock",{block:p,id:Ml.name,type:"component",source:"",ctx:t}),p}function Tl(t,e,n){let r;Object(_.mb)(la,"unsupportedBrowser"),Object(_.m)(t,la,t=>n(0,r=t));const i=[];Object.keys(e).forEach(t=>{~i.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Routes> was created with unknown prop '${t}'`)});let{$$slots:o={},$$scope:s}=e;return Object(_.lb)("Routes",o,[]),t.$capture_state=()=>({tick:x.g,onMount:x.e,onDestroy:x.d,tutorials:Wu,selected:Ku,unsupportedBrowser:la,currentUser:su,src:Ea,SignIn:El,$unsupportedBrowser:r}),[r]}class Al extends _.a{constructor(t){super(t),Object(_.H)(this,t,Tl,Ml,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Routes",options:t,id:Ml.name})}}var kl=Al;n(225);const Il="client/components/playground/ItemProps.svelte";function Cl(t,e,n){const r=t.slice();return r[11]=e[n],r}function Rl(t){let e,n,r,i,o;const s={c:function(){e=Object(_.v)("div"),n=Object(_.v)("button"),r=Object(_.db)("Grammar Editor"),i=Object(_.ab)(),Object(_.h)(n,"class","button-dark svelte-1fegqhb"),n.disabled=t[1],Object(_.d)(n,Il,338,10,11310),Object(_.h)(e,"class","controls svelte-1fegqhb"),Object(_.d)(e,Il,337,8,11277)},m:function(s,a,c){Object(_.I)(s,e,a),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(e,i),c&&o(),o=Object(_.K)(n,"click",t[10],!1,!1,!1)},p:function(t,e){2&e&&Object(_.R)(n,"disabled",t[1])},d:function(t){t&&Object(_.t)(e),o()}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Rl.name,type:"if",source:"(337:34) ",ctx:t}),s}function Pl(t){let e,n,r,i,o,s;const a={c:function(){e=Object(_.v)("div"),n=Object(_.v)("button"),n.textContent="Restart",r=Object(_.ab)(),i=Object(_.v)("br"),o=Object(_.ab)(),Object(_.h)(n,"class","button-dark svelte-1fegqhb"),Object(_.d)(n,Il,313,8,10376),Object(_.d)(i,Il,318,8,10539),Object(_.h)(e,"class","controls svelte-1fegqhb"),Object(_.d)(e,Il,312,6,10345)},m:function(a,c,u){Object(_.I)(a,e,c),Object(_.f)(e,n),Object(_.f)(e,r),Object(_.f)(e,i),Object(_.I)(a,o,c),u&&s(),s=Object(_.K)(n,"click",t[9],!1,!1,!1)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(o),s()}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Pl.name,type:"if",source:"(312:34) ",ctx:t}),a}function Ll(t){let e,n,r,i,o=t[11]+"";const s={c:function(){e=Object(_.db)("mode\n        "),n=Object(_.db)(o),r=Object(_.ab)(),i=Object(_.v)("br"),Object(_.d)(i,Il,310,8,10299)},m:function(t,o){Object(_.I)(t,e,o),Object(_.I)(t,n,o),Object(_.I)(t,r,o),Object(_.I)(t,i,o)},p:function(t,e){1&e&&o!==(o=t[11]+"")&&Object(_.X)(n,o)},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),t&&Object(_.t)(i)}};return Object(_.u)("SvelteRegisterBlock",{block:s,id:Ll.name,type:"if",source:"(308:31) ",ctx:t}),s}function Nl(t){let e,n,r,i,o,s,a;const c={c:function(){e=Object(_.v)("div"),n=Object(_.v)("label"),r=Object(_.db)("Line Numbers\n            "),i=Object(_.v)("input"),o=Object(_.ab)(),s=Object(_.v)("span"),a=Object(_.ab)(),Object(_.h)(i,"type","checkbox"),Object(_.h)(i,"class","checkbox-input svelte-1fegqhb"),i.checked="checked",Object(_.d)(i,Il,297,12,9933),Object(_.h)(s,"class","checkbox-span"),Object(_.d)(s,Il,301,12,10072),Object(_.h)(n,"class","input-dark svelte-1fegqhb"),Object(_.d)(n,Il,296,10,9882),Object(_.h)(e,"class","controls svelte-1fegqhb"),Object(_.d)(e,Il,295,8,9849)},m:function(t,c){Object(_.I)(t,e,c),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(n,i),Object(_.f)(n,o),Object(_.f)(n,s),Object(_.I)(t,a,c)},p:_.M,d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:c,id:Nl.name,type:"if",source:"(295:6) {#if itemProp.lineNumbers }",ctx:t}),c}function Dl(t){let e;function n(t,e){return t[11].lineNumbers?Nl:t[11].mode?Ll:t[11].restart?Pl:t[11].grammar?Rl:void 0}let r=n(t),i=r&&r(t);const o={c:function(){i&&i.c(),e=Object(_.w)()},m:function(t,n){i&&i.m(t,n),Object(_.I)(t,e,n)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),i=r&&r(t),i&&(i.c(),i.m(e.parentNode,e)))},d:function(t){i&&i.d(t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Dl.name,type:"each",source:"(294:4) {#each $focusedItemProperties as itemProp }",ctx:t}),o}function Bl(t){let e,n,r=t[0];Object(_.jb)(r);let i=[];for(let e=0;e<r.length;e+=1)i[e]=Dl(Cl(t,r,e));const o={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div");for(let t=0;t<i.length;t+=1)i[t].c();Object(_.d)(n,Il,292,2,9753),Object(_.h)(e,"class","item-props-container"),Object(_.d)(e,Il,290,0,9715)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p:function(t,[e]){if(15&e){let o;for(r=t[0],Object(_.jb)(r),o=0;o<r.length;o+=1){const s=Cl(t,r,o);i[o]?i[o].p(s,e):(i[o]=Dl(s),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),Object(_.s)(i,t)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:Bl.name,type:"component",source:"",ctx:t}),o}function $l(t,e,n){let r,i,o;Object(_.mb)(ra,"focusedItemProperties"),Object(_.m)(t,ra,t=>n(0,r=t)),Object(_.mb)(na,"focusedItem"),Object(_.m)(t,na,t=>n(4,i=t)),Object(_.mb)(qs,"isAddGrammarEditorDisabled"),Object(_.m)(t,qs,t=>n(1,o=t));const s=new q.a;let a;const c=Object(x.b)();let u,l;function h(t,e){switch(t){case"grammar":s.publish("playground-add",{type:"grammarEditor",data:{grammar:r[2].grammar,grammarSource:i.grammarSource}}),Object(_.Y)(qs,o=!0)}}Object(x.e)(()=>{}),Object(x.d)(()=>{});const f=[];Object.keys(e).forEach(t=>{~f.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<ItemProps> was created with unknown prop '${t}'`)});let{$$slots:d={},$$scope:p}=e;Object(_.lb)("ItemProps",d,[]);return t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,sidebarLiveCodeOptions:Fs,selectedLiveCodeOption:Us,isSelectLiveCodeEditorDisabled:zs,sidebarModelOptions:Hs,selectedModelOption:Gs,isSelectModelEditorDisabled:Vs,isAddGrammarEditorDisabled:qs,isAddAnalyserDisabled:Xs,sidebarDebuggerOptions:Ws,selectedDebuggerOption:Ks,isSelectDebuggerDisabled:Ys,focusedItem:na,focusedItemProperties:ra,id:M,PubSub:q.a,messaging:s,itemDeletionSubscriptionToken:a,createEventDispatcher:x.b,dispatch:c,selectedGrammarOption:u,selectedVisualisationOption:l,dispatchAdd:h,$focusedItemProperties:r,$focusedItem:i,$isAddGrammarEditorDisabled:o}),t.$inject_state=t=>{"itemDeletionSubscriptionToken"in t&&(a=t.itemDeletionSubscriptionToken),"selectedGrammarOption"in t&&(u=t.selectedGrammarOption),"selectedVisualisationOption"in t&&(l=t.selectedVisualisationOption)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,o,s,h,i,a,c,u,l,()=>s.publish("restart-ml"),()=>h("grammar")]}class Fl extends _.a{constructor(t){super(t),Object(_.H)(this,t,$l,Bl,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"ItemProps",options:t,id:Bl.name})}}var Ul=Fl;n(226);const{Error:zl}=_.E,Hl="client/components/playground/Sidebar.svelte";function Gl(t,e,n){const r=t.slice();return r[36]=e[n],r}function Vl(t,e,n){const r=t.slice();return r[39]=e[n],r}function ql(t,e,n){const r=t.slice();return r[42]=e[n],r}function Wl(t){let e,n,r,i,o,s=t[42].text+"";const a={c:function(){e=Object(_.v)("option"),n=Object(_.db)(s),r=Object(_.ab)(),e.disabled=i=t[42].disabled,e.__value=o=t[42],e.value=e.__value,Object(_.d)(e,Hl,411,10,12650)},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(e,r)},p:function(t,r){64&r[0]&&s!==(s=t[42].text+"")&&Object(_.X)(n,s),64&r[0]&&i!==(i=t[42].disabled)&&Object(_.R)(e,"disabled",i),64&r[0]&&o!==(o=t[42])&&Object(_.R)(e,"__value",o),e.value=e.__value},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Wl.name,type:"each",source:"(411:8) {#each $sidebarLiveCodeOptions as liveCodeOption}",ctx:t}),a}function Kl(t){let e,n,r,i,o,s=t[39].text+"";const a={c:function(){e=Object(_.v)("option"),n=Object(_.db)(s),r=Object(_.ab)(),e.disabled=i=t[39].disabled,e.__value=o=t[39],e.value=e.__value,Object(_.d)(e,Hl,432,10,13528)},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(e,r)},p:function(t,r){256&r[0]&&s!==(s=t[39].text+"")&&Object(_.X)(n,s),256&r[0]&&i!==(i=t[39].disabled)&&Object(_.R)(e,"disabled",i),256&r[0]&&o!==(o=t[39])&&Object(_.R)(e,"__value",o),e.value=e.__value},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Kl.name,type:"each",source:"(432:8) {#each $sidebarModelOptions as modelOption}",ctx:t}),a}function Yl(t){let e,n,r,i,o,s=t[36].text+"";const a={c:function(){e=Object(_.v)("option"),n=Object(_.db)(s),r=Object(_.ab)(),e.disabled=i=t[36].disabled,e.__value=o=t[36],e.value=e.__value,Object(_.d)(e,Hl,471,10,14801)},m:function(t,i){Object(_.I)(t,e,i),Object(_.f)(e,n),Object(_.f)(e,r)},p:function(t,r){16&r[0]&&s!==(s=t[36].text+"")&&Object(_.X)(n,s),16&r[0]&&i!==(i=t[36].disabled)&&Object(_.R)(e,"disabled",i),16&r[0]&&o!==(o=t[36])&&Object(_.R)(e,"__value",o),e.value=e.__value},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:a,id:Yl.name,type:"each",source:"(471:8) {#each $sidebarDebuggerOptions as debuggerOption}",ctx:t}),a}function Xl(t){let e,n,r,i,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y,w,x,O,E,S,j,M,T,A,k,I=t[6];Object(_.jb)(I);let C=[];for(let e=0;e<I.length;e+=1)C[e]=Wl(ql(t,I,e));let R=t[8];Object(_.jb)(R);let P=[];for(let e=0;e<R.length;e+=1)P[e]=Kl(Vl(t,R,e));let L=t[4];Object(_.jb)(L);let N=[];for(let e=0;e<L.length;e+=1)N[e]=Yl(Gl(t,L,e));const D=new Ul({$$inline:!0}),B={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div"),r=Object(_.v)("div"),i=Object(_.v)("select");for(let t=0;t<C.length;t+=1)C[t].c();s=Object(_.ab)(),a=Object(_.v)("div"),c=Object(_.v)("select");for(let t=0;t<P.length;t+=1)P[t].c();l=Object(_.ab)(),h=Object(_.v)("div"),f=Object(_.v)("select");for(let t=0;t<N.length;t+=1)N[t].c();d=Object(_.ab)(),p=Object(_.v)("div"),m=Object(_.v)("button"),b=Object(_.db)("Audio Analyser"),g=Object(_.ab)(),v=Object(_.v)("div"),y=Object(_.v)("button"),w=Object(_.db)("3D Sequencer"),x=Object(_.ab)(),O=Object(_.v)("div"),E=Object(_.v)("button"),E.textContent="Reset",S=Object(_.ab)(),j=Object(_.v)("hr"),M=Object(_.ab)(),T=Object(_.v)("div"),Object(_.o)(D.$$.fragment),Object(_.h)(i,"class","combobox-dark svelte-1fwszh9"),i.disabled=t[0],Object(_.h)(i,"cursor",o=t[23]),void 0===t[5]&&Object(_.e)(()=>t[24].call(i)),Object(_.d)(i,Hl,403,6,12175),Object(_.h)(r,"class","controls svelte-1fwszh9"),Object(_.d)(r,Hl,401,4,12068),Object(_.h)(c,"class","combobox-dark svelte-1fwszh9"),c.disabled=t[1],Object(_.h)(c,"cursor",u=t[27]),void 0===t[7]&&Object(_.e)(()=>t[28].call(c)),Object(_.d)(c,Hl,424,6,13073),Object(_.h)(a,"class","controls svelte-1fwszh9"),Object(_.d)(a,Hl,421,4,12895),Object(_.h)(f,"class","combobox-dark svelte-1fwszh9"),void 0===t[9]&&Object(_.e)(()=>t[31].call(f)),Object(_.d)(f,Hl,465,6,14474),Object(_.h)(h,"class","controls svelte-1fwszh9"),Object(_.d)(h,Hl,464,4,14445),Object(_.h)(m,"class","button-dark controls svelte-1fwszh9"),m.disabled=t[2],Object(_.d)(m,Hl,480,6,15006),Object(_.d)(p,Hl,479,4,14994),Object(_.h)(y,"class","button-dark controls svelte-1fwszh9"),y.disabled=t[3],Object(_.d)(y,Hl,489,6,15233),Object(_.d)(v,Hl,488,4,15221),Object(_.h)(E,"class","button-dark controls svelte-1fwszh9"),Object(_.d)(E,Hl,498,6,15460),Object(_.d)(O,Hl,497,4,15448),Object(_.Z)(j,"width","85%"),Object(_.Z)(j,"border-bottom","1px solid black"),Object(_.d)(j,Hl,512,4,15811),Object(_.Z)(T,"margin-top","20px"),Object(_.d)(T,Hl,514,4,15873),Object(_.h)(n,"class","layout-combobox-container svelte-1fwszh9"),Object(_.d)(n,Hl,399,2,11983),Object(_.h)(e,"class","sidebar svelte-1fwszh9"),Object(_.d)(e,Hl,397,0,11958)},l:function(t){throw new zl("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,u,I){Object(_.I)(o,e,u),Object(_.f)(e,n),Object(_.f)(n,r),Object(_.f)(r,i);for(let t=0;t<C.length;t+=1)C[t].m(i,null);Object(_.U)(i,t[5]),Object(_.f)(n,s),Object(_.f)(n,a),Object(_.f)(a,c);for(let t=0;t<P.length;t+=1)P[t].m(c,null);Object(_.U)(c,t[7]),Object(_.f)(n,l),Object(_.f)(n,h),Object(_.f)(h,f);for(let t=0;t<N.length;t+=1)N[t].m(f,null);Object(_.U)(f,t[9]),Object(_.f)(n,d),Object(_.f)(n,p),Object(_.f)(p,m),Object(_.f)(m,b),Object(_.f)(n,g),Object(_.f)(n,v),Object(_.f)(v,y),Object(_.f)(y,w),Object(_.f)(n,x),Object(_.f)(n,O),Object(_.f)(O,E),Object(_.f)(n,S),Object(_.f)(n,j),Object(_.f)(n,M),Object(_.f)(n,T),Object(_.L)(D,T,null),A=!0,I&&Object(_.S)(k),k=[Object(_.K)(i,"change",t[24]),Object(_.K)(i,"change",t[25],!1,!1,!1),Object(_.K)(i,"click",t[26],!1,!1,!1),Object(_.K)(c,"change",t[28]),Object(_.K)(c,"change",t[29],!1,!1,!1),Object(_.K)(c,"click",t[30],!1,!1,!1),Object(_.K)(f,"change",t[31]),Object(_.K)(f,"change",t[32],!1,!1,!1),Object(_.K)(f,"click",t[33],!1,!1,!1),Object(_.K)(m,"click",t[34],!1,!1,!1),Object(_.K)(y,"click",t[35],!1,!1,!1),Object(_.K)(E,"click",t[10],!1,!1,!1)]},p:function(t,e){if(64&e[0]){let n;for(I=t[6],Object(_.jb)(I),n=0;n<I.length;n+=1){const r=ql(t,I,n);C[n]?C[n].p(r,e):(C[n]=Wl(r),C[n].c(),C[n].m(i,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=I.length}if((!A||1&e[0])&&Object(_.R)(i,"disabled",t[0]),(!A||1&e[0]&&o!==(o=t[23]))&&Object(_.h)(i,"cursor",o),32&e[0]&&Object(_.U)(i,t[5]),256&e[0]){let n;for(R=t[8],Object(_.jb)(R),n=0;n<R.length;n+=1){const r=Vl(t,R,n);P[n]?P[n].p(r,e):(P[n]=Kl(r),P[n].c(),P[n].m(c,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=R.length}if((!A||2&e[0])&&Object(_.R)(c,"disabled",t[1]),(!A||2&e[0]&&u!==(u=t[27]))&&Object(_.h)(c,"cursor",u),128&e[0]&&Object(_.U)(c,t[7]),16&e[0]){let n;for(L=t[4],Object(_.jb)(L),n=0;n<L.length;n+=1){const r=Gl(t,L,n);N[n]?N[n].p(r,e):(N[n]=Yl(r),N[n].c(),N[n].m(f,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=L.length}512&e[0]&&Object(_.U)(f,t[9]),(!A||4&e[0])&&Object(_.R)(m,"disabled",t[2]),(!A||8&e[0])&&Object(_.R)(y,"disabled",t[3])},i:function(t){A||(Object(_.gb)(D.$$.fragment,t),A=!0)},o:function(t){Object(_.hb)(D.$$.fragment,t),A=!1},d:function(t){t&&Object(_.t)(e),Object(_.s)(C,t),Object(_.s)(P,t),Object(_.s)(N,t),Object(_.r)(D),Object(_.S)(k)}};return Object(_.u)("SvelteRegisterBlock",{block:B,id:Xl.name,type:"component",source:"",ctx:t}),B}function Zl(t,e,n){let r,i,o,s,a,c,u,l,h,f,d,p;Object(_.mb)(zs,"isSelectLiveCodeEditorDisabled"),Object(_.m)(t,zs,t=>n(0,r=t)),Object(_.mb)(Vs,"isSelectModelEditorDisabled"),Object(_.m)(t,Vs,t=>n(1,i=t)),Object(_.mb)(qs,"isAddGrammarEditorDisabled"),Object(_.m)(t,qs,t=>n(13,o=t)),Object(_.mb)(Xs,"isAddAnalyserDisabled"),Object(_.m)(t,Xs,t=>n(2,s=t)),Object(_.mb)(Zs,"isAddSequencerDisabled"),Object(_.m)(t,Zs,t=>n(3,a=t)),Object(_.mb)(Ws,"sidebarDebuggerOptions"),Object(_.m)(t,Ws,t=>n(4,c=t)),Object(_.mb)(Us,"selectedLiveCodeOption"),Object(_.m)(t,Us,t=>n(5,u=t)),Object(_.mb)(Fs,"sidebarLiveCodeOptions"),Object(_.m)(t,Fs,t=>n(6,l=t)),Object(_.mb)(Gs,"selectedModelOption"),Object(_.m)(t,Gs,t=>n(7,h=t)),Object(_.mb)(Hs,"sidebarModelOptions"),Object(_.m)(t,Hs,t=>n(8,f=t)),Object(_.mb)(Ks,"selectedDebuggerOption"),Object(_.m)(t,Ks,t=>n(9,d=t)),Object(_.mb)(ea,"items"),Object(_.m)(t,ea,t=>n(14,p=t));const m=new q.a;let b;const g=Object(x.b)();let v,y;function w(){m.publish("playground-reset"),Object(_.Y)(zs,r=!1),Object(_.Y)(Vs,i=!1),Object(_.Y)(qs,o=!1),Object(_.Y)(Xs,s=!1),Object(_.Y)(Zs,a=!1),c.map(t=>t.disabled=!1)}function O(t,e){switch(t){case"live":m.publish("playground-add",{type:"liveCodeEditor",data:e.content}),Object(_.Y)(Us,u=l[0]),Object(_.Y)(zs,r=!0);break;case"model":m.publish("playground-add",{type:"modelEditor",data:e.content}),Object(_.Y)(Gs,h=f[0]),Object(_.Y)(Vs,i=!0);break;case"analyser":m.publish("playground-add",{type:"analyser"}),Object(_.Y)(Xs,s=!0);break;case"sequencer":m.publish("playground-add",{type:"sequencer"}),Object(_.Y)(Zs,a=!0);break;case"debugger":m.publish("playground-add",{type:e.type}),E(e.type),Object(_.Y)(Ks,d=c[0])}}function E(t){if(void 0!==t)if("grammarCompileOutput"===t)Object(_.Y)(Ws,c[1].disabled=!0,c);else if("liveCodeParseOutput"===t)Object(_.Y)(Ws,c[2].disabled=!0,c);else if("dspCodeOutput"===t)Object(_.Y)(Ws,c[3].disabled=!0,c);else if("postIt"===t)Object(_.Y)(Ws,c[4].disabled=!0,c);else{if("storeInspector"!==t)throw new Error("Disable Select Debugger Option: itemType undefined");Object(_.Y)(Ws,c[5].disabled=!0,c)}}function S(t,e){if(void 0!==t)if("grammarCompileOutput"===t)Object(_.Y)(Ws,c[1].disabled=e,c);else if("liveCodeParseOutput"===t)Object(_.Y)(Ws,c[2].disabled=e,c);else if("dspCodeOutput"===t)Object(_.Y)(Ws,c[3].disabled=e,c);else if("postIt"===t)Object(_.Y)(Ws,c[4].disabled=e,c);else{if("storeInspector"!==t)throw new Error("Enable Select Debugger Option On Item Deletion: itemType undefined");Object(_.Y)(Ws,c[5].disabled=e,c)}}function j(t){if(null===t)throw new Error("Activate Select On Item Deletion: itemType undefined");switch(t){case"liveCodeEditor":Object(_.Y)(zs,r=!1);break;case"modelEditor":Object(_.Y)(Vs,i=!1);break;case"grammarEditor":Object(_.Y)(qs,o=!1);break;case"analyser":Object(_.Y)(Xs,s=!1);break;case"sequencer":Object(_.Y)(Zs,a=!1);break;case"grammarCompileOutput":case"liveCodeParseOutput":case"dspCodeOutput":case"postIt":case"storeInspector":S(t,!1)}}function T(){if(p.length>0)for(const t of p)switch(t.type){case"liveCodeEditor":Object(_.Y)(zs,r=!0);break;case"modelEditor":Object(_.Y)(Vs,i=!0);break;case"grammarEditor":Object(_.Y)(qs,o=!0);break;case"analyser":Object(_.Y)(Xs,s=!0);break;case"sequencer":Object(_.Y)(Zs,a=!0);break;case"grammarCompileOutput":case"liveCodeParseOutput":case"dspCodeOutput":case"postIt":case"storeInspector":S(t.type,!0)}}Object(x.e)(()=>{T(),b=m.subscribe("plaground-item-deletion",j)}),Object(x.d)(()=>{m.unsubscribe(b)});const A=[];Object.keys(e).forEach(t=>{~A.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<Sidebar> was created with unknown prop '${t}'`)});let{$$slots:k={},$$scope:I}=e;Object(_.lb)("Sidebar",k,[]);return t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,ItemProps:Ul,sidebarLiveCodeOptions:Fs,selectedLiveCodeOption:Us,isSelectLiveCodeEditorDisabled:zs,sidebarModelOptions:Hs,selectedModelOption:Gs,isSelectModelEditorDisabled:Vs,isAddGrammarEditorDisabled:qs,isAddAnalyserDisabled:Xs,isAddSequencerDisabled:Zs,sidebarDebuggerOptions:Ws,selectedDebuggerOption:Ks,isSelectDebuggerDisabled:Ys,focusedItemProperties:ra,items:ea,id:M,PubSub:q.a,messaging:m,itemDeletionSubscriptionToken:b,createEventDispatcher:x.b,dispatch:g,selectedGrammarOption:v,selectedVisualisationOption:y,onReset:w,dispatchAdd:O,disableSelectDebuggerOption:E,setDisabledOnSelectDebuggerOption:S,activateSelectOnItemDeletion:j,setButtonsStateOnLoad:T,$isSelectLiveCodeEditorDisabled:r,$isSelectModelEditorDisabled:i,$isAddGrammarEditorDisabled:o,$isAddAnalyserDisabled:s,$isAddSequencerDisabled:a,$sidebarDebuggerOptions:c,$selectedLiveCodeOption:u,$sidebarLiveCodeOptions:l,$selectedModelOption:h,$sidebarModelOptions:f,$selectedDebuggerOption:d,$items:p}),t.$inject_state=t=>{"itemDeletionSubscriptionToken"in t&&(b=t.itemDeletionSubscriptionToken),"selectedGrammarOption"in t&&(v=t.selectedGrammarOption),"selectedVisualisationOption"in t&&(y=t.selectedVisualisationOption)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,i,s,a,c,u,l,h,f,d,w,O,b,o,p,m,g,v,y,E,S,j,T,()=>r?"not-allowed":"pointer",function(){u=Object(_.V)(this),Us.set(u)},()=>O("live",u),()=>Object(_.Y)(Fs,l[0].disabled=!0,l),()=>i?"not-allowed":"pointer",function(){h=Object(_.V)(this),Gs.set(h)},()=>O("model",h),()=>Object(_.Y)(Hs,f[0].disabled=!0,f),function(){d=Object(_.V)(this),Ks.set(d)},()=>O("debugger",d),()=>Object(_.Y)(Ws,c[0].disabled=!0,c),()=>O("analyser"),()=>O("sequencer")]}class Jl extends _.a{constructor(t){super(t),Object(_.H)(this,t,Zl,Xl,_.T,{},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Sidebar",options:t,id:Xl.name})}}var Ql=Jl;const th=(t,e=0)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>t.apply(this,r),e)}};function eh(t){var e=(t=t.slice(10,-3)).indexOf("px, ");return{x:+t.slice(0,e),y:+t.slice(e+4)}}function nh(t){return{pageX:t.changedTouches?t.changedTouches[0].pageX:t.pageX,pageY:t.changedTouches?t.changedTouches[0].pageY:t.pageY}}function rh(t){return Math.max(...t.map(t=>t.y+t.h),1)}const ih=(t,e,n,r)=>{var i=!1,o=n;if(t)for(var s=t.length-1;s>=0;s--){const[n,r]=t[s];if(e<=n){i=!0,o=r;break}}return i||(o=r),o},oh=(t,e)=>Array.from(Array(t),()=>new Array(e));function sh(t,e,n,r){let i=oh(n,r);for(var o=0;o<t.length;o++){const n=t[o],{x:r,y:c,w:u,h:l,id:h,responsive:{valueW:f}}=n;if(-1===e.indexOf(h))for(var s=c;s<c+l;s++){const t=i[s];if(t)for(var a=r;a<r+(u-f);a++)t[a]=n}}return i}function ah(t,e,n=rh(t)){let r=oh(n,e);return t.forEach((n,i)=>{let o=t.slice(i+1).map(t=>t.id),s=function(t,e,n=[],r){const{w:i}=e;let o=e.responsive.valueW;for(var s=0;s<t.length;s++){const e=t[s];for(var a=0;a<e.length;a++){const t=e.findIndex(t=>void 0===t);if(-1!==t){for(var c=e.slice(t),u=c.length,l=0;l<c.length;l++)if(void 0!==c[l]){u=l;break}return o=Math.max(i-u,0),{y:s,x:t,responsive:{valueW:o}}}}}return o=Math.max(i-r,0),{y:rh(n),x:0,responsive:{valueW:o}}}(r,n,t,e);t=t.map(t=>t.id===n.id?{...n,...s}:t),r=sh(t,o,rh(t),e)}),t}function ch(t,e){const n=e.findIndex(e=>e.id===t);return{index:n,item:e[n]}}function uh(t,e,n=[]){let r=t[0].length-(e.w-e.responsive.valueW);for(var i=0;i<t.length;i++){const n=t[i];for(var o=0;o<r+1;o++){if(n.slice(o,o+(e.w-e.responsive.valueW)).every(t=>void 0===t)){if(t.slice(i,i+e.h).every(t=>t.slice(o,o+(e.w-e.responsive.valueW)).every(t=>void 0===t)))return{y:i,x:o}}}}return{y:rh(n),x:0}}function lh(t,e,n){return n.id===t.id?{...t,...e}:n}const hh=(t,e,n)=>n.id===t.id?e:n;function fh(t,e,n,r){let i=sh(e,[t.id],rh(e),n);const o=function(t,e,n){const{w:r,h:i,x:o,y:s,responsive:{valueW:a}}=n,c=e.slice(s,s+i);let u=[];for(var l=0;l<c.length;l++){let t=c[l].slice(o,o+(r-a));u=[...u,...t.map(t=>t&&t.id).filter(t=>t)]}return[...u.filter((t,e)=>u.indexOf(t)==e)]}(0,i,t);let s=function(t,e){return e.filter(e=>-1!==t.indexOf(e.id))}(o,e);if(s.find(t=>t.static)&&r)return e.map(hh.bind(null,t,r));i=sh(e,o,rh(e),n);let a=e,c=o,u=[];return s.forEach(t=>{let r=uh(i,t,a);if(u.push(t.id),r){a=a.map(lh.bind(null,t,r));let o=c.filter(t=>-1===u.indexOf(t));i=sh(a,o,rh(e),n)}}),a}function dh(t,e){return Math.max(rh(t),2)*e}n(227);const{console:ph,window:mh}=_.E,bh="node_modules/svelte-grid/src/index.svelte",gh=t=>({item:1&t[0],index:1&t[0]}),vh=t=>({item:t[41],index:t[43]});function yh(t,e,n){const r=t.slice();return r[41]=e[n],r[43]=n,r}function wh(t){let e,n;const r={c:function(){e=Object(_.v)("div"),Object(_.h)(e,"class","svlt-grid-resizer svelte-14tbpr7"),Object(_.d)(e,bh,58,12,1827)},m:function(r,i,o){Object(_.I)(r,e,i),o&&Object(_.S)(n),n=[Object(_.K)(e,"touchstart",(function(){Object(_.J)(t[10].bind(this,t[41].id))&&t[10].bind(this,t[41].id).apply(this,arguments)}),!1,!1,!1),Object(_.K)(e,"mousedown",(function(){Object(_.J)(t[10].bind(this,t[41].id))&&t[10].bind(this,t[41].id).apply(this,arguments)}),!1,!1,!1)]},p:function(e,n){t=e},d:function(t){t&&Object(_.t)(e),Object(_.S)(n)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:wh.name,type:"if",source:"(58:10) {#if item.resizable}",ctx:t}),r}function _h(t,e){let n,r,i,o,s;const a=e[39].default,c=Object(_.p)(a,e,e[38],vh);let u=e[41].resizable&&wh(e);const l={key:t,first:null,c:function(){n=Object(_.v)("div"),c&&c.c(),r=Object(_.ab)(),u&&u.c(),Object(_.h)(n,"class","svlt-grid-item svelte-14tbpr7"),Object(_.h)(n,"style",i=(e[1]?`transform: translate(${e[41].drag.dragging?e[41].drag.left:e[41].x*e[5]+e[2]}px, ${e[41].drag.dragging?e[41].drag.top:e[41].y*e[8]+e[2]}px);`:"")+";\n        "+(e[1]?"":`top: ${e[41].drag.dragging?e[41].drag.top:e[41].y*e[8]+e[2]}px`)+";\n        "+(e[1]?"":`left: ${e[41].drag.dragging?e[41].drag.left:e[41].x*e[5]+e[2]}px`)+";\n        width: "+(e[41].resize.resizing?e[41].resize.width:e[41].w*e[5]-2*e[2]-e[41].responsive.valueW*e[5])+"px;\n        height: "+(e[41].resize.resizing?e[41].resize.height:e[41].h*e[8]-2*e[2])+"px;\n        z-index: "+(e[41].drag.dragging||e[41].resize.resizing?3:1)+";\n        opacity: "+(e[41].resize.resizing?.5:1)),Object(_.d)(n,bh,46,4,805),this.first=n},m:function(t,i,a){Object(_.I)(t,n,i),c&&c.m(n,null),Object(_.f)(n,r),u&&u.m(n,null),o=!0,a&&Object(_.S)(s),s=[Object(_.K)(n,"mousedown",(function(){Object(_.J)(e[41].draggable?e[11].bind(this,e[41].id):null)&&(e[41].draggable?e[11].bind(this,e[41].id):null).apply(this,arguments)}),!1,!1,!1),Object(_.K)(n,"touchstart",(function(){Object(_.J)(e[41].draggable?e[11].bind(this,e[41].id):null)&&(e[41].draggable?e[11].bind(this,e[41].id):null).apply(this,arguments)}),!1,!1,!1)]},p:function(t,r){e=t,c&&c.p&&1&r[0]|128&r[1]&&c.p(Object(_.A)(a,e,e[38],vh),Object(_.z)(a,e[38],r,gh)),e[41].resizable?u?u.p(e,r):(u=wh(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!o||39&r[0]&&i!==(i=(e[1]?`transform: translate(${e[41].drag.dragging?e[41].drag.left:e[41].x*e[5]+e[2]}px, ${e[41].drag.dragging?e[41].drag.top:e[41].y*e[8]+e[2]}px);`:"")+";\n        "+(e[1]?"":`top: ${e[41].drag.dragging?e[41].drag.top:e[41].y*e[8]+e[2]}px`)+";\n        "+(e[1]?"":`left: ${e[41].drag.dragging?e[41].drag.left:e[41].x*e[5]+e[2]}px`)+";\n        width: "+(e[41].resize.resizing?e[41].resize.width:e[41].w*e[5]-2*e[2]-e[41].responsive.valueW*e[5])+"px;\n        height: "+(e[41].resize.resizing?e[41].resize.height:e[41].h*e[8]-2*e[2])+"px;\n        z-index: "+(e[41].drag.dragging||e[41].resize.resizing?3:1)+";\n        opacity: "+(e[41].resize.resizing?.5:1)))&&Object(_.h)(n,"style",i)},i:function(t){o||(Object(_.gb)(c,t),o=!0)},o:function(t){Object(_.hb)(c,t),o=!1},d:function(t){t&&Object(_.t)(n),c&&c.d(t),u&&u.d(),Object(_.S)(s)}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:_h.name,type:"each",source:"(45:2) {#each items as item, i (item.id)}",ctx:e}),l}function xh(t){let e,n;const r={c:function(){e=Object(_.v)("div"),Object(_.h)(e,"class","svlt-grid-shadow svelte-14tbpr7"),Object(_.h)(e,"style",n=(t[1]?`transform: translate(${t[6].drag.dragging?t[6].drag.left:t[6].x*t[5]+t[2]}px, ${t[6].drag.dragging?t[6].drag.top:t[6].y*t[8]+t[2]}px);`:"")+";\n        "+(t[1]?"":`top: ${t[6].drag.dragging?t[6].drag.top:t[6].y*t[8]+t[2]}px`)+";\n        "+(t[1]?"":`left: ${t[6].drag.dragging?t[6].drag.left:t[6].x*t[5]+t[2]}px`)+";\n    width:"+(t[6].w*t[5]-2*t[2]-t[6].responsive.valueW*t[5])+"px;\n    height:"+(t[6].h*t[8]-2*t[2])+"px;"),Object(_.d)(e,bh,69,4,2071)},m:function(t,n){Object(_.I)(t,e,n)},p:function(t,r){102&r[0]&&n!==(n=(t[1]?`transform: translate(${t[6].drag.dragging?t[6].drag.left:t[6].x*t[5]+t[2]}px, ${t[6].drag.dragging?t[6].drag.top:t[6].y*t[8]+t[2]}px);`:"")+";\n        "+(t[1]?"":`top: ${t[6].drag.dragging?t[6].drag.top:t[6].y*t[8]+t[2]}px`)+";\n        "+(t[1]?"":`left: ${t[6].drag.dragging?t[6].drag.left:t[6].x*t[5]+t[2]}px`)+";\n    width:"+(t[6].w*t[5]-2*t[2]-t[6].responsive.valueW*t[5])+"px;\n    height:"+(t[6].h*t[8]-2*t[2])+"px;")&&Object(_.h)(e,"style",n)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:xh.name,type:"if",source:"(69:2) {#if shadow.active}",ctx:t}),r}function Oh(t){let e,n,r,i,o=[],s=new Map,a=t[0];Object(_.jb)(a);const c=t=>t[41].id;Object(_.kb)(t,a,yh,c);for(let e=0;e<a.length;e+=1){let n=yh(t,a,e),r=c(n);s.set(r,o[e]=_h(r,n))}let u=t[6].active&&xh(t);const l={c:function(){e=Object(_.v)("div");for(let t=0;t<o.length;t+=1)o[t].c();n=Object(_.ab)(),u&&u.c(),Object(_.h)(e,"class","svlt-grid-container svelte-14tbpr7"),Object(_.Z)(e,"height",t[7]+"px"),Object(_.fb)(e,"svlt-grid-transition",!t[4]),Object(_.d)(e,bh,43,0,644)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(s,a,c){Object(_.I)(s,e,a);for(let t=0;t<o.length;t+=1)o[t].m(e,null);Object(_.f)(e,n),u&&u.m(e,null),t[40](e),r=!0,c&&i(),i=Object(_.K)(mh,"resize",th(t[9],300),!1,!1,!1)},p:function(t,i){if(3367&i[0]|128&i[1]){const r=t[0];Object(_.jb)(r),Object(_.F)(),Object(_.kb)(t,r,yh,c),o=Object(_.ib)(o,i,c,1,t,r,s,e,_.Q,_h,n,yh),Object(_.l)()}t[6].active?u?u.p(t,i):(u=xh(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!r||128&i[0])&&Object(_.Z)(e,"height",t[7]+"px"),16&i[0]&&Object(_.fb)(e,"svlt-grid-transition",!t[4])},i:function(t){if(!r){for(let t=0;t<a.length;t+=1)Object(_.gb)(o[t]);r=!0}},o:function(t){for(let t=0;t<o.length;t+=1)Object(_.hb)(o[t]);r=!1},d:function(n){n&&Object(_.t)(e);for(let t=0;t<o.length;t+=1)o[t].d();u&&u.d(),t[40](null),i()}};return Object(_.u)("SvelteRegisterBlock",{block:l,id:Oh.name,type:"component",source:"",ctx:t}),l}function Eh(t,e,n){let r,i,o,s,a,c,u,l,{useTransform:h=!1}=e,{items:f=[]}=e,{cols:d=0}=e,{dragDebounceMs:p=350}=e,{gap:m=0}=e,{rowHeight:b=150}=e,{breakpoints:g}=e,{fillEmpty:v=!0}=e,y=b,w=d,O={w:0,h:0,x:0,y:0,active:!1,id:null,responsive:{valueW:0},min:{},max:{}},E=dh(f,y);const S=Object(x.b)(),j=()=>document.documentElement.clientWidth;function M(){let t=document.documentElement.clientWidth;if(t!==u){u=t,o=r.getBoundingClientRect();let e=ih(g,t,d,w);c=e,n(5,s=o.width/e),S("resize",{cols:e,xPerPx:s,yPerPx:y}),g&&n(0,f=ah(f,e))}}let T,A,k,I;function C(t,e){e.stopPropagation();let{pageX:r,pageY:u}=nh(e);const{item:h,index:p}=ch(t,f);a=p,n(4,i=h),B={...h},l=h.h+h.y===rh(f),n(6,O={...O,...i,active:!0}),T=r-o.x,A=u-o.y,k=h.w*s-2*m-i.responsive.valueW*s,I=h.h*y-2*m,c=ih(g,j(),d,w),window.addEventListener("mousemove",R,!1),window.addEventListener("touchmove",R,!1),window.addEventListener("mouseup",P,!1),window.addEventListener("touchend",P,!1)}function R(t){let{pageX:e,pageY:r}=nh(t);e-=o.x,r-=o.y;const u=I+r-A,h=k+(e-T),{responsive:{valueW:d}}=i;let p=Math.round(h/s)+d;const{h:m=1,w:b=1}=i.min,{h:g,w:v=c-i.x+d}=i.max;p=Math.min(Math.max(p,b),v);let w=Math.round(u/y);g&&(w=Math.min(w,g)),w=Math.max(w,m),n(6,O={...O,w:p,h:w});let _=f[a];n(0,f[a]={..._,resize:{resizing:!0,width:h,height:u},w:p,h:w},f),l||D()}function P(t){t.stopPropagation();let e=f[a];n(0,f[a]={...e,resize:{resizing:!1,width:0,height:0}},f),window.removeEventListener("mousemove",R,!1),window.removeEventListener("touchmove",R,!1),window.removeEventListener("mouseup",P,!1),window.removeEventListener("touchend",P,!1),n(6,O={...O,w:0,h:0,x:0,y:0,active:!1,id:null,responsive:{valueW:0},min:{},max:{}}),z("up"),n(4,i=void 0),l=!1}Object(x.e)(()=>{o=r.getBoundingClientRect();let t=ih(g,j(),d,w);c=t,u=document.documentElement.clientWidth,g&&n(0,f=ah(f,t)),n(5,s=o.width/t),S("mount",{cols:t,xPerPx:s,yPerPx:y})});let L=0,N=0;const D=th(z,p);let B={};function $(t,e){e.stopPropagation();let{pageX:r,pageY:s}=nh(e);const{item:u,index:l}=ch(t,f);a=l,n(4,i=u),B={...u},n(6,O={...O,...u,active:!0});let p,m,{currentTarget:b}=e;if(h){const{x:t,y:e}=eh(b.style.transform);p=t,m=e}else p=b.offsetLeft,m=b.offsetTop;r-=o.x,s-=o.y,L=r-p,N=s-m,c=ih(g,j(),d,w),u?(window.addEventListener("mousemove",F,!1),window.addEventListener("touchmove",F,!1),window.addEventListener("mouseup",U,!1),window.addEventListener("touchend",U,!1)):console.warn("Can not get item")}function F(t){t.stopPropagation();let{pageX:e,pageY:r}=nh(t);const u=r-o.y,l=e-o.x;let h=Math.round((l-L)/s),d=Math.round((u-N)/y);h=Math.max(Math.min(h,c-(i.w-i.responsive.valueW)),0),d=Math.max(d,0);let p=f[a];n(0,f[a]={...p,drag:{dragging:!0,top:u-N,left:l-L},x:h,y:d},f),n(6,O={...O,x:h,y:d}),D()}function U(t){window.removeEventListener("mousemove",F,!1),window.removeEventListener("touchmove",F,!1),window.removeEventListener("mouseup",U,!1),window.removeEventListener("touchend",U,!1);let e=f[a];n(0,f[a]={...e,drag:{dragging:!1,top:0,left:0}},f),L=0,N=0,n(6,O={...O,w:0,h:0,x:0,y:0,active:!1,id:null}),z("up"),n(4,i=void 0)}function z(t){const e=f[a];let r=ih(g,j(),d,w),i=fh(e,f,r,B);v&&i.forEach(t=>{t.id!==e.id&&(i=i.map(e=>e.id===t.id?{...e,...uh(sh(i,[t.id],rh(i),r),t,i)}:e))}),n(0,f=i),S("adjust",{focuesdItem:e})}Object(x.a)(()=>{i||(n(7,E=dh(f,y)),d!==w&&o&&(n(5,s=o.width/d),w=d))});const H=["useTransform","items","cols","dragDebounceMs","gap","rowHeight","breakpoints","fillEmpty"];Object.keys(e).forEach(t=>{~H.indexOf(t)||"$$"===t.slice(0,2)||ph.warn(`<Src> was created with unknown prop '${t}'`)});let{$$slots:G={},$$scope:V}=e;return Object(_.lb)("Src",G,["default"]),t.$set=t=>{"useTransform"in t&&n(1,h=t.useTransform),"items"in t&&n(0,f=t.items),"cols"in t&&n(12,d=t.cols),"dragDebounceMs"in t&&n(13,p=t.dragDebounceMs),"gap"in t&&n(2,m=t.gap),"rowHeight"in t&&n(14,b=t.rowHeight),"breakpoints"in t&&n(15,g=t.breakpoints),"fillEmpty"in t&&n(16,v=t.fillEmpty),"$$scope"in t&&n(38,V=t.$$scope)},t.$capture_state=()=>({onMount:x.e,beforeUpdate:x.a,createEventDispatcher:x.b,resizeItems:ah,getItemById:ch,moveItem:fh,findFreeSpaceForItem:uh,getContainerHeight:dh,debounce:th,getRowsCount:rh,getColumnFromBreakpoints:ih,getCordinates:nh,getTranslate:eh,makeMatrixFromItemsIgnore:sh,useTransform:h,items:f,cols:d,dragDebounceMs:p,gap:m,rowHeight:b,breakpoints:g,fillEmpty:v,container:r,focuesdItem:i,bound:o,xPerPx:s,currentItemIndex:a,getComputedCols:c,documentWidth:u,resizeNoDynamicCalc:l,yPerPx:y,initCols:w,shadow:O,ch:E,dispatch:S,getDocWidth:j,onResize:M,resizeStartX:T,resizeStartY:A,resizeStartWidth:k,resizeStartHeight:I,resizeOnMouseDown:C,resizeOnMouseMove:R,resizeOnMouseUp:P,dragX:L,dragY:N,debounceRecalculateGridPosition:D,cacheItem:B,dragOnMouseDown:$,dragOnMove:F,dragOnMouseUp:U,recalculateGridPosition:z}),t.$inject_state=t=>{"useTransform"in t&&n(1,h=t.useTransform),"items"in t&&n(0,f=t.items),"cols"in t&&n(12,d=t.cols),"dragDebounceMs"in t&&n(13,p=t.dragDebounceMs),"gap"in t&&n(2,m=t.gap),"rowHeight"in t&&n(14,b=t.rowHeight),"breakpoints"in t&&n(15,g=t.breakpoints),"fillEmpty"in t&&n(16,v=t.fillEmpty),"container"in t&&n(3,r=t.container),"focuesdItem"in t&&n(4,i=t.focuesdItem),"bound"in t&&(o=t.bound),"xPerPx"in t&&n(5,s=t.xPerPx),"currentItemIndex"in t&&(a=t.currentItemIndex),"getComputedCols"in t&&(c=t.getComputedCols),"documentWidth"in t&&(u=t.documentWidth),"resizeNoDynamicCalc"in t&&(l=t.resizeNoDynamicCalc),"yPerPx"in t&&n(8,y=t.yPerPx),"initCols"in t&&(w=t.initCols),"shadow"in t&&n(6,O=t.shadow),"ch"in t&&n(7,E=t.ch),"resizeStartX"in t&&(T=t.resizeStartX),"resizeStartY"in t&&(A=t.resizeStartY),"resizeStartWidth"in t&&(k=t.resizeStartWidth),"resizeStartHeight"in t&&(I=t.resizeStartHeight),"dragX"in t&&(L=t.dragX),"dragY"in t&&(N=t.dragY),"cacheItem"in t&&(B=t.cacheItem)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[f,h,m,r,i,s,O,E,y,M,C,$,d,p,b,g,v,o,a,c,u,l,w,T,A,k,I,L,N,B,S,j,R,P,D,F,U,z,V,G,function(t){_.k[t?"unshift":"push"](()=>{n(3,r=t)})}]}class Sh extends _.a{constructor(t){super(t),Object(_.H)(this,t,Eh,Oh,_.T,{useTransform:1,items:0,cols:12,dragDebounceMs:13,gap:2,rowHeight:14,breakpoints:15,fillEmpty:16},[-1,-1]),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Src",options:t,id:Oh.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[15]||"breakpoints"in n||ph.warn("<Src> was created without expected prop 'breakpoints'")}get useTransform(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set useTransform(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get items(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set items(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cols(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cols(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get dragDebounceMs(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set dragDebounceMs(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get gap(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set gap(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get rowHeight(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set rowHeight(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get breakpoints(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set breakpoints(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get fillEmpty(){throw new Error("<Src>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fillEmpty(t){throw new Error("<Src>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var jh=Sh,Mh=n(83),Th=n.n(Mh),Ah=n(44);n(228);const{console:kh}=_.E,Ih="client/components/layouts/Dashboard.svelte";function Ch(t){let e,n,r,i,o,s,a;function c(...e){return t[17](t[19],...e)}const u=[t[19]];function l(...e){return t[18](t[19],...e)}var h=t[19].component;function f(t){let e={};for(let t=0;t<u.length;t+=1)e=Object(_.g)(e,u[t]);return{props:e,$$inline:!0}}if(h){var d=new h(f());d.$on("change",l)}const p={c:function(){e=Object(_.v)("span"),e.textContent="+",n=Object(_.ab)(),r=Object(_.v)("div"),i=Object(_.v)("span"),i.textContent="",o=Object(_.ab)(),d&&Object(_.o)(d.$$.fragment),Object(_.h)(e,"class","move svelte-d5pbx5"),Object(_.d)(e,Ih,119,4,3127),Object(_.h)(i,"class","close svelte-d5pbx5"),Object(_.d)(i,Ih,126,6,3595),Object(_.h)(r,"class","content svelte-d5pbx5"),Object(_.Z)(r,"background",t[19].static?"#bka":t[19].background),Object(_.Z)(r,"border",t[19].hasFocus?"1px solid rgba(100, 100, 100, 0.5)":"1px solid rgba(25, 25, 25, 1)"),Object(_.Z)(r,"border-width","1px 0px 0px 1px"),Object(_.d)(r,Ih,122,4,3308)},m:function(t,u,l){Object(_.I)(t,e,u),Object(_.I)(t,n,u),Object(_.I)(t,r,u),Object(_.f)(r,i),Object(_.f)(r,o),d&&Object(_.L)(d,r,null),s=!0,l&&Object(_.S)(a),a=[Object(_.K)(i,"click",c,!1,!1,!1),Object(_.K)(r,"mousedown",Ph,!1,!1,!1)]},p:function(e,n){t=e;const i=524288&n?Object(_.C)(u,[Object(_.B)(t[19])]):{};if(h!==(h=t[19].component)){if(d){Object(_.F)();const t=d;Object(_.hb)(t.$$.fragment,1,0,()=>{Object(_.r)(t,1)}),Object(_.l)()}h?((d=new h(f())).$on("change",l),Object(_.o)(d.$$.fragment),Object(_.gb)(d.$$.fragment,1),Object(_.L)(d,r,null)):d=null}else h&&d.$set(i);(!s||524288&n)&&Object(_.Z)(r,"background",t[19].static?"#bka":t[19].background),(!s||524288&n)&&Object(_.Z)(r,"border",t[19].hasFocus?"1px solid rgba(100, 100, 100, 0.5)":"1px solid rgba(25, 25, 25, 1)")},i:function(t){s||(d&&Object(_.gb)(d.$$.fragment,t),s=!0)},o:function(t){d&&Object(_.hb)(d.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),t&&Object(_.t)(r),d&&Object(_.r)(d),Object(_.S)(a)}};return Object(_.u)("SvelteRegisterBlock",{block:p,id:Ch.name,type:"slot",source:"(109:2) <Grid items={$items}         {breakpoints}         {cols}         {rowHeight}         {gap}         useTransform         let:item         on:adjust={onAdjust}         on:mount={onChildMount}         >",ctx:t}),p}function Rh(t){let e,n;const r=new jh({props:{items:t[5],breakpoints:t[2],cols:t[1],rowHeight:t[3],gap:t[4],useTransform:!0,$$slots:{default:[Ch,({item:t})=>({19:t}),({item:t})=>t?524288:0]},$$scope:{ctx:t}},$$inline:!0});r.$on("adjust",t[6]),r.$on("mount",t[7]);const i={c:function(){e=Object(_.v)("div"),Object(_.o)(r.$$.fragment),Object(_.h)(e,"class","layout-template-container scrollable svelte-d5pbx5"),Object(_.d)(e,Ih,106,0,2804)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,i){Object(_.I)(t,e,i),Object(_.L)(r,e,null),n=!0},p:function(t,[e]){const n={};32&e&&(n.items=t[5]),4&e&&(n.breakpoints=t[2]),2&e&&(n.cols=t[1]),8&e&&(n.rowHeight=t[3]),16&e&&(n.gap=t[4]),1572864&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i:function(t){n||(Object(_.gb)(r.$$.fragment,t),n=!0)},o:function(t){Object(_.hb)(r.$$.fragment,t),n=!1},d:function(t){t&&Object(_.t)(e),Object(_.r)(r)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Rh.name,type:"component",source:"",ctx:t}),i}const Ph=t=>t.stopPropagation();function Lh(t,e,n){let r,i=_.M,o=()=>(i(),i=Object(_.bb)(c,t=>n(5,r=t)),c);t.$$.on_destroy.push(()=>i());const s=Object(x.b)(),a=new q.a;let{items:c}=e;Object(_.mb)(c,"items"),o();let{cols:u}=e,{breakpoints:l}=e,{rowHeight:h}=e,{gap:f}=e;const d=["liveCodeEditor","modelEditor","grammarEditor","liveCodeParseOutput","grammarCompileOutput","analyser","sequencer"],p=()=>d[Math.floor(Math.random()*d.length)],m=["monokai","cobalt","icecoder","shadowfox"],b=()=>d[Math.floor(Math.random()*m.length)];function g(t){return Th()(new Array(5),(function(e,n){const r=Math.ceil(3*Math.random())+2,i=Math.ceil(4*Math.random())+1,o=M();return{...Ts.item({x:2*n%t,y:Math.floor(n/6)*i,w:r,h:i,id:o,name:o,type:p()}),data:A()}}))}const v=t=>{c.set(r)},y=t=>{},w=(t,e,n)=>{s("update",{item:t,prop:e,value:n})},O=t=>{"analyser"===t.type&&a.publish("remove-engine-analyser",{id:t.id}),a.publish("plaground-item-deletion",t.type),O.bind(null,t),delete t.component,Object(_.Y)(c,r=r.filter(e=>e.id!==t.id)),console.log("DEBUG:dashboard:remove:"),console.log(r)},E=["items","cols","breakpoints","rowHeight","gap"];Object.keys(e).forEach(t=>{~E.indexOf(t)||"$$"===t.slice(0,2)||kh.warn(`<Dashboard> was created with unknown prop '${t}'`)});let{$$slots:S={},$$scope:j}=e;Object(_.lb)("Dashboard",S,[]);return t.$set=t=>{"items"in t&&o(n(0,c=t.items)),"cols"in t&&n(1,u=t.cols),"breakpoints"in t&&n(2,l=t.breakpoints),"rowHeight"in t&&n(3,h=t.rowHeight),"gap"in t&&n(4,f=t.gap)},t.$capture_state=()=>({onMount:x.e,createEventDispatcher:x.b,get:_.D,Grid:jh,gridHelp:Ts,map:Th.a,id:M,random:T,randomHexColorCode:A,PubSub:q.a,copyToPasteBuffer:Ah.a,dispatch:s,messaging:a,items:c,cols:u,breakpoints:l,rowHeight:h,gap:f,types:d,itype:p,themes:m,itheme:b,generateLayout:g,onAdjust:v,onChildMount:y,update:w,remove:O,$items:r}),t.$inject_state=t=>{"items"in t&&o(n(0,c=t.items)),"cols"in t&&n(1,u=t.cols),"breakpoints"in t&&n(2,l=t.breakpoints),"rowHeight"in t&&n(3,h=t.rowHeight),"gap"in t&&n(4,f=t.gap)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,u,l,h,f,r,v,y,w,O,s,a,d,p,m,b,g,t=>O(t),(t,e)=>w(t,e.detail.prop,e.detail.value)]}class Nh extends _.a{constructor(t){super(t),Object(_.H)(this,t,Lh,Rh,_.T,{items:0,cols:1,breakpoints:2,rowHeight:3,gap:4}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Dashboard",options:t,id:Rh.name});const{ctx:e}=this.$$,n=t.props||{};void 0!==e[0]||"items"in n||kh.warn("<Dashboard> was created without expected prop 'items'"),void 0!==e[1]||"cols"in n||kh.warn("<Dashboard> was created without expected prop 'cols'"),void 0!==e[2]||"breakpoints"in n||kh.warn("<Dashboard> was created without expected prop 'breakpoints'"),void 0!==e[3]||"rowHeight"in n||kh.warn("<Dashboard> was created without expected prop 'rowHeight'"),void 0!==e[4]||"gap"in n||kh.warn("<Dashboard> was created without expected prop 'gap'")}get items(){throw new Error("<Dashboard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set items(t){throw new Error("<Dashboard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get cols(){throw new Error("<Dashboard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set cols(t){throw new Error("<Dashboard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get breakpoints(){throw new Error("<Dashboard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set breakpoints(t){throw new Error("<Dashboard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get rowHeight(){throw new Error("<Dashboard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set rowHeight(t){throw new Error("<Dashboard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get gap(){throw new Error("<Dashboard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set gap(t){throw new Error("<Dashboard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Dh=Nh;n(381);const{Object:Bh,console:$h}=_.E;function Fh(t){let e,n,r,i,o,s;const a=new Ql({$$inline:!0}),c=new Dh({props:{items:ea,breakpoints:t[1],cols:t[0],rowHeight:t[2],gap:t[3]},$$inline:!0});c.$on("update",t[21]);const u={c:function(){e=Object(_.ab)(),n=Object(_.v)("div"),r=Object(_.v)("div"),Object(_.o)(a.$$.fragment),i=Object(_.ab)(),o=Object(_.v)("div"),Object(_.o)(c.$$.fragment),document.title="Sema  Playground",Object(_.h)(r,"class","sidebar-container svelte-i8gtuv"),Object(_.d)(r,"client/routes/playground.svelte",264,2,7837),Object(_.h)(o,"class","dashboard-container scrollable svelte-i8gtuv"),Object(_.d)(o,"client/routes/playground.svelte",267,2,7896),Object(_.h)(n,"class","container svelte-i8gtuv"),Object(_.d)(n,"client/routes/playground.svelte",263,0,7811)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,u){Object(_.I)(t,e,u),Object(_.I)(t,n,u),Object(_.f)(n,r),Object(_.L)(a,r,null),Object(_.f)(n,i),Object(_.f)(n,o),Object(_.L)(c,o,null),s=!0},p:_.M,i:function(t){s||(Object(_.gb)(a.$$.fragment,t),Object(_.gb)(c.$$.fragment,t),s=!0)},o:function(t){Object(_.hb)(a.$$.fragment,t),Object(_.hb)(c.$$.fragment,t),s=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),Object(_.r)(a),Object(_.r)(c)}};return Object(_.u)("SvelteRegisterBlock",{block:u,id:Fh.name,type:"component",source:"",ctx:t}),u}function Uh(t,e,r){let i,o,s;Object(_.mb)(na,"focusedItem"),Object(_.m)(t,na,t=>r(10,i=t)),Object(_.mb)(ra,"focusedItemProperties"),Object(_.m)(t,ra,t=>r(11,o=t)),Object(_.mb)(ea,"items"),Object(_.m)(t,ea,t=>r(12,s=t));const a=new q.a,c=n(229),u=new c({});let l,h,f,d,p,m=15,b=[[1e3,10],[700,5],[500,3],[400,1]],g=100,v=1;const y=t=>{if(t)try{let e=[];"liveCodeEditor"===t.type||"grammarEditor"===t.type||"modelEditor"===t.type?(e=[{lineNumbers:t.lineNumbers},{theme:t.theme}],"liveCodeEditor"===t.type&&e.push({grammar:t.grammar}),"modelEditor"===t.type&&e.push({restart:!0})):"analyser"===t.type&&e.push({mode:t.mode}),t.hasFocus=!0,Object(_.Y)(na,i=t),Object(_.Y)(ra,o=e),Object(_.Y)(ea,s=s.map(e=>e===t?{...e,hasFocus:!0}:{...e,hasFocus:!1}))}catch(t){console.error("Error Playground.setFocused: setting item focuses")}else console.error("Error Playground.setFocused: setting item focuses: empty item")},w=async(t,e)=>{if(void 0!==t)try{let n=await Qs(t,e);await wa(n),await _a(n),xa(n),y(n);let r=Ts.findSpaceForItem(n,s,m);Object(_.Y)(ea,s=[...s,{...n,...r}])}catch(t){console.error("Error on routes/Playground.addItem",t)}else console.error("Error on routes/Playground.addItem: undefined parameter")},O=t=>{if(t.detail.item&&t.detail.prop)try{if("data"===t.detail.prop){switch(t.detail.item.type){case"liveCodeEditor":localStorage.liveCodeEditorValue=t.detail.value;break;case"grammarEditor":localStorage.grammarEditorValue=t.detail.value;break;case"modelEditor":localStorage.modelEditorValue=t.detail.value}Object(_.Y)(ea,s=s.map(e=>e===t.detail.item?{...e,[t.detail.prop]:t.detail.value}:e))}else y(t.detail.item)}catch(t){console.error("Error on routes/Playground.update: updating Playground items",t)}},E=()=>{Object(_.Y)(ea,s=s.slice(s.length)),ia()},S=t=>{"local"==t.storage?localStorage.setItem("env--"+t.name,ea.get()):(copyToPasteBuffer(ea.get()),console.log("DEBUG:saveEnvironment: Environment copied to the paste buffer"))},M=t=>{if(E(),"local"===t.storage){let e=localStorage.getItem("env--"+t.name);if(e){let t=JSON.parse(e).map(t=>ta(t));ea.set(t),ea.update(t=>Ts.resizeItems(t,4,100))}}else u.get("/gists/"+t.name).then(t=>{t.body.files[Object.keys(t.body.files)[0]].content}).catch(console.error)};Object(x.e)(async()=>{for(const t of s)await wa(t);for(const t of s)await _a(t);for(const t of s)xa(t);l=a.subscribe("playground-add",t=>w(t.type,t.data)),h=a.subscribe("playground-env-save",t=>S(t)),f=a.subscribe("playground-env-load",t=>M(t)),d=a.subscribe("playground-reset",t=>E()),p=ea.subscribe(t=>{})}),Object(x.d)(()=>{a.unsubscribe(l),a.unsubscribe(h),a.unsubscribe(f),a.unsubscribe(d),p(),Oa()});const T=[];Bh.keys(e).forEach(t=>{~T.indexOf(t)||"$$"===t.slice(0,2)||$h.warn(`<Playground> was created with unknown prop '${t}'`)});let{$$slots:A={},$$scope:k}=e;Object(_.lb)("Playground",A,[]);return t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,PubSub:q.a,gridHelp:Ts,compile:j.a,Sidebar:Ql,Dashboard:Dh,fetchFrom:R,createNewItem:Qs,clearFocused:ia,hydrateJSONcomponent:ta,focusedItem:na,focusedItemProperties:ra,items:ea,updateItemPropsWithFetchedValues:wa,populateCommonStoresWithFetchedProps:_a,updateItemPropsWithCommonStoreValues:xa,resetStores:Oa,messaging:a,GitHubBase:c,github:u,cols:m,breakpoints:b,rowHeight:g,gap:v,addSubscriptionToken:l,envSaveSubscriptionToken:h,envLoadSubscriptionToken:f,resetSubscriptionToken:d,unsubscribeItemsChangeCallback:p,setFocused:y,addItem:w,update:O,clearItems:E,saveEnvironment:S,loadEnvironment:M,$focusedItem:i,$focusedItemProperties:o,$items:s}),t.$inject_state=t=>{"cols"in t&&r(0,m=t.cols),"breakpoints"in t&&r(1,b=t.breakpoints),"rowHeight"in t&&r(2,g=t.rowHeight),"gap"in t&&r(3,v=t.gap),"addSubscriptionToken"in t&&(l=t.addSubscriptionToken),"envSaveSubscriptionToken"in t&&(h=t.envSaveSubscriptionToken),"envLoadSubscriptionToken"in t&&(f=t.envLoadSubscriptionToken),"resetSubscriptionToken"in t&&(d=t.resetSubscriptionToken),"unsubscribeItemsChangeCallback"in t&&(p=t.unsubscribeItemsChangeCallback)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[m,b,g,v,O,l,h,f,d,p,i,o,s,a,c,u,y,w,E,S,M,t=>O(t)]}class zh extends _.a{constructor(t){super(t),Object(_.H)(this,t,Uh,Fh,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Playground",options:t,id:Fh.name})}}var Hh=zh,Gh=n(11),Vh=n.n(Gh);n(384);const{console:qh}=_.E;function Wh(t){let e,n;const r={c:function(){e=Object(_.v)("div"),n=Object(_.v)("div"),Object(_.h)(n,"class","markdown-output svelte-o8tyqx"),Object(_.d)(n,"client/components/tutorial/Markdown.svelte",96,2,1269),Object(_.h)(e,"class","markdown-container svelte-o8tyqx"),Object(_.d)(e,"client/components/tutorial/Markdown.svelte",95,0,1234)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,i){Object(_.I)(r,e,i),Object(_.f)(e,n),n.innerHTML=t[0]},p:_.M,i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Wh.name,type:"component",source:"",ctx:t}),r}function Kh(t,e,n){let r="\n# H1 heading\n\n## H2 heading\n\n### H3 heading\n\n---\n\n**bold text**\n\n*italicized text*\n\n---\n\n1. First item\n2. Second item\n3. Third item\n\n- First item\n- Second item\n- Third item\n\n[Sema](https://sema.codes/)\n# H1 heading\n\n## H2 heading\n\n### H3 heading\n\n---\n\n**bold text**\n\n*italicized text*\n\n---\n\n1. First item\n2. Second item\n3. Third item\n\n- First item\n- Second item\n- Third item\n\n[Sema](https://sema.codes/)\n\n\n",i=new Vh.a.Renderer;i.link=function(t,e,n){let r=Vh.a.Renderer.prototype.link.apply(this,arguments);return r.replace("<a","<a target='_blank'")},Vh.a.setOptions({renderer:i});let o=Vh()(r);console.log(o);const s=[];Object.keys(e).forEach(t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||qh.warn(`<Markdown> was created with unknown prop '${t}'`)});let{$$slots:a={},$$scope:c}=e;return Object(_.lb)("Markdown",a,[]),t.$capture_state=()=>({marked:Vh.a,source:r,renderer:i,markdown:o}),t.$inject_state=t=>{"source"in t&&(r=t.source),"renderer"in t&&(i=t.renderer),"markdown"in t&&n(0,o=t.markdown)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o]}class Yh extends _.a{constructor(t){super(t),Object(_.H)(this,t,Kh,Wh,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Markdown",options:t,id:Wh.name})}}var Xh=Yh;n(385);const{console:Zh}=_.E,Jh="client/routes/tutorial/_layout.svelte",Qh=t=>({scoped:1&t}),tf=t=>({scoped:t[0]});function ef(t,e,n){const r=t.slice();return r[15]=e[n],r[14]=n,r}function nf(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function rf(t){let e,n=t[1];Object(_.jb)(n);let r=[];for(let e=0;e<n.length;e+=1)r[e]=af(nf(t,n,e));const i={c:function(){for(let t=0;t<r.length;t+=1)r[t].c();e=Object(_.w)()},m:function(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);Object(_.I)(t,e,n)},p:function(t,i){if(2&i){let o;for(n=t[1],Object(_.jb)(n),o=0;o<n.length;o+=1){const s=nf(t,n,o);r[o]?r[o].p(s,i):(r[o]=af(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Object(_.s)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:rf.name,type:"if",source:"(77:10) {#if $tutorials !== undefined}",ctx:t}),i}function of(t){let e,n=t[12].sections;Object(_.jb)(n);let r=[];for(let e=0;e<n.length;e+=1)r[e]=sf(ef(t,n,e));const i={c:function(){for(let t=0;t<r.length;t+=1)r[t].c();e=Object(_.w)()},m:function(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);Object(_.I)(t,e,n)},p:function(t,i){if(2&i){let o;for(n=t[12].sections,Object(_.jb)(n),o=0;o<n.length;o+=1){const s=ef(t,n,o);r[o]?r[o].p(s,i):(r[o]=sf(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Object(_.s)(r,t),t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:of.name,type:"if",source:"(80:16) {#if chapter.sections !== undefined}",ctx:t}),i}function sf(t){let e,n,r,i=t[15].title+"";const o={c:function(){e=Object(_.v)("option"),n=Object(_.db)(i),e.__value=r=t[15],e.value=e.__value,Object(_.d)(e,Jh,82,20,2316)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,o){2&o&&i!==(i=t[15].title+"")&&Object(_.X)(n,i),2&o&&r!==(r=t[15])&&Object(_.R)(e,"__value",r),e.value=e.__value},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:o,id:sf.name,type:"each",source:"(81:18) {#each chapter.sections as section, i}",ctx:t}),o}function af(t){let e,n,r=void 0!==t[12].sections&&of(t);const i={c:function(){e=Object(_.v)("optgroup"),r&&r.c(),Object(_.h)(e,"label",n=t[14]+1+". "+t[12].title),Object(_.h)(e,"class","svelte-1wingo5"),Object(_.d)(e,Jh,78,14,2033)},m:function(t,n){Object(_.I)(t,e,n),r&&r.m(e,null)},p:function(t,i){void 0!==t[12].sections?r?r.p(t,i):(r=of(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null),2&i&&n!==(n=t[14]+1+". "+t[12].title)&&Object(_.h)(e,"label",n)},d:function(t){t&&Object(_.t)(e),r&&r.d()}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:af.name,type:"each",source:"(78:12) {#each $tutorials as chapter, i}",ctx:t}),i}function cf(t){const e={c:_.M,m:_.M,d:_.M};return Object(_.u)("SvelteRegisterBlock",{block:e,id:cf.name,type:"fallback",source:"(99:33)        ",ctx:t}),e}function uf(t){let e,n,r,i,o,s,a,c,u,l,h,f,d,p,m,b,g=void 0!==t[1]&&rf(t);const v=t[9].default,y=Object(_.p)(v,t,t[8],tf),w=y||cf(t),x=new Dh({props:{items:Yu,breakpoints:t[3],cols:t[2],rowHeight:t[4],gap:t[5]},$$inline:!0}),O={c:function(){e=Object(_.ab)(),n=Object(_.v)("div"),r=Object(_.v)("div"),i=Object(_.v)("div"),o=Object(_.v)("div"),s=Object(_.v)("button"),s.textContent="",a=Object(_.ab)(),c=Object(_.v)("div"),u=Object(_.v)("select"),g&&g.c(),l=Object(_.ab)(),h=Object(_.v)("button"),h.textContent="",f=Object(_.ab)(),w&&w.c(),d=Object(_.ab)(),p=Object(_.v)("div"),Object(_.o)(x.$$.fragment),document.title="Sema  Tutorial",Object(_.h)(s,"class","button-dark left svelte-1wingo5"),Object(_.d)(s,Jh,67,8,1699),Object(_.h)(u,"class","svelte-1wingo5"),void 0===t[0]&&Object(_.e)(()=>t[10].call(u)),Object(_.d)(u,Jh,72,8,1815),Object(_.h)(c,"class","combobox-dark middle svelte-1wingo5"),Object(_.d)(c,Jh,71,8,1772),Object(_.h)(h,"class","button-dark right svelte-1wingo5"),Object(_.d)(h,Jh,91,8,2517),Object(_.h)(o,"class","tutorial-navigator svelte-1wingo5"),Object(_.d)(o,Jh,66,6,1658),Object(_.h)(i,"class","sidebar"),Object(_.d)(i,Jh,64,4,1629),Object(_.h)(r,"class","sidebar-container svelte-1wingo5"),Object(_.d)(r,Jh,63,2,1593),Object(_.h)(p,"class","dashboard-container svelte-1wingo5"),Object(_.d)(p,Jh,103,2,2696),Object(_.h)(n,"class","container svelte-1wingo5"),Object(_.d)(n,Jh,62,0,1567)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(v,y,O){Object(_.I)(v,e,y),Object(_.I)(v,n,y),Object(_.f)(n,r),Object(_.f)(r,i),Object(_.f)(i,o),Object(_.f)(o,s),Object(_.f)(o,a),Object(_.f)(o,c),Object(_.f)(c,u),g&&g.m(u,null),Object(_.U)(u,t[0]),Object(_.f)(o,l),Object(_.f)(o,h),Object(_.f)(i,f),w&&w.m(i,null),Object(_.f)(n,d),Object(_.f)(n,p),Object(_.L)(x,p,null),m=!0,O&&Object(_.S)(b),b=[Object(_.K)(u,"change",t[10]),Object(_.K)(u,"change",t[11],!1,!1,!1)]},p:function(t,[e]){void 0!==t[1]?g?g.p(t,e):(g=rf(t),g.c(),g.m(u,null)):g&&(g.d(1),g=null),1&e&&Object(_.U)(u,t[0]),y&&y.p&&257&e&&y.p(Object(_.A)(v,t,t[8],tf),Object(_.z)(v,t[8],e,Qh))},i:function(t){m||(Object(_.gb)(w,t),Object(_.gb)(x.$$.fragment,t),m=!0)},o:function(t){Object(_.hb)(w,t),Object(_.hb)(x.$$.fragment,t),m=!1},d:function(t){t&&Object(_.t)(e),t&&Object(_.t)(n),g&&g.d(),w&&w.d(t),Object(_.r)(x),Object(_.S)(b)}};return Object(_.u)("SvelteRegisterBlock",{block:O,id:uf.name,type:"component",source:"",ctx:t}),O}function lf(t,e,n){let r,i,o;Object(_.mb)(gc,"goto"),Object(_.m)(t,gc,t=>n(7,r=t)),Object(_.mb)(Ku,"selected"),Object(_.m)(t,Ku,t=>n(0,i=t)),Object(_.mb)(Wu,"tutorials"),Object(_.m)(t,Wu,t=>n(1,o=t));let s=15,a=[[1e3,10],[700,5],[500,3],[400,1]],c=100,u=1,l=t=>{try{r(`/tutorial/${i.chapter_dir}/${i.section_dir}/`)}catch(t){console.error("Error Selecting and loading tutorial environment",t)}};Object(x.e)(async()=>{}),Object(x.d)(()=>{});const h=[];Object.keys(e).forEach(t=>{~h.indexOf(t)||"$$"===t.slice(0,2)||Zh.warn(`<Layout> was created with unknown prop '${t}'`)});let{$$slots:f={},$$scope:d}=e;Object(_.lb)("Layout",f,["default"]);return t.$set=t=>{"$$scope"in t&&n(8,d=t.$$scope)},t.$capture_state=()=>({onMount:x.e,onDestroy:x.d,tick:x.g,Dashboard:Dh,Markdown:Xh,goto:gc,ready:hc,url:bc,params:mc,tutorials:Wu,selected:Ku,items:Yu,hydrateJSONcomponent:qu,populateStoresWithFetchedProps:Vu,populateCommonStoresWithFetchedProps:_a,updateItemPropsWithCommonStoreValues:xa,resetStores:Oa,cols:s,breakpoints:a,rowHeight:c,gap:u,handleSelect:l,$goto:r,$selected:i,$tutorials:o}),t.$inject_state=t=>{"cols"in t&&n(2,s=t.cols),"breakpoints"in t&&n(3,a=t.breakpoints),"rowHeight"in t&&n(4,c=t.rowHeight),"gap"in t&&n(5,u=t.gap),"handleSelect"in t&&n(6,l=t.handleSelect)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,o,s,a,c,u,l,r,d,f,function(){i=Object(_.V)(this),Ku.set(i)},t=>l(t)]}class hf extends _.a{constructor(t){super(t),Object(_.H)(this,t,lf,uf,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Layout",options:t,id:uf.name})}}var ff=hf;n(386);const{console:df}=_.E,pf="client/routes/tutorial/[chapter]/[section]/index.svelte";function mf(t){let e,n,r=t[7].message+"";const i={c:function(){e=Object(_.v)("p"),n=Object(_.db)(r),Object(_.Z)(e,"color","red"),Object(_.d)(e,pf,140,1,4488)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){2&e&&r!==(r=t[7].message+"")&&Object(_.X)(n,r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:mf.name,type:"catch",source:"(140:0) {:catch error}",ctx:t}),i}function bf(t){let e;const n={c:function(){e=Object(_.v)("div"),Object(_.h)(e,"class","markdown-output svelte-nepwmq"),Object(_.d)(e,pf,138,2,4420)},m:function(n,r){Object(_.I)(n,e,r),e.innerHTML=t[0]},p:function(t,n){1&n&&(e.innerHTML=t[0])},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:bf.name,type:"then",source:"(138:0) {:then number}",ctx:t}),n}function gf(t){let e;const n={c:function(){e=Object(_.v)("p"),e.textContent="...waiting",Object(_.d)(e,pf,136,1,4385)},m:function(t,n){Object(_.I)(t,e,n)},p:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:gf.name,type:"pending",source:"(136:16)   <p>...waiting</p> {:then number}",ctx:t}),n}function vf(t){let e,n,r={ctx:t,current:null,token:null,pending:gf,then:bf,catch:mf,value:6,error:7};Object(_.G)(n=t[1],r);const i={c:function(){e=Object(_.v)("div"),r.block.c(),Object(_.h)(e,"class","markdown-container svelte-nepwmq"),Object(_.d)(e,pf,134,0,4334)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){Object(_.I)(t,e,n),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null},p:function(e,[i]){if(t=e,r.ctx=t,2&i&&n!==(n=t[1])&&Object(_.G)(n,r));else{const e=t.slice();e[6]=r.resolved,r.block.p(e,i)}},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),r.block.d(),r.token=null,r=null}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:vf.name,type:"component",source:"",ctx:t}),i}function yf(t,e,n){let r,i;Object(_.mb)(mc,"params"),Object(_.m)(t,mc,t=>n(3,r=t)),Object(_.mb)(Yu,"items"),Object(_.m)(t,Yu,t=>n(4,i=t));let o,s=new Vh.a.Renderer;s.link=function(t,e,n){let r=Vh.a.Renderer.prototype.link.apply(this,arguments);return r.replace("<a","<a target='_blank'")},Vh.a.setOptions({renderer:s});let a=async(t,e)=>{if(void 0!==t&&void 0!==e){let s,a;try{s=await fetch(`/tutorial/${t}/${e}/index.md`),a=await s.text();let n=await fetch(`/tutorial/${r.chapter}/${r.section}/layout.json`).then(t=>t.json());Object(_.Y)(Yu,i=n.map(t=>qu(t)));for(const t of i)await wa(t),await _a(t),xa(t)}catch(t){console.error("Error loading tutorial environment",t)}if(s.ok){n(0,o=Vh()(a));let t=0;for(;o.indexOf("<pre><code>")>-1;)n(0,o=o.replace("<pre><code>",`<pre style="margin-top:-25px">\n              <button style="font-size:70%; text-align: center; float: right; z-index: 1000; top: 30px; position: relative;" type="button" onclick="copyCode('code${t}')">copy</button>\n              <code style="-moz-user-select: text; -html-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;" id='code${t++}'>`))}else console.error("Error on markdown conversion",error)}};Object(x.e)(async()=>{for(const t of i)await _a(t);console.log(`DEBUG:tutorial/${r.chapter}/${r.section}/ index`)}),Object(x.d)(()=>{Oa()});const c=[];Object.keys(e).forEach(t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||df.warn(`<U5Bsectionu5D> was created with unknown prop '${t}'`)});let u,{$$slots:l={},$$scope:h}=e;return Object(_.lb)("U5Bsectionu5D",l,[]),t.$capture_state=()=>({tick:x.g,onMount:x.e,onDestroy:x.d,url:bc,params:mc,marked:Vh.a,hydrateJSONcomponent:qu,selected:Ku,items:Yu,updateItemPropsWithFetchedValues:wa,populateCommonStoresWithFetchedProps:_a,updateItemPropsWithCommonStoreValues:xa,resetStores:Oa,renderer:s,markdown:o,fetchMarkdown:a,promise:u,$params:r,$items:i}),t.$inject_state=t=>{"renderer"in t&&(s=t.renderer),"markdown"in t&&n(0,o=t.markdown),"fetchMarkdown"in t&&n(5,a=t.fetchMarkdown),"promise"in t&&n(1,u=t.promise)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{8&t.$$.dirty&&n(1,u=a(r.chapter,r.section))},[o,u]}class wf extends _.a{constructor(t){super(t),Object(_.H)(this,t,yf,vf,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"U5Bsectionu5D",options:t,id:vf.name})}}var _f=wf;n(387);const{Error:xf,console:Of}=_.E;function Ef(t){let e,n,r=t[5].message+"";const i={c:function(){e=Object(_.v)("p"),n=Object(_.db)(r),Object(_.Z)(e,"color","red"),Object(_.d)(e,"client/routes/tutorial/index.svelte",71,1,1776)},m:function(t,r){Object(_.I)(t,e,r),Object(_.f)(e,n)},p:function(t,e){2&e&&r!==(r=t[5].message+"")&&Object(_.X)(n,r)},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Ef.name,type:"catch",source:"(71:0) {:catch error}",ctx:t}),i}function Sf(t){let e;const n={c:function(){e=Object(_.v)("div"),Object(_.h)(e,"class","markdown-output svelte-1qak7ht"),Object(_.d)(e,"client/routes/tutorial/index.svelte",69,2,1708)},m:function(n,r){Object(_.I)(n,e,r),e.innerHTML=t[0]},p:function(t,n){1&n&&(e.innerHTML=t[0])},d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:Sf.name,type:"then",source:"(69:0) {:then number}",ctx:t}),n}function jf(t){let e;const n={c:function(){e=Object(_.v)("p"),e.textContent="...waiting",Object(_.d)(e,"client/routes/tutorial/index.svelte",67,1,1673)},m:function(t,n){Object(_.I)(t,e,n)},p:_.M,d:function(t){t&&Object(_.t)(e)}};return Object(_.u)("SvelteRegisterBlock",{block:n,id:jf.name,type:"pending",source:"(67:16)   <p>...waiting</p> {:then number}",ctx:t}),n}function Mf(t){let e,n,r={ctx:t,current:null,token:null,pending:jf,then:Sf,catch:Ef,value:4,error:5};Object(_.G)(n=t[1],r);const i={c:function(){e=Object(_.v)("div"),r.block.c(),Object(_.h)(e,"class","markdown-container svelte-1qak7ht"),Object(_.d)(e,"client/routes/tutorial/index.svelte",65,0,1622)},l:function(t){throw new xf("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){Object(_.I)(t,e,n),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null},p:function(e,[i]){if(t=e,r.ctx=t,2&i&&n!==(n=t[1])&&Object(_.G)(n,r));else{const e=t.slice();e[4]=r.resolved,r.block.p(e,i)}},i:_.M,o:_.M,d:function(t){t&&Object(_.t)(e),r.block.d(),r.token=null,r=null}};return Object(_.u)("SvelteRegisterBlock",{block:i,id:Mf.name,type:"component",source:"",ctx:t}),i}async function Tf(){return await fetch("/tutorial/01-basics/01-introduction/").then(t=>t.json())}function Af(t,e,n){let r,i;Object(_.mb)(Ku,"selected"),Object(_.m)(t,Ku,t=>n(2,r=t));let o,s=async(t,e)=>{if(null!=t&&null!=e){const r=await fetch(`/tutorial/${t}/${e}/index.md`),o=await r.text();if(!r.ok)throw new Error(o);n(0,i=Vh()(o))}};Object(x.e)(async()=>{console.log("DEBUG:tutorial:index"),n(1,o=s(r.chapter_dir,r.section_dir))});const a=[];Object.keys(e).forEach(t=>{~a.indexOf(t)||"$$"===t.slice(0,2)||Of.warn(`<Tutorial> was created with unknown prop '${t}'`)});let{$$slots:c={},$$scope:u}=e;return Object(_.lb)("Tutorial",c,[]),t.$capture_state=()=>({preload:Tf,tick:x.g,onMount:x.e,url:bc,params:mc,marked:Vh.a,tutorials:Wu,selected:Ku,markdown:i,fetchMarkdown:s,promise:o,$selected:r}),t.$inject_state=t=>{"markdown"in t&&n(0,i=t.markdown),"fetchMarkdown"in t&&(s=t.fetchMarkdown),"promise"in t&&n(1,o=t.promise)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[i,o]}class kf extends _.a{constructor(t){super(t),Object(_.H)(this,t,Af,Mf,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"Tutorial",options:t,id:Mf.name})}}var If=kf;const Cf={name:"root",filepath:"/",root:!0,ownMeta:{},absolutePath:"./client/routes/",children:[{isFile:!0,isDir:!1,ext:"svelte",isLayout:!0,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/",id:"__layout",component:()=>nl},{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/about",id:"_about",component:()=>sl},{isFile:!1,isDir:!0,ext:"",children:[{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/blog/:slug",id:"_blog__slug",component:()=>hl},{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!0,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/blog/index",id:"_blog_index",component:()=>yl}],isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/blog"},{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!0,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/index",id:"_index",component:()=>kl},{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/playground",id:"_playground",component:()=>Hh},{isFile:!1,isDir:!0,ext:"",children:[{isFile:!0,isDir:!1,ext:"svelte",isLayout:!0,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial",id:"_tutorial__layout",component:()=>ff},{isFile:!1,isDir:!0,ext:"",children:[{isFile:!1,isDir:!0,ext:"",children:[{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!0,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial/:chapter/:section/index",id:"_tutorial__chapter__section_index",component:()=>_f}],isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial/:chapter/:section"}],isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial/:chapter"},{isFile:!0,isDir:!1,ext:"svelte",isLayout:!1,isReset:!1,isIndex:!0,isFallback:!1,isPage:!0,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial/index",id:"_tutorial_index",component:()=>If}],isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,isPage:!1,ownMeta:{},meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/tutorial"}],isLayout:!1,isReset:!1,isIndex:!1,isFallback:!1,meta:{preload:!1,prerender:!0,"precache-order":!1,"precache-proximity":!0,recursive:!0},path:"/"},{tree:Rf,routes:Pf}=function(t){const e=["setParamKeys","setRegex","setShortPath","setRank","assignLayout","setPrototype","addMetaChildren","assignRelations","setIsIndexable","assignIndex","assignAPI","createFlatList"],n={tree:t,routes:[]};for(let t of e){(ou[t].sync||ou[t])(n)}return n}(Cf);function Lf(t){let e;const n=new Uc({props:{routes:Pf},$$inline:!0}),r={c:function(){Object(_.o)(n.$$.fragment)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){Object(_.L)(n,t,r),e=!0},p:_.M,i:function(t){e||(Object(_.gb)(n.$$.fragment,t),e=!0)},o:function(t){Object(_.hb)(n.$$.fragment,t),e=!1},d:function(t){Object(_.r)(n,t)}};return Object(_.u)("SvelteRegisterBlock",{block:r,id:Lf.name,type:"component",source:"",ctx:t}),r}function Nf(t,e,r){let i,o;Object(_.mb)(la,"unsupportedBrowser"),Object(_.m)(t,la,t=>r(1,i=t)),(async()=>{/firefox/i.test(navigator.userAgent)?Object(_.Y)(la,i=!0):n.e(4).then(n.bind(null,553)).then(t=>{o=new t.AudioEngine}).catch(t=>Object(_.Y)(la,i=!0))})();let s=new q.a;const a=ua.subscribe(t=>{"running"===t?o.init(1):"paused"===t&&s.publish("stop-audio")});function c(t){s.publish("mouse-xy",[t.clientX/window.innerWidth,t.clientY/window.innerHeight])}Object(x.d)(a),document.addEventListener("mousemove",c);const u=[];Object.keys(e).forEach(t=>{~u.indexOf(t)||"$$"===t.slice(0,2)||console.warn(`<App> was created with unknown prop '${t}'`)});let{$$slots:l={},$$scope:h}=e;return Object(_.lb)("App",l,[]),t.$capture_state=()=>({onDestroy:x.d,SplashScreen:Aa,unsupportedBrowser:la,audioEngineStatus:ua,audioEngine:o,environment:V.environment,CanvasOverlay:Pa,Router:Uc,routes:Pf,PubSub:q.a,messaging:s,unsubscribe:a,onMouseMove:c,$unsupportedBrowser:i}),t.$inject_state=t=>{"audioEngine"in t&&(o=t.audioEngine),"messaging"in t&&(s=t.messaging)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[]}class Df extends _.a{constructor(t){super(t),Object(_.H)(this,t,Nf,Lf,_.T,{}),Object(_.u)("SvelteRegisterComponent",{component:this,tagName:"App",options:t,id:Lf.name})}}var Bf=Df;n.p,n(388);const $f=new Bf({target:document.body});window.app=$f;e.default=$f}]);